{"version":3,"file":"picasso.esm.js","sources":["../../../node_modules/path2d-polyfill/dist/index.esm.js","../../../node_modules/extend/index.js","../src/about.js","../src/core/layout/dock/config.js","../src/core/layout/dock/settings-resolver.js","../src/core/utils/is-number.js","../src/core/geometry/util.js","../src/core/layout/dock/create-rect.js","../src/core/layout/dock/docker.js","../src/core/utils/event-type.js","../src/core/data/data.js","../../../node_modules/d3-path/src/path.js","../../../node_modules/d3-shape/src/constant.js","../../../node_modules/d3-shape/src/math.js","../../../node_modules/d3-shape/src/arc.js","../../../node_modules/d3-shape/src/curve/linear.js","../../../node_modules/d3-shape/src/point.js","../../../node_modules/d3-shape/src/line.js","../../../node_modules/d3-shape/src/area.js","../../../node_modules/d3-shape/src/descending.js","../../../node_modules/d3-shape/src/identity.js","../../../node_modules/d3-shape/src/pie.js","../../../node_modules/d3-shape/src/array.js","../../../node_modules/d3-shape/src/curve/basis.js","../../../node_modules/d3-shape/src/curve/cardinal.js","../../../node_modules/d3-shape/src/curve/catmullRom.js","../../../node_modules/d3-shape/src/curve/monotone.js","../../../node_modules/d3-shape/src/curve/natural.js","../../../node_modules/d3-shape/src/curve/step.js","../../../node_modules/d3-shape/src/offset/none.js","../../../node_modules/d3-shape/src/order/none.js","../../../node_modules/d3-shape/src/stack.js","../../../node_modules/d3-shape/src/offset/expand.js","../../../node_modules/d3-shape/src/offset/diverging.js","../../../node_modules/d3-shape/src/offset/silhouette.js","../../../node_modules/d3-shape/src/offset/wiggle.js","../../../node_modules/d3-shape/src/order/appearance.js","../../../node_modules/d3-shape/src/order/ascending.js","../../../node_modules/d3-shape/src/order/insideOut.js","../../../node_modules/d3-shape/src/order/reverse.js","../src/core/utils/registry.js","../../../node_modules/d3-format/src/formatDecimal.js","../../../node_modules/d3-format/src/exponent.js","../../../node_modules/d3-format/src/formatGroup.js","../../../node_modules/d3-format/src/formatNumerals.js","../../../node_modules/d3-format/src/formatSpecifier.js","../../../node_modules/d3-format/src/formatTrim.js","../../../node_modules/d3-format/src/formatPrefixAuto.js","../../../node_modules/d3-format/src/formatRounded.js","../../../node_modules/d3-format/src/formatTypes.js","../../../node_modules/d3-format/src/identity.js","../../../node_modules/d3-format/src/locale.js","../../../node_modules/d3-format/src/defaultLocale.js","../src/core/formatter/d3/numberFormat.js","../../../node_modules/d3-time/src/interval.js","../../../node_modules/d3-time/src/millisecond.js","../../../node_modules/d3-time/src/duration.js","../../../node_modules/d3-time/src/second.js","../../../node_modules/d3-time/src/minute.js","../../../node_modules/d3-time/src/hour.js","../../../node_modules/d3-time/src/day.js","../../../node_modules/d3-time/src/week.js","../../../node_modules/d3-time/src/month.js","../../../node_modules/d3-time/src/year.js","../../../node_modules/d3-time/src/utcMinute.js","../../../node_modules/d3-time/src/utcHour.js","../../../node_modules/d3-time/src/utcDay.js","../../../node_modules/d3-time/src/utcWeek.js","../../../node_modules/d3-time/src/utcMonth.js","../../../node_modules/d3-time/src/utcYear.js","../../../node_modules/d3-time-format/src/locale.js","../../../node_modules/d3-time-format/src/defaultLocale.js","../../../node_modules/d3-time-format/src/isoFormat.js","../../../node_modules/d3-time-format/src/isoParse.js","../src/core/formatter/d3/timeFormat.js","../src/core/formatter/index.js","../src/core/data/field.js","../src/core/data/stack.js","../src/core/data/extractor.js","../src/core/data/collections.js","../src/core/chart/formatter/index.js","../../../node_modules/d3-array/src/ascending.js","../../../node_modules/d3-array/src/bisector.js","../../../node_modules/d3-array/src/bisect.js","../../../node_modules/d3-array/src/range.js","../../../node_modules/d3-array/src/ticks.js","../../../node_modules/d3-scale/src/init.js","../../../node_modules/d3-collection/src/map.js","../../../node_modules/d3-collection/src/set.js","../../../node_modules/d3-scale/src/array.js","../../../node_modules/d3-scale/src/ordinal.js","../../../node_modules/d3-scale/src/band.js","../../../node_modules/d3-color/src/define.js","../../../node_modules/d3-color/src/color.js","../../../node_modules/d3-color/src/math.js","../../../node_modules/d3-color/src/lab.js","../../../node_modules/d3-color/src/cubehelix.js","../../../node_modules/d3-interpolate/src/constant.js","../../../node_modules/d3-interpolate/src/color.js","../../../node_modules/d3-interpolate/src/rgb.js","../../../node_modules/d3-interpolate/src/array.js","../../../node_modules/d3-interpolate/src/date.js","../../../node_modules/d3-interpolate/src/number.js","../../../node_modules/d3-interpolate/src/object.js","../../../node_modules/d3-interpolate/src/string.js","../../../node_modules/d3-interpolate/src/value.js","../../../node_modules/d3-interpolate/src/round.js","../../../node_modules/d3-scale/src/constant.js","../../../node_modules/d3-scale/src/number.js","../../../node_modules/d3-scale/src/continuous.js","../../../node_modules/d3-scale/node_modules/d3-format/src/formatDecimal.js","../../../node_modules/d3-scale/node_modules/d3-format/src/exponent.js","../../../node_modules/d3-scale/node_modules/d3-format/src/formatGroup.js","../../../node_modules/d3-scale/node_modules/d3-format/src/formatNumerals.js","../../../node_modules/d3-scale/node_modules/d3-format/src/formatSpecifier.js","../../../node_modules/d3-scale/node_modules/d3-format/src/formatTrim.js","../../../node_modules/d3-scale/node_modules/d3-format/src/formatPrefixAuto.js","../../../node_modules/d3-scale/node_modules/d3-format/src/formatRounded.js","../../../node_modules/d3-scale/node_modules/d3-format/src/formatTypes.js","../../../node_modules/d3-scale/node_modules/d3-format/src/identity.js","../../../node_modules/d3-scale/node_modules/d3-format/src/locale.js","../../../node_modules/d3-scale/node_modules/d3-format/src/defaultLocale.js","../../../node_modules/d3-scale/node_modules/d3-format/src/precisionFixed.js","../../../node_modules/d3-scale/node_modules/d3-format/src/precisionPrefix.js","../../../node_modules/d3-scale/node_modules/d3-format/src/precisionRound.js","../../../node_modules/d3-scale/src/tickFormat.js","../../../node_modules/d3-scale/src/linear.js","../../../node_modules/d3-scale/src/threshold.js","../src/core/scales/ticks/tick-generators.js","../src/core/scales/settings-resolver.js","../src/core/scales/linear.js","../src/core/scales/band.js","../src/core/scales/h-band.js","../src/core/utils/min-max.js","../src/core/scales/color/sequential.js","../src/core/scales/color/threshold.js","../src/core/scales/ordinal.js","../src/core/scales/color/categorical.js","../src/core/chart/scales/index.js","../../../node_modules/node-event-emitter/index.js","../src/core/utils/event-emitter.js","../src/core/scroll-api/index.js","../src/core/chart/scroll-api/index.js","../src/core/brush/range-collection.js","../src/core/brush/value-collection.js","../src/core/brush/brush.js","../src/core/brush/index.js","../../../node_modules/d3-ease/src/cubic.js","../../../node_modules/d3-ease/src/elastic.js","../src/core/component/tween.js","../src/core/chart-components/property-resolver/index.js","../src/core/scales/index.js","../src/core/component/settings-resolver.js","../src/core/component/brushing.js","../src/core/scene-graph/attributes.js","../src/core/symbols/circle.js","../src/core/utils/points-to-path.js","../src/core/symbols/diamond.js","../src/core/symbols/cross.js","../src/core/math/angles.js","../src/core/math/vector.js","../src/core/symbols/saltire.js","../src/core/symbols/square.js","../src/core/symbols/triangle.js","../src/core/symbols/line.js","../src/core/symbols/star.js","../src/core/symbols/n-polygon.js","../src/core/symbols/bar.js","../src/core/symbols/index.js","../src/core/component/component-factory.js","../src/core/mediator/index.js","../src/core/math/intersection.js","../src/core/math/narrow-phase-collision.js","../src/core/style/resolver.js","../src/core/theme/index.js","../src/core/chart/index.js","../src/core/renderer/index.js","../src/core/component/index.js","../src/core/data/util.js","../src/core/data/extractor-matrix.js","../src/core/data/dataset.js","../src/core/data/index.js","../src/web/interactions/native/index.js","../src/core/interaction/index.js","../src/core/chart-components/box/box-math.js","../src/core/chart-components/box/box-shapes-helper.js","../src/core/chart-components/box/box-shapes.js","../src/core/chart-components/box/box-resolver.js","../src/core/chart-components/box/box.js","../src/core/chart-components/box/index.js","../src/core/chart-components/point/point.js","../src/core/chart-components/point/index.js","../src/core/chart-components/pie/pie.js","../src/core/chart-components/pie/index.js","../src/core/transposer/crispifier.js","../src/core/transposer/transposer.js","../src/core/chart-components/grid/line.js","../src/core/chart-components/grid/index.js","../src/core/chart-components/ref-line/oob.js","../src/core/chart-components/ref-line/lines-and-labels.js","../src/core/chart-components/ref-line/refline.js","../src/core/chart-components/ref-line/index.js","../src/core/chart-components/axis/axis-line-node.js","../src/core/chart-components/axis/axis-label-node.js","../src/core/chart-components/axis/axis-tick-node.js","../src/core/chart-components/axis/axis-label-size.js","../src/core/chart-components/axis/get-continuous-label-rect.js","../src/core/chart-components/axis/axis-node-builder.js","../src/core/chart-components/axis/axis-default-settings.js","../src/core/chart-components/axis/axis-size-calculator.js","../src/core/chart-components/axis/axis.js","../src/core/chart-components/axis/index.js","../src/core/chart-components/text/text.js","../src/core/chart-components/text/index.js","../src/core/chart-components/scrollbar/index.js","../src/web/components/brush-range/brush-range-const.js","../src/web/components/brush-range/brush-range-node-builder.js","../src/web/components/brush-range/brush-range-interaction.js","../src/web/components/brush-range/brush-range.js","../src/web/components/brush-range/brush-area-dir.js","../src/web/components/brush-range/index.js","../src/core/chart-components/range/range.js","../src/core/chart-components/range/index.js","../src/core/chart-components/brush-lasso/brush-lasso.js","../src/core/chart-components/brush-lasso/index.js","../src/core/chart-components/labels/strategies/bars-overlapping-filter.js","../src/core/chart-components/labels/strategies/bars.js","../src/core/chart-components/labels/strategies/slices.js","../src/web/text-manipulation/string-tokenizer.js","../src/web/text-manipulation/text-const.js","../src/web/text-manipulation/font-size-to-height.js","../src/web/text-manipulation/word-break.js","../src/web/text-manipulation/line-break-resolver.js","../src/web/text-manipulation/text-ellipsis.js","../src/web/text-manipulation/baseline-heuristic.js","../src/web/text-manipulation/text-metrics.js","../src/core/chart-components/labels/strategies/rows.js","../src/core/chart-components/labels/strategies/index.js","../src/core/chart-components/labels/labels.js","../src/core/chart-components/labels/index.js","../src/core/chart-components/legend-cat/legend-resolver.js","../src/core/chart-components/legend-cat/item-renderer.js","../src/core/utils/class-string.js","../src/core/chart-components/legend-cat/navigation-renderer.js","../src/core/chart-components/legend-cat/title-renderer.js","../src/core/chart-components/legend-cat/legend-layout.js","../src/core/chart-components/legend-cat/legend-cat.js","../src/core/chart-components/legend-cat/index.js","../src/core/chart-components/legend-seq/node-builder.js","../src/core/chart-components/legend-seq/legend-seq.js","../src/core/chart-components/legend-seq/index.js","../src/core/chart-components/line/line.js","../src/core/chart-components/line/index.js","../src/web/components/brush-area/brush-area.js","../src/web/components/brush-area/index.js","../src/web/components/tooltip/extractor.js","../src/web/components/tooltip/render.js","../src/web/components/tooltip/timespan-dispatcher.js","../src/web/components/tooltip/placement.js","../src/web/components/tooltip/instance-handler.js","../src/web/components/tooltip/tooltip.js","../src/web/components/tooltip/index.js","../src/core/chart-components/debug/debug-collider.js","../src/core/math/arc-to-center.js","../src/core/math/curve-flattness.js","../src/core/math/cubic-bezier-curve-interpolation.js","../src/core/math/quad-bezier-curve-interpolation.js","../src/core/scene-graph/parse-path-d.js","../src/core/chart-components/debug/debug-path-to-points.js","../src/core/chart-components/debug/index.js","../src/api/components.js","../src/core/scene-graph/node.js","../src/core/geometry/rect.js","../src/core/geometry/circle.js","../src/core/geometry/line.js","../src/core/geometry/polygon.js","../src/core/geometry/polyline.js","../src/core/geometry/index.js","../src/core/geometry/geometry-collection.js","../src/core/math/matrix.js","../src/core/scene-graph/transform-resolver.js","../src/core/scene-graph/node-selector.js","../src/core/scene-graph/scene-node.js","../src/core/scene-graph/collision.js","../src/core/scene-graph/collision-resolver.js","../src/core/scene-graph/display-objects/display-object.js","../src/core/scene-graph/node-container.js","../src/core/scene-graph/display-objects/container.js","../src/core/scene-graph/display-objects/stage.js","../src/core/scene-graph/display-objects/gradient-item.js","../src/core/scene-graph/display-objects/pattern-item.js","../src/core/scene-graph/display-objects/rect.js","../src/core/scene-graph/display-objects/circle.js","../src/core/scene-graph/display-objects/line.js","../src/core/scene-graph/polyline-to-polygon-collider.js","../src/core/utils/flatten-array.js","../src/core/scene-graph/display-objects/path.js","../src/core/scene-graph/display-objects/text.js","../src/core/scene-graph/display-objects/index.js","../src/core/scene-graph/context.js","../src/core/scene-graph/scene.js","../src/web/renderer/canvas-renderer/canvas-gradient.js","../src/web/renderer/canvas-renderer/canvas-pattern.js","../src/web/renderer/renderer-box.js","../src/web/renderer/index.js","../src/web/text-manipulation/inject-textbounds.js","../src/web/renderer/canvas-renderer/canvas-renderer.js","../src/web/renderer/canvas-renderer/shapes/rect.js","../src/web/renderer/canvas-renderer/shapes/circle.js","../src/web/renderer/canvas-renderer/shapes/line.js","../src/core/utils/rtl-util.js","../src/web/renderer/canvas-renderer/shapes/text.js","../src/web/renderer/canvas-renderer/shapes/path.js","../src/web/renderer/canvas-renderer/index.js","../src/web/renderer/node-tree.js","../src/web/renderer/svg-renderer/svg-nodes.js","../src/web/renderer/svg-renderer/svg-tree.js","../src/core/utils/crypto.js","../src/web/renderer/svg-renderer/svg-gradient.js","../src/web/renderer/svg-renderer/svg-pattern.js","../src/web/renderer/svg-renderer/svg-renderer.js","../../../node_modules/preact/dist/preact.mjs","../src/web/renderer/dom-renderer/dom-renderer.js","../src/web/renderer/dom-renderer/index.js","../src/api/renderers.js","../src/api/scales.js","../src/core/utils/logger.js","../src/core/theme/light/index.js","../src/index.js"],"sourcesContent":["var ARG_LENGTH = {\n  a: 7,\n  c: 6,\n  h: 1,\n  l: 2,\n  m: 2,\n  q: 4,\n  s: 4,\n  t: 2,\n  v: 1,\n  z: 0\n};\nvar SEGMENT_PATTERN = /([astvzqmhlc])([^astvzqmhlc]*)/ig;\nvar NUMBER = /-?[0-9]*\\.?[0-9]+(?:e[-+]?\\d+)?/ig;\n\nfunction parseValues(args) {\n  var numbers = args.match(NUMBER);\n  return numbers ? numbers.map(Number) : [];\n}\n/**\n * parse an svg path data string. Generates an Array\n * of commands where each command is an Array of the\n * form `[command, arg1, arg2, ...]`\n *\n * https://www.w3.org/TR/SVG/paths.html#PathDataGeneralInformation\n * @ignore\n *\n * @param {string} path\n * @returns {array}\n */\n\n\nfunction parse(path) {\n  var data = [];\n  var p = String(path).trim(); // A path data segment (if there is one) must begin with a \"moveto\" command\n\n  if (p[0] !== 'M' && p[0] !== 'm') {\n    return data;\n  }\n\n  p.replace(SEGMENT_PATTERN, function (_, command, args) {\n    var type = command.toLowerCase();\n    var theArgs = parseValues(args);\n    var theCommand = command; // overloaded moveTo\n\n    if (type === 'm' && theArgs.length > 2) {\n      data.push([theCommand].concat(theArgs.splice(0, 2)));\n      type = 'l';\n      theCommand = theCommand === 'm' ? 'l' : 'L';\n    } // Ignore invalid commands\n\n\n    if (theArgs.length < ARG_LENGTH[type]) {\n      return '';\n    }\n\n    data.push([theCommand].concat(theArgs.splice(0, ARG_LENGTH[type]))); // The command letter can be eliminated on subsequent commands if the\n    // same command is used multiple times in a row (e.g., you can drop the\n    // second \"L\" in \"M 100 200 L 200 100 L -100 -200\" and use\n    // \"M 100 200 L 200 100 -100 -200\" instead).\n\n    while (theArgs.length >= ARG_LENGTH[type] && theArgs.length && ARG_LENGTH[type]) {\n      data.push([theCommand].concat(theArgs.splice(0, ARG_LENGTH[type])));\n    }\n\n    return '';\n  });\n  return data;\n}\n\nvar parsePath = parse;\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\n/**\n * Work around for https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/8438884/\n * @ignore\n */\n\nfunction supportsSvgPathArgument(window) {\n  var canvas = window.document.createElement('canvas');\n  var g = canvas.getContext('2d');\n  var p = new window.Path2D('M0 0 L1 1');\n  g.strokeStyle = 'red';\n  g.lineWidth = 1;\n  g.stroke(p);\n  var imgData = g.getImageData(0, 0, 1, 1);\n  return imgData.data[0] === 255; // Check if pixel is red\n}\n\nfunction rotatePoint(point, angle) {\n  var nx = point.x * Math.cos(angle) - point.y * Math.sin(angle);\n  var ny = point.y * Math.cos(angle) + point.x * Math.sin(angle);\n  point.x = nx;\n  point.y = ny;\n}\n\nfunction translatePoint(point, dx, dy) {\n  point.x += dx;\n  point.y += dy;\n}\n\nfunction scalePoint(point, s) {\n  point.x *= s;\n  point.y *= s;\n}\n\nfunction polyFillPath2D(window) {\n  if (typeof window === 'undefined' || !window.CanvasRenderingContext2D) {\n    return;\n  }\n\n  if (window.Path2D && supportsSvgPathArgument(window)) {\n    return;\n  }\n  /**\n     * Crates a Path2D polyfill object\n     * @constructor\n     * @ignore\n     * @param {String} path\n     */\n\n\n  var Path2D =\n  /*#__PURE__*/\n  function () {\n    function Path2D(path) {\n      _classCallCheck(this, Path2D);\n\n      this.segments = [];\n\n      if (path && path instanceof Path2D) {\n        var _this$segments;\n\n        (_this$segments = this.segments).push.apply(_this$segments, _toConsumableArray(path.segments));\n      } else if (path) {\n        this.segments = parsePath(path);\n      }\n    }\n\n    _createClass(Path2D, [{\n      key: \"addPath\",\n      value: function addPath(path) {\n        if (path && path instanceof Path2D) {\n          var _this$segments2;\n\n          (_this$segments2 = this.segments).push.apply(_this$segments2, _toConsumableArray(path.segments));\n        }\n      }\n    }, {\n      key: \"moveTo\",\n      value: function moveTo(x, y) {\n        this.segments.push(['M', x, y]);\n      }\n    }, {\n      key: \"lineTo\",\n      value: function lineTo(x, y) {\n        this.segments.push(['L', x, y]);\n      }\n    }, {\n      key: \"arc\",\n      value: function arc(x, y, r, start, end, ccw) {\n        this.segments.push(['AC', x, y, r, start, end, !!ccw]);\n      }\n    }, {\n      key: \"arcTo\",\n      value: function arcTo(x1, y1, x2, y2, r) {\n        this.segments.push(['AT', x1, y1, x2, y2, r]);\n      }\n    }, {\n      key: \"ellipse\",\n      value: function ellipse(x, y, rx, ry, angle, start, end, ccw) {\n        this.segments.push(['E', x, y, rx, ry, angle, start, end, !!ccw]);\n      }\n    }, {\n      key: \"closePath\",\n      value: function closePath() {\n        this.segments.push(['Z']);\n      }\n    }, {\n      key: \"bezierCurveTo\",\n      value: function bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y) {\n        this.segments.push(['C', cp1x, cp1y, cp2x, cp2y, x, y]);\n      }\n    }, {\n      key: \"quadraticCurveTo\",\n      value: function quadraticCurveTo(cpx, cpy, x, y) {\n        this.segments.push(['Q', cpx, cpy, x, y]);\n      }\n    }, {\n      key: \"rect\",\n      value: function rect(x, y, width, height) {\n        this.segments.push(['R', x, y, width, height]);\n      }\n    }]);\n\n    return Path2D;\n  }();\n\n  var cFill = window.CanvasRenderingContext2D.prototype.fill;\n  var cStroke = window.CanvasRenderingContext2D.prototype.stroke;\n\n  function buildPath(canvas, segments) {\n    var endAngle;\n    var startAngle;\n    var largeArcFlag;\n    var sweepFlag;\n    var endPoint;\n    var midPoint;\n    var angle;\n    var lambda;\n    var t1;\n    var t2;\n    var x;\n    var x1;\n    var y;\n    var y1;\n    var r;\n    var rx;\n    var ry;\n    var w;\n    var h;\n    var pathType;\n    var centerPoint;\n    var cpx;\n    var cpy;\n    var qcpx;\n    var qcpy;\n    var ccw;\n    var startPoint = {\n      x: 0,\n      y: 0\n    };\n    var currentPoint = {\n      x: 0,\n      y: 0\n    };\n    canvas.beginPath();\n\n    for (var i = 0; i < segments.length; ++i) {\n      var s = segments[i];\n      pathType = s[0]; // Reset control point if command is not cubic\n\n      if (pathType !== 'S' && pathType !== 's' && pathType !== 'C' && pathType !== 'c') {\n        cpx = null;\n        cpy = null;\n      }\n\n      if (pathType !== 'T' && pathType !== 't' && pathType !== 'Q' && pathType !== 'q') {\n        qcpx = null;\n        qcpy = null;\n      }\n\n      switch (pathType) {\n        case 'm':\n        case 'M':\n          if (pathType === 'm') {\n            x += s[1];\n            y += s[2];\n          } else {\n            x = s[1];\n            y = s[2];\n          }\n\n          if (pathType === 'M' || !startPoint) {\n            startPoint = {\n              x: x,\n              y: y\n            };\n          }\n\n          canvas.moveTo(x, y);\n          break;\n\n        case 'l':\n          x += s[1];\n          y += s[2];\n          canvas.lineTo(x, y);\n          break;\n\n        case 'L':\n          x = s[1];\n          y = s[2];\n          canvas.lineTo(x, y);\n          break;\n\n        case 'H':\n          x = s[1];\n          canvas.lineTo(x, y);\n          break;\n\n        case 'h':\n          x += s[1];\n          canvas.lineTo(x, y);\n          break;\n\n        case 'V':\n          y = s[1];\n          canvas.lineTo(x, y);\n          break;\n\n        case 'v':\n          y += s[1];\n          canvas.lineTo(x, y);\n          break;\n\n        case 'a':\n        case 'A':\n          if (pathType === 'a') {\n            x += s[6];\n            y += s[7];\n          } else {\n            x = s[6];\n            y = s[7];\n          }\n\n          rx = s[1]; // rx\n\n          ry = s[2]; // ry\n\n          angle = s[3] * Math.PI / 180;\n          largeArcFlag = !!s[4];\n          sweepFlag = !!s[5];\n          endPoint = {\n            x: x,\n            y: y\n          }; // https://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\n\n          midPoint = {\n            x: (currentPoint.x - endPoint.x) / 2,\n            y: (currentPoint.y - endPoint.y) / 2\n          };\n          rotatePoint(midPoint, -angle); // radius correction\n\n          lambda = midPoint.x * midPoint.x / (rx * rx) + midPoint.y * midPoint.y / (ry * ry);\n\n          if (lambda > 1) {\n            lambda = Math.sqrt(lambda);\n            rx *= lambda;\n            ry *= lambda;\n          }\n\n          centerPoint = {\n            x: rx * midPoint.y / ry,\n            y: -(ry * midPoint.x) / rx\n          };\n          t1 = rx * rx * ry * ry;\n          t2 = rx * rx * midPoint.y * midPoint.y + ry * ry * midPoint.x * midPoint.x;\n\n          if (sweepFlag !== largeArcFlag) {\n            scalePoint(centerPoint, Math.sqrt((t1 - t2) / t2) || 0);\n          } else {\n            scalePoint(centerPoint, -Math.sqrt((t1 - t2) / t2) || 0);\n          }\n\n          startAngle = Math.atan2((midPoint.y - centerPoint.y) / ry, (midPoint.x - centerPoint.x) / rx);\n          endAngle = Math.atan2(-(midPoint.y + centerPoint.y) / ry, -(midPoint.x + centerPoint.x) / rx);\n          rotatePoint(centerPoint, angle);\n          translatePoint(centerPoint, (endPoint.x + currentPoint.x) / 2, (endPoint.y + currentPoint.y) / 2);\n          canvas.save();\n          canvas.translate(centerPoint.x, centerPoint.y);\n          canvas.rotate(angle);\n          canvas.scale(rx, ry);\n          canvas.arc(0, 0, 1, startAngle, endAngle, !sweepFlag);\n          canvas.restore();\n          break;\n\n        case 'C':\n          cpx = s[3]; // Last control point\n\n          cpy = s[4];\n          x = s[5];\n          y = s[6];\n          canvas.bezierCurveTo(s[1], s[2], cpx, cpy, x, y);\n          break;\n\n        case 'c':\n          canvas.bezierCurveTo(s[1] + x, s[2] + y, s[3] + x, s[4] + y, s[5] + x, s[6] + y);\n          cpx = s[3] + x; // Last control point\n\n          cpy = s[4] + y;\n          x += s[5];\n          y += s[6];\n          break;\n\n        case 'S':\n          if (cpx === null || cpx === null) {\n            cpx = x;\n            cpy = y;\n          }\n\n          canvas.bezierCurveTo(2 * x - cpx, 2 * y - cpy, s[1], s[2], s[3], s[4]);\n          cpx = s[1]; // last control point\n\n          cpy = s[2];\n          x = s[3];\n          y = s[4];\n          break;\n\n        case 's':\n          if (cpx === null || cpx === null) {\n            cpx = x;\n            cpy = y;\n          }\n\n          canvas.bezierCurveTo(2 * x - cpx, 2 * y - cpy, s[1] + x, s[2] + y, s[3] + x, s[4] + y);\n          cpx = s[1] + x; // last control point\n\n          cpy = s[2] + y;\n          x += s[3];\n          y += s[4];\n          break;\n\n        case 'Q':\n          qcpx = s[1]; // last control point\n\n          qcpy = s[2];\n          x = s[3];\n          y = s[4];\n          canvas.quadraticCurveTo(qcpx, qcpy, x, y);\n          break;\n\n        case 'q':\n          qcpx = s[1] + x; // last control point\n\n          qcpy = s[2] + y;\n          x += s[3];\n          y += s[4];\n          canvas.quadraticCurveTo(qcpx, qcpy, x, y);\n          break;\n\n        case 'T':\n          if (qcpx === null || qcpx === null) {\n            qcpx = x;\n            qcpy = y;\n          }\n\n          qcpx = 2 * x - qcpx; // last control point\n\n          qcpy = 2 * y - qcpy;\n          x = s[1];\n          y = s[2];\n          canvas.quadraticCurveTo(qcpx, qcpy, x, y);\n          break;\n\n        case 't':\n          if (qcpx === null || qcpx === null) {\n            qcpx = x;\n            qcpy = y;\n          }\n\n          qcpx = 2 * x - qcpx; // last control point\n\n          qcpy = 2 * y - qcpy;\n          x += s[1];\n          y += s[2];\n          canvas.quadraticCurveTo(qcpx, qcpy, x, y);\n          break;\n\n        case 'z':\n        case 'Z':\n          x = startPoint.x;\n          y = startPoint.y;\n          startPoint = undefined;\n          canvas.closePath();\n          break;\n\n        case 'AC':\n          // arc\n          x = s[1];\n          y = s[2];\n          r = s[3];\n          startAngle = s[4];\n          endAngle = s[5];\n          ccw = s[6];\n          canvas.arc(x, y, r, startAngle, endAngle, ccw);\n          break;\n\n        case 'AT':\n          // arcTo\n          x1 = s[1];\n          y1 = s[2];\n          x = s[3];\n          y = s[4];\n          r = s[5];\n          canvas.arcTo(x1, y1, x, y, r);\n          break;\n\n        case 'E':\n          // ellipse\n          x = s[1];\n          y = s[2];\n          rx = s[3];\n          ry = s[4];\n          angle = s[5];\n          startAngle = s[6];\n          endAngle = s[7];\n          ccw = s[8];\n          canvas.save();\n          canvas.translate(x, y);\n          canvas.rotate(angle);\n          canvas.scale(rx, ry);\n          canvas.arc(0, 0, 1, startAngle, endAngle, ccw);\n          canvas.restore();\n          break;\n\n        case 'R':\n          // rect\n          x = s[1];\n          y = s[2];\n          w = s[3];\n          h = s[4];\n          startPoint = {\n            x: x,\n            y: y\n          };\n          canvas.rect(x, y, w, h);\n          break;\n\n        default: // throw new Error(`${pathType} is not implemented`); ?\n\n      }\n\n      currentPoint.x = x;\n      currentPoint.y = y;\n    }\n  }\n\n  window.CanvasRenderingContext2D.prototype.fill = function fill() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var fillRule = 'nonzero';\n\n    if (args.length === 0 || args.length === 1 && typeof args[0] === 'string') {\n      cFill.apply(this, args);\n      return;\n    }\n\n    if (arguments.length === 2) {\n      fillRule = args[1];\n    }\n\n    var path = args[0];\n    buildPath(this, path.segments);\n    cFill.call(this, fillRule);\n  };\n\n  window.CanvasRenderingContext2D.prototype.stroke = function stroke(path) {\n    if (!path) {\n      cStroke.call(this);\n      return;\n    }\n\n    buildPath(this, path.segments);\n    cStroke.call(this);\n  };\n\n  window.Path2D = Path2D;\n}\n\nvar path2dPolyfill = polyFillPath2D;\n\nif (typeof window !== 'undefined') {\n  path2dPolyfill(window);\n}\n\nvar src = {\n  path2dPolyfill: path2dPolyfill,\n  parsePath: parsePath\n};\nvar src_1 = src.path2dPolyfill;\nvar src_2 = src.parsePath;\n\nexport default src;\nexport { src_2 as parsePath, src_1 as path2dPolyfill };\n//# sourceMappingURL=index.esm.js.map\n","'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar defineProperty = Object.defineProperty;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\n// If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\nvar setProperty = function setProperty(target, options) {\n\tif (defineProperty && options.name === '__proto__') {\n\t\tdefineProperty(target, options.name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t\tvalue: options.newValue,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\ttarget[options.name] = options.newValue;\n\t}\n};\n\n// Return undefined instead of __proto__ if '__proto__' is not an own property\nvar getProperty = function getProperty(obj, name) {\n\tif (name === '__proto__') {\n\t\tif (!hasOwn.call(obj, name)) {\n\t\t\treturn void 0;\n\t\t} else if (gOPD) {\n\t\t\t// In early versions of node, obj['__proto__'] is buggy when obj has\n\t\t\t// __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n\t\t\treturn gOPD(obj, name).value;\n\t\t}\n\t}\n\n\treturn obj[name];\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = getProperty(target, name);\n\t\t\t\tcopy = getProperty(options, name);\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: extend(deep, clone, copy) });\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: copy });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n","export default { version: '0.27.1' };\n","/**\n * Initilize a new dock configuration\n * @private\n * @param {object} [settings] - Settings object\n * @returns {object} A dock configuration instance\n * @example\n * let instance = dockConfig({\n *  dock: 'left',\n *  displayOrder: 2,\n *  prioOrder: 1,\n *  preferredSize: 33,\n *  minimumLayoutMode: 'L',\n *  show: true\n * });\n */\nfunction dockConfig(settings = {}, callbackContext = {}) {\n  let {\n    dock = 'center',\n    displayOrder = 0,\n    prioOrder = 0,\n    preferredSize = 0,\n    minimumLayoutMode,\n    show = true\n  } = settings;\n\n  // avoid empty string dock\n  dock = dock || 'center';\n\n  /**\n   * @private\n   */\n  return {\n\n    /**\n     * Returns the preferred size of a component.\n     * The return value of the function can either be a number representing the required size in the dock direction\n     * or an object with a `size` and `edgeBleed` property.\n     * @param {object} [inner]\n     * @param {object} [outer]\n     * @returns {number|object} Returns the computed preferred size\n     * @example\n     * dockConfig.computePreferredSize(() => 150); // Require a size of 150 in the dock direction\n     *\n     * dockConfig.computePreferredSize(() => ({\n     *  size: 150,\n     *  edgeBleed: {\n     *    left: 50,\n     *    right: 50\n     *  }\n     * })); // Require a size of 150 in the dock direction and a bleed size of 50 to the left and right dock direction\n     */\n    computePreferredSize({ inner, outer }) {\n      if (typeof preferredSize === 'function') {\n        return preferredSize({ inner, outer, dock: this.dock() }, callbackContext);\n      }\n      return preferredSize;\n    },\n\n    /**\n     * Set the dock direction, supported values are left | right | top | bottom. Any other value will be interpreted as center dock.\n     * @param {string} [val=''] - Dock direction\n     * @returns {this} The current context\n     * @example\n     * dockConfig.dock('left');\n     */\n    dock(val) {\n      if (typeof val !== 'undefined') {\n        dock = val;\n        return this;\n      }\n      return typeof dock === 'function' ? dock(callbackContext) : dock;\n    },\n\n    /**\n     * The `displayOrder` property is used by the layout engine to lay out components.\n     * Components are interpreted in the ascending order of the `displayOrder` value. The layout engine apply the value in two ways,\n     * the first is the order in which components are rendererd. The second is the area components are laid out in\n     * when they have a direction, i.e. docked to either top, bottom, left or right.\n     *\n     * If docked at the same area, the component with a higher `displayOrder` will be rendered\n     * on top of the component with a lower `displayOrder`. It can be seen as defining a z-index.\n     * A lower `displayOrder` also means that a component will be laid out first in a given direction,\n     * i.e. laid out closer to the central area (non-directional area) then a component with a higher `displayOrder`.\n     * It can in this case be seen as the x-index or y-index.\n     * @param {number} [val=0] - The display order\n     * @returns {this|number} The current context or display order\n     * @example\n     * dockConfig.displayOrder(99);\n     */\n    displayOrder(val) {\n      if (typeof val !== 'undefined') {\n        displayOrder = val;\n        return this;\n      }\n      return typeof displayOrder === 'function' ? displayOrder(callbackContext) : displayOrder;\n    },\n\n    /**\n     * The `prioOrder` property is used to define the order in which components are added to the layout engine,\n     * this is done before any components are laid out. When there is not enough space to add any more components\n     * to a given area, all components not all ready added, are then discarded. The `prioOrder` is interpreted\n     * in the ascending order. Such that a lower value is added to the layout engine first.\n     * @param {number} [val=0] - The prio order\n     * @returns {this|number} The current context or prio order\n     * @example\n     * dockConfig.prioOrder(-1);\n     */\n    prioOrder(val) {\n      if (typeof val !== 'undefined') {\n        prioOrder = val;\n        return this;\n      }\n      return typeof prioOrder === 'function' ? prioOrder(callbackContext) : prioOrder;\n    },\n\n    /**\n     * Ger or set the minimumLayoutMode\n     * @param {string|object} [val] - The minimum layout mode\n     * @returns {string|object|this} If no parameter is passed the current context is returned, else the current layout mode.\n     * @example\n     * dockConfig.minimumLayoutMode('L');\n     * dockConfig.minimumLayoutMode({ width: 'S', height: 'L' });\n     */\n    minimumLayoutMode(val) {\n      if (typeof val !== 'undefined') {\n        minimumLayoutMode = val;\n        return this;\n      }\n      return typeof minimumLayoutMode === 'function' ? minimumLayoutMode(callbackContext) : minimumLayoutMode;\n    },\n\n    /**\n     * Set the component visibility. If false the component is not added to the layout engine.\n     * @param {boolean} [val=true] - Toggle visibility\n     * @returns {this|boolean} The current context or show\n     */\n    show(val) {\n      if (typeof val !== 'undefined') {\n        show = val;\n        return this;\n      }\n      return typeof show === 'function' ? show(callbackContext) : show;\n    }\n  };\n}\n\nexport default dockConfig;\n","import extend from 'extend';\n\nfunction roundRect(rect) {\n  rect.x = Math.floor(rect.x);\n  rect.y = Math.floor(rect.y);\n  rect.width = Math.floor(rect.width);\n  rect.height = Math.floor(rect.height);\n}\n\nexport function resolveContainerRects(rect, settings) {\n  const containerRect = {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  };\n  const logicalContainerRect = {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  };\n\n  // Check input object for size\n  containerRect.width = rect.width || 0;\n  containerRect.height = rect.height || 0;\n  if (typeof settings.size !== 'undefined') {\n    containerRect.width = isNaN(settings.size.width)\n      ? containerRect.width\n      : settings.size.width;\n    containerRect.height = isNaN(settings.size.height)\n      ? containerRect.height\n      : settings.size.height;\n  }\n\n  if (typeof settings.logicalSize !== 'undefined') {\n    logicalContainerRect.width = isNaN(settings.logicalSize.width)\n      ? containerRect.width\n      : settings.logicalSize.width;\n    logicalContainerRect.height = isNaN(settings.logicalSize.height)\n      ? containerRect.height\n      : settings.logicalSize.height;\n    logicalContainerRect.align = isNaN(settings.logicalSize.align)\n      ? 0.5\n      : Math.min(Math.max(settings.logicalSize.align, 0), 1);\n    logicalContainerRect.preserveAspectRatio = settings.logicalSize.preserveAspectRatio;\n  } else {\n    logicalContainerRect.width = containerRect.width;\n    logicalContainerRect.height = containerRect.height;\n    logicalContainerRect.preserveAspectRatio = false;\n  }\n\n  roundRect(logicalContainerRect);\n  roundRect(containerRect);\n\n  return { logicalContainerRect, containerRect };\n}\n\nexport function resolveSettings(s) {\n  const settings = {\n    center: {\n      minWidthRatio: 0.5,\n      minHeightRatio: 0.5,\n      minWidth: 0,\n      minHeight: 0\n    }\n  };\n\n  extend(true, settings, s);\n\n  settings.center.minWidthRatio = Math.min(\n    Math.max(settings.center.minWidthRatio, 0),\n    1\n  ); // Only accept value between 0-1\n  settings.center.minHeightRatio = Math.min(\n    Math.max(settings.center.minHeightRatio, 0),\n    1\n  ); // Only accept value between 0-1\n  settings.center.minWidth = Math.max(settings.center.minWidth, 0); // Consider <= 0 to be falsy and fallback to ratio\n  settings.center.minHeight = Math.max(settings.center.minHeight, 0); // Consider <= 0 to be falsy and fallback to ratio\n\n  return settings;\n}\n","export function isNumber(v) {\n  return typeof v === 'number' && !isNaN(v);\n}\n\nexport function notNumber(value) {\n  return typeof value !== 'number' || isNaN(value);\n}\n","import { isNumber } from '../utils/is-number';\n\nexport function getMinMax(points) {\n  const num = points.length;\n  let xMin = NaN;\n  let xMax = NaN;\n  let yMin = NaN;\n  let yMax = NaN;\n\n  for (let i = 0; i < num; i++) {\n    xMin = isNaN(xMin) ? points[i].x : Math.min(xMin, points[i].x);\n    xMax = isNaN(xMax) ? points[i].x : Math.max(xMax, points[i].x);\n    yMin = isNaN(yMin) ? points[i].y : Math.min(yMin, points[i].y);\n    yMax = isNaN(yMax) ? points[i].y : Math.max(yMax, points[i].y);\n  }\n  return [xMin, yMin, xMax, yMax];\n}\n\n/**\n * @ignore\n * @param {oject} line\n * @returns {point[]} Array of points\n */\nexport function lineToPoints(line) {\n  const x1 = line.x1 || 0;\n  const y1 = line.y1 || 0;\n  const x2 = line.x2 || 0;\n  const y2 = line.y2 || 0;\n  return [{ x: x1, y: y1 }, { x: x2, y: y2 }];\n}\n\n/**\n * @ignore\n * @param {oject} rect\n * @returns {point[]} Array of points\n */\nexport function rectToPoints(rect) {\n  return [\n    { x: rect.x, y: rect.y },\n    { x: rect.x + rect.width, y: rect.y },\n    { x: rect.x + rect.width, y: rect.y + rect.height },\n    { x: rect.x, y: rect.y + rect.height }\n  ];\n}\n\nexport function pointsToRect(points) {\n  const [xMin, yMin, xMax, yMax] = getMinMax(points);\n\n  return {\n    x: xMin,\n    y: yMin,\n    width: xMax - xMin,\n    height: yMax - yMin\n  };\n}\n\nexport function pointsToCircle(points, r) {\n  return {\n    cx: points[0].x,\n    cy: points[0].y,\n    r\n  };\n}\n\nexport function pointsToLine(points) {\n  return {\n    x1: points[0].x,\n    y1: points[0].y,\n    x2: points[1].x,\n    y2: points[1].y\n  };\n}\n\nexport function pointToArray(p) {\n  return [p.x, p.y];\n}\n\nexport function arrayToPoint(ary) {\n  return { x: ary[0], y: ary[1] };\n}\n\n/**\n * @ignore\n * @param {oject}\n * @returns {string} Type of geometry\n */\nexport function getShapeType(shape) {\n  const {\n    x, y, // Point\n    width, height, // Rect\n    x1, x2, y1, y2, // Line\n    cx, cy, r, // Circle\n    vertices // Polygon\n  } = shape || {};\n\n  if (isNumber(cx) && isNumber(cy) && isNumber(r)) {\n    return 'circle';\n  }\n  if (isNumber(x1) && isNumber(x2) && isNumber(y1) && isNumber(y2)) {\n    return 'line';\n  }\n  if (isNumber(x) && isNumber(y) && isNumber(width) && isNumber(height)) {\n    return 'rect';\n  }\n  if (isNumber(x) && isNumber(y)) {\n    return 'point';\n  }\n  if (Array.isArray(vertices)) {\n    return 'polygon';\n  }\n  return null;\n}\n\nexport function expandRect(size, rect) {\n  return {\n    x: rect.x - size,\n    y: rect.y - size,\n    width: rect.width + size,\n    height: rect.height + size\n  };\n}\n","export default function createRect(x, y, width, height, margin) {\n  return {\n    x: isNaN(x) ? 0 : x,\n    y: isNaN(x) ? 0 : y,\n    width: isNaN(x) ? 0 : width,\n    height: isNaN(x) ? 0 : height,\n    margin: isNaN(margin) ? 0 : margin\n  };\n}\n","import extend from 'extend';\nimport dockConfig from './config';\nimport { resolveContainerRects, resolveSettings } from './settings-resolver';\nimport { rectToPoints, pointsToRect } from '../../geometry/util';\nimport createRect from './create-rect';\n\nfunction cacheSize(c, reducedRect, layoutRect) {\n  if (typeof c.cachedSize === 'undefined') {\n    const dock = c.config.dock();\n    let size = c.comp.preferredSize({ inner: reducedRect, outer: layoutRect, dock });\n    // backwards compatibility\n    if (!isNaN(size)) {\n      size = { width: size, height: size };\n    } else if (size && !isNaN(size.size)) {\n      size.width = size.size;\n      size.height = size.size;\n    }\n\n    let relevantSize;\n    if (dock === 'top' || dock === 'bottom') {\n      relevantSize = size.height;\n    } else if (dock === 'right' || dock === 'left') {\n      relevantSize = size.width;\n    } else {\n      relevantSize = Math.max(size.width, size.height);\n    }\n    c.cachedSize = Math.ceil(relevantSize);\n    c.edgeBleed = size.edgeBleed || 0;\n  }\n  return c.cachedSize;\n}\n\nfunction validateReduceRect(rect, reducedRect, settings) {\n  // Absolute value for width/height should have predence over relative value\n  const minReduceWidth = Math.min(settings.center.minWidth, rect.width)\n    || Math.max(rect.width * settings.center.minWidthRatio, 1);\n  const minReduceHeight = Math.min(settings.center.minHeight, rect.height)\n    || Math.max(rect.height * settings.center.minHeightRatio, 1);\n  return reducedRect.width >= minReduceWidth && reducedRect.height >= minReduceHeight;\n}\n\nfunction reduceDocRect(reducedRect, c) {\n  switch (c.config.dock()) {\n    case 'top':\n      reducedRect.y += c.cachedSize;\n      reducedRect.height -= c.cachedSize;\n      break;\n    case 'bottom':\n      reducedRect.height -= c.cachedSize;\n      break;\n    case 'left':\n      reducedRect.x += c.cachedSize;\n      reducedRect.width -= c.cachedSize;\n      break;\n    case 'right':\n      reducedRect.width -= c.cachedSize;\n      break;\n    default:\n  }\n}\n\nfunction addEdgeBleed(currentEdgeBleed, c) {\n  const edgeBleed = c.edgeBleed;\n  if (!edgeBleed) {\n    return;\n  }\n  currentEdgeBleed.left = Math.max(currentEdgeBleed.left, edgeBleed.left || 0);\n  currentEdgeBleed.right = Math.max(currentEdgeBleed.right, edgeBleed.right || 0);\n  currentEdgeBleed.top = Math.max(currentEdgeBleed.top, edgeBleed.top || 0);\n  currentEdgeBleed.bottom = Math.max(currentEdgeBleed.bottom, edgeBleed.bottom || 0);\n}\n\nfunction reduceEdgeBleed(layoutRect, reducedRect, edgeBleed) {\n  if (reducedRect.x < edgeBleed.left) {\n    reducedRect.width -= edgeBleed.left - reducedRect.x;\n    reducedRect.x = edgeBleed.left;\n  }\n  const reducedRectRightBoundary = layoutRect.width - (reducedRect.x + reducedRect.width);\n  if (reducedRectRightBoundary < edgeBleed.right) {\n    reducedRect.width -= edgeBleed.right - reducedRectRightBoundary;\n  }\n  if (reducedRect.y < edgeBleed.top) {\n    reducedRect.height -= edgeBleed.top - reducedRect.y;\n    reducedRect.y = edgeBleed.top;\n  }\n  const reducedRectBottomBoundary = layoutRect.height - (reducedRect.y + reducedRect.height);\n  if (reducedRectBottomBoundary < edgeBleed.bottom) {\n    reducedRect.height -= edgeBleed.bottom - reducedRectBottomBoundary;\n  }\n}\n\nfunction reduceSingleLayoutRect(layoutRect, reducedRect, edgeBleed, c, settings) {\n  const newReduceRect = extend({}, reducedRect);\n  const newEdgeBleed = extend({}, edgeBleed);\n  reduceDocRect(newReduceRect, c);\n  addEdgeBleed(newEdgeBleed, c);\n  reduceEdgeBleed(layoutRect, newReduceRect, newEdgeBleed);\n\n  const isValid = validateReduceRect(layoutRect, newReduceRect, settings);\n  if (!isValid) {\n    return false;\n  }\n\n  reduceDocRect(reducedRect, c);\n  addEdgeBleed(edgeBleed, c);\n  return true;\n}\n\n/**\n * Updates the visible and hidden components based on components that are docked to other components.\n * For example, assume a component called myRect:\n * {\n *  key: 'myRect',\n *  type: 'rect',\n *  dock: 'bottom'\n * }\n * and a component called myLine:\n * {\n *  key: 'myLine',\n *  type: 'line',\n *  dock: '@myRect'\n * }\n * if the layout engine decides to hide myRect, then myLine should be hidden as well.\n * @param {Array} visible - Components to be decided if they should be hidden or not.\n * @param {Array} hidden - Components that are already hidden.\n * @returns {Object} containing the new visible components and additional components to be hidden.\n * @ignore\n */\nfunction filterReferencedDocks(visible, hidden) {\n  if (hidden.length === 0) {\n    return;\n  }\n\n  for (let i = 0; i < visible.length; ++i) {\n    let v = visible[i];\n    if (v.referencedDocks.length) {\n      const isAllHidden = v.referencedDocks.every((refDock) => hidden.some((h) => h.key === refDock));\n      if (isAllHidden) {\n        hidden.push(visible.splice(i, 1)[0]);\n      }\n    }\n  }\n}\n\nfunction reduceLayoutRect({\n  layoutRect, visible, hidden, settings\n}) {\n  const reducedRect = createRect(layoutRect.x, layoutRect.y, layoutRect.width, layoutRect.height);\n  const edgeBleed = {\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0\n  };\n\n  const sortedComponents = visible.slice();\n  sortedComponents.sort((a, b) => a.config.prioOrder() - b.config.prioOrder()); // lower prioOrder will have higher prio\n\n  for (let i = 0; i < sortedComponents.length; ++i) {\n    const c = sortedComponents[i];\n    cacheSize(c, reducedRect, layoutRect);\n\n    if (!reduceSingleLayoutRect(layoutRect, reducedRect, edgeBleed, c, settings)) {\n      hidden.push(sortedComponents.splice(i, 1)[0]);\n      --i;\n    }\n  }\n\n  filterReferencedDocks(visible, hidden);\n\n  const filteredUnsortedComps = visible.filter((c) => sortedComponents.indexOf(c) !== -1);\n  visible.length = 0;\n  visible.push(...filteredUnsortedComps);\n  reduceEdgeBleed(layoutRect, reducedRect, edgeBleed);\n  return reducedRect;\n}\n\nfunction computeRect(rect) {\n  return {\n    x: rect.margin.left + rect.x * rect.scaleRatio.x,\n    y: rect.margin.top + rect.y * rect.scaleRatio.y,\n    width: rect.width * rect.scaleRatio.x,\n    height: rect.height * rect.scaleRatio.y\n  };\n}\n\nfunction appendScaleRatio(rect, outerRect, layoutRect, containerRect) {\n  const scaleRatio = {\n    x: containerRect.width / layoutRect.width,\n    y: containerRect.height / layoutRect.height\n  };\n  const margin = {\n    left: 0,\n    top: 0\n  };\n\n  if (layoutRect.preserveAspectRatio) {\n    const xLessThenY = scaleRatio.x < scaleRatio.y;\n    // To preserve the aspect ratio, take the smallest ratio and apply in both directions to \"meet\" the size of the container\n    const minRatio = Math.min(scaleRatio.x, scaleRatio.y);\n    scaleRatio.x = minRatio;\n    scaleRatio.y = minRatio;\n    const area = xLessThenY ? 'height' : 'width';\n    const spread = (containerRect[area] - layoutRect[area] * scaleRatio.x) * layoutRect.align;\n    margin.left = xLessThenY ? 0 : spread;\n    margin.top = xLessThenY ? spread : 0;\n  }\n\n  rect.scaleRatio = scaleRatio;\n  rect.margin = margin;\n  outerRect.scaleRatio = scaleRatio;\n  outerRect.margin = margin;\n  layoutRect.scaleRatio = scaleRatio;\n  layoutRect.margin = margin;\n}\n\nfunction boundingBox(rects) {\n  const points = [].concat(...rects.map(rectToPoints));\n  return pointsToRect(points);\n}\n\nfunction positionComponents({\n  visible, layoutRect, reducedRect, containerRect, translation\n}) {\n  const vRect = createRect(reducedRect.x, reducedRect.y, reducedRect.width, reducedRect.height);\n  const hRect = createRect(reducedRect.x, reducedRect.y, reducedRect.width, reducedRect.height);\n\n  const referencedComponents = {};\n  const referenceArray = visible.slice();\n  const elementOrder = referenceArray.slice().sort((a, b) => a.config.displayOrder() - b.config.displayOrder());\n  visible\n    .sort((a, b) => {\n      if (b.referencedDocks.length > 0) {\n        return -1;\n      }\n      if (a.referencedDocks.length > 0) {\n        return 1;\n      }\n      const diff = a.config.displayOrder() - b.config.displayOrder();\n      if (diff === 0) {\n        return referenceArray.indexOf(a) - referenceArray.indexOf(b);\n      }\n      return diff;\n    })\n    .forEach((c) => {\n      let outerRect = {};\n      let rect = {};\n      const d = c.config.dock();\n      switch (d) {\n        case 'top':\n          outerRect.height = rect.height = c.cachedSize;\n          outerRect.width = layoutRect.width;\n          rect.width = vRect.width;\n          outerRect.x = layoutRect.x;\n          rect.x = vRect.x;\n          outerRect.y = rect.y = vRect.y - c.cachedSize;\n\n          vRect.y -= c.cachedSize;\n          vRect.height += c.cachedSize;\n          break;\n        case 'bottom':\n          outerRect.x = layoutRect.x;\n          rect.x = vRect.x;\n          outerRect.y = rect.y = vRect.y + vRect.height;\n          outerRect.width = layoutRect.width;\n          rect.width = vRect.width;\n          outerRect.height = rect.height = c.cachedSize;\n\n          vRect.height += c.cachedSize;\n          break;\n        case 'left':\n          outerRect.x = rect.x = hRect.x - c.cachedSize;\n          outerRect.y = layoutRect.y;\n          rect.y = hRect.y;\n          outerRect.width = rect.width = c.cachedSize;\n          outerRect.height = layoutRect.height;\n          rect.height = hRect.height;\n\n          hRect.x -= c.cachedSize;\n          hRect.width += c.cachedSize;\n          break;\n        case 'right':\n          outerRect.x = rect.x = hRect.x + hRect.width;\n          outerRect.y = layoutRect.y;\n          rect.y = hRect.y;\n          outerRect.width = rect.width = c.cachedSize;\n          outerRect.height = layoutRect.height;\n          rect.height = hRect.height;\n\n          hRect.width += c.cachedSize;\n          break;\n        case 'center':\n          outerRect.x = rect.x = reducedRect.x;\n          outerRect.y = rect.y = reducedRect.y;\n          outerRect.width = rect.width = reducedRect.width;\n          outerRect.height = rect.height = reducedRect.height;\n          break;\n        default:\n          if (c.referencedDocks.length > 0) {\n            const refs = c.referencedDocks\n              .map((ref) => referencedComponents[ref])\n              .filter((ref) => !!ref);\n            if (refs.length > 0) {\n              outerRect = boundingBox(refs.map((ref) => ref.outerRect));\n              rect = boundingBox(refs.map((ref) => ref.r));\n            }\n          }\n          break;\n      }\n      if (c.key) {\n        referencedComponents[c.key] = {\n          // store the size of this component\n          r: rect,\n          outerRect\n        };\n      }\n      appendScaleRatio(rect, outerRect, layoutRect, containerRect);\n      rect.edgeBleed = c.edgeBleed;\n      rect.computed = computeRect(rect);\n      outerRect.edgeBleed = c.edgeBleed;\n      outerRect.computed = computeRect(outerRect);\n      rect.x += translation.x;\n      rect.y += translation.y;\n      outerRect.x += translation.x;\n      outerRect.y += translation.y;\n      c.comp.resize(rect, outerRect);\n      c.cachedSize = undefined;\n      c.edgeBleed = undefined;\n    });\n  return visible.map((c) => elementOrder.indexOf(c));\n}\n\nfunction checkShowSettings(strategySettings, dockSettings, logicalContainerRect) {\n  const layoutModes = strategySettings.layoutModes || {};\n  const minimumLayoutMode = dockSettings.minimumLayoutMode();\n  let show = dockSettings.show();\n  if (show && typeof minimumLayoutMode === 'object') {\n    show = layoutModes[minimumLayoutMode.width]\n      && layoutModes[minimumLayoutMode.height]\n      && logicalContainerRect.width >= layoutModes[minimumLayoutMode.width].width\n      && logicalContainerRect.height >= layoutModes[minimumLayoutMode.height].height;\n  } else if (show && minimumLayoutMode !== undefined) {\n    show = layoutModes[minimumLayoutMode]\n      && logicalContainerRect.width >= layoutModes[minimumLayoutMode].width\n      && logicalContainerRect.height >= layoutModes[minimumLayoutMode].height;\n  }\n  return show;\n}\n\nfunction validateComponent(component) {\n  if (!component.settings && !component.settings) {\n    throw new Error('Invalid component settings');\n  }\n  if (!component.resize || typeof component.resize !== 'function') {\n    throw new Error('Component is missing resize function');\n  }\n  if (!component.dockConfig && !component.preferredSize) {\n    throw new Error('Component is missing preferredSize function');\n  }\n}\n\nfunction filterComponents(components, settings, rect) {\n  const visible = [];\n  const hidden = [];\n  // check show settings\n  for (let i = 0; i < components.length; ++i) {\n    const comp = components[i];\n    validateComponent(comp);\n    // backwards compatibility\n    let config;\n    if (comp.instance) {\n      config = comp.instance.dockConfig();\n    } else {\n      config = dockConfig(comp.settings.layout);\n    }\n    const key = comp.settings.key;\n    const d = config.dock();\n    const referencedDocks = /@/.test(d) ? d.split(',').map((s) => s.replace(/^\\s*@/, '')) : [];\n    if (checkShowSettings(settings, config, rect)) {\n      visible.push({\n        comp,\n        key,\n        config,\n        referencedDocks\n      });\n    } else {\n      hidden.push({\n        comp,\n        key,\n        config,\n        referencedDocks\n      });\n    }\n  }\n  return [visible, hidden];\n}\n\n/**\n * @typedef {object} dock-layout-settings\n * @property {object} [logicalSize] - Logical size\n * @property {number} [logicalSize.width] - Width in pixels\n * @property {number} [logicalSize.height] - Height in pixels\n * @property {boolean} [logicalSize.preserveAspectRatio=false] - If true, takes the smallest ratio of width/height between logical and physical size ( physical / logical )\n * @property {number} [logicalSize.align=0.5] - Normalized value between 0-1. Defines how the space around the scaled axis is spread in the container, with 0.5 meaning the spread is equal on both sides. Only applicable if preserveAspectRatio is set to true\n * @property {object} [center] - Define how much space the center dock area requires\n * @property {number} [center.minWidthRatio=0.5] - Value between 0 and 1\n * @property {number} [center.minHeightRatio=0.5] - Value between 0 and 1\n * @property {number} [center.minWidth] - Width in pixels\n * @property {number} [center.minHeight] - Height in pixels\n * @property {object<string, {width: number, height: number}>} [layoutModes] Dictionary with named sizes\n */\nfunction dockLayout(initialSettings) {\n  let settings = resolveSettings(initialSettings);\n\n  const docker = {};\n\n  docker.layout = function layout(rect, components = []) {\n    if (!rect || isNaN(rect.x) || isNaN(rect.y) || isNaN(rect.width) || isNaN(rect.height)) {\n      throw new Error('Invalid rect');\n    }\n    if (!components.length) {\n      return { visible: [], hidden: [] };\n    }\n\n    const { logicalContainerRect, containerRect } = resolveContainerRects(rect, settings);\n\n    const [visible, hidden] = filterComponents(components, settings, logicalContainerRect);\n\n    const reducedRect = reduceLayoutRect({\n      layoutRect: logicalContainerRect,\n      visible,\n      hidden,\n      settings\n    });\n\n    const translation = { x: rect.x, y: rect.y };\n\n    const order = positionComponents({\n      visible,\n      layoutRect: logicalContainerRect,\n      reducedRect,\n      containerRect,\n      translation\n    });\n    hidden.forEach((c) => {\n      c.comp.visible = false;\n      // set empty rects on hidden components\n      const r = createRect();\n      c.comp.resize(r, r);\n    });\n    return { visible: visible.map((v) => v.comp), hidden: hidden.map((h) => h.comp), order };\n  };\n\n  docker.settings = function settingsFn(s) {\n    settings = resolveSettings(s);\n  };\n\n  return docker;\n}\n\nexport default dockLayout;\n","/* global navigator */\n\nexport function detectPointerSupport(e) {\n  if ('onpointerdown' in e && 'onpointerup' in e) {\n    return true;\n  }\n  return false;\n}\n\nexport function detectTouchSupport(e) {\n  if (('ontouchstart' in e && 'ontouchend' in e) || navigator.maxTouchPoints > 1) {\n    return true;\n  }\n  return false;\n}\n\nexport function isTouchEvent(e) {\n  return !!e.changedTouches;\n}\n\nexport function isValidTapEvent(e, eventInfo) {\n  const isTouch = isTouchEvent(e);\n  const ee = isTouch ? e.changedTouches[0] : e;\n  const dt = Date.now() - eventInfo.time;\n  const dx = isNaN(eventInfo.x) ? 0 : Math.abs(ee.clientX - eventInfo.x);\n  const dy = isNaN(eventInfo.y) ? 0 : Math.abs(ee.clientY - eventInfo.y);\n\n  return (e.button === 0 || isTouch)\n    && !eventInfo.multiTouch\n    && dx <= 12\n    && dy <= 12\n    && dt <= 300;\n}\n","// import types from './types';\n\n/**\n * @ignore\n * @param {Array<data-source>} dataSources\n * @param {any} { logger }\n * @returns {function}\n */\nexport default function datasets(dataSources, { types, logger }) {\n  const data = {};\n\n  const sets = [];\n  if (!Array.isArray(dataSources)) {\n    logger.warn('Deprecated: \"data-source\" configuration\"');\n    sets.push(dataSources);\n  } else {\n    sets.push(...dataSources);\n  }\n\n  sets.forEach((d, i) => {\n    let datasetFactory = types(d.type);\n    if (datasetFactory) {\n      let key = d.key;\n      if (typeof d.key === 'undefined') {\n        logger.warn(`Missing key for dataset. Using index '${i}' as key.`);\n        key = i;\n      }\n      let dataset = datasetFactory({\n        key,\n        data: d.data,\n        config: d.config\n      });\n      data[key] = dataset;\n    }\n  });\n\n  /**\n   * Returns the `dataset` which has `key` as identifier\n   * @ignore\n   * @param {string} key - The dataset identifier\n   * @returns {dataset}\n   */\n  const fn = (key) => {\n    if (key) {\n      return data[key];\n    }\n    return data[Object.keys(data)[0]];\n  };\n  return fn;\n}\n\n/**\n * @typedef {object} data-source\n * @property {string} key - Unique identifier for this data source\n * @property {string} type - The dataset type\n * @property {any} data\n */\n","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export var abs = Math.abs;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var max = Math.max;\nexport var min = Math.min;\nexport var sin = Math.sin;\nexport var sqrt = Math.sqrt;\n\nexport var epsilon = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1 ≥ r0, da1 ≥ da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi && (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10))) {\n          var ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n              lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sector’s outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and it’s a circular sector?\n      // Or perhaps it’s an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sector’s inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport curveLinear from \"./curve/linear\";\nimport {x as pointX, y as pointY} from \"./point\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport curveLinear from \"./curve/linear\";\nimport line from \"./line\";\nimport {x as pointX, y as pointY} from \"./point\";\n\nexport default function() {\n  var x0 = pointX,\n      x1 = null,\n      y0 = constant(0),\n      y1 = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function(d) {\n  return d;\n}\n","import constant from \"./constant\";\nimport descending from \"./descending\";\nimport identity from \"./identity\";\nimport {tau} from \"./math\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = data.length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n","export var slice = Array.prototype.slice;\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {epsilon} from \"../math\";\nimport {Cardinal} from \"./cardinal\";\n\nexport function point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bézier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n","function Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nexport default function(context) {\n  return new Natural(context);\n}\n","function Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nexport default function(context) {\n  return new Step(context, 0.5);\n}\n\nexport function stepBefore(context) {\n  return new Step(context, 0);\n}\n\nexport function stepAfter(context) {\n  return new Step(context, 1);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n    for (j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n}\n","export default function(series) {\n  var n = series.length, o = new Array(n);\n  while (--n >= 0) o[n] = n;\n  return o;\n}\n","import {slice} from \"./array\";\nimport constant from \"./constant\";\nimport offsetNone from \"./offset/none\";\nimport orderNone from \"./order/none\";\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nexport default function() {\n  var keys = constant([]),\n      order = orderNone,\n      offset = offsetNone,\n      value = stackValue;\n\n  function stack(data) {\n    var kz = keys.apply(this, arguments),\n        i,\n        m = data.length,\n        n = kz.length,\n        sz = new Array(n),\n        oz;\n\n    for (i = 0; i < n; ++i) {\n      for (var ki = kz[i], si = sz[i] = new Array(m), j = 0, sij; j < m; ++j) {\n        si[j] = sij = [0, +value(data[j], ki, j, data)];\n        sij.data = data[j];\n      }\n      si.key = ki;\n    }\n\n    for (i = 0, oz = order(sz); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function(_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : keys;\n  };\n\n  stack.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), stack) : value;\n  };\n\n  stack.order = function(_) {\n    return arguments.length ? (order = _ == null ? orderNone : typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : order;\n  };\n\n  stack.offset = function(_) {\n    return arguments.length ? (offset = _ == null ? offsetNone : _, stack) : offset;\n  };\n\n  return stack;\n}\n","import none from \"./none\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, n, j = 0, m = series[0].length, y; j < m; ++j) {\n    for (y = i = 0; i < n; ++i) y += series[i][j][1] || 0;\n    if (y) for (i = 0; i < n; ++i) series[i][j][1] /= y;\n  }\n  none(series, order);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, j = 0, d, dy, yp, yn, n, m = series[order[0]].length; j < m; ++j) {\n    for (yp = yn = 0, i = 0; i < n; ++i) {\n      if ((dy = (d = series[order[i]][j])[1] - d[0]) >= 0) {\n        d[0] = yp, d[1] = yp += dy;\n      } else if (dy < 0) {\n        d[1] = yn, d[0] = yn += dy;\n      } else {\n        d[0] = yp;\n      }\n    }\n  }\n}\n","import none from \"./none\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var j = 0, s0 = series[order[0]], n, m = s0.length; j < m; ++j) {\n    for (var i = 0, y = 0; i < n; ++i) y += series[i][j][1] || 0;\n    s0[j][1] += s0[j][0] = -y / 2;\n  }\n  none(series, order);\n}\n","import none from \"./none\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0) || !((m = (s0 = series[order[0]]).length) > 0)) return;\n  for (var y = 0, j = 1, s0, m, n; j < m; ++j) {\n    for (var i = 0, s1 = 0, s2 = 0; i < n; ++i) {\n      var si = series[order[i]],\n          sij0 = si[j][1] || 0,\n          sij1 = si[j - 1][1] || 0,\n          s3 = (sij0 - sij1) / 2;\n      for (var k = 0; k < i; ++k) {\n        var sk = series[order[k]],\n            skj0 = sk[j][1] || 0,\n            skj1 = sk[j - 1][1] || 0;\n        s3 += skj0 - skj1;\n      }\n      s1 += sij0, s2 += s3 * sij0;\n    }\n    s0[j - 1][1] += s0[j - 1][0] = y;\n    if (s1) y -= s2 / s1;\n  }\n  s0[j - 1][1] += s0[j - 1][0] = y;\n  none(series, order);\n}\n","import none from \"./none\";\n\nexport default function(series) {\n  var peaks = series.map(peak);\n  return none(series).sort(function(a, b) { return peaks[a] - peaks[b]; });\n}\n\nfunction peak(series) {\n  var i = -1, j = 0, n = series.length, vi, vj = -Infinity;\n  while (++i < n) if ((vi = +series[i][1]) > vj) vj = vi, j = i;\n  return j;\n}\n","import none from \"./none\";\n\nexport default function(series) {\n  var sums = series.map(sum);\n  return none(series).sort(function(a, b) { return sums[a] - sums[b]; });\n}\n\nexport function sum(series) {\n  var s = 0, i = -1, n = series.length, v;\n  while (++i < n) if (v = +series[i][1]) s += v;\n  return s;\n}\n","import appearance from \"./appearance\";\nimport {sum} from \"./ascending\";\n\nexport default function(series) {\n  var n = series.length,\n      i,\n      j,\n      sums = series.map(sum),\n      order = appearance(series),\n      top = 0,\n      bottom = 0,\n      tops = [],\n      bottoms = [];\n\n  for (i = 0; i < n; ++i) {\n    j = order[i];\n    if (top < bottom) {\n      top += sums[j];\n      tops.push(j);\n    } else {\n      bottom += sums[j];\n      bottoms.push(j);\n    }\n  }\n\n  return bottoms.reverse().concat(tops);\n}\n","import none from \"./none\";\n\nexport default function(series) {\n  return none(series).reverse();\n}\n","export default function registryFactory(parentRegistry, registerName = 'unspecified', logger) {\n  let defaultValue;\n  const reg = {};\n  const parent = parentRegistry || {\n    get: () => undefined,\n    has: () => false,\n    default: () => undefined\n  };\n\n  defaultValue = parent.default();\n\n  /**\n   * @private\n   * @param {string} key\n   * @param {any} value\n   * @throws {TypeError} Key must be a non-empty string\n   * @returns {boolean} False if the given key already exists, true otherwise\n   * @example\n   * var r = registry();\n   * r.add( \"marker\", function(args) {\n   *   return new markers[args.type](args);\n   * });\n   *\n   */\n  function add(key, value) {\n    if (!key || typeof key !== 'string') {\n      throw new TypeError('Invalid argument: key must be a non-empty string');\n    }\n    if (key in reg) {\n      return false;\n    }\n    reg[key] = value;\n    return true;\n  }\n\n  function get(key) {\n    return reg[key] || parent.get(key);\n  }\n\n  function has(key) {\n    return !!reg[key] || parent.has(key);\n  }\n\n  function remove(key) {\n    const d = reg[key];\n    delete reg[key];\n    return d;\n  }\n\n  function getKeys() {\n    return Object.keys(reg);\n  }\n\n  function getValues() {\n    return Object.keys(reg).map((key) => reg[key]);\n  }\n\n  function deflt(d) {\n    if (typeof d !== 'undefined') {\n      defaultValue = d;\n    }\n    return defaultValue;\n  }\n\n  /**\n   * @alias registry\n   * @interface\n   * @param {string} key\n   * @param {any} value\n   */\n  function registry(key, value) {\n    if (typeof value !== 'undefined') {\n      return add(key, value);\n    }\n    const ret = get(key);\n    if (logger && typeof ret === 'undefined') {\n      logger.warn(`${key} does not exist in ${registerName} registry`);\n    }\n    return ret || get(defaultValue);\n  }\n\n  registry.add = add;\n  registry.get = get;\n  registry.has = has;\n  registry.remove = remove;\n  registry.getKeys = getKeys;\n  registry.getValues = getValues;\n  registry.default = deflt;\n  registry.register = add; // deprecated\n\n  return registry;\n}\n","// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nexport default function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import formatDecimal from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (i0 > 0) { if (!+s[i]) break out; i0 = 0; } break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import formatDecimal from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatDecimal from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"-\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Perform the initial formatting.\n        var valueNegative = value < 0;\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero during formatting, treat as positive.\n        if (valueNegative && +value === 0) valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"],\n  minus: \"-\"\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import { formatLocale } from 'd3-format';\n\nexport default function formatter(pattern, thousand, decimal) {\n  let locale,\n    d3format;\n\n  /**\n   * Format a value according to the specified pattern created at construct\n   * @private\n   *\n   * @param  {Number} value   The number to be formatted\n   * @return {String}         [description]\n   */\n  function format(value) {\n    return d3format(value);\n  }\n\n  /**\n    * Set the locale for the formatter\n    *\n    * @param  {Object} args   Locale object for formatting\n    * @return {Undefined}      Returns nothing\n    */\n  format.locale = function localeFn(settings) {\n    locale = formatLocale(settings);\n    d3format = locale.format(pattern);\n\n    return this;\n  };\n\n  /**\n   * Resets the formatter using format.locale\n   * @ignore\n   */\n  function reset() {\n    format.locale({\n      decimal: decimal || '.',\n      thousands: thousand || ',',\n      grouping: [3],\n      currency: ['$', '']\n    });\n  }\n  reset();\n\n  /**\n    * Format a value according to a specific pattern\n    * that is not the one specified in the constructor\n    *\n    * @param  {String} p   Pattern\n    * @param  {Number} v   Value\n    * @param  {String} t   Thousand\n    * @param  {String} d   Decimal\n    * @return {String}     Formatted value\n    */\n  format.format = function formatFn(p, v, t, d) {\n    if (t || d) {\n      thousand = t;\n      decimal = d;\n      reset();\n    }\n    return locale.format(p)(v);\n  };\n\n  /**\n   * Change the pattern on existing formatter\n   *\n   * @param  {String} p     Pattern (optional)\n   * @return {String}       Returns the pattern\n   */\n  format.pattern = function patternFn(p) {\n    if (p) {\n      pattern = p;\n      d3format = locale.format(p);\n    }\n    return pattern;\n  };\n\n  return format;\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = new Date(+date)), date;\n  }\n\n  interval.floor = interval;\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n","import interval from \"./interval\";\nimport {durationSecond} from \"./duration\";\n\nvar second = interval(function(date) {\n  date.setTime(date - date.getMilliseconds());\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval\";\nimport {durationMinute, durationSecond} from \"./duration\";\n\nvar minute = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval\";\nimport {durationHour, durationMinute, durationSecond} from \"./duration\";\n\nvar hour = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval\";\nimport {durationDay, durationMinute} from \"./duration\";\n\nvar day = interval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval\";\nimport {durationMinute, durationWeek} from \"./duration\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval\";\nimport {durationMinute} from \"./duration\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import interval from \"./interval\";\nimport {durationHour} from \"./duration\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval\";\nimport {durationDay} from \"./duration\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval\";\nimport {durationWeek} from \"./duration\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newYear(y) {\n  return {y: y, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, newDate) {\n    return function(string) {\n      var d = newYear(1900),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newYear(d.y)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = newDate(newYear(d.y)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newYear(d.y)).getUTCDay() : newDate(newYear(d.y)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return newDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", localDate);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier, utcDate);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = (+n[0]) * 1000, i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import {utcFormat} from \"./defaultLocale\";\n\nexport var isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : utcFormat(isoSpecifier);\n\nexport default formatIso;\n","import {isoSpecifier} from \"./isoFormat\";\nimport {utcParse} from \"./defaultLocale\";\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : utcParse(isoSpecifier);\n\nexport default parseIso;\n","import { timeFormatLocale } from 'd3-time-format';\n\nexport default function formatter(pattern) { // eslint-disable-line import/prefer-default-export\n  let locale = timeFormatLocale({\n    dateTime: '%x, %X',\n    date: '%-m/%-d/%Y',\n    time: '%-I:%M:%S %p',\n    periods: ['AM', 'PM'],\n    days: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n    shortDays: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n    months: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n    shortMonths: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\n  });\n\n  let d3format = locale.format(pattern);\n\n  /**\n   * Format a value according to the specified pattern created at construct\n   *\n   * @param  {Date} value   The number to be formatted\n   * @return {String}         [description]\n   * @private\n   */\n  function format(value) {\n    return d3format(value);\n  }\n\n  /**\n    * Format a value according to a specific pattern\n    * that is not the one specified in the constructor\n    *\n    * @param  {String} p   Pattern\n    * @param  {Date} v   Value\n    * @return {String}     Formatted value\n    */\n  format.format = function formatFn(p, v) {\n    return locale.format(p)(v);\n  };\n\n  /**\n   * Set the locale for the formatter\n   *\n   * @param  {Object} args   Locale object for formatting\n   * @return {Undefined}      Returns nothing\n   */\n  format.locale = function localeFn(...args) {\n    locale = timeFormatLocale(...args);\n    d3format = locale.format(pattern);\n\n    return this;\n  };\n\n  /**\n   * Parse a string to a date according to a pattern\n   *\n   * @param  {String} p   Pattern\n   * @param  {String} v   Value\n   * @return {Date}     Date\n   */\n  format.parse = function parse(p, v) {\n    return locale.parse(p)(v);\n  };\n\n  /**\n   * Returns a parser that parses strings to date according to the pattern\n   *\n   * @param  {String} p   Pattern\n   * @return {Function}   Parser\n   */\n  format.parsePattern = function parsePattern(p) {\n    return locale.parse(p);\n  };\n\n  return format;\n}\n","import registry from '../utils/registry';\n\nimport { numberFormat as d3NumberFormatter, timeFormat as d3TimeFormatter } from './d3';\n\nconst formatterRegistry = registry();\n\nformatterRegistry('d3-number', d3NumberFormatter);\nformatterRegistry('d3-time', d3TimeFormatter);\n\nexport { formatterRegistry as default };\n","/* eslint no-return-assign: 0 */\nimport formatterFn from '../formatter';\n\n// TODO - decide whether usage of .call() is appropriate when invoking accessors, if yes then arrow functions are not allowed!\n\nconst getFormatter = (data) => {\n  if (typeof data.formatter === 'function') {\n    return data.formatter();\n  }\n  const f = data.formatter || {};\n  return formatterFn(f.type || 'd3-number')(f.format || '');\n};\n\nconst accessors = {\n  id: (data) => `${data.source}/${data.key || data.title}`,\n  key: (data) => String(data.key || data.title),\n  tags: (data) => data.tags,\n  min: (data) => data.min,\n  max: (data) => data.max,\n  type: (data) => data.type,\n  title: (data) => String(data.title),\n  values: (data) => data.values,\n  value: (v) => v,\n  label: (v) => v,\n  formatter: (data) => getFormatter(data)\n};\n\n/**\n * Create a new field with default settings\n * @ignore\n * @return {field} Data field\n */\nexport default function field(data, {\n  id = accessors.id,\n  key = accessors.key,\n  min = accessors.min,\n  max = accessors.max,\n  type = accessors.type,\n  tags = accessors.tags,\n  title = accessors.title,\n  values = accessors.values,\n  value = accessors.value,\n  label = accessors.label,\n  formatter = accessors.formatter\n} = {}) {\n  /**\n   * @alias field\n   */\n  const f = {\n\n    /**\n     * Returns this field's id\n     * @returns {string}\n     */\n    id: () => id(data),\n\n    /**\n     * Returns this field's key\n     * @returns {string}\n     */\n    key: () => key(data),\n\n    /**\n     * Returns the input data\n     * @returns {any}\n     */\n    raw: () => data,\n    /**\n     * Returns the tags.\n     * @return {Array<string>}\n     */\n    tags: () => tags(data),\n\n    /**\n     * Returns this field's type: 'dimension' or 'measure'.\n     * @return {string}\n     */\n    type: () => type(data),\n\n    /**\n     * Returns the min value of this field.\n     * @return {number}\n     */\n    min: () => min(data),\n\n    /**\n     * Returns the max value of this field.\n     * @return {number}\n     */\n    max: () => max(data),\n\n    /**\n     * Returns this field's title.\n     * @return {string}\n     */\n    title: () => title(data),\n\n    /**\n     * Returns the values of this field.\n     * @return {Array<datum-extract>}\n     */\n    items: () => values(data),\n\n    /**\n     * Returns a formatter adapted to the content of this field.\n     */\n    formatter: () => formatter(data),\n\n    value,\n    label\n  };\n\n  return f;\n}\n","import {\n  stack,\n  stackOrderAscending,\n  stackOrderInsideOut,\n  stackOrderNone,\n  stackOrderReverse,\n  stackOffsetDiverging,\n  stackOffsetNone,\n  stackOffsetSilhouette,\n  stackOffsetExpand,\n  stackOffsetWiggle\n} from 'd3-shape';\nimport fieldFn from './field';\n\nconst OFFSETS = {\n  diverging: stackOffsetDiverging,\n  none: stackOffsetNone,\n  silhouette: stackOffsetSilhouette,\n  expand: stackOffsetExpand,\n  wiggle: stackOffsetWiggle\n};\n\nconst ORDERS = {\n  ascending: stackOrderAscending,\n  insideout: stackOrderInsideOut,\n  none: stackOrderNone,\n  reverse: stackOrderReverse\n};\n\nfunction stacked(data, config, ds) {\n  const stackIds = {};\n  const stackFn = config.stackKey;\n  const valueFn = config.value;\n  const startProp = config.startProp || 'start';\n  const endProp = config.endProp || 'end';\n  const offset = config.offset || 'none';\n  const order = config.order || 'none';\n  const valueRef = config.valueRef || '';\n\n  let maxStackCount = 0;\n\n  let valueFields = {};\n\n  for (let i = 0; i < data.items.length; i++) {\n    let p = data.items[i];\n    let sourceField = valueRef ? p[valueRef] : null;\n    if (sourceField && sourceField.source) {\n      let ff = `${sourceField.source.key || ''}/${sourceField.source.field}`;\n      if (!valueFields[ff]) {\n        valueFields[ff] = sourceField.source;\n      }\n    }\n    let sid = stackFn(p);\n    stackIds[sid] = stackIds[sid] || { items: [] };\n    stackIds[sid].items.push(p);\n\n    maxStackCount = Math.max(maxStackCount, stackIds[sid].items.length);\n  }\n\n  const keys = Array.apply(null, { length: maxStackCount }).map(Number.call, Number); // eslint-disable-line\n  const matrix = Object.keys(stackIds).map((sid) => stackIds[sid].items);\n\n  const d3Stack = stack()\n    .keys(keys)\n    .value((s, key) => (s[key] ? valueFn(s[key]) : 0))\n    .order(ORDERS[order])\n    .offset(OFFSETS[offset]);\n\n  let series = d3Stack(matrix);\n  let values = [];\n\n  for (let i = 0; i < series.length; i++) {\n    let serie = series[i];\n    for (let s = 0; s < serie.length; s++) {\n      let range = serie[s];\n      let item = serie[s].data[serie.key];\n      if (!item) {\n        continue;\n      }\n      item[startProp] = { value: range[0] };\n      item[endProp] = { value: range[1] };\n      values.push(range[0], range[1]);\n    }\n  }\n\n  let stackedFields = Object.keys(valueFields).map((f) => {\n    let dSource = ds(valueFields[f].key);\n    return dSource ? dSource.field(valueFields[f].field) : null;\n  }).filter((f) => !!f);\n\n  const field = fieldFn({\n    title: stackedFields.map((f) => f.title()).join(', '),\n    min: Math.min(...values),\n    max: Math.max(...values),\n    type: 'measure',\n    formatter: stackedFields[0] ? stackedFields[0].formatter : undefined\n  });\n  data.fields.push(field);\n}\n\nexport { stacked as default };\n","import stack from './stack';\n\nexport default function extract(dataConfig, data = {}, opts = {}) {\n  let extracted = {\n    // items: [],\n    // fields: [],\n    // source: null,\n    // value: null,\n    // label: null,\n    // children: null,\n    // root: null,\n    // graph: null\n  };\n\n  const logger = opts.logger;\n\n  if (Array.isArray(dataConfig)) { // if data is an array, assume it's manual data input -> normalize\n    extracted.items = dataConfig.map((v) => ({ value: v, label: String(v) }));\n  } else if (dataConfig) {\n    if ('collection' in dataConfig) {\n      extracted = { ...data.collection(dataConfig.collection) };\n    } else {\n      const source = data.dataset ? data.dataset(dataConfig.source) : null;\n      let valueFn = dataConfig.value || ((d) => d);\n      let labelFn = dataConfig.label || ((d) => d);\n      if (dataConfig.groupBy || dataConfig.mapTo) { // DEPRECATION\n        logger.warn('Deprecated \"data\" configuration', dataConfig);\n        extracted.items = [];\n      } else if (dataConfig.hierarchy) {\n        extracted.root = source.hierarchy ? source.hierarchy(dataConfig.hierarchy) : null;\n        extracted.fields = source.fields();\n      } else if (dataConfig.items) {\n        extracted.items = dataConfig.items.map((v) => ({ value: valueFn(v), label: String(labelFn(v)) }));\n      } else if (dataConfig.extract) {\n        const extractionsConfigs = Array.isArray(dataConfig.extract) ? dataConfig.extract : [dataConfig.extract];\n        extracted.items = [];\n        const sourceFields = [];\n        extractionsConfigs.forEach((cfg) => {\n          const s = cfg.source ? data.dataset(cfg.source) : source;\n          if (!s) {\n            return;\n          }\n          extracted.items.push(...s.extract(cfg));\n          if (typeof cfg.field !== 'undefined') {\n            sourceFields.push(s.field(cfg.field));\n          }\n        });\n        if (sourceFields.length) {\n          extracted.fields = sourceFields;\n        }\n        if (dataConfig.amend && Array.isArray(dataConfig.amend)) {\n          extracted.items.push(...dataConfig.amend);\n        }\n      } else if (typeof dataConfig.field !== 'undefined' && source) {\n        const f = source.field(dataConfig.field);\n        if (f) {\n          if (!extracted.fields) {\n            extracted.fields = [];\n          }\n          extracted.fields.push(f);\n          if (!('value' in dataConfig)) {\n            valueFn = f.value || ((v) => v);\n            labelFn = f.label || ((v) => v);\n            extracted.value = valueFn;\n          }\n          extracted.items = f.items().map((v) => ({ value: valueFn(v), label: String(labelFn(v)), source: { field: dataConfig.field } }));\n          // TODO - add source: { key: dataConfig.source, field: dataConfig.field, data: v }\n        }\n      } else if (dataConfig.fields) {\n        dataConfig.fields.forEach((obj) => {\n          const s = typeof obj === 'object' && obj.source ? data.dataset(obj.source) : source;\n          if (!s) {\n            return;\n          }\n          let f;\n          if (typeof obj === 'object' && typeof obj.field !== 'undefined') {\n            f = s.field(obj.field);\n          } else {\n            f = s.field(obj);\n          }\n          if (f) {\n            if (!extracted.fields) {\n              extracted.fields = [];\n            }\n            extracted.fields.push(f);\n          }\n        });\n      }\n\n      if (extracted.items && dataConfig.map) {\n        extracted.items = extracted.items.map(dataConfig.map);\n      }\n    }\n\n    if (dataConfig && dataConfig.stack) {\n      stack(extracted, dataConfig.stack, data.dataset);\n    }\n  }\n  if (dataConfig && !Array.isArray(dataConfig) && typeof dataConfig.filter === 'function' && extracted.items) {\n    extracted.items = extracted.items.filter(dataConfig.filter);\n  }\n  if (dataConfig && !Array.isArray(dataConfig) && typeof dataConfig.sort === 'function' && extracted.items) {\n    extracted.items = extracted.items.sort(dataConfig.sort);\n  }\n  return extracted;\n}\n","import extend from 'extend';\nimport extract from './extractor';\n\nfunction create(config, d, opts, extractor = extract) {\n  const collections = {};\n\n  (config || []).forEach((cfg) => {\n    if (!cfg.key) {\n      throw new Error('Data collection is missing \"key\" property');\n    }\n    if (typeof cfg.data === 'object' && 'collection' in cfg.data) {\n      throw new Error('Data config for collections may not reference other collections');\n    }\n    collections[cfg.key] = () => extractor(cfg.data, d, opts);\n  });\n\n  const fn = (key) => {\n    let k;\n    let cfg;\n    if (typeof key === 'string') {\n      k = key;\n    } else if (typeof key === 'object') {\n      k = key.key;\n      cfg = key;\n    }\n    if (!(k in collections)) {\n      throw new Error(`Unknown data collection: ${k}`);\n    }\n    if (typeof collections[k] === 'function') {\n      collections[k] = collections[k]();\n    }\n    let coll = collections[k];\n    if (cfg) {\n      if (cfg.fields && cfg.fields.filter) {\n        let filtered = coll.fields.filter(cfg.fields.filter);\n        if (coll.fields.length !== filtered.length) {\n          coll = extend(coll, { fields: filtered });\n        }\n      }\n    }\n\n    return coll;\n  };\n\n  return fn;\n}\n\nexport { create as default };\n","import extractData from '../../data/extractor';\n\nexport function create(options, data, deps, extractor = extractData) {\n  if (options.data) {\n    const d = extractor(options.data, data, deps);\n    if (d && d.fields && d.fields[0]) {\n      // TODO Have some magic to handle and merge formatters from multiple sources\n      return d.fields[0].formatter();\n    }\n  }\n\n  let formatterType;\n  if (options.formatter) {\n    formatterType = `${options.formatter}-${options.type || 'number'}`;\n  } else {\n    formatterType = options.type || 'd3-number';\n  }\n\n  if (deps.formatter.has(formatterType)) {\n    const f = deps.formatter.get(formatterType)(options.format || '');\n    return f;\n  }\n\n  throw new Error(`Formatter of type '${formatterType}' was not found`);\n}\n\nexport function collection(formattersConfig, data, deps, fn = create) {\n  const formatters = {};\n  return {\n    get(def) {\n      let key;\n      if (typeof def === 'string' && formattersConfig[def]) {\n        key = def;\n      } else if (typeof def === 'object' && 'formatter' in def && formattersConfig[def.formatter]) {\n        key = def.formatter;\n      } else if (typeof def === 'object' && 'type' in def && formattersConfig[def.type]) {\n        key = def.type;\n      }\n\n      if (key) {\n        formatters[key] = formatters[key] || fn(formattersConfig[key], data, deps);\n        return formatters[key];\n      }\n\n      return fn(def || {}, data, deps);\n    },\n    all() {\n      Object.keys(formattersConfig).forEach(this.get);\n      return formatters;\n    }\n  };\n}\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.interpolator(domain); break;\n    default: this.interpolator(interpolator).domain(domain); break;\n  }\n  return this;\n}\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume it’s an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","var array = Array.prototype;\n\nexport var map = array.map;\nexport var slice = array.slice;\n","import {map} from \"d3-collection\";\nimport {slice} from \"./array\";\nimport {initRange} from \"./init\";\n\nexport var implicit = {name: \"implicit\"};\n\nexport default function ordinal() {\n  var index = map(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = map();\n    var i = -1, n = _.length, d, key;\n    while (++i < n) if (!index.has(key = (d = _[i]) + \"\")) index.set(key, domain.push(d));\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init\";\nimport ordinal from \"./ordinal\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      range = [0, 1],\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = range[1] < range[0],\n        start = range[reverse - 0],\n        stop = range[1 - reverse];\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = [+_[0], +_[1]], rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = [+_[0], +_[1]], round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), range)\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex3 = /^#([0-9a-f]{3})$/,\n    reHex6 = /^#([0-9a-f]{6})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: function() {\n    return this.rgb().hex();\n  },\n  toString: function() {\n    return this.rgb() + \"\";\n  }\n});\n\nexport default function color(format) {\n  var m;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex3.exec(format)) ? (m = parseInt(m[1], 16), new Rgb((m >> 8 & 0xf) | (m >> 4 & 0x0f0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1)) // #f00\n      : (m = reHex6.exec(format)) ? rgbn(parseInt(m[1], 16)) // #ff0000\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format])\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (0 <= this.r && this.r <= 255)\n        && (0 <= this.g && this.g <= 255)\n        && (0 <= this.b && this.b <= 255)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: function() {\n    return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n  },\n  toString: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"rgb(\" : \"rgba(\")\n        + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export var deg2rad = Math.PI / 180;\nexport var rad2deg = 180 / Math.PI;\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\n// https://beta.observablehq.com/@mbostock/lab-and-rgb\nvar K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) {\n    if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n    var h = o.h * deg2rad;\n    return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n  }\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return labConvert(this).rgb();\n  }\n}));\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis\";\nimport basisClosed from \"./basisClosed\";\nimport nogamma, {gamma} from \"./color\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b -= a, function(t) {\n    return d.setTime(a + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return a + b * t;\n  };\n}\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb\";\nimport array from \"./array\";\nimport date from \"./date\";\nimport number from \"./number\";\nimport object from \"./object\";\nimport string from \"./string\";\nimport constant from \"./constant\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : Array.isArray(b) ? array\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return Math.round(a + b * t);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport {map, slice} from \"./array\";\nimport constant from \"./constant\";\nimport number from \"./number\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(domain) {\n  var a = domain[0], b = domain[domain.length - 1], t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = map.call(_, number), clamp === identity || (clamp = clamper(domain)), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = slice.call(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? clamper(domain) : identity, scale) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous(transform, untransform) {\n  return transformer()(transform, untransform);\n}\n","// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nexport default function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  return new FormatSpecifier(specifier);\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nfunction FormatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  this.fill = match[1] || \" \";\n  this.align = match[2] || \">\";\n  this.sign = match[3] || \"-\";\n  this.symbol = match[4] || \"\";\n  this.zero = !!match[5];\n  this.width = match[6] && +match[6];\n  this.comma = !!match[7];\n  this.precision = match[8] && +match[8].slice(1);\n  this.trim = !!match[9];\n  this.type = match[10] || \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width == null ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision == null ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (i0 > 0) { if (!+s[i]) break out; i0 = 0; } break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatPrefixAuto from \"./formatPrefixAuto\";\nimport formatRounded from \"./formatRounded\";\n\nexport default {\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent\";\nimport formatGroup from \"./formatGroup\";\nimport formatNumerals from \"./formatNumerals\";\nimport formatSpecifier from \"./formatSpecifier\";\nimport formatTrim from \"./formatTrim\";\nimport formatTypes from \"./formatTypes\";\nimport {prefixExponent} from \"./formatPrefixAuto\";\nimport identity from \"./identity\";\n\nvar prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping && locale.thousands ? formatGroup(locale.grouping, locale.thousands) : identity,\n      currency = locale.currency,\n      decimal = locale.decimal,\n      numerals = locale.numerals ? formatNumerals(locale.numerals) : identity,\n      percent = locale.percent || \"%\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision == null && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currency[0] : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currency[1] : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision == null ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Perform the initial formatting.\n        var valueNegative = value < 0;\n        value = formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero during formatting, treat as positive.\n        if (valueNegative && +value === 0) valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : \"-\") : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import exponent from \"./exponent\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy, identity} from \"./continuous\";\nimport {initRange} from \"./init\";\nimport tickFormat from \"./tickFormat\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous(identity, identity);\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import {bisect} from \"d3-array\";\nimport {slice} from \"./array\";\nimport {initRange} from \"./init\";\n\nexport default function threshold() {\n  var domain = [0.5],\n      range = [0, 1],\n      unknown,\n      n = 1;\n\n  function scale(x) {\n    return x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return threshold()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import { notNumber } from '../../utils/is-number';\n\nfunction applyFormat(formatter) {\n  return typeof formatter === 'undefined' ? (t) => t : (t) => formatter(t);\n}\n\nfunction clamp(val) {\n  return Math.max(0, Math.min(1, val));\n}\n\nfunction isObject(obj) {\n  return typeof obj === 'object';\n}\n\nfunction minorTicksGenerator(count, start, end) {\n  const r = Math.abs(start - end);\n  const interval = r / (count + 1);\n  const ticks = [];\n  for (let i = 1; i <= count; i++) {\n    const v = i * interval;\n    ticks.push(start < end ? start + v : start - v);\n  }\n  return ticks;\n}\n\nfunction appendMinorTicks(majorTicks, minorCount, scale) {\n  if (majorTicks.length === 1) { return majorTicks; }\n\n  const ticks = majorTicks.concat([]);\n\n  for (let i = 0; i < majorTicks.length; i++) {\n    let start = majorTicks[i];\n    let end = majorTicks[i + 1];\n\n    if (i === 0 && start !== scale.start()) { // Before and after first major tick\n      ticks.push(...minorTicksGenerator(minorCount, start, end));\n      start -= end - start;\n      end = majorTicks[i];\n      ticks.push(...minorTicksGenerator(minorCount, start, end));\n    } else if (i === majorTicks.length - 1 && end !== scale.end()) { // After last major tick\n      end = start + (start - majorTicks[i - 1]);\n      ticks.push(...minorTicksGenerator(minorCount, start, end));\n    } else {\n      ticks.push(...minorTicksGenerator(minorCount, start, end));\n    }\n  }\n\n  return ticks.filter((t) => t >= scale.min() && t <= scale.max());\n}\n\n/**\n* Generate ticks based on a distance, for each 100th unit, one additional tick may be added\n* @private\n* @param  {Number} distance       Distance between each tick\n* @param  {Number} scale         The scale instance\n* @param  {Number} [minorCount=0]     Number of tick added between each distance\n* @param  {Number} [unitDivider=100]   Number to divide distance with\n* @return {Array}               Array of ticks\n*/\nexport function looseDistanceBasedGenerator({\n  distance, scale, minorCount = 0, unitDivider = 100, formatter = undefined\n}) {\n  const step = !notNumber(unitDivider) && !notNumber(distance) ? Math.max(distance / unitDivider, 2) : 2;\n  const count = Math.min(1000, Math.round(step)); // safe guard against huge numbers\n  let majorTicks = scale.ticks(count);\n  if (majorTicks.length <= 1) {\n    majorTicks = scale.ticks(count + 1);\n  }\n\n  const ticks = minorCount > 0 ? appendMinorTicks(majorTicks, minorCount, scale) : majorTicks;\n  ticks.sort((a, b) => a - b);\n\n  const ticksFormatted = ticks.map(applyFormat(formatter));\n\n  return ticks.map((tick, i) => {\n    const position = scale(tick);\n    return {\n      position,\n      start: position,\n      end: position,\n      label: ticksFormatted[i],\n      value: tick,\n      isMinor: majorTicks.indexOf(tick) === -1\n    };\n  });\n}\n\n/**\n* Generate ticks based on a distance, for each 100th unit, one additional tick may be added.\n* Will attempt to round the bounds of domain to even values and generate ticks hitting the domain bounds.\n* @private\n* @param  {Number} distance       Distance between each tick\n* @param  {Number} scale         The scale instance\n* @param  {Number} [minorCount=0]     Number of tick added between each distance\n* @param  {Number} [unitDivider=100]   Number to divide distance with\n* @return {Array}               Array of ticks\n*/\nexport function tightDistanceBasedGenerator({\n  distance, scale, minorCount = 0, unitDivider = 100, formatter = undefined\n}) {\n  const step = !notNumber(unitDivider) && !notNumber(distance) ? Math.max(distance / unitDivider, 2) : 2;\n  const count = Math.min(1000, Math.round(step)); // safe guard against huge numbers\n  const n = count > 10 ? 10 : count;\n  scale.nice(n);\n\n  const majorTicks = scale.ticks(count);\n  const ticks = minorCount > 0 ? appendMinorTicks(majorTicks, minorCount, scale) : majorTicks;\n  ticks.sort((a, b) => a - b);\n\n  const ticksFormatted = ticks.map(applyFormat(formatter));\n\n  return ticks.map((tick, i) => {\n    const position = scale(tick);\n    return {\n      position,\n      start: position,\n      end: position,\n      label: ticksFormatted[i],\n      value: tick,\n      isMinor: majorTicks.indexOf(tick) === -1\n    };\n  });\n}\n\nfunction ticksByCount({\n  count, minorCount, scale, formatter\n}) {\n  return scale\n    .ticks(((count - 1) * minorCount) + count)\n    .map((tick, i) => {\n      const position = scale(tick);\n      return {\n        position,\n        start: position,\n        end: position,\n        label: formatter(tick),\n        isMinor: i % (minorCount + 1) !== 0,\n        value: tick\n      };\n    });\n}\n\nfunction ticksByValue({ values, scale, formatter = (v) => v }) {\n  return values\n    .sort((a, b) => (isObject(a) ? a.value : a) - (isObject(b) ? b.value : b))\n    .filter((v, i, ary) => {\n      const val = isObject(v) ? v.value : v;\n      return val <= scale.max() && val >= scale.min() && ary.indexOf(v) === i;\n    })\n    .map((v) => {\n      const isObj = isObject(v);\n      const value = isObj ? v.value : v;\n      const position = scale(value);\n      return {\n        position,\n        value,\n        label: isObj && typeof v.label !== 'undefined' ? v.label : formatter(value),\n        isMinor: isObj ? !!v.isMinor : false,\n        start: isObj && !isNaN(v.start) ? clamp(scale(v.start)) : position, // TODOHandle end < start?\n        end: isObj && !isNaN(v.end) ? clamp(scale(v.end)) : position // TODO Handle start > end?\n      };\n    });\n}\n\nfunction forceTicksAtBounds(ticks, scale, formatter) {\n  const ticksP = ticks.map((t) => t.position);\n  const range = scale.range();\n\n  if (ticksP.indexOf(range[0]) === -1) {\n    ticks.splice(0, 0, {\n      position: range[0],\n      start: range[0],\n      end: range[0],\n      label: formatter(scale.start()),\n      isMinor: false,\n      value: scale.start()\n    });\n  } else if (ticks[0] && ticks[0].isMinor) {\n    ticks[0].isMinor = false; // Convert to major tick\n  }\n\n  const lastTick = ticks[ticks.length - 1];\n  if (ticksP.indexOf(range[1]) === -1) {\n    ticks.push({\n      position: range[1],\n      start: range[1],\n      end: range[1],\n      label: formatter(scale.end()),\n      isMinor: false,\n      value: scale.end()\n    });\n  } else if (lastTick && lastTick.isMinor) {\n    lastTick.isMinor = false; // Convert to major tick\n  }\n}\n\nexport function generateContinuousTicks({\n  settings,\n  scale,\n  distance,\n  formatter = (val) => val\n}) {\n  let ticks;\n  const minorCount = settings.minorTicks && !notNumber(settings.minorTicks.count) ? Math.min(100, settings.minorTicks.count) : 0;\n\n  if (Array.isArray(settings.ticks.values)) {\n    const values = settings.ticks.values.filter((v) => (typeof v === 'object' ? !notNumber(v.value) : !notNumber(v)));\n    ticks = ticksByValue({ values, scale: scale.copy(), formatter });\n  } else if (!notNumber(settings.ticks.count)) {\n    const count = Math.min(1000, settings.ticks.count);\n    ticks = ticksByCount({\n      count, minorCount, scale: scale.copy(), formatter\n    });\n  } else {\n    const tickGen = settings.ticks.tight ? tightDistanceBasedGenerator : looseDistanceBasedGenerator;\n    ticks = tickGen({\n      distance,\n      minorCount,\n      unitDivider: settings.ticks.distance,\n      scale,\n      formatter\n    });\n\n    if (settings.ticks.forceBounds) {\n      forceTicksAtBounds(ticks, scale, formatter);\n    }\n  }\n\n  return ticks;\n}\n\nexport function generateDiscreteTicks({ scale }) {\n  const domain = scale.domain();\n  const values = domain;\n  const dataItems = scale.data().items;\n  const labels = scale.labels ? scale.labels() : values;\n  const bandwidth = scale.bandwidth();\n\n  return values.map((d, i) => {\n    const start = scale(d);\n    return {\n      position: start + (bandwidth / 2),\n      label: `${labels[i]}`,\n      data: dataItems ? dataItems[i] : undefined,\n      start,\n      end: start + bandwidth\n    };\n  });\n}\n","export default function resolveSettings(settings = {}, defaultSettings = {}, context = {}) {\n  const stngs = {};\n\n  Object.keys(defaultSettings).forEach((key) => {\n    const type = typeof settings[key];\n\n    if (type === 'function') {\n      stngs[key] = settings[key](context);\n    } else if (type === 'undefined') {\n      stngs[key] = defaultSettings[key];\n    } else {\n      stngs[key] = settings[key];\n    }\n  });\n\n  return stngs;\n}\n","import { scaleLinear as d3ScaleLinear } from 'd3-scale';\nimport extend from 'extend';\n\nimport { notNumber } from '../utils/is-number';\nimport { generateContinuousTicks } from './ticks/tick-generators';\nimport resolveSettings from './settings-resolver';\n\nexport const DEFAULT_SETTINGS = {\n  min: NaN,\n  max: NaN,\n  expand: NaN,\n  include: [],\n  invert: false\n};\n\nexport const DEFAULT_TICKS_SETTINGS = {\n  tight: false,\n  forceBounds: false,\n  values: undefined,\n  count: NaN,\n  distance: 100\n};\n\nexport const DEFAULT_MINORTICKS_SETTINGS = {\n  count: NaN\n};\n\n/**\n * @typedef {object} scale--linear\n * @property {string} [type='linear']\n * @property {number} [expand] - Expand the output range\n * @property {boolean} [invert=false] - Invert the output range\n * @property {number[]} [include] - Include specified numbers in the output range\n * @property {object} [ticks]\n * @property {boolean} [ticks.tight = false]\n * @property {boolean} [ticks.forceBounds = false]\n * @property {number} [ticks.distance = 100]  - Approximate distance between each tick\n * @property {number[]|object[]} [ticks.values] - If set, ticks are no longer generated but instead equal to this set\n * @property {number} [ticks.count]\n * @property {object} [minorTicks]\n * @property {number} [minorTicks.count = 3]\n * @property {number} [min] - Set an explicit minimum value\n * @property {number} [max] - Set an explicit maximum value\n */\n\nfunction getMinMax(settings, fields) {\n  const min = +settings.min;\n  const max = +settings.max;\n  let fieldMin = 0;\n  let fieldMax = 1;\n  if (fields && fields[0]) {\n    const minValues = fields.map((m) => m.min()).filter((v) => !isNaN(v));\n    const maxValues = fields.map((m) => m.max()).filter((v) => !isNaN(v));\n    fieldMin = minValues.length ? Math.min(...minValues) : Number.NaN;\n    fieldMax = maxValues.length ? Math.max(...maxValues) : Number.NaN;\n\n    if (isNaN(fieldMin) || isNaN(fieldMax)) {\n      fieldMin = -1;\n      fieldMax = 1;\n    } else if (fieldMin === fieldMax && fieldMin === 0) {\n      fieldMin = -1;\n      fieldMax = 1;\n    } else if (fieldMin === fieldMax && fieldMin) {\n      fieldMin -= Math.abs(fieldMin * 0.1);\n      fieldMax += Math.abs(fieldMax * 0.1);\n    } else if (!isNaN(settings.expand)) {\n      const range = fieldMax - fieldMin;\n      fieldMin -= range * settings.expand;\n      fieldMax += range * settings.expand;\n    }\n\n    if (Array.isArray(settings.include)) {\n      const i = settings.include.filter((n) => !isNaN(n));\n      fieldMin = Math.min(...i, fieldMin);\n      fieldMax = Math.max(...i, fieldMax);\n    }\n  }\n\n  return {\n    mini: !isNaN(min) ? min : fieldMin,\n    maxi: !isNaN(max) ? max : fieldMax\n  };\n}\n\nfunction initNormScale(normScale, scale) {\n  if (normScale.instance) {\n    return;\n  }\n  normScale.instance = scale.copy();\n  normScale.instance.domain([scale.start(), scale.end()]);\n  normScale.instance.clamp(true);\n  normScale.instance.range(normScale.invert ? [1, 0] : [0, 1]);\n}\n/**\n * @alias scaleLinear\n * @private\n * @param { object } settings\n * @param { field[] } [fields]\n * @return { linear }\n */\n\nexport default function scaleLinear(settings = {}, data = {}, resources = {}) {\n  const d3Scale = d3ScaleLinear();\n  const normScale = { instance: null, invert: false };\n  const ctx = { data, resources };\n  const stgns = resolveSettings(settings, DEFAULT_SETTINGS, ctx);\n  stgns.ticks = resolveSettings(settings.ticks, DEFAULT_TICKS_SETTINGS, ctx);\n  stgns.minorTicks = resolveSettings(settings.minorTicks, DEFAULT_MINORTICKS_SETTINGS, ctx);\n  let tickCache;\n\n  /**\n   * @alias linear\n   * @private\n   * @param { Object } value\n   * @return { number }\n   */\n  function fn(v) {\n    if (notNumber(v)) {\n      return NaN;\n    }\n    return d3Scale(v);\n  }\n\n  fn.data = () => data;\n\n  /**\n   * {@link https://github.com/d3/d3-scale#continuous_invert }\n   * @param { number } value The inverted value\n   * @return { number } The inverted scaled value\n   */\n  fn.invert = function invert(value) {\n    return d3Scale.invert(value);\n  };\n\n  /**\n   * {@link https://github.com/d3/d3-scale#continuous_rangeRound }\n   * @param { number[] } values Range values\n   * @return { linear } The instance this method was called on\n   */\n  fn.rangeRound = function rangeRound(values) {\n    d3Scale.rangeRound(values);\n    return fn;\n  };\n\n  /**\n   * {@link https://github.com/d3/d3-scale#continuous_clamp }\n   * @param { boolean } [ value=true ] TRUE if clamping should be enabled\n   * @return { linear } The instance this method was called on\n   */\n  fn.clamp = function clamp(value = true) {\n    d3Scale.clamp(value);\n    return fn;\n  };\n\n  /**\n   * Get cached ticks (if any)\n   * @return { number | undefined }\n   */\n  fn.cachedTicks = function fnCachedTicks() {\n    return tickCache;\n  };\n\n  /**\n   * Clear the tick cache\n   * @return {number | undefined}\n   */\n  fn.clearTicksCache = function fnClearTicks() {\n    tickCache = undefined;\n    return this;\n  };\n\n  /**\n   * {@link https://github.com/d3/d3-scale#continuous_ticks }\n   * @param { Object } input Number of ticks to generate or an object passed to tick generator\n   * @return { number[] | Object } Array of ticks or any type the custom tick generator returns\n   */\n  fn.ticks = function ticks(input) {\n    if (input !== null && typeof input === 'object') {\n      input.settings = input.settings || {};\n      // TODO Discontinue support for custom ticks settings as argument\n      input.settings = extend(true, {}, stgns, input.settings);\n      input.scale = fn;\n      tickCache = generateContinuousTicks(input);\n      return tickCache;\n    }\n\n    tickCache = d3Scale.ticks(input);\n    return tickCache;\n  };\n\n  /**\n   * {@link https://github.com/d3/d3-scale#continuous_nice }\n   * @param { number } count\n   * @return { linear } The instance this method was called on\n   */\n  fn.nice = function nice(count) {\n    d3Scale.nice(count);\n\n    return fn;\n  };\n\n  // TODO Support this?\n  fn.tickFormat = function tickFormat(count, format) {\n    return d3Scale.tickFormat(count, format);\n  };\n\n  // TODO Support this?\n  fn.interpolate = function interpolate(func) {\n    d3Scale.interpolate(func);\n    return fn;\n  };\n\n  /**\n   * @param { number[] } [values] Set or Get domain values\n   * @return { linear | Number[] } The instance this method was called on if a parameter is provided, otherwise the current domain is returned\n   */\n  fn.domain = function domain(values) {\n    if (arguments.length) {\n      d3Scale.domain(values);\n      if (normScale.instance) {\n        normScale.instance.domain([fn.start(), fn.end()]);\n      }\n      return fn;\n    }\n    return d3Scale.domain();\n  };\n\n  /**\n   * @param { number[] } [values] Set or Get range values\n   * @return { linear | number[] } The instance this method was called on if a parameter is provided, otherwise the current range is returned\n   */\n  fn.range = function range(values) {\n    if (arguments.length) {\n      d3Scale.range(values);\n\n      return fn;\n    }\n    return d3Scale.range();\n  };\n\n  /**\n   * Get the first value of the domain\n   * @return { number }\n   */\n  fn.start = function start() {\n    return fn.domain()[0];\n  };\n\n  /**\n   * Get the last value of the domain\n   * @return { number }\n   */\n  fn.end = function end() {\n    return fn.domain()[this.domain().length - 1];\n  };\n\n  /**\n   * Get the minimum value of the domain\n   * @return { number }\n   */\n  fn.min = function min() {\n    return Math.min(this.start(), this.end());\n  };\n\n  /**\n   * Get the maximum value of the domain\n   * @return { number }\n   */\n  fn.max = function max() {\n    return Math.max(this.start(), this.end());\n  };\n\n  /**\n   * Divides the domain and range into uniform segments, based on start and end value\n   * @param  { number } segments The number of segments\n   * @return { function } The instance this method was called on\n   * @example\n   * let s = linear();\n   * s.domain([0, 10]);\n   * s.range([0, 1]);\n   * s.classify( 2 );\n   * s.domain(); // [10, 5, 5, 0]\n   * s.range(); // [0.75, 0.75, 0.25, 0.25]\n   */\n  fn.classify = function classify(segments) {\n    let valueRange = (fn.start() - fn.end()) / segments,\n      domain = [fn.end()],\n      range = [],\n      samplePos = valueRange / 2;\n\n    for (let i = 0; i < segments; i++) {\n      let lastVal = domain[domain.length - 1] || 0,\n        calIntervalPos = lastVal + valueRange,\n        calSamplePos = lastVal + samplePos,\n        sampleColValue = fn(calSamplePos);\n\n      domain.push(...[calIntervalPos, calIntervalPos]);\n      range.push(...[sampleColValue, sampleColValue]);\n    }\n    domain.pop();\n    fn.domain(domain);\n    fn.range(range);\n\n    return fn;\n  };\n\n  fn.copy = function copy() {\n    const cop = scaleLinear(settings, data, resources);\n    cop.domain(fn.domain());\n    cop.range(fn.range());\n    cop.clamp(d3Scale.clamp());\n    return cop;\n  };\n\n  /**\n   * @param {number} d - A domain value\n   * @return {number} A normalized range output given in range 0-1\n   * @example\n   * const scale = scaleLinear().domain([0, 10]).range([0, 10000]);\n   * scale.norm(5); // Returns 0.5\n   * scale(5); // Returns 5000\n   *\n   * scale.domain([0, 2, 10]);\n   * scale.norm(5); // Returns 0.5\n   */\n  fn.norm = function norm(d) {\n    initNormScale(normScale, fn);\n\n    return normScale.instance(d);\n  };\n\n  /**\n   * @param {number} d - A normalized value in range 0-1\n   * @return {number} A corresponding domain value\n   * @example\n   * const scale = scaleLinear().domain([0, 10]).range([0, 10000]);\n   * scale.normInvert(0.5); // Returns 5\n   * scale.invert(5000); // Returns 5\n   */\n  fn.normInvert = function norm(t) {\n    initNormScale(normScale, fn);\n\n    return normScale.instance.invert(t);\n  };\n\n  const { mini, maxi } = getMinMax(stgns, data ? data.fields : []);\n\n  fn.domain([mini, maxi]);\n  fn.range(stgns.invert ? [1, 0] : [0, 1]);\n  normScale.invert = stgns.invert;\n\n  return fn;\n}\n","import extend from 'extend';\nimport { scaleBand as d3ScaleBand } from 'd3-scale';\nimport { generateDiscreteTicks } from './ticks/tick-generators';\nimport resolveSettings from './settings-resolver';\n\nexport const DEFAULT_SETTINGS = {\n  padding: 0,\n  paddingInner: NaN,\n  paddingOuter: NaN,\n  align: 0.5,\n  invert: false,\n  maxPxStep: NaN,\n  range: [0, 1]\n};\n\n/**\n * @typedef {object} scale--band\n * @property {string} [type='band']\n * @property {number} [padding] - {@link https://github.com/d3/d3-scale#band_padding}\n * @property {number} [paddingInner] - {@link https://github.com/d3/d3-scale#band_paddingInner}\n * @property {number} [paddingOuter] - {@link https://github.com/d3/d3-scale#band_paddingOuter}\n * @property {number} [align] - {@link https://github.com/d3/d3-scale#band_align}\n * @property {boolean} [invert=false] - Invert the output range\n * @property {number} [maxPxStep] - Explicitly limit the bandwidth to a pixel value\n * @property {function} [label] - Callback label function, applied on each datum\n * @property {function} [value] - Callback value function, applied on each datum\n * @property {array<number>|function} [range=[0, 1]] - Set range explicitly (ignored when maxPxStep takes effect)\n */\n\n/**\n * @alias scaleBand\n * @memberof picasso\n * @private\n * @param { Object } settings\n * @param { fields[] } [fields]\n * @param { dataset } [dataset]\n * @return { band }\n */\n\nexport default function scaleBand(settings = {}, data = {}, resources = {}) {\n  /**\n   * An augmented {@link https://github.com/d3/d3-scale#_band|d3 band scale}\n   * @alias band\n   * @private\n   * @kind function\n   * @param { Object } value\n   * @return { number }\n   */\n  const band = d3ScaleBand();\n  const ctx = { data, resources };\n  const stgns = resolveSettings(settings, DEFAULT_SETTINGS, ctx);\n  const items = data.items || [];\n  const domainToDataMapping = {};\n  const values = [];\n  const labels = [];\n\n  // I would like to define this outside of scaleBand but it cause the documentation to be in the wrong order\n  function augmentScaleBand(band, settings) { // eslint-disable-line no-shadow\n    band.data = () => data;\n\n    band.datum = (domainValue) => items[domainToDataMapping[domainValue]];\n\n    /**\n     * Get the first value of the domain\n     * @return { number }\n     */\n    band.start = function start() {\n      return band.domain()[0];\n    };\n\n    /**\n     * Get the last value of the domain\n     * @return { number }\n     */\n    band.end = function end() {\n      return band.domain()[band.domain().length - 1];\n    };\n\n    band.labels = () => labels;\n\n    /**\n     * Generate discrete ticks\n     * @return {Object[]} Array of ticks\n     */\n    band.ticks = function ticks(input = {}) {\n      input.scale = band;\n      return generateDiscreteTicks(input, settings.trackBy || 'label');\n    };\n  }\n  augmentScaleBand(band, settings);\n\n  /**\n   * if required creates a new scale with a restricted range\n   * so that step size is at most maxPxStep\n   * otherwise it returns itself\n   * @param { number } size\n   * @return { band }\n   */\n  band.pxScale = function pxScale(size) {\n    const max = stgns.maxPxStep;\n    if (isNaN(max)) {\n      return band;\n    }\n    const n = band.domain().length;\n    const sizeRelativeToStep = Math.max(1, (n - band.paddingInner()) + (2 * band.paddingOuter()));\n\n    if (sizeRelativeToStep * max >= size) {\n      return band;\n    }\n\n    const newBand = band.copy();\n    newBand.type = band.type;\n    augmentScaleBand(newBand, settings);\n    const t = (sizeRelativeToStep * max) / size;\n    const offset = (1 - t) * band.align();\n    newBand.range(stgns.invert ? [t + offset, offset] : [offset, t + offset]);\n\n    return newBand;\n  };\n\n  const valueFn = typeof settings.value === 'function' ? settings.value : (d) => d.datum.value;\n  const labelFn = typeof settings.label === 'function' ? settings.label : (d) => d.datum.label;\n\n  for (let i = 0; i < items.length; i++) {\n    const arg = extend({ datum: items[i] }, ctx);\n    const v = valueFn(arg, i);\n    if (values.indexOf(v) === -1) {\n      values.push(v);\n      labels.push(labelFn(arg, i));\n      domainToDataMapping[v] = i;\n    }\n  }\n\n  band.domain(values);\n  band.range(stgns.invert ? stgns.range.slice().reverse() : stgns.range);\n  band.padding(isNaN(stgns.padding) ? 0 : stgns.padding);\n  if (!isNaN(stgns.paddingInner)) { band.paddingInner(stgns.paddingInner); }\n  if (!isNaN(stgns.paddingOuter)) { band.paddingOuter(stgns.paddingOuter); }\n  band.align(isNaN(stgns.align) ? 0.5 : stgns.align);\n\n  return band;\n}\n","import extend from 'extend';\nimport bandScale, { DEFAULT_SETTINGS } from './band';\nimport resolveSettings from './settings-resolver';\n\nconst DEFAULT_TICKS_SETTINGS = {\n  depth: 0\n};\n\nfunction keyGen(node, valueFn, ctx) {\n  return node.ancestors()\n    .map((a) => valueFn(extend({ datum: a.data }, ctx)))\n    .reverse()\n    .slice(1) // Delete root node\n    .toString();\n}\n\nfunction flattenTree(rootNode, settings, ctx) {\n  const ticksDepth = settings.ticks.depth;\n  const valueFn = settings.value;\n  const labelFn = settings.label;\n  const values = [];\n  const labels = [];\n  const items = {};\n  const ticks = [];\n  let expando = 0;\n  if (!rootNode) {\n    return {\n      values, labels, items, ticks\n    };\n  }\n\n  rootNode.eachAfter((node) => {\n    if (node.depth > 0) {\n      const key = keyGen(node, valueFn, ctx);\n      const leaves = node.leaves() || [node]; // If leaf node returns itself\n      const value = valueFn(extend({ datum: node.data }, ctx));\n      const label = labelFn(extend({ datum: node.data }, ctx));\n      const isBranch = Array.isArray(node.children);\n\n      const item = {\n        key,\n        count: leaves.length,\n        value,\n        label,\n        leftEdge: keyGen(leaves[0], valueFn, ctx),\n        rightEdge: keyGen(leaves[Math.max(leaves.length - 1, 0)], valueFn, ctx),\n        node\n        // isTick: ticksDepth === null ? !isBranch : node.depth === ticksDepth\n      };\n\n      if (isBranch) {\n        values.push(`SPACER_${expando}_SPACER`);\n        expando++;\n      } else {\n        values.push(key);\n        labels.push(label);\n      }\n\n      if ((ticksDepth <= 0 && !isBranch) || node.depth === ticksDepth) {\n        ticks.push(item);\n      }\n\n      items[key] = item;\n    }\n  });\n\n  const spill = rootNode.height - 1;\n  if (spill > 0) {\n    values.splice(-spill);\n  }\n\n  return {\n    values, labels, items, ticks\n  };\n}\n\n/**\n * @typedef {object} scale-hBand.settings\n * @private\n * @property {number} [padding=0] - Exposes {@link https://github.com/d3/d3-scale#band_padding}\n * @property {boolean} [paddingOuter=0] - Exposes {@link https://github.com/d3/d3-scale#band_paddingOuter}\n * @property {number[]} [paddingInner=0] - Exposes {@link https://github.com/d3/d3-scale#band_paddingInner}\n * @property {object} [align=0.5] - Exposes {@link https://github.com/d3/d3-scale#band_align}\n * @property {boolean} [invert=false] - Invert the output range\n */\n\n/**\n  * Hierarchical band scale, that is an augmented band scale, that takes hierarchical data as input\n * @alias scaleHierarchicalBand\n * @private\n * @param { Object } settings\n * @param { fields[] } [fields]\n * @param { dataset } [dataset] - With a root property that is an instance of D3.js Hierarchy\n * @return { h-band }\n */\n\nexport default function scaleHierarchicalBand(settings = {}, data = {}, resources = {}) {\n  const ctx = { data, resources };\n  const stgns = resolveSettings(settings, DEFAULT_SETTINGS, ctx);\n  stgns.ticks = resolveSettings(settings.ticks, DEFAULT_TICKS_SETTINGS, ctx);\n  stgns.value = typeof settings.value === 'function' ? settings.value : (d) => d.datum.value;\n  stgns.label = typeof settings.label === 'function' ? settings.label : (d) => d.datum.value;\n\n  let bandInstance = bandScale(stgns);\n\n  const {\n    values, labels, items, ticks\n  } = flattenTree(data.root, stgns, ctx);\n\n  /**\n   * @alias h-band\n   * @private\n   * @kind function\n   * @param { Object[] } value - Array where each value is a reference to a node, going from depth 1 to n.\n   * @return { number }\n   */\n  const hBand = function fn(val) {\n    const strVal = String(val);\n    const item = items[strVal];\n    if (item) {\n      return bandInstance(stgns.invert ? item.rightEdge : item.leftEdge);\n    }\n\n    return bandInstance(strVal);\n  };\n\n  extend(true, hBand, bandInstance);\n\n  /**\n   * Wrapped {@link https://github.com/d3/d3-scale#band_bandwidth}\n   * @param { Object[] } [val] - Array where each value is a reference to a node, going from depth 1 to n. If omitted, bandwidth for the leaf nodes is return.\n   * @return { number }\n   */\n\n  hBand.bandwidth = function bandwidth(val) {\n    const item = items[String(val)];\n    const bw = bandInstance.bandwidth();\n    if (item && !item.isLeaf) {\n      const left = hBand(item.leftEdge);\n      const right = hBand(item.rightEdge);\n      return Math.abs(left - right) + bw;\n    }\n    return bw;\n  };\n\n  /**\n   * Wrapped {@link https://github.com/d3/d3-scale#band_step}\n   * @param { Object[] } [val] - Array where each value is a reference to a node, going from depth 1 to n. If omitted, step size for the leaf nodes is return.\n   * @return { number }\n   */\n  hBand.step = function step(val) {\n    const item = items[String(val)];\n    const leafCount = item ? item.count : 1;\n    let stepSize = bandInstance.step();\n    stepSize *= leafCount;\n    return stepSize;\n  };\n\n  /**\n   * @return { dataset }\n   */\n  hBand.data = () => data;\n\n  /**\n   * Return datum for a given node\n   * @param { Object[] } val - Array where each value is a reference to a node, going from depth 1 to n.\n   * @return { Object } The datum\n   */\n  hBand.datum = (val) => {\n    const item = items[String(val)];\n    if (item) {\n      return item.node.data;\n    }\n    return null;\n  };\n\n  hBand.copy = () => scaleHierarchicalBand(settings, data, resources);\n\n  /**\n   * @return { Object[] } Labels for each leaf node\n   */\n  hBand.labels = () => labels;\n\n  /**\n   * Generate discrete ticks\n   * @return { Object[] } Ticks for each leaf node\n   */\n  hBand.ticks = () => { // eslint-disable-line arrow-body-style\n    return ticks.map((item) => {\n      const start = hBand(item.key);\n      const bandwidth = hBand.bandwidth(item.key);\n      return {\n        position: start + (bandwidth / 2),\n        label: item.label,\n        data: item.node.data,\n        start,\n        end: start + bandwidth\n      };\n    });\n  };\n\n  const orgPxScale = bandInstance.pxScale;\n  hBand.pxScale = function pxScale(size) {\n    bandInstance = orgPxScale(size);\n    return hBand;\n  };\n\n  hBand.domain(values);\n\n  return hBand;\n}\n","import { isNumber as numericFilter } from './is-number';\n\nconst minAccessor = (v) => v.min();\nconst maxAccessor = (v) => v.max();\n\n/**\n * Calculate the min/max value based on various inputs.\n *\n * Provided min/max setting takes presedence over all other inputs. If not provided, the respective values are calculated\n * from the given arr input, where each item in the array is expected to have a min/max accessor.\n *\n * @private\n * @param {object} [settings]\n * @param {number} [settings.min] The minimum value. Defaults to 0 if not provided.\n * @param {number} [settings.max] The maximum value. Defaults to 1 if not provided.\n * @param {object} [arr]\n * @returns { object[] } An array containing the min and max values.\n *\n * @example\n * minmax(); // [0, 1]\n *\n * minmax({}, [\n * { min: () => 13, max: () => 15 },\n * { min: () => NaN, max: () => 17 },\n * ]); // [13, 17]\n *\n * minmax({ min: -5, max: 4 }, [\n * { min: () => -20, max: () => 15 },\n * ]); // [-5, 4]\n */\nexport default function minmax(settings, arr) {\n  // const definedMin = settings && typeof settings.min !== 'undefined';\n  // const definedMax = settings && typeof settings.max !== 'undefined';\n  const definedMin = settings && !isNaN(settings.min);\n  const definedMax = settings && !isNaN(settings.max);\n\n  let min = definedMin ? +settings.min : 0;\n  let max = definedMax ? +settings.max : 1;\n\n  if (arr && arr.length) {\n    if (!definedMin) {\n      const arrMin = arr.map(minAccessor).filter(numericFilter);\n      min = arrMin.length ? Math.min(...arrMin) : min;\n    }\n\n    if (!definedMax) {\n      const arrMax = arr.map(maxAccessor).filter(numericFilter);\n      max = arrMax.length ? Math.max(...arrMax) : max;\n    }\n  }\n\n  return [min, max];\n}\n","import { interpolateRgb } from 'd3-interpolate';\nimport extend from 'extend';\nimport minmax from '../../utils/min-max';\nimport linear from '../linear';\nimport resolveSettings from '../settings-resolver';\n\nconst DEFAULT_SETTINGS = {\n  domain: [],\n  range: [],\n  invert: false,\n  min: NaN,\n  max: NaN\n};\n\nfunction generateDomain(range, min, max) {\n  const len = range.length;\n  if (len === 2) {\n    return [min, max];\n  }\n  const domain = [];\n  const part = (max - min) / (len - 1);\n\n  domain.push(min);\n  for (let i = 1; i < len - 1; i++) {\n    domain.push(min + (part * i));\n  }\n  domain.push(max);\n\n  return domain;\n}\n\n/**\n * @typedef {object} scale--sequential-color\n * @property {string} [type='sequential-color']\n * @property {string[]} [range] - CSS color values of the output range\n * @property {boolean} [invert=false] - Invert range\n * @property {number} [min] - Set an explicit minimum value\n * @property {number} [max] - Set an explicit maximum value\n */\n\n/**\n * @alias scaleSequentialColor\n * @private\n * @param { Object } [settings] Settings for this scale. If both range and domain are specified, they have to fulfill range.length === domain.length, otherwise they will be overriden.\n * @param { number[] } [settings.domain] Numeric values indicating stop limits between start and end values.\n * @param { color[] } [settings.range] CSS color values indicating stop colors between start and end values.\n * @param { field[] } [fields] Fields to dynamically calculate the domain extent.\n * @return { sequentialColor }\n *\n * @example\n * picasso.scaleSequentialColor({\n *  range: ['red', '#fc6', 'green'],\n *  domain: [-40, 0, 100]\n * });\n */\n\nexport default function scaleSequentialColor(settings = {}, data = {}, resources = {}) {\n  const s = linear(settings, data, resources).clamp(true).interpolate(interpolateRgb);\n  const stgns = resolveSettings(settings, DEFAULT_SETTINGS, { data, resources });\n  const isDomain = Array.isArray(stgns.domain) && stgns.domain.length;\n  const isRange = Array.isArray(stgns.range) && stgns.range.length;\n\n  /**\n   * @alias sequentialColor\n   * @private\n   * @kind function\n   * @param { Object } v Object containing a 'value' property\n   * @return { string } The blended color\n   */\n  const fn = s;\n\n  extend(true, fn, s);\n  const [min, max] = minmax(stgns, data ? data.fields : []);\n  const num = isDomain ? stgns.domain.length : -1;\n  const DEFAULT_COLORS = resources.theme ? resources.theme.palette('sequential', num > 0 ? num : 2) : [];\n\n  const range = isRange ? stgns.range : DEFAULT_COLORS;\n  fn.range(stgns.invert ? range.slice().reverse() : range.slice());\n  fn.domain(isDomain ? stgns.domain : generateDomain(fn.range(), min, max));\n\n  return fn;\n}\n","import { scaleThreshold, scaleLinear } from 'd3-scale';\nimport { notNumber } from '../../utils/is-number';\nimport minmax from '../../utils/min-max';\nimport sequential from './sequential';\nimport resolveSettings from '../settings-resolver';\n\n// const DEFAULT_COLORS = ['rgb(180,221,212)', 'rgb(34, 83, 90)'];\n\nconst DEFAULT_SETTINGS = {\n  domain: [],\n  range: [],\n  invert: false,\n  min: NaN,\n  max: NaN,\n  nice: false\n};\n\nfunction generateDomain(range, min, max) {\n  const len = range.length;\n  if (len === 2) {\n    return [min + ((max - min) / 2)];\n  }\n  const domain = [];\n  const part = (max - min) / len;\n\n  for (let i = 1; i < len; i++) {\n    domain.push(min + (part * i));\n  }\n  return domain;\n}\n\nfunction getBreaks(domain) {\n  const ret = [];\n  for (let i = 0; i < domain.length - 1; i++) {\n    ret.push((domain[i] + domain[i + 1]) / 2);\n  }\n  return ret;\n}\n\nfunction generateRange(domain, colors, min, max) {\n  min = domain[0];\n  max = domain && domain.length >= 2 ? domain[domain.length - 1] : max;\n  const seq = sequential().domain([min, max]).range(colors);\n  const values = [min, ...getBreaks(domain), max];\n  return values.map((v) => seq(v));\n}\n\nfunction generateNiceDomain(range, min, max) {\n  const numPoints = range.length === 2 ? 10 : Math.max(1, range.length);\n  const lin = scaleLinear().domain([min, max]).nice(numPoints);\n  const domain = lin.ticks(numPoints);\n\n  if (!range || !range.length) {\n    return domain;\n  }\n\n  // remove values from endpoints\n  const num = Math.max(0, range.length - 1);\n  while (domain.length > num) {\n    if (domain[0] - min <= max - domain[domain.length - 1]) {\n      domain.shift();\n    } else {\n      domain.pop();\n    }\n  }\n\n  return domain;\n}\n\n/**\n * @typedef {object} scale--threshold-color\n * @property {string} [type='threshold-color']\n * @property {number[]} [domain] Values defining the thresholds\n * @property {string[]} [range] - CSS color values of the output range\n * @property {boolean} [invert=false] - Invert range\n * @property {number} [min] - Set an explicit minimum value\n * @property {number} [max] - Set an explicit maximum value\n * @property {boolean} [nice=false] If set to true, will generate 'nice' domain values. Ignored if domain is set.\n */\n\n/**\n * @alias scaleThresholdColor\n * @private\n * @param { object } [settings] Settings for this scale. If both domain and range are specified, they have to fulfill domain.length === range.length + 1,  otherwise they will be overriden.\n * @param { number[] } [settings.domain] Values defining the thresholds.\n * @param { color[] } [settings.range] CSS color values of the output range.\n * @param { boolean } [settings.nice=false] If set to true, will generate 'nice' domain values. Ignored if domain is set.\n * @param { number } [settings.min] Minimum value to generate domain extent from. Ignored if domain is set.\n * @param { number } [settings.max] Maximum value to generate domain extend from. Ignored if domain is set.\n * @param { field[] } [fields] Fields to dynamically calculate the domain extent from. Ignored if min/max are set.\n * @return { thresholdColor }\n *\n * @example\n * let t = threshold({\n *   range: ['black', 'white'],\n *   domain: [25,50,75],\n *   max: 100,\n *   min: 0\n * });\n * t.domain(); // [25,50,75]\n * t.range(); // Generates from colors and domain: ['rgb(0,0,0)','rgb(85,85,85)','rgb(170,170,170)','rgb(255,255,255)']\n */\n\nexport default function scaleThresholdColor(settings = {}, data = {}, resources = {}) {\n  const d3Scale = scaleThreshold();\n  const stgns = resolveSettings(settings, DEFAULT_SETTINGS, { data, resources });\n  const isDomain = Array.isArray(stgns.domain) && stgns.domain.length;\n  const isRange = Array.isArray(stgns.range) && stgns.range.length;\n\n  /**\n   * @alias thresholdColor\n   * @private\n   * @param { object } v Object literal containing a 'value' property.\n   * @return { string } A CSS color from the scale's range.\n   */\n  function fn(v) {\n    if (notNumber(v)) {\n      return NaN;\n    }\n    return d3Scale(v);\n  }\n\n  Object.keys(d3Scale).forEach((key) => (fn[key] = d3Scale[key]));\n\n  const fields = data.fields;\n\n  const [min, max] = minmax(stgns, fields);\n  const num = isDomain ? stgns.domain.length : -1;\n  const DEFAULT_COLORS = resources.theme ? resources.theme.palette('sequential', num > 0 ? num : 2) : [];\n\n  let range = isRange ? stgns.range : DEFAULT_COLORS;\n  let domain = [];\n\n  if (isDomain) {\n    domain = stgns.domain;\n  } else if (stgns.nice) {\n    domain = generateNiceDomain(range, min, max);\n  } else {\n    domain = [min + ((max - min) / 2)];\n  }\n\n  if (range.length > domain.length + 1) {\n    // Generate limits from range\n    domain = generateDomain(range, min, max);\n  } else if (range.length < domain.length + 1) {\n    // Generate additional colors\n    range = generateRange(domain, range, min, max);\n  }\n\n  fn.data = () => data;\n\n  fn.range(stgns.invert ? range.slice().reverse() : range);\n  fn.domain(domain);\n\n  return fn;\n}\n","import { scaleOrdinal } from 'd3-scale';\nimport extend from 'extend';\nimport resolveSettings from './settings-resolver';\n\nconst DEFAULT_SETTINGS = {\n  domain: [],\n  range: []\n};\n\n/**\n * @alias scaleOrdinal\n * @private\n * @param { Object } settings\n * @param { field[] } [fields]\n * @param { dataset } data\n * @return { ordinal }\n */\nexport default function ordinal(settings = {}, data = {}, resources = {}) {\n  /**\n   * An augmented {@link https://github.com/d3/d3-scale#_ordinal|d3 ordinal scale}\n   * @private\n   * @alias ordinal\n   * @param { Object }\n   * @return { number }\n   */\n  const fn = scaleOrdinal();\n\n  const ctx = { data, resources };\n  const stgns = resolveSettings(settings, DEFAULT_SETTINGS, ctx);\n\n  const valueFn = typeof settings.value === 'function' ? settings.value : (d) => d.datum.value;\n  const labelFn = typeof settings.label === 'function' ? settings.label : (d) => d.datum.label;\n  const items = data.items || [];\n  const domainToDataMapping = {};\n  const values = [];\n  const labels = [];\n\n  for (let i = 0; i < items.length; i++) {\n    const arg = extend({ datum: items[i] }, ctx);\n    const v = valueFn(arg, i);\n    if (values.indexOf(v) === -1) {\n      values.push(v);\n      labels.push(labelFn(arg, i));\n      domainToDataMapping[v] = i;\n    }\n  }\n\n  fn.data = () => data;\n\n  fn.labels = () => labels;\n\n  fn.label = (domainValue) => labels[values.indexOf(domainValue)];\n\n  fn.datum = (domainValue) => items[domainToDataMapping[domainValue]];\n\n  fn.range(stgns.range);\n\n  if (Array.isArray(stgns.domain) && stgns.domain.length) {\n    fn.domain(stgns.domain);\n  } else {\n    fn.domain(values);\n  }\n  return fn;\n}\n","import ordinal from '../ordinal';\nimport resolveSettings from '../settings-resolver';\n\nconst DEFAULT_SETTINGS = {\n  domain: [],\n  range: [],\n  unknown: undefined\n};\n\nconst DEFAULT_EXPLICIT_SETTINGS = {\n  domain: [],\n  range: [],\n  override: false\n};\n\n/**\n * @typedef {object} scale--categorical-color\n * @property {string} [type='categorical-color']\n * @property {string[]} [range=false] - CSS color values of the output range\n * @property {string} [unknown] - {@link https://github.com/d3/d3-scale#ordinal_unknown}\n * @property {object} [explicit] - Explicitly bind values to an output\n * @property {object[]} [explicit.domain[]] - Values to bind\n * @property {string[]} [explicit.range[]] - Output range\n */\n\n/**\n * An ordinal scale with the output range set to default colors, as defined by *scaleCategorical.range*\n * @alias scaleCategorical\n * @private\n * @param { Object } settings\n * @param { field[] } [fields]\n * @param { dataset } [dataset]\n * @return { ordinal }\n */\nexport default function scaleCategorical(settings = {}, data = {}, resources = {}) {\n  const s = ordinal(settings, data, resources);\n  const theme = resources.theme;\n  const stgns = resolveSettings(settings, DEFAULT_SETTINGS, { data, resources });\n  stgns.explicit = resolveSettings(settings.explicit, DEFAULT_EXPLICIT_SETTINGS, { data, resources });\n\n  let range;\n  if (!Array.isArray(stgns.range) || stgns.range.length === 0) {\n    range = theme ? theme.palette('categorical', s.domain().length).slice() : [];\n  } else {\n    range = stgns.range.slice();\n  }\n\n  if (stgns.unknown) {\n    s.unknown(stgns.unknown);\n  } else if (theme && theme.palette('unknown')) {\n    let un = theme.palette('unknown');\n    s.unknown(un[0]);\n  }\n\n  if (Array.isArray(stgns.explicit.domain) && stgns.explicit.domain.length) {\n    const domain = s.domain().slice();\n    const explicitDomain = stgns.explicit.domain;\n    const explicitRange = Array.isArray(stgns.explicit.range) ? stgns.explicit.range : [];\n\n    // duplicate range values to cover entire domain\n    const numCopies = Math.floor(domain.length / range.length);\n    for (let i = 1; i < numCopies + 1; i *= 2) {\n      range = range.concat(range);\n    }\n\n    if (stgns.explicit.override) {\n      for (let i = 0; i < explicitDomain.length; i++) {\n        const index = domain.indexOf(explicitDomain[i]);\n        if (index > -1) {\n          range[index] = explicitRange[i];\n        }\n      }\n    } else {\n      // inject explicit colors\n      const order = explicitDomain.map((d, i) => [domain.indexOf(d), d, explicitRange[i]]).sort((a, b) => a[0] - b[0]);\n      order.forEach((v) => {\n        const idx = domain.indexOf(v[1]);\n        if (idx !== -1) {\n          range.splice(idx, 0, v[2]);\n        }\n      });\n    }\n\n    // cutoff excess range values\n    range.length = domain.length;\n  }\n\n  s.range(range);\n  return s;\n}\n","import registry from '../../utils/registry';\nimport linear from '../../scales/linear';\nimport band from '../../scales/band';\nimport hBand from '../../scales/h-band';\nimport sequential from '../../scales/color/sequential';\nimport threshold from '../../scales/color/threshold';\nimport categorical from '../../scales/color/categorical';\nimport extractData from '../../data/extractor';\n\nconst scaleRegistry = registry();\n\nscaleRegistry('linear', linear);\nscaleRegistry('band', band);\nscaleRegistry('h-band', hBand);\nscaleRegistry('sequential-color', sequential);\nscaleRegistry('threshold-color', threshold);\nscaleRegistry('categorical-color', categorical);\n\nexport { scaleRegistry as default };\n\nfunction getTypeFromMeta(fields) {\n  const types = fields.map((field) => (field.type() === 'dimension' ? 'band' : 'linear'));\n  return types.indexOf('linear') !== -1 ? 'linear' : 'band';\n}\n\nfunction deduceScaleTypeFromData(data) {\n  if (data.root) {\n    return 'h-band';\n  }\n\n  if (data.fields && data.fields[0]) {\n    return getTypeFromMeta(data.fields);\n  }\n  return 'linear';\n}\n\nexport function create(options, d, deps) {\n  let dataSourceConfig = options.data;\n  if (options.source) { // DEPRECATION\n    deps.logger.warn('Deprecated: Scale data source configuration');\n    dataSourceConfig = {\n      extract: []\n    };\n    (Array.isArray(options.source) ? options.source : [options.source]).forEach((source) => {\n      dataSourceConfig.extract.push({\n        field: source\n      });\n    });\n  }\n\n  const data = extractData(dataSourceConfig, d, deps);\n  let type = options.type || deduceScaleTypeFromData(data);\n  let s;\n\n  if (type === 'color') {\n    if (data.fields && data.fields[0] && data.fields[0].type() === 'dimension') {\n      type = 'categorical-color';\n    } else {\n      type = 'sequential-color';\n    }\n  }\n\n  if (deps.scale.has(type)) {\n    s = deps.scale.get(type);\n    s = s(options, data, { theme: deps.theme, logger: deps.logger });\n    s.type = type;\n  }\n  return s;\n}\n\nexport function collection(scalesConfig, data, deps, fn = create) {\n  const scales = {};\n\n  return {\n    get(def) {\n      let key;\n      if (typeof def === 'string' && scalesConfig[def]) {\n        key = def;\n      } else if (typeof def === 'object' && 'scale' in def && scalesConfig[def.scale]) {\n        key = def.scale;\n      }\n\n      if (key) {\n        scales[key] = scales[key] || fn(scalesConfig[key], data, deps);\n        return scales[key];\n      }\n\n      return fn(def, data, deps);\n    },\n    all() {\n      Object.keys(scalesConfig).forEach(this.get);\n      return scales;\n    }\n  };\n}\n","/**\n * Utility functions\n */\n\nvar util = {};\n\nutil.isObject = function isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nutil.isNumber = function isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nutil.isUndefined = function isUndefined(arg) {\n  return arg === void 0;\n}\n\nutil.isFunction = function isFunction(arg){\n  return typeof arg === 'function';\n}\n\n\n/**\n * EventEmitter class\n */\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\nEventEmitter.init = function() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!util.isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error' && !this._events.error) {\n    er = arguments[1];\n    if (er instanceof Error) {\n      throw er; // Unhandled 'error' event\n    } else {\n      throw Error('Uncaught, unspecified \"error\" event.');\n    }\n    return false;\n  }\n\n  handler = this._events[type];\n\n  if (util.isUndefined(handler))\n    return false;\n\n  if (util.isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        len = arguments.length;\n        args = new Array(len - 1);\n        for (i = 1; i < len; i++)\n          args[i - 1] = arguments[i];\n        handler.apply(this, args);\n    }\n  } else if (util.isObject(handler)) {\n    len = arguments.length;\n    args = new Array(len - 1);\n    for (i = 1; i < len; i++)\n      args[i - 1] = arguments[i];\n\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!util.isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              util.isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (util.isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (util.isObject(this._events[type]) && !this._events[type].warned) {\n    var m;\n    if (!util.isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n\n      if (util.isFunction(console.error)) {\n        console.error('(node) warning: possible EventEmitter memory ' +\n                      'leak detected. %d listeners added. ' +\n                      'Use emitter.setMaxListeners() to increase limit.',\n                      this._events[type].length);\n      }\n      if (util.isFunction(console.trace))\n        console.trace();\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!util.isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!util.isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (util.isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (util.isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (util.isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (Array.isArray(listeners)) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (util.isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  var ret;\n  if (!emitter._events || !emitter._events[type])\n    ret = 0;\n  else if (util.isFunction(emitter._events[type]))\n    ret = 1;\n  else\n    ret = emitter._events[type].length;\n  return ret;\n};\n","import EventEmitter from 'node-event-emitter';\n\nexport default {\n  /**\n   * Function used to add event handling to objects passed in.\n   * @private\n   * @param {Object} obj Object instance that will get event handling.\n   */\n  mixin(obj) {\n    Object.keys(EventEmitter.prototype).forEach((key) => {\n      obj[key] = EventEmitter.prototype[key];\n    });\n    EventEmitter.init(obj);\n    return obj;\n  }\n};\n","import EventEmitter from '../utils/event-emitter';\n\nexport default function scrollApi() {\n  let min = 0;\n  let max = 0;\n  let start = 0;\n  let viewSize = 0;\n  start = start || min;\n\n  /**\n   * The scroll api\n   * @private\n   * @alias scroll\n   */\n  const s = {\n    /**\n     * Move the current scroll\n     * @param {number} value\n     * @emits update\n     */\n    move(value) {\n      this.moveTo(start + value);\n    },\n\n    /**\n     * Change the current scroll to a specific value\n     * @param {number} value\n     * @emits update\n     */\n    moveTo(value) {\n      const newStart = Math.max(min, Math.min(max - viewSize, value));\n      if (start !== newStart) {\n        start = newStart;\n        s.emit('update');\n      }\n    },\n\n    /**\n     * Update scroll settings\n     * @param {number} [settings.min]\n     * @param {number} [settings.max]\n     * @param {number} [settings.viewSize]\n     * @emits update\n     */\n    update(settings) {\n      let triggerUpdate = false;\n      ({ min = min, max = max } = settings);\n      if (settings.viewSize !== undefined && settings.viewSize !== viewSize) {\n        viewSize = settings.viewSize;\n        triggerUpdate = true;\n      }\n\n      // update scroll to be within the new bounds\n      const newStart = Math.max(min, Math.min(max - viewSize, start));\n      if (start !== newStart) {\n        start = newStart;\n        triggerUpdate = true;\n      }\n\n      if (triggerUpdate) {\n        s.emit('update');\n      }\n    },\n\n    /**\n     * Get the current scroll state\n     * @return {object} with min, max, start & viewSize\n     */\n    getState() {\n      return {\n        min, max, start, viewSize\n      };\n    }\n  };\n\n  EventEmitter.mixin(s);\n\n  return s;\n}\n","import scrollApi from '../../scroll-api';\n\nexport function createOrUpdate(options, oldApi) {\n  const min = options.min || 0;\n  const max = options.max || 0;\n  const viewSize = options.viewSize || 0;\n\n  const s = oldApi || scrollApi();\n  s.update({ min, max, viewSize });\n\n  return s;\n}\n\nexport default function builder(obj, oldScrollApis) {\n  const scrollApis = {};\n  for (const n in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, n)) {\n      scrollApis[n] = createOrUpdate(obj[n], oldScrollApis ? oldScrollApis[n] : null);\n    }\n  }\n  return scrollApis;\n}\n\nexport function getOrCreateScrollApi(v, scrollApis) {\n  if (!scrollApis[v]) {\n    scrollApis[v] = scrollApi();\n  }\n  return scrollApis[v];\n}\n","function lessThanOrEqual(value, limit) {\n  return value <= limit;\n}\n\nfunction lessThan(value, limit) {\n  return value < limit;\n}\n\nfunction index(boundaries, point, after) {\n  let i = 0;\n  while (i < boundaries.length && point > boundaries[i]) {\n    ++i;\n  }\n  if (boundaries[i] === point && after) {\n    ++i;\n  }\n  return i;\n}\n\nfunction contains(boundaries, point, minCondition, maxCondition) {\n  const len = boundaries.length;\n\n  for (let i = 1; i < len; i += 2) {\n    if (minCondition(boundaries[i - 1], point) && maxCondition(point, boundaries[i])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport default function rangeCollection(config = {}) {\n  let maxCondition;\n  let minCondition;\n  let boundaries = [];\n\n  function fn() {}\n\n  fn.configure = (c = {}) => {\n    const {\n      includeMax = true,\n      includeMin = true\n    } = c;\n    maxCondition = includeMax ? lessThanOrEqual : lessThan;\n    minCondition = includeMin ? lessThanOrEqual : lessThan;\n  };\n\n  fn.add = ({ min, max }) => {\n    const i0 = index(boundaries, min);\n    const i1 = index(boundaries, max, true);\n\n    const args = [i0, i1 - i0];\n    if (i0 % 2 === 0) {\n      args.push(min);\n    }\n    if (i1 % 2 === 0) {\n      args.push(max);\n    }\n\n    const before = boundaries.join(',');\n    boundaries.splice(...args);\n    const after = boundaries.join(',');\n    return before !== after;\n  };\n\n  fn.remove = ({ min, max }) => {\n    const i0 = index(boundaries, min);\n    const i1 = index(boundaries, max, true);\n\n    const args = [i0, i1 - i0];\n    if (i0 % 2 === 1) {\n      args.push(min);\n    }\n    if (i1 % 2 === 1) {\n      args.push(max);\n    }\n    const before = boundaries.join(',');\n    boundaries.splice(...args);\n    const after = boundaries.join(',');\n    return before !== after;\n  };\n\n  fn.set = (range) => {\n    const before = boundaries.join(',');\n    boundaries = [];\n    if (Array.isArray(range)) {\n      range.forEach(fn.add);\n    } else {\n      fn.add(range);\n    }\n    const after = boundaries.join(',');\n    return before !== after;\n  };\n\n  fn.clear = () => {\n    const before = boundaries.length > 0;\n    boundaries = [];\n    return before;\n  };\n\n  fn.containsValue = (value) => contains(boundaries, value, minCondition, maxCondition);\n\n  fn.containsRange = ({ min, max }) => {\n    const i0 = index(boundaries, min, true);\n    const i1 = index(boundaries, max);\n\n    return i0 === i1 && i1 % 2 === 1;\n  };\n\n  fn.toggle = (range) => {\n    if (fn.containsRange(range)) {\n      return fn.remove(range);\n    }\n    return fn.add(range);\n  };\n\n  fn.ranges = () => {\n    const collection = [];\n    for (let i = 1; i < boundaries.length; i += 2) {\n      collection.push({\n        min: boundaries[i - 1],\n        max: boundaries[i]\n      });\n    }\n    return collection;\n  };\n\n  fn.configure(config);\n\n  return fn;\n}\n","export default function valueCollection() {\n  let values = [];\n  function vc() {}\n\n  vc.add = (value) => {\n    if (values.indexOf(value) === -1) {\n      values.push(value);\n      return true;\n    }\n    return false;\n  };\n\n  vc.remove = (value) => {\n    const idx = values.indexOf(value);\n    if (idx !== -1) {\n      values.splice(idx, 1);\n      return true;\n    }\n    return false;\n  };\n\n  vc.contains = (value) => values.indexOf(value) !== -1;\n\n  vc.values = () => values.slice();\n\n  vc.clear = () => (values = []);\n\n  vc.toString = () => values.join(';');\n\n  return vc;\n}\n","import extend from 'extend';\n\nimport EventEmitter from '../utils/event-emitter';\n\nimport rangeCollection from './range-collection';\nimport valueCollection from './value-collection';\n\n/**\n * @typedef {object} brush-config\n * @property {Array<brush-config--ranges>} [ranges] - Range configurations\n */\n\n/**\n * @typedef {object}\n * @alias brush-config--ranges\n */\nconst DEFAULT_RANGE_CONFIG = {\n  /**\n   * An identifier that represents the data source of the value\n   * @type {string=}\n   */\n  key: undefined,\n  /**\n   * Whether or not the minimum value of a range should be included when determening if a value is brushed.\n   * @type {boolean=} */\n  includeMin: true,\n  /**\n   * Whether or not the maximum value of a range should be included when determening if a value is brushed.\n   * @type {boolean=} */\n  includeMax: true\n};\n\nfunction add({\n  items,\n  collection,\n  vc\n}) {\n  const changedMap = {};\n  const changed = [];\n  let key;\n  let values;\n\n  for (let i = 0, num = items.length; i < num; i++) {\n    key = items[i].key;\n    if (!collection[key]) {\n      collection[key] = vc();\n    }\n    values = items[i].values || [items[i].value];\n    for (let vi = 0; vi < values.length; vi++) {\n      if (collection[key].add(values[vi])) {\n        changedMap[key] = changedMap[key] || [];\n        changedMap[key].push(values[vi]);\n      }\n    }\n  }\n\n  const keys = Object.keys(changedMap);\n  for (let i = 0, num = keys.length; i < num; i++) {\n    key = keys[i];\n    changed.push({ id: key, values: changedMap[key] });\n  }\n\n  return changed;\n}\n\nfunction remove({\n  items,\n  collection\n}) {\n  const changedMap = {};\n  const changed = [];\n  let key;\n  let values;\n\n  for (let i = 0, num = items.length; i < num; i++) {\n    key = items[i].key;\n    if (!collection[key]) {\n      continue;\n    }\n    values = items[i].values || [items[i].value];\n    for (let vi = 0; vi < values.length; vi++) {\n      if (collection[key].remove(values[vi])) {\n        changedMap[key] = changedMap[key] || [];\n        changedMap[key].push(values[vi]);\n      }\n    }\n  }\n\n  const keys = Object.keys(changedMap);\n  for (let i = 0, num = keys.length; i < num; i++) {\n    key = keys[i];\n    changed.push({ id: key, values: changedMap[key] });\n  }\n\n  return changed;\n}\n\nfunction collectUnique(items) {\n  const filteredSet = {};\n  let key;\n  let values;\n\n  for (let i = 0, num = items.length; i < num; i++) {\n    key = items[i].key;\n    values = items[i].values || [items[i].value];\n    if (!filteredSet[key]) {\n      filteredSet[key] = [];\n    }\n    for (let vi = 0; vi < values.length; vi++) {\n      const idx = filteredSet[key].indexOf(values[vi]);\n      if (idx === -1) {\n        filteredSet[key].push(values[vi]);\n      }\n    }\n  }\n\n  return filteredSet;\n}\n\nfunction createValueCollection({\n  key,\n  collection,\n  obj,\n  fn,\n  value\n}) {\n  if (!collection[key]) {\n    collection[key] = fn();\n  }\n  obj[key] = obj[key] || [];\n  obj[key].push(value);\n  collection[key].add(value);\n}\n\nexport function toggle({\n  items,\n  values,\n  vc\n}) {\n  const addedMap = {};\n  const removedMap = {};\n  const added = [];\n  const removed = [];\n  const filteredSet = collectUnique(items);\n  let key;\n  let value;\n  let fs;\n\n  const setKeys = Object.keys(filteredSet);\n  for (let i = 0, num = setKeys.length; i < num; i++) {\n    key = setKeys[i];\n    fs = filteredSet[key];\n\n    for (let k = 0, len = fs.length; k < len; k++) {\n      value = fs[k];\n      if (!values[key] || !values[key].contains(value)) {\n        createValueCollection({\n          key,\n          value,\n          collection: values,\n          obj: addedMap,\n          fn: vc\n        });\n      } else if (values[key] && values[key].contains(value)) {\n        removedMap[key] = removedMap[key] || [];\n        removedMap[key].push(value);\n        values[key].remove(value);\n      }\n    }\n  }\n\n  const addedKeys = Object.keys(addedMap);\n  for (let i = 0, num = addedKeys.length; i < num; i++) {\n    key = addedKeys[i];\n    added.push({ id: key, values: addedMap[key] });\n  }\n\n  const removedKeys = Object.keys(removedMap);\n  for (let i = 0, num = removedKeys.length; i < num; i++) {\n    key = removedKeys[i];\n    removed.push({ id: key, values: removedMap[key] });\n  }\n\n  return [added, removed];\n}\n\nfunction diff(old, current) {\n  const changed = [];\n  const keys = Object.keys(old);\n  let key;\n  let changedValues;\n  const filterFn = (v) => current[key].indexOf(v) === -1;\n\n  for (let i = 0, num = keys.length; i < num; i++) {\n    key = keys[i];\n    if (!current[key]) {\n      changed.push({ id: key, values: old[key] });\n    } else {\n      changedValues = old[key].filter(filterFn);\n      if (changedValues.length) {\n        changed.push({ id: key, values: changedValues });\n      }\n    }\n  }\n\n  return changed;\n}\n\nexport function set({\n  items,\n  vCollection,\n  vc\n}) {\n  const addedMap = {};\n  const filteredSet = collectUnique(items);\n  let added = [];\n  let removed = [];\n  let key;\n\n  const oldMap = {};\n  const vcKeys = Object.keys(vCollection);\n  for (let i = 0, num = vcKeys.length; i < num; i++) {\n    key = vcKeys[i];\n    oldMap[key] = vCollection[key].values().slice();\n    delete vCollection[key];\n  }\n\n  const createValueCollectionFn = (value) => {\n    if (!vCollection[key] || !vCollection[key].contains(value)) {\n      createValueCollection({\n        key,\n        value,\n        collection: vCollection,\n        obj: addedMap,\n        fn: vc\n      });\n    }\n  };\n\n  const fsKeys = Object.keys(filteredSet);\n  for (let i = 0, num = fsKeys.length; i < num; i++) {\n    key = fsKeys[i];\n    filteredSet[key].forEach(createValueCollectionFn);\n  }\n\n  removed = diff(oldMap, addedMap);\n  added = diff(addedMap, oldMap);\n\n  return [added, removed];\n}\n\n\nfunction applyAliases(items, aliases) {\n  if (!Object.keys(aliases).length) {\n    return items;\n  }\n  const len = items.length;\n  const its = Array(len);\n  for (let i = 0; i < len; i++) {\n    its[i] = items[i].key in aliases ? extend({}, items[i], { key: aliases[items[i].key] }) : items[i];\n  }\n  return its;\n}\n\nfunction intercept(handlers, items, aliases) {\n  const its = applyAliases(items, aliases);\n  return handlers && handlers.length ? handlers.reduce((value, interceptor) => interceptor(value), its) : its;\n}\n\nfunction toCamelCase(s) {\n  return s.replace(/(-[a-z])/g, ($1) => $1.toUpperCase().replace('-', ''));\n}\n\nfunction toSnakeCase(s) {\n  return s.replace(/([A-Z])/g, ($1) => `-${$1.toLowerCase()}`);\n}\n\nfunction updateRange(items, action, {\n  ranges,\n  interceptors,\n  rc,\n  aliases,\n  rangeConfig\n}) {\n  const inter = `${action}Ranges`;\n  const its = intercept(interceptors[inter], items, aliases);\n  let changed = false;\n  its.forEach((item) => {\n    const key = item.key;\n    if (!ranges[key]) {\n      ranges[key] = rc(rangeConfig.sources[key] || rangeConfig.default);\n    }\n    if (action === 'set') {\n      changed = ranges[key][action](item.ranges || item.range) || changed;\n    } else {\n      const rangeValues = item.ranges || [item.range];\n      for (let i = 0; i < rangeValues.length; i++) {\n        changed = ranges[key][action](rangeValues[i]) || changed;\n      }\n    }\n  });\n\n  return changed;\n}\n\nexport default function brush({\n  vc = valueCollection,\n  rc = rangeCollection\n} = {}) {\n  let activated = false;\n  let ranges = {};\n  let values = {};\n  let aliases = {};\n  let rangeConfig = {\n    sources: {},\n    default: extend({}, DEFAULT_RANGE_CONFIG)\n  };\n  const interceptors = {\n    addValues: [],\n    removeValues: [],\n    toggleValues: [],\n    setValues: [],\n    addRanges: [],\n    setRanges: [],\n    removeRanges: [],\n    toggleRanges: []\n  };\n\n  const getState = () => {\n    const state = {\n      values: {},\n      ranges: {}\n    };\n    Object.keys(values).forEach((key) => { state.values[key] = values[key].values(); });\n    Object.keys(ranges).forEach((key) => { state.ranges[key] = ranges[key].ranges(); });\n    return state;\n  };\n\n  const links = {\n    ls: [],\n    clear() {\n      this.ls.forEach((b) => b.clear());\n    },\n    start() {\n      this.ls.forEach((b) => b.start());\n    },\n    end() {\n      this.ls.forEach((b) => b.end());\n    },\n    update() {\n      const s = getState();\n      this.ls.forEach((b) => b._state(s));\n    },\n    updateValues() {\n      const s = getState();\n      this.ls.forEach((b) => b._state({\n        values: s.values\n      }));\n    },\n    updateRanges() {\n      const s = getState();\n      this.ls.forEach((b) => b._state({\n        ranges: s.ranges\n      }));\n    }\n  };\n\n  /**\n   * A brush context\n   * @alias brush\n   * @interface\n   */\n  const fn = {};\n\n  /**\n   * Triggered when this brush is activated\n   * @event brush#start\n   * @type {string}\n   */\n\n  /**\n   * Triggered when this brush is updated\n   * @event brush#update\n   * @type {string}\n   * @param {Array<object>} added - The added items\n   * @param {Array<object>} removed - The removed items\n   */\n\n  /**\n   * Triggered when this brush is deactivated\n   * @event brush#end\n   * @type {string}\n   */\n\n\n  /**\n    * Configure the brush instance.\n    *\n    * @param {brush-config} config\n    * @example\n    * brushInstance.configure({\n    *   ranges: [\n    *     { key: 'some key', includeMax: false },\n    *     { includeMax: true, includeMin: true },\n    *   ]\n    * })\n    */\n  fn.configure = (config = {}) => {\n    if (Array.isArray(config.ranges) && config.ranges.length) {\n      rangeConfig = {\n        sources: {},\n        default: extend({}, DEFAULT_RANGE_CONFIG)\n      };\n\n      config.ranges.forEach((cfg) => {\n        const c = {};\n        Object.keys(DEFAULT_RANGE_CONFIG)\n          .filter((attr) => attr !== 'key')\n          .forEach((attr) => {\n            c[attr] = typeof cfg[attr] !== 'undefined' ? cfg[attr] : DEFAULT_RANGE_CONFIG[attr];\n          });\n\n        if (typeof cfg.key !== 'undefined') {\n          rangeConfig.sources[cfg.key] = c;\n        } else {\n          rangeConfig.default = c;\n        }\n      });\n\n      Object.keys(ranges).forEach((key) => ranges[key].configure(rangeConfig.sources[key] || rangeConfig.default));\n\n      // TODO only emit update if config has changed\n      fn.emit('update', [], []);\n    }\n  };\n\n  /**\n   * Link this brush to another brush instance.\n   *\n   * When linked, the `target` will receive updates whenever this brush changes.\n   * @param {brush} target - The brush instance to link to\n   */\n  fn.link = (target) => {\n    if (fn === target) {\n      throw new Error('Can\\'t link to self');\n    }\n    links.ls.push(target);\n    target._state(getState());\n  };\n\n  fn._state = (s) => {\n    if (!s) {\n      return getState();\n    }\n    if (s.values) {\n      const arr = [];\n      Object.keys(s.values).forEach((key) => {\n        if (!values[key] || s.values[key].join(';') !== values[key].toString()) {\n          arr.push({\n            key,\n            values: s.values[key]\n          });\n        }\n      });\n      Object.keys(values).forEach((key) => {\n        if (!s.values[key]) {\n          arr.push({\n            key,\n            values: []\n          });\n        }\n      });\n      if (arr.length) {\n        fn.setValues(arr);\n      }\n    }\n    if (s.ranges) {\n      const arr = [];\n      Object.keys(s.ranges).forEach((key) => {\n        if (!ranges[key] || s.ranges[key].join(';') !== ranges[key].toString()) {\n          arr.push({\n            key,\n            ranges: s.ranges[key]\n          });\n        }\n      });\n      Object.keys(ranges).forEach((key) => {\n        if (!s.ranges[key]) {\n          arr.push({\n            key,\n            ranges: []\n          });\n        }\n      });\n      if (arr.length) {\n        fn.setRanges(arr);\n      }\n    }\n    return undefined;\n  };\n\n  /**\n   * Starts this brush context\n   *\n   * Starts this brush context and emits a 'start' event if it is not already started.\n   * @emits brush#start\n   */\n  fn.start = () => {\n    if (!activated) {\n      activated = true;\n      fn.emit('start');\n      links.start();\n    }\n  };\n\n  /**\n   * Ends this brush context\n   *\n   * Ends this brush context and emits an 'end' event if it is not already ended.\n   * @emits brush#end\n   */\n  fn.end = () => {\n    if (!activated) {\n      return;\n    }\n    activated = false;\n    ranges = {};\n    values = {};\n    fn.emit('end');\n    links.end();\n  };\n\n  /**\n   * Checks if this brush is activated\n   *\n   * Returns true if started, false otherwise\n   * @return {boolean}\n   */\n  fn.isActive = () => activated;\n\n  /**\n   * Clears this brush context\n   */\n  fn.clear = () => {\n    const removed = fn.brushes().filter((b) => b.type === 'value' && b.brush.values().length).map((b) => ({ id: b.id, values: b.brush.values() }));\n    const hasChanged = Object.keys(ranges).length > 0 || removed.length;\n    ranges = {};\n    values = {};\n    if (hasChanged) {\n      fn.emit('update', [], removed); // TODO - do not emit update if state hasn't changed\n      links.clear();\n    }\n  };\n\n  /**\n   * Returns all brushes within this context\n   * @return {object}\n   */\n  fn.brushes = () => {\n    let result = [];\n    result = result.concat(Object.keys(ranges).map((key) => ({\n      type: 'range',\n      id: key,\n      brush: ranges[key]\n    })));\n\n    result = result.concat(Object.keys(values).map((key) => ({\n      type: 'value',\n      id: key,\n      brush: values[key]\n    })));\n\n    return result;\n  };\n\n  /**\n   * Adds a primitive value to this brush context\n   *\n   * If this brush context is not started, a 'start' event is emitted.\n   * If the state of the brush changes, ie. if the added value does not already exist, an 'update' event is emitted.\n   *\n   * @param {string} key  An identifier that represents the data source of the value\n   * @param {string|number} value The value to add\n   * @emits brush#start\n   * @emits brush#update\n   * @example\n   * brush.addValue('countries', 'Sweden');\n   * brush.addValue('/qHyperCube/qDimensionInfo/0', 3);\n   */\n  fn.addValue = (key, value) => {\n    fn.addValues([{ key, value }]);\n  };\n\n  /**\n   * @param {object[]} items Items to add\n   */\n  fn.addValues = (items) => {\n    const its = intercept(interceptors.addValues, items, aliases);\n    const added = add({\n      vc,\n      collection: values,\n      items: its\n    });\n\n    fn.emit('add-values', its);\n\n    if (added.length) {\n      if (!activated) {\n        activated = true;\n        fn.emit('start');\n      }\n      fn.emit('update', added, []);\n      links.updateValues();\n    }\n  };\n\n  /**\n   * @param {object[]} items Items to set\n   */\n  fn.setValues = (items) => {\n    const its = intercept(interceptors.setValues, items, aliases);\n    const changed = set({\n      items: its,\n      vCollection: values,\n      vc\n    });\n\n    fn.emit('set-values', its);\n\n    if (changed[0].length > 0 || changed[1].length > 0) {\n      if (!activated) {\n        activated = true;\n        fn.emit('start');\n      }\n      fn.emit('update', changed[0], changed[1]);\n      links.updateValues();\n    }\n  };\n\n  /**\n   * Removes a primitive values from this brush context\n   *\n   * If the state of the brush changes, ie. if the removed value does exist, an 'update' event is emitted.\n   *\n   * @param  {string} key  An identifier that represents the data source of the value\n   * @param  {string|number} value The value to remove\n   * @example\n   * brush.removeValue('countries', 'Sweden');\n   */\n  fn.removeValue = (key, value) => {\n    fn.removeValues([{ key, value }]);\n  };\n\n  /**\n   * @param {object[]} items Items to remove\n   */\n  fn.removeValues = (items) => {\n    const its = intercept(interceptors.removeValues, items, aliases);\n    const removed = remove({\n      collection: values,\n      items: its\n    });\n\n    fn.emit('remove-values', its);\n\n    if (removed.length) {\n      fn.emit('update', [], removed);\n      links.updateValues();\n      // TODO - emit 'end' event if there are no remaining active brushes\n    }\n  };\n\n  /**\n   * Add and remove values in a single operation\n   * almost the same as calling addValues and removeValues but only triggers one 'update' event\n   *\n   * If the state of the brush changes, an 'update' event is emitted.\n   *\n   * @param {object[]} addItems Items to add\n   * @param {object[]} removeItems Items to remove\n   */\n  fn.addAndRemoveValues = (addItems, removeItems) => {\n    const addIts = intercept(interceptors.addValues, addItems, aliases);\n    const removeIts = intercept(interceptors.removeValues, removeItems, aliases);\n    const added = add({\n      vc,\n      collection: values,\n      items: addIts\n    });\n    const removed = remove({\n      collection: values,\n      items: removeIts\n    });\n\n    fn.emit('add-values', addIts);\n    fn.emit('remove-values', removeIts);\n\n    if (added.length || removed.length) {\n      if (!activated) {\n        activated = true;\n        fn.emit('start');\n      }\n      fn.emit('update', added, removed);\n      links.updateValues();\n    }\n  };\n\n  /**\n   * Toggles a primitive value in this brush context\n   *\n   * If the given value exist in this brush context, it will be removed. If it does not exist it will be added.\n   *\n   * @param  {string} key  An identifier that represents the data source of the value\n   * @param  {string|number} value The value to toggle\n   * @example\n   * brush.toggleValue('countries', 'Sweden');\n   */\n  fn.toggleValue = (key, value) => {\n    fn.toggleValues([{ key, value }]);\n  };\n\n  /**\n   * @param {object[]} items Items to toggle\n   */\n  fn.toggleValues = (items) => {\n    const its = intercept(interceptors.toggleValues, items, aliases);\n    const toggled = toggle({\n      items: its,\n      values,\n      vc\n    });\n\n    fn.emit('toggle-values', its);\n\n    if (toggled[0].length > 0 || toggled[1].length > 0) {\n      if (!activated) {\n        activated = true;\n        fn.emit('start');\n      }\n      fn.emit('update', toggled[0], toggled[1]);\n      links.updateValues();\n    }\n  };\n\n  /**\n   * Checks if a certain value exists in this brush context\n   *\n   * Returns true if the values exists for the provided key, returns false otherwise.\n   *\n   * @param  {string} key  An identifier that represents the data source of the value\n   * @param  {string|number} value The value to check for\n   * @return {boolean}\n   * @example\n   * brush.addValue('countries', 'Sweden');\n   * brush.containsValue('countries', 'Sweden'); // true\n   * brush.toggleValue('countries', 'Sweden'); // remove 'Sweden'\n   * brush.containsValue('countries', 'Sweden'); // false\n   */\n  fn.containsValue = (key, value) => {\n    let k = aliases[key] || key;\n    if (!values[k]) {\n      return false;\n    }\n    return values[k].contains(value);\n  };\n\n  /**\n   * Adds a numeric range to this brush context\n   *\n   * @param {string} key - An identifier that represents the data source of the range\n   * @param {object} range - The range to add to this brush\n   * @param {number} range.min - Min value of the range\n   * @param {number} range.max - Max value of the range\n   * @example\n   * brush.addRange('Sales', { min: 20, max: 50 });\n   */\n  fn.addRange = (key, range) => {\n    fn.addRanges([{ key, range }]);\n  };\n\n  /**\n   * @see {brush.addRange}\n   * @param {object[]} items - Items containing the ranges to remove\n   * @param {string} items[].key\n   * @param {object} items[].range\n   */\n  fn.addRanges = (items) => {\n    const changed = updateRange(items, 'add', {\n      ranges,\n      rc,\n      interceptors,\n      aliases,\n      rangeConfig\n    });\n\n    if (!changed) {\n      return;\n    }\n\n    if (!activated) {\n      activated = true;\n      fn.emit('start');\n    }\n    fn.emit('update', [], []);\n    links.updateRanges();\n  };\n\n  /**\n   * Removes a numeric range from this brush context\n   *\n   * @param {string} key - An identifier that represents the data source of the range\n   * @param {object} range - The range to remove from this brush\n   * @param {number} range.min - Min value of the range\n   * @param {number} range.max - Max value of the range\n   */\n  fn.removeRange = (key, range) => {\n    fn.removeRanges([{ key, range }]);\n  };\n\n  /**\n   * @see {brush.removeRange}\n   * @param {object[]} items - Items containing the ranges to remove\n   */\n  fn.removeRanges = (items) => {\n    const changed = updateRange(items, 'remove', {\n      ranges,\n      rc,\n      interceptors,\n      aliases,\n      rangeConfig\n    });\n\n    if (!changed) {\n      return;\n    }\n\n    if (!activated) {\n      activated = true;\n      fn.emit('start');\n    }\n    fn.emit('update', [], []);\n    links.updateRanges();\n  };\n\n  /**\n   * Sets a numeric range to this brush context\n   *\n   * Overwrites any active ranges identified by `key`\n   *\n   * @param {string} key - An identifier that represents the data source of the range\n   * @param {object} range - The range to set on this brush\n   * @param {number} range.min - Min value of the range\n   * @param {number} range.max - Max value of the range\n   */\n  fn.setRange = (key, range) => {\n    fn.setRanges([{ key, range }]);\n  };\n\n  /**\n   * @see {brush.setRange}\n   * @param {object[]} items - Items containing the ranges to set\n   */\n  fn.setRanges = (items) => {\n    const changed = updateRange(items, 'set', {\n      ranges,\n      rc,\n      interceptors,\n      aliases,\n      rangeConfig\n    });\n\n    if (!changed) {\n      return;\n    }\n\n    if (!activated) {\n      activated = true;\n      fn.emit('start');\n    }\n    fn.emit('update', [], []);\n    links.updateRanges();\n  };\n\n  /**\n   * Toggles a numeric range in this brush context\n   *\n   * Removes the range if it's already contained within the given identifier,\n   * otherwise the given range is added to the brush.\n   *\n   * @param {string} key - An identifier that represents the data source of the range\n   * @param {object} range - The range to toggle in this brush\n   * @param {number} range.min - Min value of the range\n   * @param {number} range.max - Max value of the range\n   */\n  fn.toggleRange = (key, range) => {\n    fn.toggleRanges([{ key, range }]);\n  };\n\n  /**\n   * @see {brush.toggleRange}\n   * @param {object[]} items - Items containing the ranges to toggle\n   */\n  fn.toggleRanges = (items) => {\n    const changed = updateRange(items, 'toggle', {\n      ranges,\n      rc,\n      interceptors,\n      aliases,\n      rangeConfig\n    });\n\n    if (!changed) {\n      return;\n    }\n\n    if (!activated) {\n      activated = true;\n      fn.emit('start');\n    }\n    fn.emit('update', [], []);\n    links.updateRanges();\n  };\n\n  /**\n   * Checks if a value is contained within a range in this brush context\n   *\n   * Returns true if the values exists for the provided key, returns false otherwise.\n   *\n   * @param  {string} key - An identifier that represents the data source of the value\n   * @param  {number} value - The value to check for\n   * @return {boolean}\n   * @example\n   * brush.addRange('Sales', { min: 10, max: 50 });\n   * brush.containsRangeValue('Sales', 30); // true\n   * brush.containsRangeValue('Sales', 5); // false\n   */\n  fn.containsRangeValue = (key, value) => {\n    let k = aliases[key] || key;\n    if (!ranges[k]) {\n      return false;\n    }\n    return ranges[k].containsValue(value);\n  };\n\n  /**\n   * Checks if a range segment is contained within this brush context\n   *\n   * Returns true if the range segment exists for the provided key, returns false otherwise.\n   *\n   * @param {string} key - An identifier that represents the data source of the value\n   * @param {object} range - The range to check for\n   * @param {number} range.min - Min value of the range\n   * @param {number} range.max - Max value of the range\n   * @return {boolean}\n   * @example\n   * brush.addRange('Sales', { min: 10, max: 50 });\n   * brush.containsRange('Sales', { min: 15, max: 20 }); // true - the range segment is fully contained within [10, 50]\n   * brush.containsRange('Sales', { min: 5, max: 20 }); // false - part of the range segment is outside [10, 50]\n   * brush.containsRange('Sales', { min: 30, max: 80 }); // false - part of the range segment is outside [10, 50]\n   */\n  fn.containsRange = (key, range) => {\n    let k = aliases[key] || key;\n    if (!ranges[k]) {\n      return false;\n    }\n    return ranges[k].containsRange(range);\n  };\n\n  fn.containsMappedData = (d, props, mode) => {\n    let status = [];\n    const keys = Object.keys(d);\n    let key;\n    let item;\n    let source;\n    let value;\n\n    for (let i = 0, num = keys.length; i < num; i++) {\n      key = keys[i];\n      if (key === 'value') {\n        item = d;\n        status[i] = { key: '', i, bool: false };\n      } else if (key === 'source') {\n        continue;\n      } else {\n        item = d[key];\n        status[i] = { key, i, bool: false };\n      }\n      source = item.source && item.source.field;\n      if (typeof source === 'undefined') {\n        continue;\n      }\n      if (typeof item.source.key !== 'undefined') {\n        source = `${item.source.key}/${source}`;\n      }\n\n      if (source in aliases) {\n        source = aliases[source];\n      }\n\n      value = item.value;\n      if (ranges[source]) {\n        status[i].bool = Array.isArray(value) ? ranges[source].containsRange({ min: value[0], max: value[1] }) : ranges[source].containsValue(value);\n      } else if (values[source] && values[source].contains(value)) {\n        status[i].bool = true;\n      }\n    }\n\n    if (props) {\n      status = status.filter((b) => props.indexOf(b.key) !== -1);\n      if (mode === 'and') {\n        return !!status.length && !status.some((s) => s.bool === false);\n      }\n      if (mode === 'xor') {\n        return !!status.length && status.some((s) => s.bool) && status.some((s) => s.bool === false);\n      }\n      // !mode || mode === 'or'\n      return status.some((s) => s.bool);\n    }\n    return status.some((s) => s.bool);\n  };\n\n  /**\n   * Adds an event interceptor\n   *\n   * @param {string} name Name of the event to intercept\n   * @param {function} ic Handler to call before event is triggered\n   * @example\n   * brush.intercept('add-values', items => {\n   *  console.log('about to add the following items', items);\n   *  return items;\n   * });\n   */\n  fn.intercept = (name, ic) => {\n    const s = toCamelCase(name);\n    if (!interceptors[s]) {\n      return;\n    }\n    interceptors[s].push(ic);\n  };\n\n  /**\n   * Removes an interceptor\n   *\n   * @param {string} name Name of the event to intercept\n   * @param {function} ic Handler to remove\n   */\n  fn.removeInterceptor = (name, ic) => {\n    const s = toCamelCase(name);\n    if (!interceptors[s]) {\n      return;\n    }\n    const idx = interceptors[s].indexOf(ic);\n    if (idx !== -1) {\n      interceptors[s].splice(idx, 1);\n    }\n  };\n\n  /**\n   * Removes all interceptors\n   *\n   * @param {string} [name] Name of the event to remove interceptors for. If not provided, removes all interceptors.\n   */\n  fn.removeAllInterceptors = (name) => {\n    const toRemove = [];\n    if (name) {\n      const s = toCamelCase(name);\n      if (interceptors[s] && interceptors[s].length) {\n        toRemove.push({ name, handlers: interceptors[s] });\n      }\n    } else {\n      Object.keys(interceptors).forEach((n) => {\n        if (interceptors[n].length) {\n          toRemove.push({ name: toSnakeCase(n), handlers: interceptors[n] });\n        }\n      });\n    }\n\n    toRemove.forEach((ic) => {\n      const interceptorHandlers = ic.handlers.slice();\n      interceptorHandlers.forEach((handler) => fn.removeInterceptor(ic.name, handler));\n    });\n  };\n\n  /**\n   * Adds an alias to the given key\n   *\n   * @param {string} key - Value to be replaced\n   * @param {string} alias - Value to replace key with\n   * @example\n   * brush.addKeyAlias('BadFieldName', 'Region');\n   * brush.addValue('BadFieldName', 'Sweden'); // 'BadFieldName' will be stored as 'Region'\n   * brush.containsValue('Region', 'Sweden'); // true\n   * brush.containsValue('BadFieldName', 'Sweden'); // true\n   */\n  fn.addKeyAlias = (key, alias) => {\n    aliases[key] = alias;\n  };\n\n  /**\n   * Removes an alias\n   *\n   * This will only remove the key to alias mapping for new manipulations of the brush,\n   * no changes will be made to the current state of this brush.\n   *\n   * @param {string} key - Value to remove as alias\n   * @example\n   * brush.removeKeyAlias('BadFieldName');\n   */\n  fn.removeKeyAlias = (key) => {\n    delete aliases[key];\n  };\n\n  EventEmitter.mixin(fn);\n\n  return fn;\n}\n","import brush from './brush';\nimport registry from '../utils/registry';\n\nconst reg = registry();\n\nexport function register(type, b) {\n  if (b) {\n    reg.add(type, b);\n  }\n  return reg.get(type);\n}\n\nexport default brush;\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","var tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * Math.pow(2, 10 * --t) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * Math.pow(2, -10 * (t = +t)) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * Math.pow(2, 10 * t) * Math.sin((s - t) / p)\n        : 2 - a * Math.pow(2, -10 * t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n","import extend from 'extend';\nimport { interpolateObject } from 'd3-interpolate';\nimport {\n  easeCubic,\n  easeElasticOut\n} from 'd3-ease';\n\n/* globals window */\n\nfunction nodeId(node, i) {\n  if (node.data) {\n    return node.data.value;\n  }\n  if (node.type === 'text') {\n    return node.text;\n  }\n  return i;\n}\n\nfunction tween({\n  old,\n  current\n}, {\n  renderer\n}, config) {\n  let ticker;\n  // let staticNodes = [];\n  let toBeUpdated = [];\n  let entered = { nodes: [], ips: [] };\n  let exited = { nodes: [], ips: [] };\n  let updated = { nodes: [], ips: [] };\n  let stages = [];\n  const trackBy = config.trackBy || nodeId;\n\n  const tweener = {\n    start() {\n      let ids = {};\n      old.forEach((node, i) => {\n        let id = trackBy(node, i);\n        ids[id] = node;\n      });\n      current.forEach((node, i) => {\n        let id = trackBy(node, i);\n        if (ids[id]) {\n          updated.ips.push(interpolateObject(ids[id], node));\n          updated.nodes.push(node);\n          toBeUpdated.push(ids[id]);\n          ids[id] = false;\n        } else {\n          entered.nodes.push(node);\n          entered.ips.push(interpolateObject({\n            r: 0.001,\n            opacity: 0\n          }, node));\n        }\n      });\n      Object.keys(ids).forEach((key) => {\n        if (ids[key]) {\n          exited.nodes.push(ids[key]);\n          exited.ips.push(interpolateObject(ids[key], extend({}, ids[key], { r: 0.0001, opacity: 0 })));\n        }\n      });\n      if (exited.ips.length) {\n        stages.push({\n          easing: easeCubic,\n          duration: 200,\n          tweens: exited.ips,\n          nodes: [...toBeUpdated]\n        });\n      }\n      if (updated.ips.length) {\n        stages.push({\n          easing: easeCubic,\n          duration: 400,\n          tweens: updated.ips,\n          nodes: []\n        });\n      }\n      if (entered.ips.length) {\n        stages.push({\n          easing: easeElasticOut,\n          duration: 1200,\n          tweens: entered.ips,\n          nodes: [...updated.nodes]\n        });\n      }\n      // console.log(stages);\n      if (stages.length) {\n        stages[0].started = Date.now();\n        if (typeof window !== 'undefined') {\n          ticker = window.requestAnimationFrame(tweener.tick);\n        }\n      }\n    },\n    tick() {\n      let currentStage = stages[0];\n      if (!currentStage) {\n        tweener.stop();\n      }\n      if (!currentStage.started) {\n        currentStage.started = Date.now();\n      }\n      let t = (Date.now() - currentStage.started) / currentStage.duration;\n      let currentNodes = [];\n      let tweenedNodes = currentStage.tweens.map((ip) => ip(currentStage.easing(Math.min(1, t))));\n      currentNodes.push(...tweenedNodes);\n      currentNodes.push(...currentStage.nodes);\n      // currentNodes.push(...staticNodes);\n      // stages.slice(1).forEach(stage => currentNodes.push(...stage.nodes));\n      renderer.render(currentNodes);\n      if (t >= 1) {\n        // staticNodes.push(...currentStage.nodes);\n        stages.shift();\n        if (!stages.length) {\n          tweener.stop();\n        }\n      }\n      if (ticker) {\n        ticker = window.requestAnimationFrame(tweener.tick);\n      }\n    },\n    stop() {\n      if (ticker) {\n        window.cancelAnimationFrame(ticker);\n        ticker = false;\n      }\n    }\n  };\n\n  return tweener;\n}\n\nexport { tween as default };\n","import extend from 'extend';\n\nconst GLOBAL_DEFAULTS = {\n  fontFamily: 'Arial',\n  fontSize: '13px',\n  color: '#595959',\n  backgroundColor: '#ffffff',\n  stroke: '#000000',\n  strokeWidth: 0,\n  $fill: '#333333'\n};\n\nconst REF_RX = /^\\$/;\n\nfunction isPrimitive(x) {\n  const type = typeof x;\n  return type !== 'object' && type !== 'function' && type !== 'undefined';\n}\n\n/**\n * @callback datum-accessor\n * @param {datum-extract} d\n */\n\n/**\n * @typedef {object} datum-config\n * @property {string} [scale]\n * @property {datum-accessor} fn\n * @property {string} ref - A reference to a datum-extract property\n */\n\n/**\n * @typedef {string|datum-config|datum-accessor} datum-string\n */\n\n/**\n * @typedef {number|datum-config|datum-accessor} datum-number\n */\n\n/**\n * @typedef {boolean|datum-config|datum-accessor} datum-boolean\n */\n\n/**\n * Normalizes property settings\n *\n * @ignore\n * @export\n * @param {any} settings\n * @param {any} defaults\n * @param {any} chart\n * @returns {any}\n */\nexport function normalizeSettings(settings, defaults, chart) {\n  const composition = extend({}, settings);\n  const defs = extend({}, defaults);\n  Object.keys(composition).forEach((key) => {\n    defs[key] = {};\n    const v = composition[key];\n    const vType = typeof v;\n    if (typeof v === 'function') {\n      defs[key].fn = v;\n    } else if (isPrimitive(v)) {\n      let defaultValue = defaults[key];\n      if (typeof defaultValue === 'string' && REF_RX.test(defaultValue)) {\n        defaultValue = GLOBAL_DEFAULTS[defaultValue];\n      }\n      const defaultType = typeof defaultValue;\n      if (defaultType === 'undefined') { // if property has no default, assign provided value\n        defs[key] = v;\n      } else { // assign provided value if it's of same type as default, otherwise use default\n        defs[key] = defaultType === vType ? v : defaultValue;\n      }\n    } else if (v && typeof v === 'object') {\n      if (typeof v.fn === 'function') {\n        defs[key].fn = v.fn;\n      }\n      if (typeof v.scale !== 'undefined') {\n        defs[key].scale = chart.scale(v.scale);\n      }\n      if (typeof v.ref === 'string') {\n        defs[key].ref = v.ref;\n      }\n    }\n  });\n\n  Object.keys(defaults).forEach((key) => {\n    if (key in composition) { // don't process same props again\n      return;\n    }\n    const v = defaults[key];\n    const defaultType = typeof v;\n    if (defaultType === 'string' && REF_RX.test(v)) {\n      defs[key] = GLOBAL_DEFAULTS[v];\n    } else {\n      defs[key] = v;\n    }\n  });\n\n  return defs;\n}\n\nexport function resolveForItem(context, normalized, idx) {\n  const ret = {};\n  const keys = Object.keys(normalized);\n  const len = keys.length;\n  const fallbackData = context.datum;\n  const datum = context.datum;\n  for (let i = 0; i < len; i++) {\n    const key = keys[i];\n    const normalizedProp = normalized[key];\n    const exists = typeof datum === 'object' && typeof normalizedProp !== 'undefined';\n    const hasExplicitDataProp = exists && typeof normalizedProp.ref === 'string';\n    const hasImplicitDataProp = exists && key in datum;\n    const propData = hasExplicitDataProp ? datum[normalizedProp.ref] : hasImplicitDataProp ? datum[key] : fallbackData; // eslint-disable-line\n    if (isPrimitive(normalizedProp)) {\n      ret[key] = normalizedProp;\n    } else if (exists && normalizedProp.fn) { // callback function\n      if (normalizedProp.scale) {\n        context.scale = normalizedProp.scale;\n      }\n      ret[key] = normalizedProp.fn.call(null, context, idx);\n    } else if (exists && normalizedProp.scale && propData) {\n      ret[key] = normalizedProp.scale(propData.value);\n      if (normalizedProp.scale.bandwidth) {\n        ret[key] += normalizedProp.scale.bandwidth() / 2;\n      }\n    } else if (hasExplicitDataProp && propData) {\n      ret[key] = propData.value;\n    } else if (normalizedProp.fn) {\n      ret[key] = normalizedProp.fn.call(null, context, idx);\n    } else {\n      ret[key] = normalizedProp;\n    }\n  }\n  return ret;\n}\n","\nexport function updateScaleSize(object, path, size) {\n  const o = object[path];\n  if (o && o.scale && o.scale.pxScale) {\n    o.scale = o.scale.pxScale(size);\n  } else if (o && o.pxScale) {\n    object[path] = o.pxScale(size);\n  }\n}\n\nexport function scaleWithSize(scale, size) {\n  return scale.pxScale ? scale.pxScale(size) : scale;\n}\n","import { normalizeSettings, resolveForItem } from '../chart-components/property-resolver';\nimport { updateScaleSize } from '../scales';\n\nconst externals = {\n  normalizeSettings,\n  resolveForItem,\n  updateScaleSize\n};\n\nexport default function (resources, deps = externals) {\n  let cache = {};\n\n  function resolve({\n    data,\n    settings,\n    defaults = {},\n    scaled\n  }) {\n    const norm = cache.norm = deps.normalizeSettings(settings, defaults, resources.chart);\n\n    const res = {\n      scale: resources.chart.scale,\n      formatter: resources.chart.formatter\n    };\n\n    if (scaled) {\n      Object.keys(scaled).forEach((key) => {\n        if (norm[key]) {\n          deps.updateScaleSize(norm, key, scaled[key]);\n        }\n      });\n    }\n\n    const resolved = [];\n    if (data && Array.isArray(data.items)) {\n      let context;\n      for (let i = 0, len = data.items.length; i < len; i++) {\n        context = {\n          datum: data.items[i],\n          data,\n          resources: res\n        };\n        let obj = deps.resolveForItem(context, cache.norm, i);\n        obj.data = data.items[i];\n        resolved.push(obj);\n      }\n    } else {\n      const context = {\n        data,\n        resources: res\n      };\n      let obj = deps.resolveForItem(context, cache.norm, -1);\n      return {\n        settings: cache.norm,\n        item: obj\n      };\n    }\n    return {\n      settings: cache.norm,\n      items: resolved\n    };\n  }\n\n  return {\n    resolve\n  };\n}\n","import extend from 'extend';\nimport { isTouchEvent } from '../utils/event-type';\n\n/**\n * Flatten the array of nodes by removing any containers as they do not support styling, thus unable to brush them.\n * @param {array} nodes\n * @ignore\n */\nexport function reduceToLeafNodes(nodes = []) {\n  return nodes.reduce((ary, node) => {\n    if (Array.isArray(node.children)) {\n      ary.push(...reduceToLeafNodes(node.children));\n      return ary;\n    }\n    ary.push(node);\n    return ary;\n  }, []);\n}\n\nexport function styler(obj, {\n  context,\n  data,\n  style,\n  filter,\n  mode\n}) {\n  const brusher = obj.chart.brush(context);\n  const dataProps = data;\n  const active = style.active || {};\n  const inactive = style.inactive || {};\n  const styleProps = [];\n  Object.keys(active).forEach((key) => {\n    styleProps.push(key);\n  });\n\n  Object.keys(inactive).forEach((key) => {\n    if (styleProps.indexOf(key) === -1) {\n      styleProps.push(key);\n    }\n  });\n\n  const activeNodes = [];\n  let globalActivation = false; // track when we need to loop through all nodes, not just the active ones\n\n  const getNodes = () => {\n    let nodes = reduceToLeafNodes(obj.nodes);\n    if (typeof filter === 'function') {\n      nodes = nodes.filter(filter);\n    }\n    return nodes;\n  };\n\n  const update = () => {\n    // TODO - render nodes only once, i.e. don't render for each brush, update nodes for all brushes and then render\n    const nodes = getNodes();\n    const len = nodes.length;\n    let nodeData;\n    let globalChanged = false;\n\n    for (let i = 0; i < len; i++) { // TODO - update only added and removed nodes\n      nodeData = nodes[i].data;\n      if (!nodeData) {\n        continue;\n      }\n\n      if (!nodes[i].__style) {\n        nodes[i].__style = {};\n        styleProps.forEach((s) => {\n          nodes[i].__style[s] = nodes[i][s]; // store original value\n        });\n      }\n\n      const isActive = brusher.containsMappedData(nodeData, dataProps, mode);\n      const activeIdx = activeNodes.indexOf(nodes[i]);\n      let changed = false;\n      if (isActive && activeIdx === -1) { // activated\n        activeNodes.push(nodes[i]);\n        changed = true;\n      } else if (!isActive && activeIdx !== -1) { // was active\n        activeNodes.splice(activeIdx, 1);\n        changed = true;\n      }\n      if (changed || globalActivation) {\n        const original = extend({}, nodes[i], nodes[i].__style);\n        styleProps.forEach((s) => {\n          if (isActive && s in active) {\n            nodes[i][s] = typeof active[s] === 'function' ? active[s].call(null, original) : active[s];\n          } else if (!isActive && s in inactive) {\n            nodes[i][s] = typeof inactive[s] === 'function' ? inactive[s].call(null, original) : inactive[s];\n          } else {\n            nodes[i][s] = nodes[i].__style[s];\n          }\n        });\n        globalChanged = true;\n      }\n    }\n    globalActivation = false;\n    return globalChanged;\n  };\n\n  const onStart = () => {\n    const nodes = getNodes();\n    const len = nodes.length;\n    for (let i = 0; i < len; i++) {\n      if (!nodes[i].data) {\n        continue;\n      }\n\n      nodes[i].__style = nodes[i].__style || {};\n      styleProps.forEach((s) => {\n        nodes[i].__style[s] = nodes[i][s]; // store original value\n        if (s in inactive) {\n          nodes[i][s] = typeof inactive[s] === 'function' ? inactive[s].call(null, nodes[i]) : inactive[s];\n        }\n      });\n    }\n    globalActivation = true;\n    activeNodes.length = 0;\n    obj.renderer.render(obj.nodes);\n  };\n\n  const onEnd = () => {\n    const nodes = getNodes();\n    const len = nodes.length;\n\n    for (let i = 0; i < len; i++) {\n      if (nodes[i].__style) {\n        Object.keys(nodes[i].__style).forEach((s) => {\n          nodes[i][s] = nodes[i].__style[s];\n        });\n        nodes[i].__style = undefined;\n      }\n    }\n    activeNodes.length = 0;\n    obj.renderer.render(obj.nodes);\n  };\n  const onUpdate = (/* added, removed */) => {\n    const changed = update();\n    if (changed) {\n      obj.renderer.render(obj.nodes);\n    }\n  };\n\n  const externalUpdate = () => {\n    activeNodes.length = 0;\n    globalActivation = true;\n    update();\n  };\n\n  brusher.on('start', onStart);\n  brusher.on('end', onEnd);\n  brusher.on('update', onUpdate);\n\n  function cleanUp() {\n    brusher.removeListener('start', onStart);\n    brusher.removeListener('end', onEnd);\n    brusher.removeListener('update', onUpdate);\n  }\n\n  return {\n    isActive() {\n      return brusher.isActive();\n    },\n    update: externalUpdate,\n    cleanUp\n  };\n}\n\nexport function brushDataPoints({\n  dataPoints,\n  action,\n  chart,\n  trigger\n}) {\n  if (!trigger) {\n    return;\n  }\n\n  const dataProps = trigger.data || [''];\n\n  let rangeBrush = {\n    items: [],\n    actionFn: 'toggleRanges'\n  };\n  let valueBrush = {\n    items: [],\n    actionFn: 'toggleValues'\n  };\n\n  if (['add', 'remove', 'set', 'toggle'].indexOf(action) !== -1) {\n    rangeBrush.actionFn = `${action}Ranges`;\n    valueBrush.actionFn = `${action}Values`;\n  }\n\n  for (let i = 0; i < dataPoints.length; i++) {\n    const dataPoint = dataPoints[i];\n    if (!dataPoint) {\n      continue;\n    }\n    dataProps.forEach((p) => {\n      let d = dataPoint && !p ? dataPoint : dataPoint[p];\n      if (d) {\n        let it = { key: d.source.field };\n        if (typeof d.source.key !== 'undefined') {\n          it.key = `${d.source.key}/${d.source.field}`;\n        }\n        if (Array.isArray(d.value)) {\n          it.range = { min: d.value[0], max: d.value[1] };\n          rangeBrush.items.push(it);\n        } else {\n          it.value = d.value;\n          valueBrush.items.push(it);\n        }\n      }\n    });\n  }\n\n  trigger.contexts.forEach((c) => {\n    if (rangeBrush.items.length) {\n      chart.brush(c)[rangeBrush.actionFn](rangeBrush.items);\n    } else {\n      chart.brush(c)[valueBrush.actionFn](valueBrush.items); // call action even if there are items to potentially clear what is currently in the brush\n    }\n  });\n}\n\nexport function brushFromSceneNodes({\n  nodes,\n  action,\n  chart,\n  trigger\n}) {\n  const dataPoints = [];\n  for (let i = 0; i < nodes.length; i++) {\n    const node = nodes[i];\n    let nodeData = node.data;\n    if (nodeData !== null) {\n      dataPoints.push(nodeData);\n    }\n  }\n\n  brushDataPoints({\n    dataPoints,\n    action,\n    chart,\n    trigger\n  });\n}\n\nexport function resolveEvent({\n  collisions, t, config, action\n}) {\n  let brushCollisions = [];\n  let resolved = false;\n\n  if (collisions.length > 0) {\n    brushCollisions = collisions;\n    resolved = true;\n\n    if (t.propagation === 'stop') {\n      brushCollisions = [collisions[collisions.length - 1]];\n    }\n  }\n\n  const nodes = brushCollisions.map((c) => c.node);\n  brushFromSceneNodes({\n    nodes,\n    action,\n    chart: config.chart,\n    data: config.data,\n    trigger: t\n  });\n\n  return resolved;\n}\n\nfunction touchSingleContactPoint(e, rect) {\n  if (e.changedTouches.length !== 1) {\n    return null;\n  }\n\n  return {\n    x: e.changedTouches[0].clientX - rect.left,\n    y: e.changedTouches[0].clientY - rect.top\n  };\n}\n\nfunction singleContactPoint(e, rect) {\n  return {\n    x: e.clientX - rect.left,\n    y: e.clientY - rect.top\n  };\n}\n\nfunction resolveCollisions(e, t, renderer) {\n  const rect = renderer.element().getBoundingClientRect();\n  let p = isTouchEvent(e) ? touchSingleContactPoint(e, rect) : singleContactPoint(e, rect);\n\n  if (p === null || p.x < 0 || p.y < 0 || p.x > rect.width || p.y > rect.height) { // TODO include radius in this check?\n    return [];\n  }\n\n  if (t.touchRadius > 0 && isTouchEvent(e)) {\n    p = {\n      cx: p.x,\n      cy: p.y,\n      r: t.touchRadius // TODO Use touch event radius/width value (Need to handle dpi scaling as well)\n    };\n  }\n\n  return renderer.itemsAt(p);\n}\n\nfunction resolveAction(action, e, def) {\n  if (action) {\n    if (typeof action === 'function') {\n      return action(e);\n    }\n    return action;\n  }\n  return def;\n}\n\nexport function resolveTapEvent({ e, t, config }) {\n  const collisions = resolveCollisions(e, t, config.renderer);\n\n  return resolveEvent({\n    collisions, t, config, action: resolveAction(t.action, e, 'toggle')\n  });\n}\n\nexport function resolveOverEvent({ e, t, config }) {\n  const collisions = resolveCollisions(e, t, config.renderer);\n\n  return resolveEvent({\n    collisions, t, config, action: resolveAction(t.action, e, 'set')\n  });\n}\n","/**\n * A list of supported attributes in lower camelCase notation mapped to corresponding kebab-case notation.\n * The kebab-case notations are a sub-set of SVG attributes (https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute).\n * @ignore\n */\nconst mappedAttributes = {\n  fill: 'fill',\n  stroke: 'stroke',\n  opacity: 'opacity',\n  strokeWidth: 'stroke-width',\n  strokeLinejoin: 'stroke-linejoin',\n  fontFamily: 'font-family',\n  fontSize: 'font-size',\n  baseline: 'dominant-baseline', // Special case where we have defined our own attribute name\n  dominantBaseline: 'dominant-baseline',\n  anchor: 'text-anchor', // Special case where we have defined our own attribute name\n  textAnchor: 'text-anchor',\n  maxWidth: 'maxWidth',\n  transform: 'transform',\n  strokeDasharray: 'stroke-dasharray',\n  id: 'id'\n};\n\n/**\n * Takes a target object and assign each supported attribute from a source object to that target.\n * Each supported attributes is converted to a mapped kebab-case notation.\n * @ignore\n *\n * @param {object} target - Target object on which to assign mapped attribute values\n * @param {object} source - Source object\n */\nfunction assignMappedAttribute(target, source) {\n  Object.keys(mappedAttributes).forEach((key) => {\n    const sourceValue = source[key];\n    if (typeof sourceValue !== 'undefined') {\n      const mappedKey = mappedAttributes[key];\n      target[mappedKey] = sourceValue;\n    }\n  });\n}\n\nexport { mappedAttributes, assignMappedAttribute };\n","/**\n * @extends symbol-config\n * @typedef {object} symbol--circle\n */\nfunction circle(options) {\n  return {\n    type: 'circle',\n    fill: 'black',\n    cx: options.x,\n    cy: options.y,\n    r: options.size / 2\n  };\n}\n\nexport { circle as default };\n","export default function pointsToPath(points, close = true) {\n  let d = '';\n\n  for (let i = 0; i < points.length; i++) {\n    const p = points[i];\n    if (i === 0) {\n      d += `M${p.x} ${p.y}`;\n    } else {\n      d += `L${p.x} ${p.y}`;\n    }\n\n    d += ' ';\n  }\n\n  if (close) {\n    d += 'Z';\n  }\n\n  return d;\n}\n","import pointsToPath from '../utils/points-to-path';\n\n/**\n * @extends symbol-config\n * @typedef {object} symbol--diamond\n */\nfunction diamond(options) {\n  const size = options.size;\n  const left = options.x - (size / 2);\n  const top = options.y - (size / 2);\n  const points = [\n    { x: left, y: top + (size / 2) },\n    { x: left + (size / 2), y: top },\n    { x: left + size, y: top + (size / 2) },\n    { x: left + (size / 2), y: top + size },\n    { x: left, y: top + (size / 2) }\n  ];\n\n  return {\n    type: 'path',\n    fill: 'black',\n    d: pointsToPath(points)\n  };\n}\n\nexport { diamond as default };\n","import pointsToPath from '../utils/points-to-path';\n\nexport function generateCrossPoints(x, y, size, barWidth) {\n  const r = size / 2;\n  const innerLeft = x - (barWidth / 2);\n  const innerTop = y - (barWidth / 2);\n  const left = x - r;\n  const top = y - r;\n\n  return [\n    { x: innerLeft, y: innerTop }, // Top\n    { x: innerLeft, y: top },\n    { x: innerLeft + barWidth, y: top },\n    { x: innerLeft + barWidth, y: innerTop }, // Right\n    { x: left + size, y: innerTop },\n    { x: left + size, y: innerTop + barWidth },\n    { x: innerLeft + barWidth, y: innerTop + barWidth }, // Bottom\n    { x: innerLeft + barWidth, y: top + size },\n    { x: innerLeft, y: top + size },\n    { x: innerLeft, y: innerTop + barWidth }, // Left\n    { x: left, y: innerTop + barWidth },\n    { x: left, y: innerTop }\n  ];\n}\n\n/**\n * @extends symbol-config\n * @typedef {object} symbol--cross\n * @property {number} [width] - Width of the diagonals\n */\nfunction cross(options) {\n  const x = options.x;\n  const y = options.y;\n  const r = options.size / 2;\n  const width = isNaN(options.width) ? r / 2 : options.width;\n  const barWidth = Math.min(width, r);\n\n  const points = generateCrossPoints(x, y, options.size, barWidth);\n\n  return {\n    type: 'path',\n    fill: 'black',\n    d: pointsToPath(points)\n  };\n}\n\nexport { cross as default };\n","/**\n * Get x1, y1, x2, y2 point from angle\n * Source: {@link https://codepen.io/NV/pen/jcnmK}\n * @private\n *\n * @param  {number} angle Radians\n * @return {object}       Point with x1, y2, x2, y2.\n */\nexport function angleToPoints(angle) {\n  let segment = Math.floor((angle / Math.PI) * 2) + 2;\n  let diagonal = ((0.5 * segment) + 0.25) * Math.PI;\n  let op = Math.cos(Math.abs(diagonal - angle)) * Math.sqrt(2);\n  let x = op * Math.cos(angle);\n  let y = op * Math.sin(angle);\n\n  return {\n    x1: x < 0 ? 1 : 0,\n    y1: y < 0 ? 1 : 0,\n    x2: x >= 0 ? x : x + 1,\n    y2: y >= 0 ? y : y + 1\n  };\n}\n\n/**\n * Turns degrees into radians\n * @private\n *\n * @param  {number} degrees Degrees\n * @return {number}         Radians\n */\nexport function toRadians(d) {\n  return ((-d) / 180) * Math.PI;\n}\n\n/**\n * Turns radians into degrees\n * @private\n *\n * @param  {number} degrees Degrees\n * @return {number}         Radians\n */\nexport function toDegrees(r) {\n  return r * (180 / Math.PI);\n}\n\n/**\n * Get x1, y1, x2, y2 point from degree\n * @private\n *\n * @param  {number} d Degree\n * @return {object}   Point with x1, y2, x2, y2.\n */\nexport function degreesToPoints(d) {\n  return angleToPoints(toRadians(d));\n}\n","export function add(v1, v2) {\n  return {\n    x: v1.x + v2.x,\n    y: v1.y + v2.y\n  };\n}\n\nexport function sub(v1, v2) {\n  return {\n    x: v1.x - v2.x,\n    y: v1.y - v2.y\n  };\n}\n\nexport function scalarMultiply(v, s) {\n  return {\n    x: v.x * s,\n    y: v.y * s\n  };\n}\n\nexport function sqrMagnitude(v) {\n  return Math.pow(v.x, 2) + Math.pow(v.y, 2);\n}\n\nexport function magnitude(v) {\n  return Math.sqrt(sqrMagnitude(v));\n}\n\nexport function distanceX(v1, v2) {\n  return v1.x - v2.x;\n}\n\nexport function distanceY(v1, v2) {\n  return v1.y - v2.y;\n}\n\nexport function sqrDistance(v1, v2) {\n  return Math.pow(distanceX(v1, v2), 2) + Math.pow(distanceY(v1, v2), 2);\n}\n\nexport function distance(v1, v2) {\n  return Math.sqrt(sqrDistance(v1, v2));\n}\n\nexport function determinant(v1, v2) {\n  return (v1.x * v2.y) - (v2.x * v1.y);\n}\n\nexport function dot(v1, v2) {\n  return (v1.x * v2.x) + (v1.y * v2.y);\n}\n\nexport function projectOnto(v1, v2) {\n  const m = dot(v1, v2) / dot(v2, v2) || 1;\n  return {\n    x: v2.x * m,\n    y: v2.y * m\n  };\n}\n\nexport function rotate(v, radians, origin = { x: 0, y: 0 }) {\n  const cos = Math.cos(radians);\n  const sin = Math.sin(radians);\n\n  const t1 = sub(v, origin);\n\n  const t2 = {\n    x: (cos * t1.x) - (sin * t1.y),\n    y: (sin * t1.x) + (cos * t1.y)\n  };\n\n  return add(t2, origin);\n}\n\nexport function unit(v) {\n  const m = magnitude(v);\n  return { x: v.x / m, y: v.y / m };\n}\n\nexport function cross(u, v, a) {\n  return ((v.x - u.x) * (a.y - u.y)) - ((v.y - u.y) * (v.x - u.x));\n}\n","import { generateCrossPoints } from './cross';\nimport { toRadians } from '../math/angles';\nimport { rotate } from '../math/vector';\nimport pointsToPath from '../utils/points-to-path';\n\n/**\n * @extends symbol-config\n * @typedef {object} symbol--saltire\n * @property {number} [width] - Width of the diagonals\n */\nfunction saltire(options) {\n  const radians = toRadians(45);\n  const r = options.size / 2;\n  const width = isNaN(options.width) ? r / 2 : options.width;\n  const barWidth = Math.min(width, r);\n  let adjustedSize = options.size;\n\n  // Adjust for the barwidth and rotation angle, so that the visual part is always inside the symbol area\n  const h = Math.sin(Math.asin(-radians)) * (barWidth / 2);\n  const c = r / Math.sin(-radians);\n  adjustedSize += (c - r) * 2;\n  adjustedSize -= h * 2;\n\n  const centroid = { x: options.x, y: options.y };\n  const points = generateCrossPoints(options.x, options.y, adjustedSize, barWidth)\n    .map((p) => rotate(p, radians, centroid));\n\n  return {\n    type: 'path',\n    fill: 'black',\n    d: pointsToPath(points)\n  };\n}\n\nexport { saltire as default };\n","/**\n * @extends symbol-config\n * @typedef {object} symbol--square\n */\nfunction square(options) {\n  const size = options.size;\n\n  return {\n    type: 'rect',\n    fill: 'black',\n    x: options.x - (size / 2),\n    y: options.y - (size / 2),\n    width: size,\n    height: size\n  };\n}\n\nexport { square as default };\n","import pointsToPath from '../utils/points-to-path';\nimport { rotate } from '../math/vector';\nimport { toRadians } from '../math/angles';\n\nconst DIRECTION_TO_ANGLE = {\n  up: 0,\n  down: 180,\n  left: 90,\n  right: -90\n};\n\n/**\n * @extends symbol-config\n * @typedef {object} symbol--triangle\n * @property {string} [direction='up'] - Direction of the triangle ('up'|'down'|'left'|'right')\n */\nfunction triangle(options) {\n  const size = options.size;\n  const p = { x: options.x, y: options.y };\n  const directionAngle = DIRECTION_TO_ANGLE[options.direction] || 0;\n  const halfSize = (size / 2);\n  const left = options.x - halfSize;\n  const top = options.y - halfSize;\n  let points = [\n    { x: left, y: top + size },\n    { x: left + halfSize, y: top },\n    { x: left + size, y: top + size },\n    { x: left, y: top + size }\n  ];\n\n  const radians = toRadians(directionAngle);\n  points = points.map((pp) => rotate(pp, radians, p));\n\n  return {\n    type: 'path',\n    fill: 'black',\n    d: pointsToPath(points)\n  };\n}\n\nexport { triangle as default };\n","function createRectCollider({ x, y, size }) {\n  const r = size / 2;\n  return {\n    type: 'rect',\n    x: x - r,\n    y: y - r,\n    width: size,\n    height: size\n  };\n}\n\n/**\n * @extends symbol-config\n * @typedef {object} symbol--line\n * @property {string} [direction='horizontal'] - Direction of line ('horizontal'|'vertical').\n */\nfunction line(options) {\n  const isVertical = options.direction === 'vertical';\n  const r = options.size / 2;\n  const x = options.x;\n  const y = options.y;\n\n  return {\n    type: 'line',\n    stroke: 'black',\n    strokeWidth: 1,\n    x1: x - (isVertical ? 0 : r),\n    y1: y - (isVertical ? r : 0),\n    x2: x + (isVertical ? 0 : r),\n    y2: y + (isVertical ? r : 0),\n    collider: createRectCollider(options) // TODO Use visual collider?\n  };\n}\n\nexport { line as default };\n","import pointsToPath from '../utils/points-to-path';\nimport { toRadians } from '../math/angles';\n\n/**\n * @extends symbol-config\n * @typedef {object} symbol--star\n * @property {number} [points=5] - Number of points on the star\n * @property {number} [startAngle=90] - Start drawing angle\n * @property {number} [innerRadius=size/2] - Size of the star core. My not exceed size of symbol.\n */\nfunction star(options) {\n  const size = options.size;\n  const points = [];\n  const outerRadius = size / 2;\n  const drawPoints = options.points || 5;\n  const innerRadius = (Math.min(options.innerRadius || size / 2, size) / 2);\n  const startAngle = isNaN(options.startAngle) ? 90 : options.startAngle;\n  const angle = 360 / drawPoints;\n\n  for (let i = 1; i <= drawPoints; i++) {\n    const pAngle = (angle * i) + startAngle;\n    const radians = toRadians(pAngle);\n    const innerRadians = toRadians(pAngle + (angle / 2));\n    const y = Math.sin(radians);\n    const x = Math.cos(radians);\n    const iy = Math.sin(innerRadians);\n    const ix = Math.cos(innerRadians);\n\n    points.push({\n      x: options.x + (x * outerRadius),\n      y: options.y + (y * outerRadius)\n    });\n\n    points.push({\n      x: options.x + (ix * innerRadius),\n      y: options.y + (iy * innerRadius)\n    });\n  }\n\n  return {\n    type: 'path',\n    fill: 'black',\n    d: pointsToPath(points)\n  };\n}\n\nexport { star as default };\n","import pointsToPath from '../utils/points-to-path';\nimport { toRadians } from '../math/angles';\n\n/**\n * @extends symbol-config\n * @typedef {object} symbol--n-polygon\n * @property {object} [sides=6] - Number of sides on the regular polygon\n * @property {object} [startAngle=0] - Start drawing angle\n */\nfunction nPolygon(options) {\n  const points = [];\n  const radius = options.size / 2;\n  const drawPoints = Math.max(isNaN(options.sides) ? 6 : options.sides, 3);\n  const angle = 360 / drawPoints;\n  const startAngle = isNaN(options.startAngle) ? 0 : options.startAngle;\n\n  for (let i = 1; i <= drawPoints; i++) {\n    const radians = toRadians((angle * i) + startAngle);\n    const y = Math.sin(radians);\n    const x = Math.cos(radians);\n    points.push({\n      x: options.x + (x * radius),\n      y: options.y + (y * radius)\n    });\n  }\n\n  return {\n    type: 'path',\n    fill: 'black',\n    d: pointsToPath(points)\n  };\n}\n\nexport { nPolygon as default };\n","import { rotate } from '../math/vector';\nimport { pointsToRect } from '../geometry/util';\nimport { toRadians } from '../math/angles';\n\n/**\n * @extends symbol-config\n * @typedef {object} symbol--bar\n * @property {string} [direction='horizontal'] - Direction of bar ('horizontal'|'vertical').\n */\nfunction bar(options) {\n  const p = { x: options.x, y: options.y };\n  const isVertical = options.direction === 'vertical';\n  const r = options.size / 2;\n  const width = r / 2;\n  const halfWidth = width / 2;\n\n  let points = [\n    { x: p.x - r, y: p.y + halfWidth },\n    { x: p.x - r, y: p.y - halfWidth },\n    { x: p.x + r, y: p.y - halfWidth },\n    { x: p.x + r, y: p.y + halfWidth }\n  ];\n\n  if (isVertical) {\n    const radians = toRadians(90);\n    points = points.map((pp) => rotate(pp, radians, p));\n  }\n\n  const rect = pointsToRect(points);\n  rect.type = 'rect';\n  rect.fill = 'black';\n\n  return rect;\n}\n\nexport { bar as default };\n","import { mappedAttributes } from '../scene-graph/attributes';\nimport circle from './circle';\nimport diamond from './diamond';\nimport saltire from './saltire';\nimport square from './square';\nimport triangle from './triangle';\nimport line from './line';\nimport star from './star';\nimport nPolygon from './n-polygon';\nimport cross from './cross';\nimport bar from './bar';\nimport registry from '../utils/registry';\n\nconst parentReg = registry();\n\nparentReg.add('circle', circle);\nparentReg.add('diamond', diamond);\nparentReg.add('saltire', saltire);\nparentReg.add('square', square);\nparentReg.add('triangle', triangle);\nparentReg.add('line', line);\nparentReg.add('star', star);\nparentReg.add('n-polygon', nPolygon);\nparentReg.add('cross', cross);\nparentReg.add('bar', bar);\n\nfunction applyOpts(obj, opts = {}) {\n  Object.keys(opts).forEach((key) => {\n    if (typeof mappedAttributes[key] !== 'undefined' && key !== 'transform') {\n      obj[key] = opts[key];\n    }\n  });\n}\n\n/**\n * Factory function for symbols.\n * Options object is passed to symbols function.\n * @private\n * @param {symbol--bar|symbol--circle|symbol--cross|symbol--diamond|symbol--line|symbol--n-polygon|symbol--saltire|symbol--square|symbol--star|symbol--triangle} options - Options definition may contain any of the supported display-object attributes\n * @returns {object} A node definition\n */\nconst create = (reg = parentReg) => (options = {}) => {\n  // TODO handle reserverd properties x, y, size, data, etc..\n  const fn = reg.get(options.type);\n  if (fn) {\n    const s = fn(options);\n    applyOpts(s, options);\n\n    if (typeof options.data !== 'undefined') {\n      s.data = options.data;\n    }\n\n    return s;\n  }\n  return fn;\n};\n\nexport {\n  create as default,\n  parentReg as symbolRegistry\n};\n\n/**\n * Mandatory symbol config\n * @typedef {object} symbol-config\n * @property {object} options - Options definition may contain any of the supported display-object attributes\n * @property {string} options.type - Type of symbol\n * @property {number} options.x - x-coordinate\n * @property {number} options.y - y-coordinate\n * @property {number} options.size\n * @property {object} [options.data]\n */\n","/* eslint camelcase: 1 */\nimport extend from 'extend';\nimport EventEmitter from '../utils/event-emitter';\nimport extractData from '../data/extractor';\nimport tween from './tween';\nimport settingsResolver from './settings-resolver';\nimport {\n  styler as brushStyler,\n  resolveTapEvent,\n  resolveOverEvent,\n  brushFromSceneNodes\n} from './brushing';\nimport createSymbolFactory from '../symbols';\nimport createDockConfig from '../layout/dock/config';\n\nconst isReservedProperty = (prop) => [\n  'on', 'preferredSize', 'created', 'beforeMount', 'mounted', 'resize',\n  'beforeUpdate', 'updated', 'beforeRender', 'render', 'beforeUnmount', 'beforeDestroy',\n  'destroyed', 'defaultSettings', 'data', 'settings', 'formatter',\n  'scale', 'chart', 'dockConfig', 'mediator', 'style', 'resolver', 'registries',\n  '_DO_NOT_USE_getInfo', 'symbol', 'isVisible'\n].some((name) => name === prop);\n\nfunction prepareContext(ctx, definition, opts) {\n  const {\n    require = []\n  } = definition;\n  const mediatorSettings = definition.mediator || {};\n  const {\n    settings,\n    formatter,\n    scale,\n    data,\n    renderer,\n    chart,\n    dockConfig,\n    mediator,\n    instance,\n    rect,\n    style,\n    registries,\n    resolver,\n    update,\n    _DO_NOT_USE_getInfo,\n    symbol,\n    isVisible\n  } = opts;\n\n  ctx.emit = () => {};\n\n  if (isVisible) {\n    ctx.isVisible = isVisible;\n  }\n\n  // TODO add setters and log warnings / errors to console\n  Object.defineProperty(ctx, 'settings', {\n    get: settings\n  });\n  Object.defineProperty(ctx, 'data', {\n    get: data\n  });\n  Object.defineProperty(ctx, 'formatter', {\n    get: formatter\n  });\n  Object.defineProperty(ctx, 'scale', {\n    get: scale\n  });\n  Object.defineProperty(ctx, 'mediator', {\n    get: mediator\n  });\n  Object.defineProperty(ctx, 'style', {\n    get: style\n  });\n  Object.defineProperty(ctx, 'registries', {\n    get: registries\n  });\n  if (rect) {\n    Object.defineProperty(ctx, 'rect', {\n      get: rect\n    });\n  }\n\n  // TODO _DO_NOT_USE_getInfo is a temporary solution to expose info from a component\n  // It should replace ASAP with a proper solution.\n  // The only component activaly in need of it is the legend-cat\n  if (_DO_NOT_USE_getInfo) {\n    ctx._DO_NOT_USE_getInfo = _DO_NOT_USE_getInfo;\n  }\n\n  Object.keys(definition).forEach((key) => {\n    if (!isReservedProperty(key)) {\n      // Add non-lifecycle methods to the context\n      if (typeof definition[key] === 'function') {\n        ctx[key] = definition[key].bind(ctx);\n      } else {\n        ctx[key] = definition[key];\n      }\n    }\n  });\n\n  // Add properties to context\n  require.forEach((req) => {\n    if (req === 'renderer') {\n      Object.defineProperty(ctx, 'renderer', {\n        get: renderer\n      });\n    } else if (req === 'chart') {\n      Object.defineProperty(ctx, 'chart', {\n        get: chart\n      });\n    } else if (req === 'dockConfig') {\n      Object.defineProperty(ctx, 'dockConfig', {\n        get: dockConfig\n      });\n    } else if (req === 'instance') {\n      Object.defineProperty(ctx, 'instance', {\n        get: instance\n      });\n    } else if (req === 'update' && update) {\n      Object.defineProperty(ctx, 'update', {\n        get: update\n      });\n    } else if (req === 'resolver') {\n      Object.defineProperty(ctx, 'resolver', {\n        get: resolver\n      });\n    } else if (req === 'symbol') {\n      Object.defineProperty(ctx, 'symbol', {\n        get: symbol\n      });\n    }\n  });\n\n  Object.keys(mediatorSettings).forEach((eventName) => {\n    ctx.mediator.on(eventName, mediatorSettings[eventName].bind(ctx));\n  });\n}\n\nfunction createDockDefinition(settings, preferredSize, logger) {\n  const getLayoutProperty = (propName) => {\n    if (settings[propName]) {\n      logger.warn(`Deprecation Warning the ${propName} property should be moved into layout: {} property`); // eslint-disable-line no-console\n      return settings[propName];\n    }\n    return settings.layout ? settings.layout[propName] : undefined;\n  };\n\n  const def = {};\n  def.displayOrder = getLayoutProperty('displayOrder');\n  def.dock = getLayoutProperty('dock');\n  def.prioOrder = getLayoutProperty('prioOrder');\n  def.minimumLayoutMode = getLayoutProperty('minimumLayoutMode');\n\n  // move layout properties to layout object\n  settings.layout = settings.layout || {};\n  settings.layout.displayOrder = typeof def.displayOrder !== 'undefined' ? def.displayOrder : settings.layout.displayOrder;\n  settings.layout.prioOrder = typeof def.prioOrder !== 'undefined' ? def.prioOrder : settings.layout.prioOrder;\n  settings.layout.dock = def.dock || settings.layout.dock;\n  settings.layout.minimumLayoutMode = def.minimumLayoutMode || settings.layout.minimumLayoutMode;\n\n  // not directly a dock layout property\n  def.show = settings.show;\n  def.preferredSize = preferredSize;\n  return def;\n}\n\nfunction setUpEmitter(ctx, emitter, settings) {\n  // Object.defineProperty(ctx, 'emitter', )\n  Object.keys(settings.on || {}).forEach((event) => {\n    ctx.eventListeners = ctx.eventListeners || [];\n    const listener = settings.on[event].bind(ctx);\n    ctx.eventListeners.push({ event, listener });\n    emitter.on(event, listener);\n  });\n  ctx.emit = (name, ...event) => emitter.emit(name, ...event);\n}\n\nfunction tearDownEmitter(ctx, emitter) {\n  if (ctx.eventListeners) {\n    ctx.eventListeners.forEach(({ event, listener }) => {\n      emitter.removeListener(event, listener);\n    });\n    ctx.eventListeners.length = 0;\n  }\n  ctx.emit = () => {};\n}\n\n// First render\n// preferredSize -> resize -> beforeRender -> render -> mounted\n\n// Normal update\n// beforeUpdate -> preferredSize -> resize -> beforeRender -> render -> updated\n\n// Update without relayout\n// beforeUpdate -> beforeRender -> render -> updated\n\n// TODO support es6 classes\nfunction componentFactory(definition, context = {}) {\n  const {\n    defaultSettings = {},\n    _DO_NOT_USE_getInfo = () => ({})\n  } = definition;\n  const {\n    chart,\n    container,\n    mediator,\n    registries,\n    theme,\n    renderer // Used by tests\n  } = context;\n  const emitter = EventEmitter.mixin({});\n  let config = context.settings || {};\n  let settings = extend(true, {}, defaultSettings, config);\n  let data = [];\n  let scale;\n  let formatter;\n  let element;\n  let size;\n  let style;\n  let resolver = settingsResolver({\n    chart\n  });\n  let isVisible = false;\n\n  const brushArgs = {\n    nodes: [],\n    chart,\n    config: settings.brush || {},\n    renderer: null\n  };\n  const brushTriggers = {\n    tap: [],\n    over: []\n  };\n  const brushStylers = [];\n  const definitionContext = {};\n  const instanceContext = extend({}, config);\n\n  // Create a callback that calls lifecycle functions in the definition and config (if they exist).\n  function createCallback(method, defaultMethod = () => { }, canBeValue = false) {\n    return function cb(...args) {\n      const inDefinition = typeof definition[method] !== 'undefined';\n      const inConfig = typeof config[method] !== 'undefined';\n\n      let returnValue;\n      if (inDefinition) {\n        if (typeof definition[method] === 'function') {\n          returnValue = definition[method].call(definitionContext, ...args);\n        } else if (canBeValue) {\n          returnValue = definition[method];\n        }\n      }\n\n      if (inConfig) {\n        if (typeof config[method] === 'function') {\n          returnValue = config[method].call(instanceContext, ...args);\n        } else if (canBeValue) {\n          returnValue = config[method];\n        }\n      }\n\n      if (!inDefinition && !inConfig) {\n        returnValue = defaultMethod.call(definitionContext, ...args);\n      }\n\n      return returnValue;\n    };\n  }\n\n  const preferredSize = createCallback('preferredSize', () => 0, true);\n  const resize = createCallback('resize', ({ inner }) => inner);\n  const created = createCallback('created');\n  const beforeMount = createCallback('beforeMount');\n  const mounted = createCallback('mounted');\n  const beforeUnmount = createCallback('beforeUnmount');\n  const beforeUpdate = createCallback('beforeUpdate');\n  const updated = createCallback('updated');\n  const beforeRender = createCallback('beforeRender');\n  const beforeDestroy = createCallback('beforeDestroy');\n  const destroyed = createCallback('destroyed');\n  const render = definition.render; // Do not allow overriding of this function\n\n  const addBrushStylers = () => {\n    if (settings.brush) {\n      (settings.brush.consume || []).forEach((b) => {\n        if (b.context && b.style) {\n          brushStylers.push(brushStyler(brushArgs, b));\n        }\n      });\n    }\n  };\n\n  const addBrushTriggers = () => {\n    if (settings.brush) {\n      (settings.brush.trigger || []).forEach((t) => {\n        if (t.on === 'over') {\n          brushTriggers.over.push(t);\n        } else {\n          brushTriggers.tap.push(t);\n        }\n      });\n    }\n  };\n\n  Object.defineProperty(brushArgs, 'data', {\n    get: () => data\n  });\n\n  const rendString = settings.renderer || definition.renderer;\n  const rend = rendString ? renderer || registries.renderer(rendString)() : renderer || registries.renderer()();\n  brushArgs.renderer = rend;\n\n  const dockConfigCallbackContext = { resources: chart.logger ? { logger: chart.logger() } : {} };\n  let dockConfig = createDockConfig(createDockDefinition(settings, preferredSize, chart.logger()), dockConfigCallbackContext);\n\n  const appendComponentMeta = (node) => {\n    node.key = settings.key;\n    node.element = rend.element();\n  };\n\n  const fn = () => {};\n\n  fn.dockConfig = () => dockConfig;\n\n  // Set new settings - will trigger mapping of data and creation of scale / formatter.\n  fn.set = (opts = {}) => {\n    if (opts.settings) {\n      config = opts.settings;\n      settings = extend(true, {}, defaultSettings, opts.settings);\n      dockConfig = createDockConfig(createDockDefinition(settings, preferredSize, chart.logger()), dockConfigCallbackContext);\n    }\n\n    if (settings.scale) {\n      scale = chart.scale(settings.scale);\n    }\n\n    if (settings.data) {\n      data = extractData(settings.data, { dataset: chart.dataset, collection: chart.dataCollection }, { logger: chart.logger() }, chart.dataCollection);\n    } else if (scale) {\n      data = scale.data();\n    } else {\n      data = [];\n    }\n\n    if (typeof settings.formatter === 'string') {\n      formatter = chart.formatter(settings.formatter);\n    } else if (typeof settings.formatter === 'object') {\n      formatter = chart.formatter(settings.formatter);\n    } else if (scale && scale.data().fields) {\n      formatter = scale.data().fields[0].formatter();\n    }\n\n    style = theme.style(settings.style || {});\n  };\n\n  fn.resize = (inner = {}, outer = {}) => {\n    const newSize = resize({\n      inner,\n      outer\n    });\n    if (newSize) {\n      size = rend.size(newSize);\n    } else {\n      size = rend.size(inner);\n    }\n    instanceContext.rect = extend(true, {\n      computedPhysical: size.computedPhysical,\n      computedOuter: outer.computed || outer,\n      computedInner: inner.computed || inner\n    }, inner);\n    size = extend(true, {\n      computedOuter: outer.computed || outer,\n      computedInner: inner.computed || inner\n    }, size);\n  };\n\n  fn.getRect = () => instanceContext.rect;\n\n  const getRenderArgs = () => {\n    const renderArgs = rend.renderArgs ? rend.renderArgs.slice(0) : [];\n    renderArgs.push({\n      data\n    });\n    return renderArgs;\n  };\n\n  fn.beforeMount = beforeMount;\n\n  fn.beforeRender = () => {\n    beforeRender({\n      size\n    });\n  };\n\n  let currentNodes;\n\n  fn.render = () => {\n    const nodes = brushArgs.nodes = render.call(definitionContext, ...getRenderArgs());\n    rend.render(nodes);\n    currentNodes = nodes;\n  };\n\n  fn.hide = () => {\n    fn.unmount();\n    rend.size({\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    });\n    rend.clear();\n  };\n\n  fn.beforeUpdate = () => {\n    beforeUpdate({\n      settings,\n      data\n    });\n  };\n\n  let currentTween;\n  fn.update = () => {\n    if (currentTween) {\n      currentTween.stop();\n    }\n    const nodes = brushArgs.nodes = render.call(definitionContext, ...getRenderArgs());\n\n    // Reset brush stylers and triggers\n    brushStylers.forEach((b) => b.cleanUp());\n    brushStylers.length = 0;\n    brushTriggers.tap = [];\n    brushTriggers.over = [];\n\n    if (settings.brush) {\n      addBrushStylers();\n      addBrushTriggers();\n    }\n\n    brushStylers.forEach((bs) => {\n      if (bs.isActive()) {\n        bs.update();\n      }\n    });\n\n    if (currentNodes && settings.animations && settings.animations.enabled) {\n      currentTween = tween({\n        old: currentNodes,\n        current: nodes\n      }, { renderer: rend }, settings.animations);\n      currentTween.start();\n    } else {\n      rend.render(nodes);\n    }\n    currentNodes = nodes;\n\n    if (rend.setKey && typeof config.key === 'string') {\n      rend.setKey(config.key);\n    }\n  };\n\n  fn.updated = updated;\n\n  fn.destroy = () => {\n    fn.unmount();\n    beforeDestroy(element);\n    rend.destroy();\n    destroyed();\n    element = null;\n  };\n\n  /**\n   * Update active nodes. For now this can be used as a way update and apply brushing on nodes.\n   * Ex: if a component have changed the nodes since its initial render.\n   * @param {Nodes[]} nodes\n   * @deprecated\n   * @ignore\n   */\n  const updateNodes = (nodes) => {\n    brushArgs.nodes = nodes;\n    brushStylers.forEach((bs) => {\n      if (bs.isActive()) {\n        bs.update();\n      }\n    });\n    rend.render(nodes);\n  };\n\n  // Set contexts, note that the definition and instance need different contexts (for example if they have different 'require' props)\n  prepareContext(definitionContext, definition, {\n    settings: () => settings,\n    data: () => data,\n    scale: () => scale,\n    formatter: () => formatter,\n    renderer: () => rend,\n    chart: () => chart,\n    dockConfig: () => dockConfig,\n    mediator: () => mediator,\n    instance: () => instanceContext,\n    rect: () => instanceContext.rect,\n    style: () => style,\n    update: () => updateNodes,\n    registries: () => registries,\n    resolver: () => resolver,\n    symbol: () => createSymbolFactory(registries.symbol)\n  });\n\n  prepareContext(instanceContext, config, {\n    settings: () => settings,\n    data: () => data,\n    scale: () => scale,\n    formatter: () => formatter,\n    renderer: () => rend,\n    chart: () => chart,\n    dockConfig: () => dockConfig,\n    mediator: () => mediator,\n    style: () => style,\n    _DO_NOT_USE_getInfo: _DO_NOT_USE_getInfo.bind(definitionContext),\n    isVisible: () => isVisible\n  });\n\n  fn.getBrushedShapes = function getBrushedShapes(brushCtx, mode, props) {\n    const shapes = [];\n    if (settings.brush && settings.brush.consume) {\n      const brusher = chart.brush(brushCtx);\n      const sceneNodes = rend.findShapes('*');\n      settings.brush.consume\n        .filter((t) => t.context === brushCtx)\n        .forEach((consume) => {\n          for (let i = 0; i < sceneNodes.length; i++) {\n            const node = sceneNodes[i];\n            if (node.data && brusher.containsMappedData(node.data, props || consume.data, mode)) {\n              appendComponentMeta(node);\n              shapes.push(node);\n              sceneNodes.splice(i, 1);\n              i--;\n            }\n          }\n        });\n    }\n    return shapes;\n  };\n\n  fn.findShapes = (selector) => {\n    const shapes = rend.findShapes(selector);\n    for (let i = 0, num = shapes.length; i < num; i++) {\n      appendComponentMeta(shapes[i]);\n    }\n\n    return shapes;\n  };\n\n  fn.shapesAt = (shape, opts = {}) => {\n    const items = rend.itemsAt(shape);\n    let shapes;\n\n    if (opts && opts.propagation === 'stop' && items.length > 0) {\n      shapes = [items.pop().node];\n    } else {\n      shapes = items.map((i) => i.node);\n    }\n\n    for (let i = 0, num = shapes.length; i < num; i++) {\n      appendComponentMeta(shapes[i]);\n    }\n\n    return shapes;\n  };\n\n  fn.brushFromShapes = (shapes, trigger = {}) => {\n    trigger.contexts = Array.isArray(trigger.contexts) ? trigger.contexts : [];\n    const action = trigger.action || 'toggle';\n\n    brushFromSceneNodes({\n      nodes: shapes,\n      action,\n      trigger,\n      chart,\n      data: brushArgs.data\n    });\n  };\n\n  fn.mount = () => {\n    element = rend.element && rend.element() ? element : rend.appendTo(container);\n    if (rend.setKey && typeof config.key === 'string') {\n      rend.setKey(config.key);\n    }\n\n    if (settings.brush) {\n      addBrushStylers();\n      addBrushTriggers();\n    }\n\n    setUpEmitter(instanceContext, emitter, config);\n    setUpEmitter(definitionContext, emitter, definition);\n\n    isVisible = true;\n  };\n\n  fn.mounted = () => mounted(element);\n\n  fn.unmount = () => {\n    [instanceContext, definitionContext].forEach((ctx) => {\n      tearDownEmitter(ctx, emitter);\n    });\n    brushTriggers.tap = [];\n    brushTriggers.over = [];\n    brushStylers.forEach((bs) => {\n      bs.cleanUp();\n    });\n    brushStylers.length = 0;\n    beforeUnmount();\n\n    isVisible = false;\n  };\n\n  fn.onBrushTap = (e) => {\n    brushTriggers.tap.forEach((t) => {\n      if (resolveTapEvent({ e, t, config: brushArgs }) && t.globalPropagation === 'stop') {\n        chart.toggleBrushing(true);\n      }\n    });\n  };\n\n  fn.onBrushOver = (e) => {\n    brushTriggers.over.forEach((t) => {\n      if (resolveOverEvent({ e, t, config: brushArgs }) && t.globalPropagation === 'stop') {\n        chart.toggleBrushing(true);\n      }\n    });\n  };\n\n  /**\n   * Expose definition on instance\n   * @private\n   * @experimental\n   */\n  fn.def = definitionContext;\n\n  /**\n   * Expose instanceCtx on \"instance\"\n   * @private\n   * @experimental\n   */\n  fn.ctx = instanceContext;\n\n  fn.renderer = () => rend;\n\n  fn.set({ settings: config });\n  created();\n\n  return fn;\n}\n\nexport default componentFactory;\n","import EventEmitter from '../utils/event-emitter';\n\nexport default function mediator() {\n  const instance = {};\n  EventEmitter.mixin(instance);\n  return instance;\n}\n","import {\n  add, sub, projectOnto, distance\n} from './vector';\n\nconst EPSILON = 1e-12;\n\nexport function closestPointToLine(start, end, p) {\n  const startToPoint = sub(p, start);\n  const startToEnd = sub(end, start);\n  const pointOnLine = add(projectOnto(startToPoint, startToEnd), start);\n  return pointOnLine;\n}\n\nexport function isPointOnLine(start, end, p) {\n  return (distance(start, p) + distance(end, p)) - distance(start, end) < EPSILON;\n}\n\nexport function isCollinear(p1, p2, p3, e = EPSILON) {\n  const t = Math.abs((p1.x * (p2.y - p3.y)) + (p2.x * (p3.y - p1.y)) + (p3.x * (p1.y - p2.y)));\n  return t < e;\n}\n\n/**\n * Check if rectangle a is located inside rectangle b or if they are the same rectangle.\n * @param {rect} a - An rect containing (x,y) coordinates, width and height. The origin is assumed to be top left.\n * @param {rect} b - An rect containing (x,y) coordinates, width and height. The origin is assumed to be top left.\n * @ignore\n */\nexport function rectContainsRect(a, b) {\n  return a.x >= b.x\n        && a.x + a.width <= b.x + b.width\n        && a.y >= b.y\n        && a.y + a.height <= b.y + b.height;\n}\n","/* eslint no-use-before-define: [\"error\", { \"functions\": false }] */\n\nimport {\n  sqrDistance,\n  distanceX,\n  distanceY\n} from './vector';\nimport {\n  closestPointToLine,\n  isPointOnLine\n} from './intersection';\nimport {\n  lineToPoints,\n  rectToPoints,\n  pointsToLine\n} from '../geometry/util';\n\nfunction lineHasNoLength(line) {\n  return line.x1 === line.x2 && line.y1 === line.y2;\n}\n\nfunction rectHasNoSize(rect) {\n  return rect.width <= 0 || rect.height <= 0;\n}\n\nfunction circleHasNoSize(circle) {\n  return circle.r <= 0;\n}\n\nfunction toFewEdges(polygon) {\n  return polygon.edges.length <= 2;\n}\n\n/**\n   * Test if a Circle contains a point. If so, returns true and false otherwise.\n   * Circle muse have a radius greater then 0.\n   * @private\n   * @param {object} circle\n   * @param {number} circle.cx - center x-coordinate\n   * @param {number} circle.cy - center y-coordinate\n   * @param {number} circle.r - circle radius\n   * @param {object} point\n   * @param {number} point.x - x-coordinate\n   * @param {number} point.y - y-coordinate\n   * @return {boolean} true if circle contains point\n   */\nexport function testCirclePoint(circle, point) {\n  if (circleHasNoSize(circle)) {\n    return false;\n  }\n\n  const center = { x: circle.cx, y: circle.cy };\n  const sqrDist = sqrDistance(center, point);\n\n  if (sqrDist <= Math.pow(circle.r, 2)) {\n    return true;\n  }\n  return false;\n}\n\n/**\n   * Test if a Circle collide with a rectangle. If so, returns true and false otherwise.\n   * Circle muse have a radius greater then 0.\n   * Rectangle must have a width and height greather then 0.\n   * @private\n   * @param {object} circle\n   * @param {number} circle.cx - center x-coordinate\n   * @param {number} circle.cy - center y-coordinate\n   * @param {number} circle.r - circle radius\n   * @param {object} rect\n   * @param {number} rect.x - x-coordinate\n   * @param {number} rect.y - y-coordinate\n   * @param {number} rect.width - width\n   * @param {number} rect.height - height\n   * @return {boolean} true if circle collide with rectangle\n  */\nexport function testCircleRect(circle, rect) {\n  if (rectHasNoSize(rect) || circleHasNoSize(circle)) {\n    return false;\n  }\n  const rX = rect.width / 2;\n  const rY = rect.height / 2;\n  const rcX = rect.x + rX;\n  const rcY = rect.y + rY;\n  const r = circle.r;\n  const cx = circle.cx;\n  const cy = circle.cy;\n  const dX = Math.abs(cx - rcX);\n  const dY = Math.abs(cy - rcY);\n\n  if (dX > rX + r || dY > rY + r) { return false; }\n\n  if (dX <= rX || dY <= rY) { return true; }\n\n  const sqrDist = Math.pow(dX - rX, 2) + Math.pow(dY - rY, 2);\n\n  return sqrDist <= Math.pow(r, 2);\n}\n\n/**\n   * Test if a Circle collide with a line segment. If so, returns true and false otherwise.\n   * Circle muse have a radius greater then 0.\n   * Line must have a length greater then 0.\n   * @private\n   * @param {object} circle\n   * @param {number} circle.cx - center x-coordinate\n   * @param {number} circle.cy - center y-coordinate\n   * @param {number} circle.r - circle radius\n   * @param {object} line\n   * @param {number} line.x1 - x-coordinate\n   * @param {number} line.y1 - y-coordinate\n   * @param {number} line.x1 - x-coordinate\n   * @param {number} line.y1 - y-coordinate\n   * @return {boolean} true if circle collide with line\n  */\nexport function testCircleLine(circle, line) {\n  if (circleHasNoSize(circle) || lineHasNoLength(line)) {\n    return false;\n  }\n\n  const [p1, p2] = lineToPoints(line);\n  if (testCirclePoint(circle, p1) || testCirclePoint(circle, p2)) {\n    return true;\n  }\n\n  const center = { x: circle.cx, y: circle.cy };\n  const pointOnLine = closestPointToLine(p1, p2, center);\n  const dist = sqrDistance(pointOnLine, center);\n\n  return dist <= Math.pow(circle.r, 2) && isPointOnLine(p1, p2, pointOnLine);\n}\n\n/**\n   * Test if a Circle collide with another Circle. If so, returns true and false otherwise.\n   * Both circles muse have a radius greater then 0.\n   * @private\n   * @param {object} circle\n   * @param {number} circle.cx - center x-coordinate\n   * @param {number} circle.cy - center y-coordinate\n   * @param {number} circle.r - circle radius\n   * @param {object} circle\n   * @param {number} circle.cx - center x-coordinate\n   * @param {number} circle.cy - center y-coordinate\n   * @param {number} circle.r - circle radius\n   * @return {boolean} true if circle collide with circle\n  */\nexport function testCircleCircle(circle1, circle2) {\n  if (circleHasNoSize(circle1) || circleHasNoSize(circle2)) { return false; }\n\n  const dx = circle1.cx - circle2.cx;\n  const dy = circle1.cy - circle2.cy;\n  const sqrDist = Math.pow(dx, 2) + Math.pow(dy, 2);\n\n  if (sqrDist <= Math.pow(circle1.r + circle2.r, 2)) {\n    return true;\n  }\n  return false;\n}\n\n/**\n   * Test if a Circle collide with Polygon. If so, returns true and false otherwise.\n   * Circle muse have a radius greater then 0.\n   * Polygon must contain at least 2 vertices\n   * @private\n   * @param {object} circle\n   * @param {number} circle.cx - center x-coordinate\n   * @param {number} circle.cy - center y-coordinate\n   * @param {number} circle.r - circle radius\n   * @param {object} polygon\n   * @param {Array} polygon.vertices - Array of vertices\n   * @param {object} polygon.vertices.vertex\n   * @param {number} polygon.vertices.vertex.x - x-coordinate\n   * @param {number} polygon.vertices.vertex.y - y-coordinate\n   * @param {Array} polygon.edges - Array of edges\n   * @param {Array} polygon.edges.edge - Array of points\n   * @param {object} polygon.edges.edge.point\n   * @param {number} polygon.edges.edge.point.x - x-coordinate\n   * @param {number} polygon.edges.edge.point.y - y-coordinate\n   * @return {boolean} true if circle collide with polygon\n  */\nexport function testCirclePolygon(circle, polygon) {\n  // TODO handle polygon that is a straight line, current impl will interrept it is a true, if radius is extended onto any of the edges\n  if (toFewEdges(polygon) || circleHasNoSize(circle)) {\n    return false;\n  }\n\n  const center = { x: circle.cx, y: circle.cy };\n  if (testPolygonPoint(polygon, center)) {\n    return true;\n  }\n\n  const num = polygon.edges.length;\n\n  for (let i = 0; i < num; i++) {\n    const edge = pointsToLine(polygon.edges[i]);\n    if (testCircleLine(circle, edge)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n/**\n   * Test if a Polygon contains a Point. If so, returns true and false otherwise.\n   * Polygon must contain at least 2 vertices\n   * @private\n   * @param {object} polygon\n   * @param {Array} polygon.vertices - Array of vertices\n   * @param {object} polygon.vertices.vertex\n   * @param {number} polygon.vertices.vertex.x - x-coordinate\n   * @param {number} polygon.vertices.vertex.y - y-coordinate\n   * @param {Array} polygon.edges - Array of edges\n   * @param {Array} polygon.edges.edge - Array of points\n   * @param {object} polygon.edges.edge.point\n   * @param {number} polygon.edges.edge.point.x - x-coordinate\n   * @param {number} polygon.edges.edge.point.y - y-coordinate\n   * @param {object} point\n   * @param {number} point.x - x-coordinate\n   * @param {number} point.y - y-coordinate\n   * @return {boolean} true if polygon conatins point\n  */\nexport function testPolygonPoint(polygon, point) {\n  // TODO handle polygon that is a straight line, current impl gives a non-deterministic output, that is depending on number of vertices\n  if (toFewEdges(polygon) || !testRectPoint(polygon.boundingRect(), point)) {\n    return false;\n  }\n\n  let even = true;\n  const num = polygon.vertices.length;\n  const rayStart = { x: polygon.xMin - 1, y: point.y };\n\n  for (let i = 0; i < num - 1; i++) {\n    const edge = pointsToLine(polygon.edges[i]);\n    if (!(edge.y1 < point.y && edge.y2 < point.y) && !(edge.y1 > point.y && edge.y2 > point.y)) { // filterout any edges that does not cross the ray\n      even = testLineLine(edge, pointsToLine([rayStart, point])) ? !even : even;\n    }\n  }\n  return !even;\n}\n\n/**\n   * Test if a Polygon collider with a line. If so, returns true and false otherwise.\n   * Polygon must contain at least 3 edges.\n   * Line must have length greater then 0.\n   * @private\n   * @param {object} polygon\n   * @param {Array} polygon.vertices - Array of vertices\n   * @param {object} polygon.vertices.vertex\n   * @param {number} polygon.vertices.vertex.x - x-coordinate\n   * @param {number} polygon.vertices.vertex.y - y-coordinate\n   * @param {Array} polygon.edges - Array of edges\n   * @param {Array} polygon.edges.edge - Array of points\n   * @param {object} polygon.edges.edge.point\n   * @param {number} polygon.edges.edge.point.x - x-coordinate\n   * @param {number} polygon.edges.edge.point.y - y-coordinate\n   * @param {object} line\n   * @param {number} line.x1 - x-coordinate\n   * @param {number} line.y1 - y-coordinate\n   * @param {number} line.x1 - x-coordinate\n   * @param {number} line.y1 - y-coordinate\n   * @return {boolean} true if polygon collider with line\n  */\nexport function testPolygonLine(polygon, line) {\n  // TODO handle polygon that is a straight line, current impl gives a non-deterministic output, that is depending on number of vertices\n  if (toFewEdges(polygon)) {\n    return false;\n  }\n\n  for (let i = 0, num = polygon.edges.length; i < num; i++) {\n    const edge = pointsToLine(polygon.edges[i]);\n    if (testLineLine(line, edge)) {\n      return true;\n    }\n  }\n\n  const [p1, p2] = lineToPoints(line);\n\n  return testPolygonPoint(polygon, p1)\n    || testPolygonPoint(polygon, p2);\n}\n\n/**\n   * Test if a Polygon collider with a rectangle. If so, returns true and false otherwise.\n   * Polygon must contain at least 3 edges.\n   * Rectangle must width and height greater then 0.\n   * @private\n   * @param {object} polygon\n   * @param {Array} polygon.vertices - Array of vertices\n   * @param {object} polygon.vertices.vertex\n   * @param {number} polygon.vertices.vertex.x - x-coordinate\n   * @param {number} polygon.vertices.vertex.y - y-coordinate\n   * @param {Array} polygon.edges - Array of edges\n   * @param {Array} polygon.edges.edge - Array of points\n   * @param {object} polygon.edges.edge.point\n   * @param {number} polygon.edges.edge.point.x - x-coordinate\n   * @param {number} polygon.edges.edge.point.y - y-coordinate\n   * @param {object} rect\n   * @param {number} rect.x - x-coordinate\n   * @param {number} rect.y - y-coordinate\n   * @param {number} rect.width - width\n   * @param {number} rect.height - height\n   * @return {boolean} true if polygon collider with rect\n  */\nexport function testPolygonRect(polygon, rect) {\n  // TODO handle polygon that is a straight line, current impl gives a non-deterministic output, that is depending on number of vertices\n  if (toFewEdges(polygon)) {\n    return false;\n  }\n\n  for (let i = 0, num = polygon.edges.length; i < num; i++) {\n    const edge = pointsToLine(polygon.edges[i]);\n    if (testRectLine(rect, edge)) {\n      return true;\n    }\n  }\n\n  const [p1, p2, p3, p4] = rectToPoints(rect);\n  return testPolygonPoint(polygon, p1)\n    || testPolygonPoint(polygon, p2)\n    || testPolygonPoint(polygon, p3)\n    || testPolygonPoint(polygon, p4);\n}\n\n/**\n   * Test if a Rectangle collide with another rectangle. If so, returns true and false otherwise.\n   * Both rectangles must have a width and height greather then 0.\n   * @private\n   * @param {object} rect\n   * @param {number} rect.x - x-coordinate\n   * @param {number} rect.y - y-coordinate\n   * @param {number} rect.width - width\n   * @param {number} rect.height - height\n   * @param {object} rect\n   * @param {number} rect.x - x-coordinate\n   * @param {number} rect.y - y-coordinate\n   * @param {number} rect.width - width\n   * @param {number} rect.height - height\n   * @return {boolean} true if rectangle collide with rectangle\n  */\nexport function testRectRect(rect1, rect2) {\n  if (rectHasNoSize(rect1) || rectHasNoSize(rect2)) {\n    return false;\n  }\n\n  return rect1.x <= rect2.x + rect2.width\n    && rect2.x <= rect1.x + rect1.width\n    && rect1.y <= rect2.y + rect2.height\n    && rect2.y <= rect1.y + rect1.height;\n}\n\n/**\n   * Test if a Rectangle contains a Point. If so, returns true and false otherwise.\n   * Rectangle must have a width and height greather then 0.\n   * @private\n   * @param {object} rect\n   * @param {number} rect.x - x-coordinate\n   * @param {number} rect.y - y-coordinate\n   * @param {number} rect.width - width\n   * @param {number} rect.height - height\n   * @param {object} point\n   * @param {number} point.x - x-coordinate\n   * @param {number} point.y - y-coordinate\n   * @return {boolean} true if rectangle contains point\n  */\nexport function testRectPoint(rect, point) {\n  if (rectHasNoSize(rect)) { return false; }\n\n  return point.x >= rect.x\n    && point.x <= rect.x + rect.width\n    && point.y >= rect.y\n    && point.y <= rect.y + rect.height;\n}\n\n/**\n   * Test if a Rectangle collider with a line. If so, returns true and false otherwise.\n   * Rectangle must have a width and height greather then 0.\n   * Line must have length greater then 0.\n   * @private\n   * @param {object} rect\n   * @param {number} rect.x - x-coordinate\n   * @param {number} rect.y - y-coordinate\n   * @param {number} rect.width - width\n   * @param {number} rect.height - height\n   * @param {object} line\n   * @param {number} line.x1 - x-coordinate\n   * @param {number} line.y1 - y-coordinate\n   * @param {number} line.x1 - x-coordinate\n   * @param {number} line.y1 - y-coordinate\n   * @return {boolean} true if rectangle collide with line\n  */\nexport function testRectLine(rect, line) {\n  if (lineHasNoLength(line) || rectHasNoSize(rect)) { return false; }\n\n  const [p1, p2] = lineToPoints(line);\n\n  if (testRectPoint(rect, p1) || testRectPoint(rect, p2)) {\n    return true;\n  }\n\n  const rectEdges = rectToPoints(rect);\n  let num = rectEdges.length;\n  for (let i = 0; i < num; i++) {\n    const edge = pointsToLine([rectEdges[i], rectEdges[i !== 3 ? i + 1 : 0]]);\n    if (testLineLine(edge, line)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n   * Test if a Line collider with another line. If so, returns true and false otherwise.\n   * Both lines must have length greater then 0.\n   * @private\n   * @param {object} line\n   * @param {number} line.x1 - x-coordinate\n   * @param {number} line.y1 - y-coordinate\n   * @param {number} line.x1 - x-coordinate\n   * @param {number} line.y1 - y-coordinate\n   * @param {object} line\n   * @param {number} line.x1 - x-coordinate\n   * @param {number} line.y1 - y-coordinate\n   * @param {number} line.x1 - x-coordinate\n   * @param {number} line.y1 - y-coordinate\n   * @return {boolean} true if line collide with line\n  */\nexport function testLineLine(line1, line2) {\n  const [p1, p2] = lineToPoints(line1);\n  const [p3, p4] = lineToPoints(line2);\n  const dx1 = distanceX(p2, p1);\n  const dy1 = distanceY(p2, p1);\n  const dx2 = distanceX(p4, p3);\n  const dy2 = distanceY(p4, p3);\n  const dx3 = distanceX(p1, p3);\n  const dy3 = distanceY(p1, p3);\n  let ub = (dy2 * dx1) - (dx2 * dy1);\n  const uat = (dx2 * dy3) - (dy2 * dx3);\n  const ubt = (dx1 * dy3) - (dy1 * dx3);\n  let t1;\n  let t2;\n\n  if (dx1 === 0 && dy1 === 0) { // Line segment has no length\n    return false;\n  }\n\n  if (dx2 === 0 && dy2 === 0) { // Line segment has no length\n    return false;\n  }\n\n  if (ub === 0) {\n    if (uat === 0 && ubt === 0) { // COINCIDENT;\n      if (dx1 === 0) {\n        if (dy1 === 0) { // p1 = p2\n          return p1.x === p2.x && p1.y === p2.y;\n        }\n        t1 = distanceY(p3, p1) / dy1;\n        t2 = distanceY(p4, p1) / dy1;\n      } else {\n        t1 = (p3.x - p1.x) / dx1;\n        t2 = (p4.x - p1.x) / dx1;\n      }\n      if ((t1 < 0 && t2 < 0) || (t1 > 1 && t2 > 1)) {\n        return false;\n      }\n      return true;\n    }\n    return false; // PARALLEL;\n  }\n  const ua = uat / ub;\n  ub = ubt / ub;\n  if (ua >= 0.0 && ua <= 1.0 && ub >= 0.0 && ub <= 1.0) {\n    return true;\n  }\n  return false;\n}\n\n/**\n   * Test if a Line contains a Point. If so, returns true and false otherwise.\n   * Line must have length greater then 0.\n   * @private\n   * @param {object} line\n   * @param {number} line.x1 - x-coordinate\n   * @param {number} line.y1 - y-coordinate\n   * @param {number} line.x1 - x-coordinate\n   * @param {number} line.y1 - y-coordinate\n   * @param {object} point\n   * @param {number} point.x - x-coordinate\n   * @param {number} point.y - y-coordinate\n   * @return {boolean} true if line contains point\n  */\nexport function testLinePoint(line, point) {\n  if (lineHasNoLength(line)) {\n    return false;\n  }\n\n  const [p1, p2] = lineToPoints(line);\n  return isPointOnLine(p1, p2, point);\n}\n","import extend from 'extend';\n\nconst VARIABLE_RX = /^\\$/;\nconst EXTEND = '@extend';\n\nfunction throwCyclical(s) {\n  throw new Error(`Cyclical reference for \"${s}\"`);\n}\n\nfunction res(style, references, path) {\n  if (typeof style === 'string') {\n    let value = references[style];\n    if (path.indexOf(style) !== -1) {\n      throwCyclical(style);\n    }\n    if (VARIABLE_RX.test(value)) {\n      path.push(style);\n      return res(value, references, path);\n    }\n    return value;\n  }\n  let computed = style;\n  const refs = extend(true, {}, references, style);\n  const s = {};\n\n  if (style[EXTEND]) {\n    const extendFrom = style[EXTEND];\n    if (path.indexOf(extendFrom) !== -1) {\n      throwCyclical(extendFrom);\n    }\n    let pext = path.slice();\n    pext.push(extendFrom);\n    computed = extend(true, {}, res(refs[extendFrom], references, pext), style);\n  }\n\n  Object.keys(computed).forEach((key) => {\n    let p = path.slice();\n    if (key === EXTEND || VARIABLE_RX.test(key)) {\n      return;\n    }\n    s[key] = computed[key];\n    let value = s[key];\n    if (VARIABLE_RX.test(value) && value in refs) {\n      if (path.indexOf(value) !== -1) {\n        throwCyclical(value);\n      }\n      p.push(value);\n      value = refs[value];\n      if (typeof value === 'object') {\n        s[key] = res(value, refs, p);\n      } else if (VARIABLE_RX.test(value) && value in refs) {\n        s[key] = res(value, refs, p);\n      } else {\n        s[key] = value;\n      }\n    } else if (typeof value === 'object') {\n      s[key] = res(value, refs, p);\n    }\n  });\n  return s;\n}\n\n/**\n * Resolve style references\n * @private\n * @param {style-object} style\n * @param {style-object} references\n * @returns {object} The resolved style\n * @example\n * resolve({\n *   label: '$label--big'\n * }, {\n *   '$size--m': '12px',\n *   '$label--big': {\n *     fontFamily: 'Arial',\n *     fontSize: '$size--m'\n *   }\n * }); // { label: { fontFamily: 'Arial', fontSize: '12px' } }\n */\nfunction resolve(style, references) {\n  return res(style, references, []);\n}\n\nexport { resolve as default };\n","import extend from 'extend';\nimport styleResolver from '../style/resolver';\n\nfunction themeFn(style = {}, palettes = []) {\n  let pals = {};\n  let internalStyle = style;\n  const setPalettes = (p) => {\n    p.forEach((palette) => {\n      const pal = Array.isArray(palette.colors[0]) ? palette.colors : [palette.colors];\n      pals[palette.key] = {\n        colors: pal,\n        sizes: pal.map((colors) => (colors ? colors.length : 0))\n      };\n    });\n  };\n\n  const getPalette = (key, num) => {\n    const palette = pals[key];\n    if (!palette) {\n      return [];\n    }\n    const sizes = palette.sizes;\n    // find the first color set containing at least 'num' colors\n    for (let i = 0; i < sizes.length; i++) {\n      if (num <= sizes[i]) {\n        return palette.colors[i];\n      }\n    }\n    return palette.colors[sizes.length - 1];\n  };\n\n  /**\n   * Theme API\n   * @private\n   * @experimental\n   */\n  const theme = {\n    /**\n     * Get an array of colors\n     * @param {string} name - Name of the color palette\n     * @param {number} [num] - The minimum number of colors to get from the palette\n     */\n    palette: (name, num) => getPalette(name, num),\n\n    setPalettes,\n\n    /**\n     * Resolve style references\n     * @param {style-object} s - Object containing style\n     */\n    style: (s) => styleResolver(s, internalStyle),\n\n    /**\n     * Set custom style\n     * @param {style-object} s - Object containing style\n     */\n    setStyle: (s) => {\n      internalStyle = extend({}, style, s);\n    }\n  };\n\n  setPalettes(palettes);\n\n  return theme;\n}\n\nexport { themeFn as default };\n","import extend from 'extend';\n\nimport createDockLayout from '../layout/dock/docker';\nimport {\n  detectTouchSupport,\n  isValidTapEvent\n} from '../utils/event-type';\nimport { getShapeType } from '../geometry/util';\nimport datasources from '../data/data';\nimport dataCollections from '../data/collections';\nimport { collection as formatterCollection } from './formatter';\nimport { collection as scaleCollection } from './scales';\nimport buildScroll, { getOrCreateScrollApi } from './scroll-api';\nimport brush from '../brush';\nimport componentFactory from '../component/component-factory';\nimport mediatorFactory from '../mediator';\nimport { testRectPoint } from '../math/narrow-phase-collision';\nimport themeFn from '../theme';\n\n/**\n * @typedef {object} component-settings\n * @property {string} type - Component type (ex: axis, point, ...)\n * @property {function} [preferredSize] - Function returning the preferred size\n * @property {function} [created]\n * @property {function} [beforeMount]\n * @property {function} [mounted]\n * @property {function} [beforeUpdate]\n * @property {function} [updated]\n * @property {function} [beforeRender]\n * @property {function} [beforeDestroy]\n * @property {function} [destroyed]\n * @property {brush-setting} [brush] see [brushing](./brushing.md)\n * @property {object} [layout] Layout settings\n * @property {number} [layout.displayOrder = 0]\n * @property {number} [layout.prioOrder = 0]\n * @property {string | {width: string, height: string}} [layout.minimumLayoutMode] Refer to layout sizes defined by layoutModes in `strategy`\n * @property {string} [layout.dock] left, right, top or bottom\n * @property {boolean} [show = true] If the component should be rendered\n * @property {string} [scale] Named scale. Will be provided to the component if it ask for it.\n * @property {string} [formatter] Named formatter. Fallback to create formatter from scale. Will be provided to the component if it ask for it.\n */\n\nfunction addComponentDelta(shape, containerBounds, componentBounds) {\n  const dx = containerBounds.left - componentBounds.left;\n  const dy = containerBounds.top - componentBounds.top;\n  const type = getShapeType(shape);\n  const deltaShape = extend(true, {}, shape);\n\n  switch (type) {\n    case 'circle':\n      deltaShape.cx += dx;\n      deltaShape.cy += dy;\n      break;\n    case 'polygon':\n      for (let i = 0, num = deltaShape.vertices.length; i < num; i++) {\n        const v = deltaShape.vertices[i];\n        v.x += dx;\n        v.y += dy;\n      }\n      break;\n    case 'line':\n      deltaShape.x1 += dx;\n      deltaShape.y1 += dy;\n      deltaShape.x2 += dx;\n      deltaShape.y2 += dy;\n      break;\n    case 'point':\n    case 'rect':\n      deltaShape.x += dx;\n      deltaShape.y += dy;\n      break;\n    default:\n      break;\n  }\n\n  return deltaShape;\n}\n\nconst moveToPosition = (element, comp, index) => {\n  const el = comp.instance.renderer().element();\n  if (isNaN(index) || !el || !element || !element.children) { return; }\n  const nodes = element.children;\n  const i = Math.max(0, index);\n  const node = nodes[i];\n  if (el === node) { return; }\n  const additionalEl = comp.instance.def.additionalElements && comp.instance.def.additionalElements().filter(Boolean);\n  if (element.insertBefore && typeof node !== 'undefined') {\n    element.insertBefore(el, node);\n    if (additionalEl) {\n      additionalEl.forEach((ae) => {\n        element.insertBefore(ae, el);\n      });\n    }\n  } else {\n    if (additionalEl) {\n      additionalEl.forEach((ae) => {\n        element.appendChild(ae, el);\n      });\n    }\n    element.appendChild(el);\n  }\n};\n\nexport function orderComponents(element, visibleComponents, order) {\n  const elToIdx = [];\n  let numElements = 0;\n  const ordered = order ? visibleComponents.slice().sort((a, b) => order[visibleComponents.indexOf(a)] - order[visibleComponents.indexOf(b)]) : visibleComponents;\n  ordered.forEach((comp) => {\n    elToIdx.push(numElements);\n\n    // assume each component has at least one element\n    numElements++;\n\n    // check additional elements\n    const additionalEl = comp.instance.def.additionalElements && comp.instance.def.additionalElements();\n    if (additionalEl) {\n      numElements += additionalEl.length;\n    }\n  });\n\n  ordered.forEach((comp, i) => moveToPosition(element, comp, elToIdx[i]));\n}\n\nfunction chartFn(definition, context) {\n  /**\n   * @typedef {object} chart-definition\n   */\n  let {\n    /**\n     * @type {HTMLElement}\n     * @memberof chart-definition\n     */\n    element,\n    /**\n     * @type {Array<data-source>}\n     * @memberof chart-definition\n     */\n    data = [],\n    /**\n     * @type {chart-settings}\n     * @memberof chart-definition\n     */\n    settings = {},\n    on = {}\n  } = definition;\n\n  const registries = context.registries;\n  const logger = context.logger;\n  const theme = themeFn(context.style, context.palettes);\n\n  const listeners = [];\n  /**\n   * @alias chart\n   * @interface\n   */\n  const instance = extend(\n    {},\n    definition\n  );\n  const mediator = mediatorFactory();\n  let currentComponents = []; // Augmented components\n  let visibleComponents = [];\n\n  let currentScales = null; // Built scales\n  let currentFormatters = null; // Built formatters\n  let currentScrollApis = null; // Build scroll apis\n  let currentInteractions = [];\n\n  let dataset = () => {};\n  let dataCollection = () => {};\n  const brushes = {};\n  let stopBrushing = false;\n\n  const createComponent = (compSettings, container) => {\n    if (!registries.component.has(compSettings.type)) {\n      logger.warn(`Unknown component: ${compSettings.type}`);\n      return false;\n    }\n    const componentDefinition = registries.component(compSettings.type);\n    const compInstance = componentFactory(componentDefinition, {\n      settings: compSettings,\n      chart: instance,\n      mediator,\n      registries,\n      theme,\n      container\n    });\n    return {\n      instance: compInstance,\n      settings: extend(true, {}, compSettings),\n      key: compSettings.key,\n      hasKey: typeof compSettings.key !== 'undefined'\n    };\n  };\n\n  // Create a callback that calls lifecycle functions in the definition and config (if they exist).\n  function createCallback(method, defaultMethod = () => {}) {\n    return function cb(...args) {\n      const inDefinition = typeof definition[method] === 'function';\n\n      let returnValue;\n      if (inDefinition) {\n        returnValue = definition[method].call(instance, ...args);\n      } else {\n        returnValue = defaultMethod.call(instance, ...args);\n      }\n      return returnValue;\n    };\n  }\n\n  const findComponent = (componentInstance) => {\n    for (let i = 0; i < currentComponents.length; i++) {\n      if (currentComponents[i].instance === componentInstance) {\n        return currentComponents[i];\n      }\n    }\n    return null;\n  };\n\n  const findComponentIndexByKey = (key) => {\n    for (let i = 0; i < currentComponents.length; i++) {\n      const currComp = currentComponents[i];\n      if (currComp.hasKey && currComp.key === key) {\n        return i;\n      }\n    }\n    return -1;\n  };\n\n  function getElementRect(el) {\n    if (typeof el.getBoundingClientRect === 'function') {\n      const { width, height } = el.getBoundingClientRect();\n      return {\n        x: 0, y: 0, width, height\n      };\n    }\n    return {\n      x: 0, y: 0, width: 0, height: 0\n    };\n  }\n\n  const layout = (components) => {\n    const vcomponents = components.map((c) => {\n      const dockConfig = c.instance.dockConfig();\n      return {\n        instance: c.instance,\n        resize: c.instance.resize,\n        preferredSize: dockConfig.computePreferredSize.bind(dockConfig),\n        settings: c.settings,\n        layoutComponents: () => {}\n      };\n    });\n    let layoutSettings;\n    if (settings.dockLayout) {\n      logger.warn('Deprecation Warning: \"dockLayout\" property should be renamed to \"strategy\"');\n      layoutSettings = settings.dockLayout;\n    } else {\n      layoutSettings = settings.strategy;\n    }\n\n    const dockLayout = createDockLayout(layoutSettings);\n\n    const rect = getElementRect(element);\n\n    const { visible, hidden, order } = dockLayout.layout(rect, vcomponents);\n    return {\n      visible: visible.map((v) => findComponent(v.instance)),\n      hidden: hidden.map((h) => findComponent(h.instance)),\n      order\n    };\n  };\n\n  const created = createCallback('created');\n  const beforeMount = createCallback('beforeMount');\n  const mounted = createCallback('mounted');\n  const beforeUpdate = createCallback('beforeUpdate');\n  const updated = createCallback('updated');\n  const beforeRender = createCallback('beforeRender');\n  const beforeDestroy = createCallback('beforeDestroy');\n  const destroyed = createCallback('destroyed');\n\n  const set = (_data, _settings, { partialData } = {}) => {\n    const {\n      formatters = {},\n      scales = {},\n      scroll = {}\n    } = _settings;\n\n    dataset = datasources(_data, { logger, types: registries.data });\n    if (!partialData) {\n      Object.keys(brushes).forEach((b) => brushes[b].clear());\n    }\n    if (_settings.palettes) {\n      theme.setPalettes(_settings.palettes);\n    }\n    if (_settings.style) {\n      theme.setStyle(_settings.style);\n    }\n    dataCollection = dataCollections(_settings.collections, { dataset }, { logger });\n\n    const deps = {\n      theme,\n      logger\n    };\n    currentScales = scaleCollection(scales, { dataset, collection: dataCollection }, { ...deps, scale: registries.scale });\n    currentFormatters = formatterCollection(formatters, { dataset, collection: dataCollection }, { ...deps, formatter: registries.formatter });\n    currentScrollApis = buildScroll(scroll, currentScrollApis);\n  };\n\n  const render = () => {\n    const {\n      components = []\n    } = settings;\n\n    beforeRender();\n\n    set(data, settings);\n\n    currentComponents = components.map((compSettings) => (\n      createComponent(compSettings, element)\n    )).filter((c) => !!c);\n\n    const { visible, hidden, order } = layout(currentComponents);\n    visibleComponents = visible;\n\n    hidden.forEach((comp) => {\n      comp.instance.hide();\n      comp.visible = false;\n    });\n\n    visible.forEach((comp) => comp.instance.beforeMount());\n    visible.forEach((comp) => comp.instance.mount());\n    visible.forEach((comp) => comp.instance.beforeRender());\n\n    visible.forEach((comp) => comp.instance.render());\n    visible.forEach((comp) => comp.instance.mounted());\n    visible.forEach((comp) => { comp.visible = true; });\n    orderComponents(element, visibleComponents, order);\n  };\n\n  function setInteractions(interactions = []) {\n    const current = {};\n    const newKeys = interactions.filter((it) => !!it.key).map((it) => it.key);\n    currentInteractions.forEach((cit) => {\n      if (cit.key && newKeys.indexOf(cit.key) !== -1) { // keep old instance\n        current[cit.key] = cit;\n      } else {\n        cit.destroy();\n      }\n    });\n    currentInteractions = interactions.map((intSettings) => {\n      const intDefinition = intSettings.key && current[intSettings.key] ? current[intSettings.key] : registries.interaction(intSettings.type)(instance, mediator, element);\n      intDefinition.set(intSettings);\n      return intDefinition;\n    });\n  }\n\n  const componentsFromPoint = (p) => {\n    const br = element.getBoundingClientRect();\n    const x = 'clientX' in p ? p.clientX : p.x;\n    const y = 'clientY' in p ? p.clientY : p.y;\n    const tp = { x: x - br.left, y: y - br.top };\n    const ret = [];\n    visibleComponents.forEach((c) => {\n      const r = c.instance.getRect();\n      // Do test on physical rect and use computed rect if available, otherwise fallback to computing a new rect for legacy support\n      if (testRectPoint(r.computedPhysical ? r.computedPhysical : {\n        x: r.margin.left + (r.x * r.scaleRatio.x),\n        y: r.margin.top + (r.y * r.scaleRatio.y),\n        width: r.width * r.scaleRatio.x,\n        height: r.height * r.scaleRatio.y\n      }, tp)) {\n        ret.push(c);\n      }\n    });\n    return ret;\n  };\n\n  const addDefaultEventListeners = () => {\n    if (listeners.length || !element) {\n      return;\n    }\n    Object.keys(on).forEach((key) => {\n      const listener = on[key].bind(instance);\n      element.addEventListener(key, listener);\n      listeners.push({\n        key,\n        listener\n      });\n    });\n\n    const eventInfo = {};\n    const onTapDown = (e) => {\n      if (e.touches) {\n        eventInfo.x = e.touches[0].clientX;\n        eventInfo.y = e.touches[0].clientY;\n        eventInfo.multiTouch = e.touches.length > 1;\n      } else {\n        eventInfo.x = e.clientX;\n        eventInfo.y = e.clientY;\n        eventInfo.multiTouch = false;\n      }\n      eventInfo.time = Date.now();\n      eventInfo.comps = componentsFromPoint(eventInfo);\n    };\n\n    const onBrushTap = (e) => {\n      const comps = eventInfo.comps || componentsFromPoint(e);\n      if (comps.every((c) => c.instance.def.disableTriggers)) {\n        return;\n      }\n\n      if (e.type === 'touchend') {\n        e.preventDefault();\n      }\n      if (!isValidTapEvent(e, eventInfo)) {\n        return;\n      }\n\n      for (let i = comps.length - 1; i >= 0; i--) {\n        const comp = comps[i];\n        comp.instance.onBrushTap(e);\n        if (stopBrushing) {\n          stopBrushing = false;\n          break;\n        }\n      }\n    };\n\n    const onBrushOver = (e) => {\n      const comps = componentsFromPoint(e);\n      for (let i = comps.length - 1; i >= 0; i--) {\n        const comp = comps[i];\n        comp.instance.onBrushOver(e);\n        if (stopBrushing) {\n          stopBrushing = false;\n          break;\n        }\n      }\n    };\n\n    const brushEventList = [];\n\n    brushEventList.push({ key: 'mousedown', listener: onTapDown });\n    brushEventList.push({ key: 'mouseup', listener: onBrushTap });\n\n    if (detectTouchSupport(element)) {\n      brushEventList.push({ key: 'touchstart', listener: onTapDown });\n      brushEventList.push({ key: 'touchend', listener: onBrushTap });\n    }\n\n    brushEventList.push({ key: 'mousemove', listener: onBrushOver });\n\n    brushEventList.forEach((event) => {\n      element.addEventListener(event.key, event.listener);\n      listeners.push(event);\n    });\n  };\n\n  const removeDefaultEventListeners = () => {\n    listeners.forEach(({ key, listener }) => element.removeEventListener(key, listener));\n    listeners.length = 0;\n  };\n\n  // Browser only\n  const mount = () => {\n    element.innerHTML = '';\n\n    render();\n\n    addDefaultEventListeners();\n    setInteractions(settings.interactions);\n  };\n\n  const unmount = () => {\n    removeDefaultEventListeners();\n    setInteractions();\n  };\n\n  /**\n   * Update the chart with new settings and / or data\n   * @param {chart-definition} [chart] - Chart definition\n   */\n  instance.update = (newProps = {}) => {\n    const { partialData, excludeFromUpdate = [] } = newProps;\n    let visibleOrder;\n    if (newProps.data) {\n      data = newProps.data;\n    }\n    if (newProps.settings) {\n      settings = newProps.settings;\n      setInteractions(newProps.settings.interactions);\n    }\n\n    beforeUpdate();\n\n    set(data, settings, { partialData });\n\n    const {\n      formatters,\n      scales,\n      components = []\n    } = settings;\n\n    for (let i = currentComponents.length - 1; i >= 0; i--) {\n      const currComp = currentComponents[i];\n      // TODO warn when there is no key\n      if (!components.some((c) => currComp.hasKey && currComp.key === c.key)) {\n        // Component is removed\n        currentComponents.splice(i, 1);\n        currComp.instance.destroy();\n      }\n    }\n\n    // Let the \"components\" array determine order of components\n    currentComponents = components.map((comp) => {\n      const idx = findComponentIndexByKey(comp.key);\n\n      // Component should not be updated\n      if (excludeFromUpdate.indexOf(comp.key) > -1) {\n        return currentComponents[idx];\n      }\n\n      if (idx === -1) {\n        // Component is added\n        return createComponent(comp, element);\n      }\n      // Component is (potentially) updated\n      currentComponents[idx].updateWith = {\n        formatters,\n        scales,\n        data,\n        settings: comp\n      };\n      return currentComponents[idx];\n    }).filter((c) => !!c);\n\n    currentComponents.forEach((comp) => {\n      if (comp.updateWith) {\n        comp.instance.set(comp.updateWith);\n      }\n    });\n    currentComponents.forEach((comp) => {\n      if (comp.updateWith) {\n        comp.instance.beforeUpdate();\n      }\n    });\n\n    const toUpdate = [];\n    const toRender = [];\n    let toRenderOrUpdate;\n    if (partialData) {\n      currentComponents.forEach((comp) => {\n        if (comp.updateWith && comp.visible) {\n          toUpdate.push(comp);\n        }\n      });\n      toRenderOrUpdate = toUpdate;\n    } else {\n      const { visible, hidden, order } = layout(currentComponents); // Relayout\n      visibleComponents = visible;\n      toRenderOrUpdate = visible;\n      visibleOrder = order;\n\n      visible.forEach((comp) => {\n        if (comp.updateWith && comp.visible) {\n          toUpdate.push(comp);\n        } else {\n          toRender.push(comp);\n        }\n      });\n\n      hidden.forEach((comp) => {\n        comp.instance.hide();\n        comp.visible = false;\n        delete comp.updateWith;\n      });\n    }\n\n    toRender.forEach((comp) => comp.instance.beforeMount());\n    toRender.forEach((comp) => comp.instance.mount());\n\n    toRenderOrUpdate.forEach((comp) => comp.instance.beforeRender());\n\n    toRenderOrUpdate.forEach((comp) => {\n      if (comp.updateWith && comp.visible) {\n        comp.instance.update();\n      } else {\n        comp.instance.render();\n      }\n    });\n\n    // Ensure that displayOrder is keept, only do so on re-layout update.\n    // Which is only the case if partialData is false.\n    if (!partialData) {\n      orderComponents(element, visibleComponents, visibleOrder);\n    }\n\n    toRender.forEach((comp) => comp.instance.mounted());\n    toUpdate.forEach((comp) => comp.instance.updated());\n\n    visibleComponents.forEach((comp) => {\n      delete comp.updateWith;\n      comp.visible = true;\n    });\n\n    updated();\n  };\n\n  /**\n   * Destroy the chart instance.\n   */\n  instance.destroy = () => {\n    beforeDestroy();\n    currentComponents.forEach((comp) => comp.instance.destroy());\n    currentComponents = [];\n    unmount();\n    delete instance.update;\n    delete instance.destroy;\n    destroyed();\n  };\n\n  /**\n   * Get all shapes associated with the provided context\n   * @param {string} context The brush context\n   * @param {string} mode Property comparasion mode.\n   * @param {Array<string>} props Which specific data properties to compare\n   * @param {string} key Which component to get shapes from. Default gives shapes from all components.\n   * @return {Array<object>} Array of objects containing shape and parent element\n   */\n  instance.getAffectedShapes = (ctx, mode = 'and', props, key) => {\n    const shapes = [];\n    currentComponents.filter((comp) => key === undefined || key === null || comp.key === key).forEach((comp) => {\n      shapes.push(...comp.instance.getBrushedShapes(ctx, mode, props));\n    });\n    return shapes;\n  };\n\n  /**\n   * Get all nodes matching the provided selector\n   * @param {string} selector CSS selector [type, attribute, universal, class]\n   * @returns {Array<SceneNode>} Array of objects containing matching nodes\n   *\n   * @example\n   * chart.findShapes('Circle') // [<CircleNode>, <CircleNode>]\n   * chart.findShapes('Circle[fill=\"red\"][stroke!=\"black\"]') // [CircleNode, CircleNode]\n   * chart.findShapes('Container Rect') // [Rect, Rect]\n   */\n  instance.findShapes = (selector) => {\n    const shapes = [];\n    visibleComponents.forEach((c) => {\n      shapes.push(...c.instance.findShapes(selector));\n    });\n    return shapes;\n  };\n\n  /**\n   * Get components overlapping a point.\n   * @param {point} p - Point with x- and y-cooridnate. The coordinate is relative to the browser viewport.\n   * @returns {Array<component-context>} Array of component contexts\n   */\n  instance.componentsFromPoint = (p) => componentsFromPoint(p).map((comp) => comp.instance.ctx);\n\n  /**\n   * Get all nodes colliding with a geometrical shape (circle, line, rectangle, point, polygon).\n   *\n   * The input shape is identified based on the geometrical attributes in the following order: circle => line => rectangle => point => polygon.\n   * Note that not all nodes on a scene have collision detection enabled.\n   * @param {line|rect|point|circle} shape - A geometrical shape. Coordinates are relative to the top-left corner of the chart instance container.\n   * @param {object} opts - Options\n   * @param {object[]} [opts.components] - Array of components to include in the lookup. If no components are specified, all components will be included.\n   * @param {string} [opts.components[].component.key] - Component key\n   * @param {string} [opts.components[].component.propagation] - if set to `stop`, will start lookup on top visible shape and propagate downwards until a shape is found.\n   * @param {string} [opts.propagation] - if set to `stop`, will start lookup on top visible component and propagate downwards until a component has at least a match.\n   * @returns {Array<SceneNode>} Array of objects containing colliding nodes\n   *\n   * @example\n   * chart.shapesAt(\n   *  {\n   *    x: 0,\n   *    y: 0,\n   *    width: 100,\n   *    height: 100\n   *  },\n   *  {\n   *    components: [\n   *      { key: 'key1', propagation: 'stop' },\n   *      { key: 'key2' }\n   *    ],\n   *    propagation: 'stop'\n   *  }\n   * );\n   */\n  instance.shapesAt = (shape, opts = {}) => {\n    const result = [];\n    const containerBounds = element.getBoundingClientRect();\n    let comps = visibleComponents; // Assume that visibleComponents is ordererd according to displayOrder\n\n    if (Array.isArray(opts.components) && opts.components.length > 0) {\n      const compKeys = opts.components.map((c) => c.key);\n      comps = visibleComponents\n        .filter((c) => compKeys.indexOf(c.key) !== -1)\n        .map((c) => ({\n          instance: c.instance,\n          opts: opts.components[compKeys.indexOf(c.key)]\n        }));\n    }\n\n    for (let i = comps.length - 1; i >= 0; i--) {\n      const c = comps[i];\n      const componentBounds = c.instance.renderer().element().getBoundingClientRect();\n      const deltaShape = addComponentDelta(shape, containerBounds, componentBounds);\n      const shapes = c.instance.shapesAt(deltaShape, c.opts);\n      const stopPropagation = shapes.length > 0 && opts.propagation === 'stop';\n\n      result.push(...shapes);\n\n      if (result.length > 0 && stopPropagation) {\n        return result;\n      }\n    }\n    return result;\n  };\n\n\n  /**\n   * Brush data by providing a collection of data bound shapes.\n   * @param {SceneNode[]} shapes - An array of data bound shapes.\n   * @param {object} config - Options\n   * @param {Array<object>} opts.components - Array of components to include in the lookup.\n   * @param {string} [opts.components.component.key] - Component key\n   * @param {Array<string>} [opts.components.component.contexts] - Name of the brushing contexts to affect\n   * @param {Array<string>} [opts.components.component.data] - The mapped data properties to add to the brush\n   * @param {string} [opts.components.component.action] - Type of action to respond with\n   *\n   * @example\n   * const shapes = chartInstance.shapesAt(...);\n   * const config = {\n   *  components:[\n   *    {\n   *      key: 'key1',\n   *      contexts: ['myContext'],\n   *      data: [''],\n   *      action: 'add'\n   *    }\n   *  ]\n   * };\n   * chartInstance.brushFromShapes(shapes, config);\n   */\n  instance.brushFromShapes = (shapes, config = { components: [] }) => {\n    for (let i = 0; i < config.components.length; i++) {\n      const iKey = config.components[i].key;\n      visibleComponents.filter((c) => iKey === c.key).forEach((c) => {\n        let compShapes = shapes.filter((shape) => shape.key === c.key);\n        c.instance.brushFromShapes(compShapes, config.components[i]);\n      });\n    }\n  };\n\n  /**\n   * @param {string} name - Name of scroll api\n   * @returns {scroll}\n   */\n  instance.scroll = function scroll(name = 'default') {\n    return getOrCreateScrollApi(name, currentScrollApis);\n  };\n\n  /**\n   * Get\n   * @param {string} key - Get the dataset identified by `key`\n   * @returns {dataset}\n   */\n  instance.dataset = (key) => dataset(key);\n\n  instance.dataCollection = (key) => dataCollection(key);\n\n  /**\n   * Get all registered scales\n   * @returns {Object<string,scale>}\n   */\n  instance.scales = function scales() {\n    return currentScales.all();\n  };\n\n  /**\n   * Get all registered formatters\n   * @returns {Object<string,formatter>}\n   */\n  instance.formatters = function formatters() {\n    return currentFormatters.all();\n  };\n\n  /**\n   * Get or create brush context for this chart\n   * @param {string} name - Name of the brush context. If no match is found, a new brush context is created and returned.\n   * @returns {brush}\n   */\n  instance.brush = function brushFn(name = 'default') {\n    if (!brushes[name]) {\n      brushes[name] = brush();\n    }\n    return brushes[name];\n  };\n\n  /**\n   * Get or create a scale for this chart\n   * @param {string|object} v - Scale reference or scale options\n   * @returns {scale}\n   * @example\n   * instance.scale('nameOfMyScale'); // Fetch an existing scale by name\n   * instance.scale({ scale: 'nameOfMyScale' }); // Fetch an existing scale by name\n   * instance.scale({ source: '0/1', type: 'linear' }); // Create a new scale\n   */\n  instance.scale = function scale(v) {\n    return currentScales.get(v);\n  };\n\n  /**\n   * Get or create a formatter for this chart\n   * @param {string|object} v - Formatter reference or formatter options\n   * @returns {formatter}\n   * @example\n   * instance.formatter('nameOfMyFormatter'); // Fetch an existing formatter by name\n   * instance.formatter({ formatter: 'nameOfMyFormatter' }); // Fetch an existing formatter by name\n   * instance.formatter({ type: 'q' }); // Fetch an existing formatter by type\n   * instance.formatter({\n   *  formatter: 'd3',\n   *  type: 'number',\n   *  format: '1.0.%'\n   * }); // Create a new formatter\n   */\n  instance.formatter = function formatter(v) {\n    return currentFormatters.get(v);\n  };\n\n  /**\n   * @param {boolean} [val] - Toggle brushing on or off. If value is omitted, a toggle action is applied to the current state.\n   */\n  instance.toggleBrushing = function toggleBrushing(val) {\n    if (typeof val !== 'undefined') {\n      stopBrushing = val;\n    } else {\n      stopBrushing = !stopBrushing;\n    }\n  };\n\n  /**\n   * Get a component context\n   * @param {string} key - Component key\n   * @returns {component-context} Component context\n   */\n  instance.component = (key) => {\n    const idx = findComponentIndexByKey(key);\n    if (idx !== -1) {\n      return currentComponents[idx].instance.ctx;\n    }\n    return undefined;\n  };\n\n  instance.logger = () => logger;\n\n  instance.theme = () => theme;\n\n  /**\n   * Get the all interactions instances\n   * @name chart.interactions\n   * @type {object}\n   * @example\n   * chart.interactions.instances; // Array of all interaction instances\n   * chart.interactions.on(); // Toggle on all interactions instances\n   * chart.interactions.off(); // Toggle off all interactions instances\n   */\n  Object.defineProperty(instance, 'interactions', {\n    get() {\n      return /** @lends chart.interactions */ {\n        /** @type Array<interaction> */\n        instances: currentInteractions,\n        /** Enable all interaction instances */\n        on() {\n          addDefaultEventListeners();\n          currentInteractions.forEach((i) => i.on());\n        },\n        /** Disable all interaction instances */\n        off() {\n          removeDefaultEventListeners();\n          currentInteractions.forEach((i) => i.off());\n        }\n      };\n    }\n  });\n\n  created();\n\n  if (element) {\n    beforeMount();\n    mount(element);\n    mounted(element);\n    instance.element = element;\n  }\n\n  return instance;\n}\n\nexport default chartFn;\n","import registry from '../utils/registry';\n\nconst rendererRegistry = (reg) => {\n  let f = registry(reg);\n  f.prio = (p) => (p ? f.default(p[0]) : [f.default()]);\n  f.types = () => f.getKeys();\n  return f;\n};\n\nexport { rendererRegistry as default };\n","import registry from '../utils/registry';\n\nconst componentRegistry = registry();\nexport { componentRegistry as default };\n","export function findField(query, { cache }) {\n  if (typeof query === 'number') {\n    return cache.fields[query];\n  }\n\n  // Find by key first\n  for (let i = 0; i < cache.fields.length; i++) {\n    if (cache.fields[i].key() === query) {\n      return cache.fields[i];\n    }\n  }\n  // find by title\n  for (let i = 0; i < cache.fields.length; i++) {\n    if (cache.fields[i].title() === query) {\n      return cache.fields[i];\n    }\n  }\n  return null;\n}\n\nconst filters = {\n  numeric: (values) => values.filter((v) => typeof v === 'number' && !isNaN(v))\n};\n\nconst unfilteredReducers = {\n  sum: (values) => values.reduce((a, b) => a + b, 0)\n};\n\n// function isPrimitive(x) {\n//   const type = typeof x;\n//   return (type !== 'object' && type !== 'function');\n// }\n\n/**\n * [reducers description]\n * @type {Object}\n * @private\n */\nexport const reducers = {\n  first: (values) => values[0],\n  last: (values) => values[values.length - 1],\n  min: (values) => {\n    const filtered = filters.numeric(values);\n    return !filtered.length ? NaN : Math.min.apply(null, filtered);\n  },\n  max: (values) => {\n    const filtered = filters.numeric(values);\n    return !filtered.length ? NaN : Math.max.apply(null, filtered);\n  },\n  sum: (values) => {\n    const filtered = filters.numeric(values);\n    return !filtered.length ? NaN : filtered.reduce((a, b) => a + b, 0);\n  },\n  avg: (values) => {\n    const filtered = filters.numeric(values);\n    const len = filtered.length;\n    return !len ? NaN : unfilteredReducers.sum(filtered) / len;\n  }\n};\n\nfunction normalizeProperties(cfg, dataset, dataProperties, main) {\n  // console.log('======', cfg, main, dataset);\n  const props = {};\n  const mainField = main.field || (typeof cfg.field !== 'undefined' ? dataset.field(cfg.field) : null);\n  Object.keys(dataProperties).forEach((key) => {\n    const pConfig = dataProperties[key];\n    const prop = props[key] = {};\n    if (['number', 'string', 'boolean'].indexOf(typeof pConfig) !== -1) {\n      prop.type = 'primitive';\n      prop.value = pConfig;\n    } else if (typeof pConfig === 'function') {\n      prop.type = 'function';\n      prop.value = pConfig;\n      prop.label = pConfig;\n      prop.field = mainField;\n    } else if (typeof pConfig === 'object') {\n      if (pConfig.fields) {\n        prop.fields = pConfig.fields.map((ff) => normalizeProperties(cfg, dataset, { main: ff }, main).main);\n      } else if (typeof pConfig.field !== 'undefined') {\n        prop.type = 'field';\n        prop.field = dataset.field(pConfig.field);\n        prop.value = prop.field.value;\n        prop.label = prop.field.label;\n      } else if (mainField) {\n        prop.value = mainField.value;\n        prop.label = mainField.label;\n        prop.field = mainField;\n      }\n\n      if (typeof pConfig.filter === 'function') {\n        prop.filter = pConfig.filter;\n      }\n      if (typeof pConfig.value !== 'undefined') {\n        prop.value = pConfig.value;\n      }\n      if (typeof pConfig.label !== 'undefined') {\n        prop.label = pConfig.label;\n      }\n      if (typeof pConfig.reduce === 'function') {\n        prop.reduce = pConfig.reduce;\n      } else if (pConfig.reduce) {\n        prop.reduce = reducers[pConfig.reduce];\n      } else if (prop.field && prop.field.reduce) {\n        prop.reduce = typeof prop.field.reduce === 'string' ? reducers[prop.field.reduce] : prop.field.reduce;\n      }\n\n      if (typeof pConfig.reduceLabel === 'function') {\n        prop.reduceLabel = pConfig.reduceLabel;\n      } else if (pConfig.reduceLabel) {\n        prop.reduceLabel = reducers[pConfig.reduceLabel];\n      } else if (prop.field && prop.field.reduceLabel) {\n        prop.reduceLabel = typeof prop.field.reduceLabel === 'string' ? reducers[prop.field.reduceLabel] : prop.field.reduceLabel;\n      }\n    }\n  });\n\n  return props;\n}\n\n/*\nexample of configuration input\ncfg = {\n  field: 'State', // the 'top level' values are extracted from field state\n  value: d => d.qText, // the value of the output\n  props: { // additional data properties ammended to each item\n    a: 3, // constant value\n    b: d => d.qElemNumber, // function will receive the original field value\n    c: {\n      field: 'Country', // reference to another field\n      value: d => d.qText // extract the qText value from the referenced field\n    },\n    d: {\n      value: d => d.qRow //  extract qRow from field 'State'\n    }\n  }\n}\n\n// output\n[{\n  value: 'CA', source: { field: 'State' },\n  a: { value: 3 },\n  b: { value: 26, source: 'State' },\n  c: { value: 'USA', source: 'Country' },\n  d: { value: 131, source: 'State' }\n},\n...]\n*/\nexport function getPropsInfo(cfg, dataset) {\n  // console.log('222', cfg);\n  const { main } = normalizeProperties(cfg, dataset, {\n    main: {\n      value: cfg.value, label: cfg.label, reduce: cfg.reduce, filter: cfg.filter\n    }\n  }, {});\n  const props = normalizeProperties(cfg, dataset, cfg.props || {}, main);\n  return { props, main };\n}\n\nfunction collectItems(items, cfg, formatter, prop) {\n  const values = Array(items.length);\n  const labels = Array(items.length);\n  let it;\n  for (let i = 0; i < items.length; i++) {\n    it = prop ? items[i][prop] : items[i];\n    values[i] = it.value;\n    labels[i] = it.label;\n  }\n\n  const reduce = cfg.reduce;\n  const reduceLabel = cfg.reduceLabel;\n  const v = reduce ? reduce(values) : values;\n  const b = reduceLabel ? reduceLabel(labels, v) : (formatter ? formatter(v) : String(v)); // eslint-disable-line no-nested-ternary\n\n  // // ret[prop].label = String(propsFormatters[prop](ret[prop].value));\n\n  const ret = {\n    value: v,\n    label: b\n  };\n  if (prop && items[0][prop].source) {\n    ret.source = items[0][prop].source;\n    return ret;\n  }\n  if (!prop && items[0].source) {\n    ret.source = items[0].source;\n    return ret;\n  }\n\n  return ret;\n}\n\n// collect items that have been grouped and reduce per group and property\nexport function collect(trackedItems, {\n  main,\n  propsArr,\n  props\n}) {\n  let dataItems = [];\n  const mainFormatter = main.field.formatter(); // || (v => v);\n  const propsFormatters = {};\n  propsArr.forEach((prop) => {\n    propsFormatters[prop] = props[prop].field ? props[prop].field.formatter() : (v) => v;\n  });\n  dataItems.push(...trackedItems.map((t) => {\n    const ret = collectItems(t.items, main, mainFormatter);\n\n    propsArr.forEach((prop) => {\n      ret[prop] = collectItems(t.items, props[prop], propsFormatters[prop], prop);\n    });\n    return ret;\n  }));\n\n  return dataItems;\n}\n\nexport function track({\n  cfg,\n  itemData,\n  obj,\n  target,\n  tracker,\n  trackType\n}) {\n  const trackId = trackType === 'function' ? cfg.trackBy(itemData) : itemData[cfg.trackBy];\n  let trackedItem = tracker[trackId];\n  if (!trackedItem) {\n    trackedItem = tracker[trackId] = {\n      items: [],\n      id: trackId\n    };\n    target.push(trackedItem);\n  }\n  trackedItem.items.push(obj);\n}\n","import {\n  getPropsInfo,\n  collect,\n  track as storeTracked\n} from './util';\n\nfunction datumExtract(propCfg, cell, {\n  key\n}) {\n  const datum = {\n    value: typeof propCfg.value === 'function' ? propCfg.value(cell) : typeof propCfg.value !== 'undefined' ? propCfg.value : cell // eslint-disable-line no-nested-ternary\n  };\n\n  datum.label = typeof propCfg.label === 'function' ? propCfg.label(cell) : typeof propCfg.label !== 'undefined' ? String(propCfg.label) : String(datum.value); // eslint-disable-line no-nested-ternary\n\n  if (propCfg.field) {\n    datum.source = {\n      key,\n      field: propCfg.field.key()\n    };\n  }\n\n  return datum;\n}\n\nexport default function extract(config, dataset) {\n  const cfgs = Array.isArray(config) ? config : [config];\n  let dataItems = [];\n  cfgs.forEach((cfg) => {\n    if (typeof cfg.field !== 'undefined') {\n      const f = dataset.field(cfg.field);\n      const sourceKey = dataset.key();\n      if (!f) {\n        throw Error(`Field '${cfg.field}' not found`);\n      }\n      const { props, main } = getPropsInfo(cfg, dataset);\n      const propsArr = Object.keys(props);\n\n      const track = !!cfg.trackBy;\n      const trackType = typeof cfg.trackBy;\n      const tracker = {};\n      const trackedItems = [];\n\n      const items = f.items();\n      const mapped = [];\n      for (let idx = 0; idx < items.length; idx++) {\n        const mainCell = items[idx];\n        const exclude = main.filter && !main.filter(mainCell);\n        if (exclude) {\n          continue;\n        }\n        const ret = datumExtract(main, mainCell, { key: sourceKey });\n\n        // loop through all props that need to be mapped and\n        // assign 'value' and 'source' to each property\n        propsArr.forEach((prop) => {\n          const p = props[prop];\n          let propCell = p.field ? p.field.items()[idx] : mainCell;\n          ret[prop] = datumExtract(p, propCell, { key: sourceKey });\n        });\n\n        // collect items based on the trackBy value\n        // items with the same trackBy value are placed in an array and reduced later\n        if (track) {\n          storeTracked({\n            cfg,\n            itemData: mainCell,\n            obj: ret,\n            target: trackedItems,\n            tracker,\n            trackType\n          });\n        }\n\n        mapped.push(ret);\n      }\n\n      // reduce if items have been grouped\n      if (track) {\n        dataItems.push(...collect(trackedItems, {\n          main,\n          propsArr,\n          props\n        }));\n      } else {\n        dataItems.push(...mapped);\n      }\n    }\n  });\n  return dataItems;\n}\n","import extend from 'extend';\nimport field from './field';\nimport extract from './extractor-matrix';\n\nimport {\n  findField,\n  getPropsInfo,\n  collect,\n  track\n} from './util';\n\nconst filters = {\n  numeric: (values) => values.filter((v) => typeof v === 'number' && !isNaN(v))\n};\n\nfunction createFields({\n  source, data, cache, config\n}) {\n  let headers;\n  let content = data;\n  const parse = config && config.parse;\n  if (Array.isArray(data[0])) { // assume 2d matrix of data\n    if (parse && parse.headers === false) {\n      headers = data[0].map((v, i) => i);\n    } else {\n      headers = data[0];\n      content = data.slice(1);\n    }\n  } else {\n    headers = Object.keys(data[0]);\n  }\n\n  const rowFn = !!parse && typeof parse.row === 'function' && parse.row;\n  let flds = headers;\n\n  if (parse && typeof parse.fields === 'function') {\n    flds = parse.fields(flds.slice());\n  } else {\n    flds = headers.map((h) => ({\n      key: h,\n      title: h\n    }));\n  }\n\n  let fieldValues;\n  if (Array.isArray(data[0])) {\n    fieldValues = flds.map(() => []);\n  } else {\n    fieldValues = {};\n    flds.forEach((f) => { fieldValues[f.key] = []; });\n  }\n\n  for (let r = 0; r < content.length; r++) {\n    const row = rowFn ? rowFn(content[r], r, flds) : content[r];\n    if (!row) {\n      continue;\n    }\n    if (Array.isArray(row)) {\n      for (let c = 0; c < flds.length; c++) {\n        fieldValues[c].push(row[c]);\n      }\n    } else {\n      for (let c = 0; c < flds.length; c++) {\n        fieldValues[flds[c].key].push(row[flds[c].key]);\n      }\n    }\n  }\n  const fv = Array.isArray(fieldValues) ? ((i) => fieldValues[i]) : ((i) => fieldValues[flds[i].key]);\n  for (let c = 0; c < flds.length; c++) {\n    const values = fv(c);\n    const numericValues = filters.numeric(values);\n    const isMeasure = numericValues.length > 0;\n    const type = isMeasure ? 'measure' : 'dimension';\n    const min = isMeasure ? Math.min(...numericValues) : NaN;\n    const max = isMeasure ? Math.max(...numericValues) : NaN;\n\n    cache.fields.push(field(extend({\n      source,\n      key: c,\n      title: flds[c].title,\n      values,\n      min,\n      max,\n      type\n    }, flds[c]), {\n      value: flds[c].value,\n      label: flds[c].label\n    }));\n  }\n}\n\nconst dsv = ({ data, config }) => {\n  const rows = data.split('\\n');\n  const row0 = rows[0];\n  const row1 = rows[1];\n  let delimiter = ',';\n  if (config && config.parse && config.parse.delimiter) {\n    delimiter = config.parse.delimiter;\n  } else if (row0) { // guess delimiter\n    const guesses = [/,/, /\\t/, /;/];\n    for (let i = 0; i < guesses.length; i++) {\n      const d = guesses[i];\n      if (row0 && row1) {\n        if (d.test(row0) && d.test(row1) && row0.split(d).length === row1.split(d).length) {\n          delimiter = d;\n          break;\n        }\n      } else if (d.test(row0)) {\n        delimiter = d;\n      }\n    }\n  }\n  return rows.map((row) => row.split(delimiter));\n};\n\nconst parseData = ({\n  key, data, cache, config\n}) => {\n  if (!data) {\n    return;\n  }\n  let dd = data;\n\n  if (typeof dd === 'string') { // assume dsv\n    dd = dsv({ data, config });\n  }\n\n  if (!Array.isArray(dd)) {\n    return; // warn?\n  }\n\n  createFields({\n    data: dd,\n    cache,\n    source: key,\n    config\n  });\n};\n\n/**\n * Create a new dataset with default settings\n * @private\n * @return {dataset}\n */\nfunction ds({\n  key,\n  data,\n  config\n} = {}) {\n  const cache = {\n    fields: []\n  };\n\n  /**\n   * @alias dataset\n   * @interface\n   */\n  const dataset = {\n    /**\n     * Get the key identifying this dataset\n     * @returns {string}\n     */\n    key: () => key,\n\n    /**\n     * Get the raw data\n     * @returns {any}\n     */\n    raw: () => data,\n\n    /**\n     * Find a field within this dataset\n     * @param {string} query - The field to find\n     * @returns {field}\n     */\n    field: (query) => findField(query, {\n      cache,\n      matrix: data\n    }),\n\n    /**\n     * Get all fields within this dataset\n     * @returns {Array<field>}\n     */\n    fields: () => cache.fields.slice(),\n\n    /**\n     * Extract data items from this dataset\n     * @param {data-extract-config} config\n     * @returns {Array<datum-extract>}\n     */\n    extract: (cfg) => extract(cfg, dataset, cache),\n\n    /**\n     * @returns {null}\n     */\n    hierarchy: () => null\n  };\n\n  parseData({\n    key, data, config, cache\n  });\n\n  return dataset;\n}\n\nds.util = {\n  normalizeConfig: getPropsInfo,\n  collect,\n  track\n};\n\nexport { ds as default };\n\n/**\n * @typedef {object} data-extract-config\n * @property {string} field - The field to extract data from\n * @property {data-extract-config~valueFn} [value] - The field value accessor\n * @property {data-extract-config~labelFn} [label] - The field label accessor\n * @property {data-extract-config~trackByFn} [trackBy] - Track by value accessor\n * @property {data-extract-config~reduceFn} [reduce] - Reducer function\n * @property {data-extract-config~reduceLabelFn} [reduceLabel] - Label reducer function\n * @property {data-extract-config~filterFn} [filter] - Filter function\n * @property {object} [props] - Additional properties to add to the extracted item\n */\n\n/**\n * @callback data-extract-config~valueFn\n * @param {any} cell The field cell\n * @returns {any}\n */\n\n/**\n * @callback data-extract-config~labelFn\n * @param {any} cell The field cell\n * @returns {string}\n */\n\n/**\n * @callback data-extract-config~filterFn\n * @param {any} cell The field cell\n * @returns {boolean}\n */\n\n/**\n * @callback data-extract-config~trackByFn\n * @param {any} cell The field cell\n * @returns {any}\n */\n\n/**\n * @callback data-extract-config~reduceFn\n * @param {any[]} values The collected values to reduce\n * @returns {any}\n */\n\n/**\n * @callback data-extract-config~reduceLabelFn\n * @param {any[]} labels The collected labels to reduce\n * @param {any} value Reduced value\n * @returns {string}\n */\n\n/**\n * @typedef {object} datum-extract\n * @property {any} value - The extracted value\n * @property {string} label - The extracted value as a string\n * @property {object} source - The data source of the extracted data\n * @property {string} source.key - The data-source key\n * @property {string} source.field - The source field\n */\n","import registry from '../utils/registry';\nimport dataset from './dataset';\n\nconst dataRegistry = registry();\n\ndataRegistry.default('matrix');\n\ndataRegistry('matrix', dataset);\n\ndataRegistry('default', dataset); // deprecated\n\nexport { dataRegistry as default };\n","\n/**\n * Manages event handlers for native events\n * @private\n */\nfunction native(chart, mediator, element) {\n  let instance = { chart, mediator, element };\n  let nativeEvents = [];\n  let settings;\n  let itKey;\n  let isOn = true;\n\n  /**\n   * Set default settings\n   * @private\n   */\n  function setDefaultSettings(newSettings) {\n    itKey = newSettings.key;\n    settings = newSettings;\n    settings.events = settings.events || [];\n    if (settings.enable === undefined) {\n      settings.enable = true;\n    }\n  }\n\n  /**\n   * Add native events based on settings\n   * @private\n   */\n  function addEvents() {\n    if (typeof settings.enable === 'function') {\n      settings.enable = settings.enable.bind(instance)();\n    }\n    if (!settings.enable) {\n      return; // interaction is disabled\n    }\n    Object.keys(settings.events).forEach((key) => {\n      const listener = settings.events[key].bind(instance);\n      element.addEventListener(key, listener);\n      nativeEvents.push({ key, listener });\n    });\n  }\n\n  /**\n   * Removes all added native events\n   * @private\n   */\n  function removeAddedEvents() {\n    // remove added native events\n    nativeEvents.forEach(({ key, listener }) => {\n      element.removeEventListener(key, listener);\n    });\n    nativeEvents = [];\n  }\n\n  return {\n    /**\n     * Getter for the key.\n     * @private\n     */\n    get key() {\n      return itKey;\n    },\n    /**\n     * Updates this with new settings\n     * @private\n     * @param {object} newSettings\n     * @param {string} [newSettings.type] - The interaction type. Is 'native' for this component\n     * @param {boolean|function} [newSettings.enable=true] - Should the interactions defined here be enabled or not.\n     * This is only run when adding event handlers. In effect at startup, update or during on/off.\n     * It does not run during every event loop.\n     * @param {array} [newSettings.gestures] - The keys in this object is the names of native events\n     * that should be added to the chart element and they should all point to function which\n     * will be the corresponding event handler.\n     */\n    set(newSettings) {\n      setDefaultSettings(newSettings);\n      removeAddedEvents();\n      if (isOn) {\n        addEvents();\n      }\n    },\n    /**\n     * Turns off interactions\n     * @private\n     */\n    off() {\n      isOn = false;\n      removeAddedEvents();\n    },\n    /**\n     * Turns off interactions\n     * @private\n     */\n    on() {\n      isOn = true;\n      if (nativeEvents.length === 0) {\n        addEvents();\n      }\n    },\n    /**\n     * Destroys and unbinds all event handlers\n     * @private\n     */\n    destroy() {\n      removeAddedEvents();\n      instance = null;\n      settings = null;\n    }\n  };\n}\n\nexport { native as default };\n","import registry from '../utils/registry';\nimport native from '../../web/interactions/native';\n\nconst reg = registry();\n\nreg('native', native);\n\nexport default reg;\n","/**\n * Short-hand for max(min())\n *\n * @param {number} min Minimum allowed value\n * @param {number} max Maximum allowed value\n * @param {number} value The actual value to cap\n * @ignore\n */\nexport function cap(min, max, value) {\n  return Math.max(min, Math.min(max, value));\n}\n\n/**\n * Resolve a diff, i.e. resolveDiff(0.2, 0.6, 1, 100) = 20\n *\n * @param {object} params parameters\n * @param {number} params.start Normalized start value\n * @param {number} params.end Normalized end value\n * @param {number} params.minPx The minimum number of pixels\n * @param {number} params.maxPx Maximum number of pixels, i.e. the width or height\n * @ignore\n */\nexport function resolveDiff({\n  start, end, minPx = 0.1, maxPx = 1\n}) {\n  const high = Math.max(start, end);\n  const low = Math.min(start, end);\n  const highModified = cap(-0.1, 1.2, high);\n  const lowModified = cap(-0.1, 1.2, low);\n\n  const wantedDiff = (highModified * maxPx) - (lowModified * maxPx);\n  const actualDiff = Math.max(minPx, wantedDiff);\n  const startModifier = (actualDiff - wantedDiff) / 2;\n  const actualLow = (lowModified * maxPx) - startModifier;\n\n  return {\n    actualDiff,\n    startModifier,\n    actualLow\n  };\n}\n","import extend from 'extend';\nimport { resolveDiff } from './box-math';\n\n/**\n * Out of bounds shape\n * @param {object} params parameters\n * @param {object} params.item Resolved styling item from box component with item.major\n * @param {number} params.value 0 or 1 depending on where to render the oob shape\n * @param {number} params.boxWidth Un-calculated box width in relative/normalized format\n * @param {number} params.boxPadding Un-calculated box padding in relative/normalized format\n * @param {number} params.rendWidth The pixel width of the area to render upon\n * @param {number} params.rendHeight The pixel height of the area to render upon\n * @param {boolean} params.flipXY Wether or not to flip X and Y coordinates together with Width and Height\n * @param {function} params.symbol Symbol library function from component\n * @ignore\n */\nexport function oob({\n  item, value, boxCenter, rendWidth, rendHeight, flipXY, symbol\n}) {\n  let x = 'x';\n  let y = 'y';\n  let calcwidth = rendWidth;\n  let calcheight = rendHeight;\n  let startAngle = value < 0.5 ? 90 : -90;\n\n  if (flipXY) {\n    x = 'y';\n    y = 'x';\n    calcwidth = rendHeight;\n    calcheight = rendWidth;\n    startAngle = value < 0.5 ? 180 : 0;\n  }\n\n  return symbol(extend({}, item.oob, {\n    [x]: boxCenter * calcwidth,\n    [y]: Math.max((item.oob.size / 2), Math.min(value * calcheight, calcheight - (item.oob.size / 2))),\n    startAngle\n  }));\n}\n\n/**\n * Box shape calculation function\n * @param {object} params parameters\n * @param {object} params.item Resolved styling item from box component with item.major\n * @param {number} params.boxWidth Un-calculated box width in relative/normalized format\n * @param {number} params.boxPadding Un-calculated box padding in relative/normalized format\n * @param {number} params.rendWidth The pixel width of the area to render upon\n * @param {number} params.rendHeight The pixel height of the area to render upon\n * @param {boolean} params.flipXY wether or not to flip X and Y coordinates together with Width and Height\n * @ignore\n */\nexport function box({\n  item, boxWidth, boxPadding, rendWidth, rendHeight, flipXY\n}) {\n  let x = 'x';\n  let y = 'y';\n  let width = 'width';\n  let height = 'height';\n  let calcwidth = rendWidth;\n  let calcheight = rendHeight;\n\n  if (flipXY) {\n    x = 'y';\n    y = 'x';\n    width = 'height';\n    height = 'width';\n    calcwidth = rendHeight;\n    calcheight = rendWidth;\n  }\n\n  const { actualDiff, actualLow } = resolveDiff({\n    start: item.start, end: item.end, minPx: item.box.minHeightPx, maxPx: calcheight\n  });\n\n  return extend({}, item.box, {\n    type: 'rect',\n    [x]: (boxPadding + item.major) * calcwidth,\n    [y]: actualLow,\n    [height]: actualDiff,\n    [width]: boxWidth * calcwidth,\n    data: item.data || {},\n    collider: {\n      type: null\n    }\n  });\n}\n\n/**\n * A vertical line shape (for start - min, end - max values)\n * @param {object} params parameters\n * @param {object} params.item Resolved styling item from box component with item.major\n * @param {number} params.from Normalized from value\n * @param {number} params.to Normalized to value\n * @param {number} params.boxCenter Center coordinate for the box\n * @param {number} params.rendWidth The pixel width of the area to render upon\n * @param {number} params.rendHeight The pixel height of the area to render upon\n * @param {boolean} params.flipXY wether or not to flip X and Y coordinates together with Width and Height\n * @ignore\n */\nexport function verticalLine({\n  item, from, to, boxCenter, rendWidth, rendHeight, flipXY\n}) {\n  let x1 = 'x1';\n  let y1 = 'y1';\n  let x2 = 'x2';\n  let y2 = 'y2';\n  let calcwidth = rendWidth;\n  let calcheight = rendHeight;\n\n  if (flipXY) {\n    x1 = 'y1';\n    y1 = 'x1';\n    x2 = 'y2';\n    y2 = 'x2';\n    calcwidth = rendHeight;\n    calcheight = rendWidth;\n  }\n\n  return extend({}, item.line, {\n    type: 'line',\n    [y2]: Math.floor(from * calcheight),\n    [x1]: boxCenter * calcwidth,\n    [y1]: Math.floor(to * calcheight),\n    [x2]: boxCenter * calcwidth,\n    data: item.data || {},\n    collider: {\n      type: null\n    }\n  });\n}\n\n/**\n * A horizontal line shape (for median and whiskers)\n * @param {object} params parameters\n * @param {object} params.item Resolved styling item from box component with item.major\n * @param {string} params.key Which key to use as style base in the item object\n * @param {number} params.position At which \"height\" (X) to position the horizontal line\n * @param {number} params.width Width of the horizontal line (i.e. box width or a multiple of it)\n * @param {number} params.boxCenter Center coordinate for the box\n * @param {number} params.rendWidth The pixel width of the area to render upon\n * @param {number} params.rendHeight The pixel height of the area to render upon\n * @param {boolean} params.flipXY wether or not to flip X and Y coordinates together with Width and Height\n * @ignore\n */\nexport function horizontalLine({\n  item, key, position, width, boxCenter, rendWidth, rendHeight, flipXY\n}) {\n  let x1 = 'x1';\n  let y1 = 'y1';\n  let x2 = 'x2';\n  let y2 = 'y2';\n  let calcwidth = rendWidth;\n  let calcheight = rendHeight;\n\n  if (flipXY) {\n    x1 = 'y1';\n    y1 = 'x1';\n    x2 = 'y2';\n    y2 = 'x2';\n    calcwidth = rendHeight;\n    calcheight = rendWidth;\n  }\n\n  const halfWidth = width / 2;\n\n  return extend({ type: 'line' }, item[key], {\n    [y1]: Math.floor(position * calcheight),\n    [x1]: (boxCenter - halfWidth) * calcwidth,\n    [y2]: Math.floor(position * calcheight),\n    [x2]: (boxCenter + halfWidth) * calcwidth,\n    r: halfWidth * calcwidth,\n    cx: boxCenter * calcwidth,\n    cy: position * calcheight,\n    width: width * calcwidth,\n    data: item.data || {},\n    collider: {\n      type: null\n    }\n  });\n}\n\n/**\n * A horizontal line shape (for median and whiskers)\n * @param {number} bandwidth The current bandwidth for this item\n * @param {object} item A resolved style item to render with major and box width variables, minWidthPx and maxWidthPx\n * @param {number} maxMajorWidth The actual maximum major width\n * @ignore\n */\nexport function getBoxWidth(bandwidth, item, maxMajorWidth) {\n  const { width, maxWidthPx, minWidthPx } = item.box;\n  const sign = bandwidth >= 0 ? 1 : -1;\n  let boxWidth = Math.min(sign * bandwidth * width, isNaN(maxWidthPx) ? maxMajorWidth : maxWidthPx / maxMajorWidth);\n  boxWidth = isNaN(minWidthPx) ? boxWidth : Math.max(minWidthPx / maxMajorWidth, boxWidth);\n  return boxWidth * sign;\n}\n","import extend from 'extend';\nimport * as boxShapesHelper from './box-shapes-helper';\n\nimport { isNumber } from '../../utils/is-number';\n\nexport default function buildShapes({\n  width,\n  height,\n  flipXY,\n  resolved,\n  keys,\n  symbol\n}) {\n  // if (!settings || !settings.major || !settings.major.scale || !settings.minor || !settings.minor.scale) {\n  //   return [];\n  // }\n\n  const output = [];\n  const majorItems = resolved.major.items;\n\n  if (!majorItems.length) {\n    return output;\n  }\n\n  const rendWidth = width;\n  const rendHeight = height;\n  const maxMajorWidth = flipXY ? height : width;\n  const majorSettings = resolved.major.settings;\n  const minorProps = ['start', 'end', 'min', 'max', 'med'].filter((prop) => typeof resolved.minor.settings[prop] !== 'undefined');\n  const numMinorProps = minorProps.length;\n  const nonOobKeys = keys.filter((key) => key !== 'oob');\n\n  let children;\n  let major;\n  let minorItem;\n  let boxWidth;\n  let boxPadding;\n  let boxCenter;\n  let isLowerOutOfBounds;\n  let isHigherOutOfBounds;\n  let isOutOfBounds;\n  const numKeys = keys ? keys.length : 0;\n  const numNonOobKeys = nonOobKeys ? nonOobKeys.length : 0;\n\n  function addBox() {\n    /* THE BOX */\n    if (minorItem.box && isNumber(minorItem.start) && isNumber(minorItem.end)) {\n      children.push(boxShapesHelper.box({\n        item: minorItem, boxWidth, boxPadding, rendWidth, rendHeight, flipXY\n      }));\n    }\n  }\n\n  function addLine() {\n    /* LINES MIN - START, END - MAX */\n    if (isNumber(minorItem.min) && isNumber(minorItem.start)) {\n      children.push(boxShapesHelper.verticalLine({\n        item: minorItem, from: minorItem.min, to: minorItem.start, boxCenter, rendWidth, rendHeight, flipXY\n      }));\n    }\n\n    if (isNumber(minorItem.max) && isNumber(minorItem.end)) {\n      children.push(boxShapesHelper.verticalLine({\n        item: minorItem, from: minorItem.max, to: minorItem.end, boxCenter, rendWidth, rendHeight, flipXY\n      }));\n    }\n  }\n\n  function addMedian() {\n    /* MEDIAN */\n    if (minorItem.median && isNumber(minorItem.med)) {\n      children.push(boxShapesHelper.horizontalLine({\n        item: minorItem, key: 'median', position: minorItem.med, width: boxWidth, boxCenter, rendWidth, rendHeight, flipXY\n      }));\n    }\n  }\n\n  function addWhisker() {\n    /* WHISKERS */\n    if (minorItem.whisker) {\n      const whiskerWidth = boxWidth * minorItem.whisker.width;\n\n      if (isNumber(minorItem.min)) {\n        children.push(boxShapesHelper.horizontalLine({\n          item: minorItem, key: 'whisker', position: minorItem.min, width: whiskerWidth, boxCenter, rendWidth, rendHeight, flipXY\n        }));\n      }\n\n      if (isNumber(minorItem.max)) {\n        children.push(boxShapesHelper.horizontalLine({\n          item: minorItem, key: 'whisker', position: minorItem.max, width: whiskerWidth, boxCenter, rendWidth, rendHeight, flipXY\n        }));\n      }\n    }\n  }\n\n  function addOutOfBounds() {\n    /* OUT OF BOUNDS */\n    if (isLowerOutOfBounds) {\n      children.push(boxShapesHelper.oob({\n        item: minorItem, value: 0, boxCenter, rendWidth, rendHeight, flipXY, symbol\n      }));\n    } else if (isHigherOutOfBounds) {\n      children.push(boxShapesHelper.oob({\n        item: minorItem, value: 1, boxCenter, rendWidth, rendHeight, flipXY, symbol\n      }));\n    }\n  }\n\n  const addMarkerList = {\n    box: addBox,\n    line: addLine,\n    median: addMedian,\n    whisker: addWhisker\n  };\n\n  function checkOutOfBounds() {\n    let value;\n    let max = -Number.MAX_VALUE;\n    let min = Number.MAX_VALUE;\n    for (let n = 0; n < numMinorProps; n++) {\n      value = minorItem[minorProps[n]];\n      if (isNumber(value)) {\n        if (max < value) {\n          max = value;\n        }\n        if (min > value) {\n          min = value;\n        }\n      }\n    }\n    isLowerOutOfBounds = max < 0 && max !== -Number.MAX_VALUE;\n    isHigherOutOfBounds = min > 1 && min !== Number.MAX_VALUE;\n    isOutOfBounds = isLowerOutOfBounds || isHigherOutOfBounds;\n  }\n\n  for (let i = 0, len = majorItems.length; i < len; i++) {\n    children = [];\n    major = null;\n    const majorItem = majorItems[i];\n    const d = majorItem.data;\n\n    let majorVal = null;\n    let majorEndVal = null;\n\n    if (typeof majorSettings.binStart !== 'undefined') { // if start and end is defined\n      majorVal = majorItem.binStart;\n      majorEndVal = majorItem.binEnd;\n      major = majorSettings.binStart.scale;\n    } else {\n      major = majorSettings.major.scale;\n      majorVal = major ? majorItem.major : 0;\n    }\n\n    let bandwidth = 0;\n    if (!major) {\n      bandwidth = 1;\n    } else if (major.bandwidth) {\n      bandwidth = major.bandwidth();\n      majorVal -= (bandwidth / 2);\n    } else {\n      bandwidth = majorEndVal - majorVal;\n    }\n\n    minorItem = extend({}, {\n      major: majorVal,\n      majorEnd: majorEndVal\n    }, resolved.minor.items[i]);\n\n    for (let j = 0; j < numKeys; j++) {\n      minorItem[keys[j]] = resolved[keys[j]].items[i];\n    }\n\n    boxWidth = boxShapesHelper.getBoxWidth(bandwidth, minorItem, maxMajorWidth);\n    boxPadding = (bandwidth - boxWidth) / 2;\n    boxCenter = boxPadding + minorItem.major + (boxWidth / 2);\n\n    checkOutOfBounds();\n\n    if (!isOutOfBounds) {\n      for (let k = 0; k < numNonOobKeys; k++) {\n        if (minorItem[nonOobKeys[k]] && minorItem[nonOobKeys[k]].show === false) {\n          continue;\n        }\n        addMarkerList[nonOobKeys[k]]();\n      }\n    } else if (minorItem.oob) {\n      addOutOfBounds();\n    }\n\n    const container = {\n      type: 'container',\n      data: d,\n      collider: { type: 'bounds' },\n      children\n    };\n\n    output.push(container);\n  }\n\n  return output;\n}\n","import extend from 'extend';\n\n/**\n * Resolve a complex object using the built-in resolver from this.resolver in component\n * @ignore\n */\nexport default function complexResolver({\n  keys, data, defaultSettings, style, settings, width, height, resolver\n}) {\n  const defaults = extend(true, {}, defaultSettings || {}, style || {});\n  const scaled = {\n    major: settings.orientation === 'horizontal' ? height : width,\n    minor: settings.orientation === 'horizontal' ? width : height\n  };\n\n  const majorSettings = settings.major;\n\n  let majorResolved;\n\n  if (typeof majorSettings === 'object' && typeof majorSettings.ref === 'object' && (typeof majorSettings.ref.start !== 'undefined' && typeof majorSettings.ref.end !== 'undefined')) {\n    // temporary backwards compatibility\n    majorResolved = resolver.resolve({\n      data,\n      defaults: {\n        start: 0,\n        end: 1\n      },\n      scaled,\n      settings: extend(true, {}, {\n        binStart: { scale: settings.major.scale, ref: settings.major.ref.start },\n        binEnd: { scale: settings.major.scale, ref: settings.major.ref.end }\n      })\n    });\n  } else if (typeof majorSettings === 'object' && (typeof majorSettings.binStart !== 'undefined' && typeof majorSettings.binEnd !== 'undefined')) {\n    majorResolved = resolver.resolve({\n      data,\n      defaults: {\n        start: 0,\n        end: 1\n      },\n      scaled,\n      settings: extend(true, {}, {\n        binStart: { scale: settings.major.scale, ref: 'binStart' },\n        binEnd: { scale: settings.major.scale, ref: 'binEnd' }\n      }, settings.major)\n    });\n  } else {\n    majorResolved = resolver.resolve({\n      data,\n      scaled,\n      defaults: {\n        major: 0.5\n      },\n      settings: {\n        major: settings.major\n      }\n    });\n  }\n\n  const minorSettings = settings.minor || {};\n  const defaultMinorSettings = {};\n  ['start', 'end', 'min', 'max', 'med'].forEach((prop) => {\n    if (minorSettings[prop] || (data.items && data.items.length && data.items[0][prop])) {\n      defaultMinorSettings[prop] = { scale: minorSettings.scale, ref: prop };\n    }\n  });\n\n  const minorResolved = resolver.resolve({\n    data,\n    defaults: {\n      start: 0,\n      end: 1\n    },\n    scaled,\n    settings: extend(true, {}, defaultMinorSettings, minorSettings)\n  });\n\n  let key;\n  let ext = {\n    major: majorResolved,\n    minor: minorResolved\n  };\n\n  for (let ki = 0, len = keys.length; ki < len; ki++) {\n    if (!settings[key] || settings[key].show !== false) {\n      key = keys[ki];\n      ext[key] = resolver.resolve({\n        data,\n        defaults: defaults[key],\n        settings: settings[key],\n        scaled\n      });\n    }\n  }\n\n  return ext;\n}\n","import buildShapes from './box-shapes';\nimport complexResolver from './box-resolver';\n\nconst DEFAULT_DATA_SETTINGS = {\n  oob: {\n    show: true,\n    type: 'n-polygon',\n    fill: '#999',\n    stroke: '#000',\n    strokeWidth: 0,\n    size: 10,\n    sides: 3,\n    startAngle: -90\n  },\n  box: {\n    show: true,\n    fill: '#fff',\n    stroke: '#000',\n    strokeWidth: 1,\n    strokeLinejoin: 'miter',\n    width: 1,\n    maxWidthPx: undefined,\n    minWidthPx: 1,\n    minHeightPx: 1\n  },\n  line: {\n    show: true,\n    stroke: '#000',\n    strokeWidth: 1\n  },\n  median: {\n    show: true,\n    stroke: '#000',\n    strokeWidth: 1\n  },\n  whisker: {\n    show: true,\n    stroke: '#000',\n    strokeWidth: 1,\n    fill: '',\n    type: 'line',\n    width: 1\n  }\n};\n\nconst dataKeys = Object.keys(DEFAULT_DATA_SETTINGS);\n\nconst component = {\n  require: ['chart', 'resolver', 'symbol'],\n  defaultSettings: {\n    settings: {},\n    data: {},\n    style: {\n      box: '$shape',\n      line: '$shape-guide',\n      whisker: '$shape-guide',\n      median: '$shape-guide--inverted'\n    }\n  },\n  created() {\n    this.state = {};\n  },\n  render({ data }) {\n    const { width, height } = this.rect;\n\n    const flipXY = this.settings.settings.orientation === 'horizontal';\n\n    const { style, resolver, symbol } = this;\n\n    const keys = dataKeys.filter((key) => !this.settings.settings[key] || this.settings.settings[key].show !== false);\n    const defaultSettings = {};\n\n    keys.forEach((key) => defaultSettings[key] = DEFAULT_DATA_SETTINGS[key]);\n\n    const resolved = complexResolver({\n      keys,\n      data,\n      defaultSettings,\n      style,\n      settings: this.settings.settings,\n      width,\n      height,\n      resolver\n    });\n\n    const { settings, items } = resolved;\n\n    const shapes = buildShapes({\n      items,\n      settings,\n      width,\n      height,\n      flipXY,\n      resolved,\n      keys,\n      symbol\n    });\n\n    return shapes;\n  }\n};\n\nexport default component;\n","import component from './box';\n\nexport default function box(picasso) {\n  picasso.component('box', component);\n  picasso.component('box-marker', component); // temporary backwards compatibility - DEPRECATED\n}\n\n/**\n * @typedef {object} component--box\n * @property {string} type - \"box\"\n * @property {component--box~data} data Box data\n * @property {component--box~settings} settings Box settings\n * @example\n * {\n *   type: \"box\",\n *   data: {\n *    mapTo: {\n *      min: { source: \"/qHyperCube/qMeasureInfo/0\" },\n *      start: { source: \"/qHyperCube/qMeasureInfo/1\" },\n *      med: { source: \"/qHyperCube/qMeasureInfo/2\" },\n *      end: { source: \"/qHyperCube/qMeasureInfo/3\" },\n *      max: { source: \"/qHyperCube/qMeasureInfo/4\" },\n *    },\n *    groupBy: {\n *      source: \"/qHyperCube/qDimensionInfo/0\"\n *    }\n *  },\n *  settings: {\n *    major: {\n *      scale: { source: \"/qHyperCube/qDimensionInfo/0\" }\n *    },\n *    minor: {\n *      scale: { source: [\"/qHyperCube/qMeasureInfo/0\",\n *               \"/qHyperCube/qMeasureInfo/1\",\n *               \"/qHyperCube/qMeasureInfo/2\",\n *               \"/qHyperCube/qMeasureInfo/3\",\n *               \"/qHyperCube/qMeasureInfo/4\"] }\n *    }\n *  }\n * }\n */\n\n/**\n * @typedef {object} component--box~settings\n * @property {object} major\n * @property {string} major.scale The scale to use along the major (dimension) axis\n * @property {string|component--box~settings~majorReference} [major.ref='self'] Reference to the data property along the major axis\n * @property {object} minor\n * @property {string} minor.scale The scale to use along the minor (measure) axis\n * @property {string} [orientation='vertical'] Which orientation to use (vertical or horizontal)\n * @property {object} [box] Visual properties for the box shape in the box marker\n * @property {boolean} [box.show=true] Boolean for showing the box shape\n * @property {string} [box.fill='#fff']\n * @property {string} [box.stroke='#000']\n * @property {number} [box.strokeWidth=1]\n * @property {string} [box.strokeLinejoin='miter']\n * @property {number} [box.width=1]\n * @property {number} [box.maxWidthPx=100] Maximum width of the box in pixels (not applicable when using major start and end)\n * @property {number} [box.minWidthPx=1] Minimum width of the box in pixels (not applicable when using major start and end)\n * @property {number} [box.minHeightPx=1] Minimum height of the box shape\n * @property {object} [line] Visual properties for lines between min-start, end-max.\n * @property {boolean} [line.show=true]\n * @property {string} [line.stroke='#000']\n * @property {number} [line.strokeWidth=1]\n * @property {object} [whisker] All the visual properties for whiskers at min and max.\n * @property {boolean} [whisker.show=true]\n * @property {string} [whisker.stroke='#000']\n * @property {number} [whisker.strokeWidth=1]\n * @property {number} [whisker.width=1]\n * @property {object} [median] Visual properties for the median\n * @property {boolean} [median.show=true]\n * @property {string} [median.stroke='#000']\n * @property {number} [median.strokeWidth=1]\n * @property {object} [oob] EXPERIMENTAL: Out of bounds symbol utilizing the symbol API\n * @property {boolean} [oob.show=true]\n * @property {string} [oob.type='n-polygon'] Type of the symbol to be used\n * @property {string} [oob.fill='#999'] Fill color of the symbol\n * @property {string} [oob.stroke='#000'] Stroke color\n * @property {number} [oob.strokeWidth=0] Stroke width\n * @property {number} [oob.size=10] Size/width of the symbol in pixels\n * @property {number} [oob.sides=3] Number of sides for a n-polygon (3 for triangle)\n */\n\n/**\n * @typedef {object} component--box~settings~majorReference\n * @property {string} start Reference to the data property of the start value along the major axis\n * @property {string} end Reference to the data property of the end value along the major axis\n */\n\n/**\n * @typedef {object} component--box~data\n * @property {number} [min] Min\n * @property {number} [max] Max\n * @property {number} [start] Start of box\n * @property {number} [end] End of box\n * @property {number} [med] Median\n */\n","import extend from 'extend';\nimport { notNumber } from '../../utils/is-number';\n\nconst DEFAULT_ERROR_SETTINGS = {\n  errorShape: {\n    shape: 'saltire',\n    width: 2,\n    size: 0.5,\n    fill: '#333',\n    stroke: '#333',\n    strokeWidth: 0\n  }\n};\n\n/**\n  * @typedef {object}\n  * @alias component--point.settings\n  */\nconst DEFAULT_DATA_SETTINGS = {\n  /** Type of shape\n   * @type {datum-string=} */\n  shape: 'circle',\n  label: '',\n  /** Fill color\n   * @type {datum-string=} */\n  fill: '#333',\n  /** Stroke color\n   * @type {datum-string=} */\n  stroke: '#ccc',\n  /** Stroke width\n   * @type {datum-number=} */\n  strokeWidth: 0,\n  /** Stroke line join\n   * @type {string=} */\n  strokeLinejoin: 'miter',\n  /** Opacity of shape\n   * @type {datum-number=} */\n  opacity: 1,\n  /** Normalized x coordinate\n   * @type {datum-number=} */\n  x: 0.5,\n  /** Normalized y coordinate\n   * @type {datum-number=} */\n  y: 0.5,\n  /** Normalized size of shape\n   * @type {datum-number=} */\n  size: 1,\n  strokeDasharray: ''\n};\n\n/**\n  * @typedef {object}\n  * @alias component--point.settings.sizeLimits\n  */\nconst SIZE_LIMITS = {\n  /** Maximum size of shape, in pixels\n   * @type {number=} */\n  maxPx: 10000,\n  /** Minimum size of shape, in pixels\n   * @type {number=} */\n  minPx: 1,\n  /** Maximum size relative linear scale extent\n   * @type {number=} */\n  maxRelExtent: 0.1,\n  /** Minimum size relative linear scale extent\n   * @type {number=} */\n  minRelExtent: 0.01,\n  /** Maximum size relative discrete scale banwidth\n   * @type {number=} */\n  maxRelDiscrete: 1,\n  /** Minimum size relative discrete scale banwidth\n   * @type {number=} */\n  minRelDiscrete: 0.1\n};\n\nfunction getPxSpaceFromScale(s, space) {\n  if (s && typeof s.bandwidth === 'function') { // some kind of ordinal scale\n    return {\n      isBandwidth: true,\n      value: Math.max(1, s.bandwidth() * space)\n    };\n  }\n  return {\n    isBandwidth: false,\n    value: Math.max(1, space)\n  };\n}\n\nfunction getPointSizeLimits(x, y, width, height, limits) {\n  const xSpacePx = getPxSpaceFromScale(x ? x.scale : undefined, width, limits);\n  const ySpacePx = getPxSpaceFromScale(y ? y.scale : undefined, height, limits);\n  let maxSizePx = Math.min(xSpacePx.value * limits[xSpacePx.isBandwidth ? 'maxRelDiscrete' : 'maxRelExtent'], ySpacePx.value * limits[ySpacePx.isBandwidth ? 'maxRelDiscrete' : 'maxRelExtent']);\n  let minSizePx = Math.min(xSpacePx.value * limits[xSpacePx.isBandwidth ? 'minRelDiscrete' : 'minRelExtent'], ySpacePx.value * limits[ySpacePx.isBandwidth ? 'minRelDiscrete' : 'minRelExtent']);\n  const min = Math.max(1, Math.floor(minSizePx));\n  const max = Math.max(1, Math.floor(maxSizePx));\n  return {\n    min, max, maxGlobal: limits.maxPx, minGlobal: limits.minPx\n  };\n}\n\nfunction createDisplayPoints(dataPoints, {\n  width, height\n}, pointSize, shapeFn) {\n  return dataPoints.filter((p) => !isNaN(p.x + p.y)).map((p) => {\n    const s = notNumber(p.size) ? DEFAULT_ERROR_SETTINGS.errorShape : p;\n    const size = pointSize.min + (s.size * (pointSize.max - pointSize.min));\n    const shapeSpec = {\n      type: s.shape === 'rect' ? 'square' : s.shape,\n      label: p.label,\n      x: p.x * width,\n      y: p.y * height,\n      fill: s.fill,\n      size: Math.min(pointSize.maxGlobal, Math.max(pointSize.minGlobal, size)),\n      stroke: s.stroke,\n      strokeWidth: s.strokeWidth,\n      strokeDasharray: s.strokeDasharray,\n      opacity: s.opacity\n    };\n    if (s === p.errorShape) {\n      shapeSpec.width = s.width;\n    }\n    const shape = shapeFn(shapeSpec);\n\n    shape.data = p.data;\n    return shape;\n  });\n}\n\nconst component = {\n  require: ['chart', 'resolver', 'symbol'],\n  defaultSettings: {\n    settings: {},\n    data: {},\n    animations: {\n      enabled: false,\n      trackBy: (node) => node.data.value\n    },\n    style: {\n      item: '$shape'\n    }\n  },\n  render({ data }) {\n    const resolved = this.resolver.resolve({\n      data,\n      defaults: extend({}, DEFAULT_DATA_SETTINGS, this.style.item),\n      settings: this.settings.settings,\n      scaled: {\n        x: this.rect.width,\n        y: this.rect.height\n      }\n    });\n    const { width, height } = this.rect;\n    const limits = extend({}, SIZE_LIMITS, this.settings.settings.sizeLimits);\n    const points = resolved.items;\n    const pointSize = getPointSizeLimits(resolved.settings.x, resolved.settings.y, width, height, limits);\n    return createDisplayPoints(points, this.rect, pointSize, this.settings.shapeFn || this.symbol);\n  }\n};\n\nexport default component;\n","import pointMarkerComponent from './point';\n\n/**\n * @typedef {object} component--point\n */\n\n/**\n * @type {string}\n * @memberof component--point\n */\nconst type = 'point';\n\nexport default function pointMarker(picasso) {\n  picasso.component(type, pointMarkerComponent);\n\n  picasso.component('point-marker', pointMarkerComponent); // temporary backwards compatibility - DEPRECATED\n}\n","import extend from 'extend';\nimport { pie, arc } from 'd3-shape';\n\n/**\n * @typedef {object}\n * @alias component--pie-settings\n */\nconst DEFAULT_DATA_SETTINGS = {\n  /** Start angle of the pie, in radians\n   * @type {number=} */\n  startAngle: 0,\n  /** End angle of the pie, in radians\n   * @type {number=} */\n  endAngle: 2 * Math.PI,\n  /**\n   * @typedef {object}\n   */\n  slice: {\n    label: '',\n    /** Absolute value of the slice's arc length\n     * @type {number=} */\n    arc: 1,\n    /** Visibility of the slice\n     * @type {boolean=} */\n    show: true,\n    /** Fill color of the slice\n     * @type {string=} */\n    fill: '#333',\n    /** Stroke color of the slice\n     * @type {string=} */\n    stroke: '#ccc',\n    /** Stroke width of the slice\n     * @type {number=} */\n    strokeWidth: 1,\n    /** Stroke line join\n     * @type {string=} */\n    strokeLinejoin: 'round',\n    /** Opacity of the slice\n     * @type {number=} */\n    opacity: 1,\n    /** Inner radius of the slice\n     * @type {number=} */\n    innerRadius: 0,\n    /** Outer radius of the slice\n     * @type {number=} */\n    outerRadius: 0.8,\n    /** Corner radius of the slice, in pixels\n     * @type {number=} */\n    cornerRadius: 0,\n    /** Radial offset of the slice\n     * @type {number=} */\n    offset: 0\n  }\n};\n\n/**\n * @typedef {object} component--pie\n * @property {string} [type='pie']\n * @example\n * {\n *   type: 'pie',\n *   data: {\n *     extract: {\n *       field: 'Region',\n *       props: {\n *         num: { field: 'Population' }\n *       }\n *     }\n *   },\n *   settings: {\n *     startAngle: Math.PI / 2,\n *     endAngle: -Math.PI / 2,\n *     slice: {\n *       arc: { ref: 'num' },\n *       fill: 'green',\n *       stroke: 'red',\n *       strokeWidth: 2,\n *       strokeLinejoin: 'round',\n *       innerRadius: 0.6,\n *       outerRadius 0.8,\n *       opacity: 0.8,\n *       offset: 0.2\n *     }\n *   }\n * }\n */\n\nfunction offsetSlice(centroid, offset, outerRadius, innerRadius) {\n  let [vx, vy] = centroid;\n  const vlen = Math.sqrt((vx * vx) + (vy * vy));\n  vx /= vlen;\n  vy /= vlen;\n  const diff = outerRadius - innerRadius;\n  return { x: vx * offset * diff, y: vy * offset * diff };\n}\n\nfunction createDisplayPies(arcData, {\n  x, y, width, height\n}, slices, sum) {\n  const arcGen = arc();\n  const center = { x: x + (width / 2), y: y + (height / 2) };\n  const innerRadius = (Math.min(width, height) / 2);\n  const outerRadius = (Math.min(width, height) / 2);\n  const cornerRadius = outerRadius / 100;\n  return arcData.map((a, i) => {\n    const slice = slices[i];\n    slice.type = 'path';\n    const or = outerRadius * slice.outerRadius;\n    const ir = innerRadius * slice.innerRadius;\n    arcGen.innerRadius(ir);\n    arcGen.outerRadius(or);\n    arcGen.cornerRadius(cornerRadius * slice.cornerRadius);\n    slice.d = arcGen(a);\n    const centroid = arcGen.centroid(a);\n    const offset = slice.offset ? offsetSlice(centroid, slice.offset, or, ir) : { x: 0, y: 0 };\n    slice.transform = `translate(${offset.x}, ${offset.y}) translate(${center.x}, ${center.y})`;\n    slice.desc = {\n      share: a.value / sum,\n      slice: {\n        start: a.startAngle,\n        end: a.endAngle,\n        innerRadius: ir,\n        outerRadius: or,\n        offset: { x: center.x + offset.x, y: center.y + offset.y }\n      }\n    };\n\n    return slice;\n  });\n}\n\nexport function arcValue(stngs, item) {\n  if (stngs.slice && 'arc' in stngs.slice) {\n    return item.arc;\n  }\n  return item.data.value;\n}\n\nconst pieComponent = {\n  require: ['chart', 'resolver'],\n  defaultSettings: {\n    settings: {\n      startAngle: 0,\n      endAngle: 2 * Math.PI,\n      padAngle: 0,\n      slice: {}\n    },\n    style: {\n      slice: '$shape'\n    },\n    data: {}\n  },\n  render({ data }) {\n    const arcValues = [];\n    const slices = [];\n    const stngs = this.settings.settings;\n    const { items } = this.resolver.resolve({\n      data,\n      defaults: extend({}, DEFAULT_DATA_SETTINGS.slice, this.style.slice),\n      settings: stngs.slice\n    });\n\n    let sum = 0;\n    for (let i = 0, len = items.length; i < len; i++) {\n      const val = arcValue(stngs, items[i]);\n      if (val > 0 && items[i].outerRadius >= items[i].innerRadius) {\n        arcValues.push(val);\n        slices.push(items[i]);\n        sum += val;\n      }\n    }\n\n    const pieGen = pie().sortValues(null);\n    pieGen.startAngle(stngs.startAngle);\n    pieGen.endAngle(stngs.endAngle);\n    pieGen.padAngle(stngs.padAngle);\n    const arcData = pieGen(arcValues);\n\n    return createDisplayPies(\n      arcData,\n      extend({}, this.rect, { x: 0, y: 0 }),\n      slices,\n      sum\n    );\n  }\n};\n\nexport default pieComponent;\n","import pieComponent from './pie';\n\nexport default function pie(picasso) {\n  picasso.component('pie', pieComponent);\n}\n","/**\n * Create a crispifier\n * @ignore\n *\n * @param  {Object} [crispMap] Optional crispmap if you need custom crisping.\n * @return {Function}          crispItem function\n *\n * @example\n * import { crispifierFactory } from \"core/crispifier\";\n *\n * let crispify = crispifierFactory(customCrispMap);\n *\n * // For a single item\n * crispify(myItem);\n *\n * // For multiple items\n * crispify.multiple(myArrayOfItems);\n */\nexport function crispifierFactory(crispMap) {\n  // Define the crispMap\n  if (crispMap === undefined) {\n    crispMap = {};\n\n    crispMap.line = {\n      append: ['x1', 'x2', 'y1', 'y2'],\n      round: [],\n      condition: (item) => (item.x1 === item.x2 || item.y1 === item.y2),\n      conditionAppend: (item) => item.strokeWidth % 2 !== 0\n    };\n\n    crispMap.rect = {\n      append: ['x', 'y'],\n      round: ['width', 'height'],\n      condition: () => true,\n      conditionAppend: (item) => item.strokeWidth % 2 !== 0\n    };\n  }\n\n  // Re-map the crispmap\n  Object.keys(crispMap).forEach((type) => {\n    const self = crispMap[type];\n\n    self.items = [];\n\n    self.append.forEach((toAppend) => {\n      self.items.push({\n        key: toAppend,\n        type: 'append'\n      });\n    });\n\n    self.round.forEach((toAppend) => {\n      self.items.push({\n        key: toAppend,\n        type: 'round'\n      });\n    });\n  });\n\n  /**\n   * Crispify a single item\n   * @ignore\n   * @param  {Object} item  Item with renderer variables such as X, Y, and type.\n   * @return {Undefined}    Returns nothing, modifies the original item instead\n   */\n  function crispItem(item) {\n    if (crispMap[item.type] && crispMap[item.type].condition(item)) {\n      const self = crispMap[item.type];\n      const doAppend = self.conditionAppend === undefined || self.conditionAppend(item);\n\n      self.items.forEach((i) => {\n        const rounded = Math.round(item[i.key]);\n        const diff = item[i.key] - rounded;\n        item[i.key] = rounded;\n\n        if (doAppend && i.type === 'append') {\n          if (diff > 0) {\n            item[i.key] += 0.5;\n          } else {\n            item[i.key] -= 0.5;\n          }\n        }\n      });\n    }\n  }\n\n  /**\n   * Crispify multiple items\n   * @ignore\n   *\n   * @param  {Array} items  Array of objects to crispify\n   * @return {Undefined}    Returns nothing, modifies the original item instead\n   */\n  crispItem.multiple = (items) => items.forEach((item) => crispItem(item));\n\n  return crispItem;\n}\n\nconst crispifier = crispifierFactory();\n\nexport default crispifier;\n","import crispify from './crispifier';\n\nclass Transposer {\n  /**\n   * @private\n   */\n  constructor(...items) {\n    this.reset();\n\n    this.push(...items);\n  }\n\n  /**\n   * Evaluate a key for a transposed coordinate\n   *\n   * @param  {String} key   Key\n   * @return {String}         Actual key\n   */\n  static evaluateKey(key, flipXY) {\n    if (flipXY) {\n      const firstChar = key.substring(0, 1);\n      const rest = key.substring(1);\n\n      if (firstChar === 'x') {\n        return `y${rest}`;\n      }\n      if (firstChar === 'y') {\n        return `x${rest}`;\n      }\n      if (key === 'cx') {\n        return 'cy';\n      }\n      if (key === 'cy') {\n        return 'cx';\n      }\n      if (key === 'width') {\n        return 'height';\n      }\n      if (key === 'height') {\n        return 'width';\n      }\n    }\n\n    return key;\n  }\n\n  /**\n   * Transpose a coordinate according to this.flipXY and\n   * the available rendering area\n   *\n   * @param  {String} key        The key of the coordinate to transpose\n   * @param  {Number} coordinate The coordinate\n   * @return {Number}            The actual location of the coordinate\n   */\n  transposeCoordinate(key, coordinate, flipXY) {\n    if (typeof coordinate === 'number' && isFinite(coordinate)) {\n      const firstChar = key.substring(0, 1);\n\n      if (firstChar === 'x' || key === 'cx') {\n        return coordinate * this.width;\n      }\n      if (key === 'width') {\n        return coordinate * this.width;\n      }\n      if (key === 'r') {\n        return coordinate * (!flipXY ? this.width : this.height);\n      }\n      if (firstChar === 'y' || key === 'cy') {\n        return coordinate * this.height;\n      }\n      if (key === 'height') {\n        return coordinate * this.height;\n      }\n    }\n\n    return coordinate;\n  }\n\n  /**\n   * Push an item into the storage of the transposer\n   *\n   * @param  {Object} items An item to be drawed\n   * @return {Object}       Can be chained\n   */\n  push(...items) {\n    this.storage.push(...items);\n    return this;\n  }\n\n  processItem(item) {\n    let newItem = {};\n    const flipXY = (typeof item.flipXY !== 'undefined' ? item.flipXY : this.flipXY);\n    const crisp = (typeof item.crisp !== 'undefined' ? item.crisp : this.crisp);\n\n    if (item.fn && typeof item.fn === 'function') {\n      let width = flipXY ? this.height : this.width;\n      let height = flipXY ? this.width : this.height;\n\n      item = item.fn({ width, height, flipXY });\n\n      const objectKeys = Object.keys(item);\n\n      for (let ki = 0, kl = objectKeys.length; ki < kl; ki++) {\n        let key = objectKeys[ki];\n        const nkey = Transposer.evaluateKey(key, flipXY);\n        newItem[nkey] = item[key];\n      }\n    } else {\n      const objectKeys = Object.keys(item);\n\n      for (let ki = 0, kl = objectKeys.length; ki < kl; ki++) {\n        let key = objectKeys[ki];\n        const nkey = Transposer.evaluateKey(key, flipXY);\n        const nval = this.transposeCoordinate(nkey, item[key], flipXY);\n        newItem[nkey] = nval;\n      }\n    }\n\n    if (crisp) {\n      crispify(newItem);\n    }\n\n    return newItem;\n  }\n\n  /**\n   * Get the output of the transposer\n   *\n   * @return {Array}   Array of objects\n   */\n  output() {\n    let items = [];\n\n    for (let i = 0, l = this.storage.length; i < l; i++) {\n      let newItem = this.processItem(this.storage[i]);\n\n      items.push(newItem);\n    }\n\n    return items;\n  }\n\n  /**\n   * Reset the transposer\n   *\n   * @return {Undefined}  Does not return anything\n   */\n  reset() {\n    this.storage = [];\n    this.flipXY = false;\n    this.crisp = false;\n\n    this.width = 0;\n    this.height = 0;\n  }\n}\n\nexport function transposer(...items) {\n  return new Transposer(...items);\n}\n\nexport default Transposer;\n","import extend from 'extend';\nimport { transposer } from '../../transposer/transposer';\nimport { updateScaleSize } from '../../scales';\n\n/**\n * Generate array of lines (ticks) from scale\n *\n * @param {object} scale - A scale supplied by the chart\n * @param {object} settings - The settings object from the grid line component\n * @param {object} rect - The rect containing width and height to renderer in\n * @returns {array} - Returns an array of ticks\n * @ignore\n */\nfunction lineGen(scale, distance) {\n  if (!scale || !distance) {\n    return [];\n  }\n  return (scale.cachedTicks && scale.cachedTicks()) || scale.ticks({ distance });\n}\n\nconst gridLineComponent = {\n  created() {\n  },\n\n  require: ['chart', 'renderer', 'resolver'],\n  defaultSettings: {\n    layout: {\n      displayOrder: 0\n    },\n    style: { // Theming style\n      ticks: '$guide-line',\n      minorTicks: '$guide-line--minor'\n    }\n  },\n\n  beforeRender() {\n    this.blueprint = transposer();\n\n    this.blueprint.width = this.rect.width;\n    this.blueprint.height = this.rect.height;\n    this.blueprint.x = this.rect.x;\n    this.blueprint.y = this.rect.y;\n    this.blueprint.crisp = true;\n  },\n\n  render() {\n    // Setup scales\n    this.x = this.settings.x ? this.chart.scale(this.settings.x) : null;\n    this.y = this.settings.y ? this.chart.scale(this.settings.y) : null;\n    updateScaleSize(this, 'x', this.rect.width);\n    updateScaleSize(this, 'y', this.rect.height);\n\n    // Return an empty array to abort rendering when no scales are available to renderer\n    if (!this.x && !this.y) {\n      return [];\n    }\n\n    this.settings.ticks = extend({ show: true }, this.style.ticks, this.settings.ticks || {});\n    this.settings.minorTicks = extend({ show: false }, this.style.minorTicks, this.settings.minorTicks || {});\n\n    // Setup lines for X and Y\n    this.lines = {\n      x: [],\n      y: []\n    };\n\n    // Use the lineGen function to generate appropriate ticks\n    this.lines.x = lineGen(this.x, this.rect.width);\n    this.lines.y = lineGen(this.y, this.rect.height);\n\n    // Set all Y lines to flipXY by default\n    // This makes the transposer flip them individually\n    this.lines.y = this.lines.y.map((i) => extend(i, { flipXY: true }));\n\n    let addTicks = ({ dir, isMinor }) => {\n      let items = this.lines[dir].filter((tick) => !!tick.isMinor === isMinor);\n      let settings = isMinor ? this.settings.minorTicks : this.settings.ticks;\n      let ticks = this.resolver.resolve({\n        settings,\n        data: {\n          items,\n          dir\n        }\n      }).items;\n\n      ticks.forEach((style) => {\n        let p = style.data;\n\n        // If the style's show is falsy, don't renderer this item (to respect axis settings).\n        if (style.show) {\n          // Use the transposer to handle actual positioning\n          this.blueprint.push({\n            type: 'line',\n            x1: p.position,\n            y1: 0,\n            x2: p.position,\n            y2: 1,\n            stroke: style.stroke || 'black',\n            strokeWidth: typeof style.strokeWidth !== 'undefined' ? style.strokeWidth : 1,\n            strokeDasharray: typeof style.strokeDasharray !== 'undefined' ? style.strokeDasharray : undefined,\n            flipXY: p.flipXY || false // This flips individual points (Y-lines)\n          });\n        }\n      });\n    };\n\n    addTicks({ dir: 'x', isMinor: false });\n    addTicks({ dir: 'x', isMinor: true });\n    addTicks({ dir: 'y', isMinor: false });\n    addTicks({ dir: 'y', isMinor: true });\n\n    return this.blueprint.output();\n  }\n};\n\nexport default gridLineComponent;\n","import gridLineComponent from './line';\n\n/**\n * @typedef {object} component--grid-line-settings\n * @property {object} x\n * @property {string} x.scale - The scale to use along x\n * @property {object} y\n * @property {string} y.scale - The scale to use along y\n * @property {object} [ticks]\n * @property {boolean} [ticks.show=true]\n * @property {string} [ticks.stroke='black']\n * @property {number} [ticks.strokeWidth='1']\n * @property {string} [ticks.strokeDasharray]\n * @property {object} [minorTicks]\n * @property {boolean} [minorTicks.show=true]\n * @property {string} [minorTicks.stroke='black']\n * @property {number} [minorTicks.strokeWidth='1']\n * @property {string} [minorTicks.strokeDasharray]\n */\n\nexport default function gridLine(picasso) {\n  picasso.component('grid-line', gridLineComponent);\n}\n","/**\n * Return a D property for a SVG path to get a direction marker\n *\n * @param {number} x - X coordinate\n * @param {number} y - Y coordinate\n * @param {number} r - Radius\n * @param {string} [d='bottom'] - Direction\n * @returns {string} - Finished D property\n * @ignore\n */\nexport function directionMarker(x, y, r, d = 'bottom') {\n  r *= 0.8;\n  if (d === 'left' || d === 'right') {\n    let right = d === 'right';\n    return `\n      M ${x} ${y - r}\n      A ${r * 1.25} ${r * 1.25}, 0, 1, ${right ? 0 : 1}, ${x} ${y + r}\n      L ${right ? x + r : x - r} ${y} Z\n    `;\n  }\n  let bottom = d === 'bottom';\n  return `\n    M ${x - r} ${y}\n    A ${r * 1.25} ${r * 1.25}, 0, 1, ${bottom ? 1 : 0}, ${x + r} ${y}\n    L ${x} ${bottom ? y + r : y - r} Z\n  `;\n}\n\nfunction directionTriangle(x, y, r, d = 'bottom') {\n  r *= 0.75;\n  if (d === 'left' || d === 'right') {\n    let right = d === 'right';\n    x += (right ? r * 1.5 : -(r * 1.5));\n    return `\n      M ${x} ${y - r}\n      L ${x} ${y + r}\n      L ${right ? x + r : x - r} ${y} Z\n    `;\n  }\n  let bottom = d === 'bottom';\n  y += (bottom ? r * 1.5 : -(r * 1.5));\n  return `\n    M ${x - r} ${y}\n    L ${x + r} ${y}\n    L ${x} ${bottom ? y + r : y - r} Z\n  `;\n}\n\n/**\n * Handle out of bound shapes\n * Does not return anything, modifies \"items\" property instead (should be re-considered)\n *\n * @param {object} oob - Out of bounds object from parent\n * @param {object} settings - Settings object from parent\n * @param {object[]} items - Array of all items (for collision detection)\n * @ignore\n */\nexport function oobManager({\n  blueprint, oob, settings, items\n}) {\n  const oobKeys = Object.keys(oob);\n  let style = settings.style.oob || {};\n\n  for (let i = 0, len = oobKeys.length; i < len; i++) {\n    const key = oobKeys[i];\n    const value = oob[key];\n\n    if (value.length > 0) {\n      let position = (key.charAt(1));\n      let flipXY = key.charAt(0) === 'y';\n\n      let xPadding = style.padding.x + (style.width);\n      let yPadding = style.padding.y + style.width;\n      let direction = 'bottom';\n\n      if (flipXY) {\n        direction = (position === '1' ? 'bottom' : 'top');\n      } else {\n        direction = (position === '1' ? 'right' : 'left');\n      }\n\n      let indicator = blueprint.processItem({\n        fn: ({ width, height }) => { /* eslint no-loop-func: 0 */\n          let x = (position * width) + (position === '1' ? -xPadding : xPadding);\n          let y = flipXY ? yPadding : height - yPadding;\n\n          if (style.type === 'arc') {\n            return {\n              type: 'path',\n              d: directionMarker(flipXY ? y : x, flipXY ? x : y, style.width, direction),\n              x,\n              y,\n              stroke: style.stroke,\n              fill: style.fill,\n              strokeWidth: style.strokeWidth || 0\n            };\n          }\n\n          return {\n            type: 'circle',\n            cx: x,\n            cy: y,\n            r: style.width,\n            stroke: style.stroke,\n            fill: style.fill,\n            strokeWidth: style.strokeWidth || 0,\n            opacity: style.opacity,\n            data: value\n          };\n        },\n        flipXY\n      });\n\n      let x = indicator.cx || indicator.x;\n      let y = indicator.cy || indicator.y;\n\n      let text = {\n        type: 'text',\n        text: value.length || '',\n        x: x - (style.width * 0.4),\n        y: y + (style.width * 0.4),\n        fontFamily: style.text.fontFamily,\n        fontSize: `${style.width * 1.3}px`,\n        stroke: style.text.stroke,\n        fill: style.text.fill,\n        strokeWidth: style.text.strokeWidth || 0,\n        opacity: style.text.opacity\n      };\n\n      let triangle = {\n        type: 'path',\n        d: directionTriangle(x, y, style.width, direction),\n        x,\n        y,\n        stroke: style.triangle.stroke,\n        fill: style.triangle.fill,\n        strokeWidth: style.triangle.strokeWidth || 0,\n        opacity: style.triangle.opacity\n      };\n\n      items.push(indicator, text, triangle);\n    }\n  }\n}\n","import extend from 'extend';\nimport {\n  testRectRect,\n  testRectLine\n} from '../../math/narrow-phase-collision';\n\nexport function refLabelDefaultSettings() {\n  return {\n    fill: '#000',\n    fontFamily: 'Arial',\n    fontSize: '12px',\n    opacity: 1,\n    maxWidth: 1,\n    maxWidthPx: 9999,\n    padding: 5,\n    background: {\n      fill: '#fff',\n      stroke: 'transparent',\n      strokeWidth: 0,\n      opacity: 0.5\n    }\n  };\n}\n\n/**\n * Converts a numerical OR string value to a normalized value\n *\n * @param {string|number} align -Description how to align (Numerical from 0-1 or 'top', 'left', 'center', 'middle', 'bottom' or 'right')\n * @returns {number} - Normalized value 0...1\n * @ignore\n */\nexport function alignmentToNumber(align) {\n  if (typeof align === 'undefined') {\n    return 0;\n  }\n  if (typeof align === 'number' && isFinite(align)) {\n    return align;\n  }\n  if (typeof align === 'string') {\n    switch (align) {\n      case 'center':\n      case 'middle':\n        return 0.5;\n      case 'bottom':\n      case 'right':\n        return 1;\n      case 'top':\n      case 'left':\n      default:\n        return 0;\n    }\n  }\n\n  return 0;\n}\n\n/**\n * Create line and label (if applicable)\n * Does not return anything, modifies \"items\" property instead (should be re-considered)\n *\n * @param {object} p - Current point\n * @param {object} style - Applicable line styling\n * @param {object} settings - Settings object derived from parent\n * @param {object[]} items - Array of all items (for collision detection)\n * @ignore\n */\nexport function createLineWithLabel({\n  chart, blueprint, renderer, p, settings, items\n}) {\n  let doesNotCollide = true;\n  let line = false;\n  let rect = false;\n  let label = false;\n  let value = false;\n  let style = extend(true, {}, settings.style.line, p.line || {});\n\n  // Use the transposer to handle actual positioning\n  line = blueprint.processItem({\n    type: 'line',\n    x1: p.position,\n    y1: 0,\n    x2: p.position,\n    y2: 1,\n    stroke: style.stroke || 'black',\n    strokeWidth: style.strokeWidth || 1,\n    flipXY: p.flipXY || false // This flips individual points (Y-lines)\n  });\n\n  if (p.label) {\n    const item = extend(true, refLabelDefaultSettings(), settings.style.label || {}, { fill: style.stroke }, p.label);\n    let formatter;\n    let measuredValue = {\n      width: 0,\n      height: 0\n    };\n    let valueString = '';\n\n    if (typeof p.formatter === 'string') {\n      formatter = chart.formatter(p.formatter);\n    } else if (typeof p.formatter === 'object') {\n      formatter = chart.formatter(p.formatter);\n    } else if (typeof p.scale !== 'undefined' && p.scale.data) {\n      // TODO - Add support for array as source into formatter\n      const scaleData = p.scale.data() && p.scale.data().fields;\n      formatter = scaleData && scaleData[0] ? scaleData[0].formatter() : null;\n    }\n\n    if (formatter) {\n      valueString = ` (${formatter(p.value)})`;\n    } else if (p.scale) {\n      valueString = ` (${p.value})`;\n    }\n\n    if (valueString) {\n      measuredValue = renderer.measureText({\n        text: valueString,\n        fontFamily: item.fontFamily,\n        fontSize: item.fontSize\n      });\n    }\n\n    // Measure the label text\n    let measuredLabel = renderer.measureText({\n      text: item.text || '',\n      fontFamily: item.fontFamily,\n      fontSize: item.fontSize\n    });\n\n    let measured = {\n      width: measuredLabel.width + measuredValue.width,\n      height: Math.max(measuredLabel.height, measuredValue.height)\n    };\n\n    let labelPadding = item.padding;\n\n    // let anchor = item.anchor === 'end' ? 'end' : 'start';\n\n    let align = alignmentToNumber(p.flipXY ? item.vAlign : item.align);\n    let vAlign = alignmentToNumber(p.flipXY ? item.align : item.vAlign);\n\n    let calcWidth = Math.min(1 + measured.width + (labelPadding * 2), item.maxWidth * blueprint.width, item.maxWidthPx);\n    let calcHeight = measured.height + (labelPadding * 2);\n\n    let rectWidth = (p.flipXY ? calcHeight : calcWidth);\n    let rectHeight = (p.flipXY ? calcWidth : calcHeight);\n\n    rect = blueprint.processItem({\n      fn: ({ width, height }) => {\n        let x = (p.position * width) - ((p.flipXY ? calcHeight : calcWidth) * (1 - align));\n        x = p.flipXY ? x : Math.max(x, 0);\n        const y = Math.max(Math.abs((vAlign * height) - (rectHeight * vAlign)), 0);\n        return {\n          type: 'rect',\n          x,\n          y,\n          width: p.flipXY ? rectWidth : Math.min(rectWidth, blueprint.width - x),\n          height: rectHeight,\n          stroke: item.background.stroke,\n          strokeWidth: item.background.strokeWidth,\n          fill: item.background.fill,\n          opacity: item.background.opacity\n        };\n      },\n      flipXY: p.flipXY || false // This flips individual points (Y-lines)\n    });\n\n    if (\n      rect.x < -1 || (rect.x + rect.width) > (blueprint.width + 1)\n      || rect.y < -1 || (rect.y + rect.height) > (blueprint.height + 1)\n    ) {\n      // do not create labels if out of bounds\n      rect = undefined;\n    } else {\n      // Labels are just basic objects attached to a corner of a rect,\n      // and this rect needs to already be processed\n      // so there is no blueprint.processItem required here\n      label = {\n        type: 'text',\n        text: item.text || '',\n        fill: item.fill,\n        opacity: item.opacity,\n        fontFamily: item.fontFamily,\n        fontSize: item.fontSize,\n        x: rect.x + labelPadding,\n        y: rect.y + (rect.height / 2) + (measured.height / 3),\n        maxWidth: rect.width - (labelPadding * 2) - measuredValue.width,\n        anchor: 'start'\n      };\n\n      if (valueString) {\n        value = {\n          type: 'text',\n          text: valueString || '',\n          fill: item.fill,\n          opacity: item.opacity,\n          fontFamily: item.fontFamily,\n          fontSize: item.fontSize,\n          x: label.x + 3 + (rect.width - (measuredValue.width + (labelPadding * 2))),\n          y: label.y\n        };\n      }\n\n      // Detect collisions with other labels/rects or lines\n      for (let i = 0, len = items.length; i < len; i++) {\n        let curItem = items[i];\n\n        if (curItem.type === 'rect') {\n          // We only detect rects here, since rects are always behind labels,\n          // and we wouldn't want to measure text one more time\n          if (testRectRect(rect, curItem)) {\n            doesNotCollide = false;\n          }\n        } else if (curItem.type === 'line') {\n          // This will only collide when flipXY are the same for both objects,\n          // So it only collides on objects on the same \"axis\"\n          if (p.flipXY === curItem.flipXY && testRectLine(rect, curItem)) {\n            doesNotCollide = false;\n          }\n        }\n      }\n    }\n  }\n\n  // Always push the line,\n  // but this is done after collision detection,\n  // because otherwise it would collide with it's own line\n  items.push(line);\n\n  // Only push rect & label if we haven't collided and both are defined\n  if (doesNotCollide && rect && label) {\n    items.push(rect, label);\n    if (value) {\n      items.push(value);\n    }\n  }\n}\n","import extend from 'extend';\nimport { transposer } from '../../transposer/transposer';\nimport { oobManager } from './oob';\nimport { createLineWithLabel } from './lines-and-labels';\n\nfunction createOobData(line) {\n  const data = {\n    value: line.value\n  };\n\n  if (line.label) {\n    data.label = line.label.text;\n  }\n\n  return data;\n}\n\nfunction filterUndefinedValue(line) {\n  return typeof line.value !== 'undefined';\n}\n\n/**\n * @typedef {object} component--ref-line\n * @experimental\n * @property {refline-generic-style} [style=refline-generic-style] - x coordinate\n * @property {object} lines - X & Y Lines\n * @property {reflines-x[]} [lines.x=refline-line[]] - lines along X\n * @property {reflines-y[]} [lines.y=refline-line[]] - lines along Y\n */\n\n/**\n * @typedef {object} component--ref-line.style\n * @property {refline-oob-style} [oob=component--ref-line.style.oob] - Style for out of bounds object (oob)\n * @property {refline-line} [line=refline-line] - Generic style for lines\n * @property {refline-line-label} [label=refline-line-label] - Generic style for labels\n */\n\n/**\n * @typedef {object} component--ref-line.style.oob\n * @property {boolean} [show=true] - Show out of bounds items\n * @property {string} [type=undefined] - EXPERIMENTAL:  Set this to 'arc' for an experimental out of bounds shape (only works with SVG)\n * @property {number} [width=10] - Width of the out of bounds object\n * @property {string} [fill='#1A1A1A'] - Fill color of the OOB object\n * @property {string} [stroke='transparent'] - Stroke of the OOB object\n * @property {number} [strokeWidth=0] - Stroke width of the OOB object\n * @property {number} [opacity=1] - Opacity of the OOB object\n * @property {refline-generic-text} [text=refline-generic-text] - Text configuration for out of bounds\n * @property {refline-generic-object} [triangle=refline-generic-object] - The triangle in OOB\n * @property {object} [padding] - Padding on X\n * @property {number} [padding.x=28] - Padding on X\n * @property {number} [padding.y=5] - Padding on X\n */\n\n/**\n * @typedef {object} component--ref-line.generic-text\n * @property {string} [text=''] - Text (if applicable)\n * @property {string} [fontSize='12px'] - Font size (if applicable)\n * @property {string} [fontFamily='Arial'] - Font family\n * @property {string} [fill='#fff'] - Fill color\n * @property {string} [stroke='transparent'] - Stroke\n * @property {number} [strokeWidth=0] - Stroke width\n * @property {number} [opacity=1] - Opacity\n */\n\n/**\n * @typedef {object} component--ref-line.line\n * @property {number} value - The value of the reference line. If a scale is specified, it is applied.\n * @property {Scale} [scale=undefined] - Scale to use (if undefined will use normalized value 0-1)\n * @property {refline-generic-object} [line=refline-generic-object] - The style of the line\n * @property {refline-line-label} [label=refline-line-label] - The label style of the line\n */\n\n/**\n * @typedef {object} component--ref-line.line-label\n * @property {number} padding=5 - Padding inside the label\n * @property {string} [text=''] - Text\n * @property {string} [fontSize='12px'] - Font size\n * @property {string} [fontFamily='Arial'] - Font family\n * @property {string} [stroke='transparent'] - Stroke\n * @property {number} [strokeWidth=0] - Stroke width\n * @property {number} [opacity=1] - Opacity\n * @property {number|string} [align=0] - Alignment property left to right (0 = left, 1 = right). Also supports string ('left', 'center', 'middle', 'right')\n * @property {number|string} [vAlign=0] - Alignment property top to bottom (0 = top, 1 = bottom). Also supports string ('top', 'center', 'middle', 'bottom')\n * @property {number} [maxWidth=1] - The maximum relative width to the width of the rendering area (see maxWidthPx below aswell)\n * @property {number} [maxWidthPx=9999] - The maximum width in pixels.\n * @property {refline-line-label-background} [background=refline-line-label-background] - The background style (rect behind text)\n */\n\n/**\n * @example\n * // Labels will be rendered with the maximum size of the smallest value of maxWidth and maxWidthPx size, so you may specify maxWidth 0.8 but maxWidthPx 100 and will never be over 100px and never over 80% of the renderable area.\n */\n\n/**\n * @typedef {object} component--ref-line.line-label-background\n * @property {string} [fill='#fff'] - Fill color\n * @property {string} [stroke='transparent'] - Stroke\n * @property {number} [strokeWidth=0] - Stroke width\n * @property {number} [opacity=0.5] - Opacity\n */\n\n/**\n * @typedef {object} component--ref-line.generic-object\n * @property {string} [fill='#fff'] - Fill color\n * @property {string} [stroke='transparent'] - Stroke\n * @property {number} [strokeWidth=0] - Stroke width\n * @property {number} [opacity=1] - Opacity\n */\n\nconst refLineComponent = {\n  require: ['chart', 'renderer'],\n  defaultSettings: {\n    layout: {\n      displayOrder: 0\n    },\n    style: {\n      oob: {\n        show: true,\n        width: 10,\n        fill: '#1A1A1A',\n        stroke: 'transparent',\n        strokeWidth: 0,\n        opacity: 1,\n        text: {\n          fontFamily: 'Arial',\n          stroke: 'transparent',\n          fill: '#fff',\n          strokeWidth: 0,\n          opacity: 1\n        },\n        triangle: {\n          fill: '#4D4D4D',\n          stroke: 'transparent',\n          strokeWidth: 0,\n          opacity: 1\n        },\n        padding: {\n          x: 28,\n          y: 5\n        }\n      },\n      line: {\n        stroke: '#000'\n      },\n      label: {\n        strokeWidth: 0\n      }\n    }\n  },\n\n  preferredSize() {\n    return 30;\n  },\n\n  beforeRender() {\n    this.blueprint = transposer();\n\n    this.blueprint.width = this.rect.width;\n    this.blueprint.height = this.rect.height;\n    this.blueprint.x = this.rect.x;\n    this.blueprint.y = this.rect.y;\n    this.blueprint.crisp = true;\n  },\n\n  render() {\n    let settings = this.settings;\n\n    // Setup lines for X and Y\n    this.lines = {\n      x: [],\n      y: []\n    };\n\n    this.lines.x = (settings.lines && settings.lines.x) || [];\n    this.lines.y = (settings.lines && settings.lines.y) || [];\n\n    if (this.lines.x.length === 0 && this.lines.y.length === 0) {\n      return [];\n    }\n\n    const oob = {\n      x0: [],\n      x1: [],\n      y0: [],\n      y1: []\n    };\n\n    // Convert a value to an actual position using the scale\n    this.lines.x = this.lines.x.filter(filterUndefinedValue).map((line) => {\n      if (line.scale) {\n        let scale = this.chart.scale(line.scale);\n        return extend(line, { scale, position: scale(line.value) });\n      }\n\n      return extend(line, { position: line.value });\n    });\n    // Set all Y lines to flipXY by default\n    // This makes the transposer flip them individually\n    this.lines.y = this.lines.y.filter(filterUndefinedValue).map((line) => {\n      if (line.scale) {\n        let scale = this.chart.scale(line.scale);\n        return extend(line, { scale, position: scale(line.value), flipXY: true });\n      }\n\n      return extend(line, { position: line.value, flipXY: true });\n    });\n\n    // Move out of bounds lines (OOB) to separate rendering\n    this.lines.x = this.lines.x.filter((line) => {\n      if (line.position < 0 || line.position > 1) {\n        oob[`x${line.position > 1 ? 1 : 0}`].push(createOobData(line));\n        return false;\n      }\n      return true;\n    });\n\n    this.lines.y = this.lines.y.filter((line) => {\n      if (line.position < 0 || line.position > 1) {\n        oob[`y${line.position > 1 ? 1 : 0}`].push(createOobData(line));\n        return false;\n      }\n      return true;\n    });\n\n    let items = [];\n\n    // Loop through all X and Y lines\n    [...this.lines.x, ...this.lines.y].forEach((p) => {\n      let show = p.show === true || typeof p.show === 'undefined';\n\n      if (show) {\n        // Create line with labels\n        createLineWithLabel({\n          chart: this.chart, blueprint: this.blueprint, renderer: this.renderer, p, settings, items\n        });\n      }\n    });\n\n    // Handle out of bounds\n    if (settings.style.oob.show) {\n      oobManager({\n        blueprint: this.blueprint, oob, settings, items\n      });\n    }\n\n    return items;\n  }\n};\n\nexport default refLineComponent;\n","import refLineComponent from './refline';\n\nexport default function refLine(picasso) {\n  picasso.component('ref-line', refLineComponent);\n}\n","import extend from 'extend';\n\nfunction appendStyle(struct, buildOpts) {\n  extend(struct, buildOpts.style);\n  const halfWidth = struct.strokeWidth / 2;\n\n  if (buildOpts.align === 'top') {\n    struct.y1 -= halfWidth;\n    struct.y2 -= halfWidth;\n  } else if (buildOpts.align === 'bottom') {\n    struct.y1 += halfWidth;\n    struct.y2 += halfWidth;\n  } else if (buildOpts.align === 'left') {\n    struct.x1 -= halfWidth;\n    struct.x2 -= halfWidth;\n  } else if (buildOpts.align === 'right') {\n    struct.x1 += halfWidth;\n    struct.x2 += halfWidth;\n  }\n}\n\nexport default function buildLine(buildOpts) {\n  const struct = {\n    type: 'line',\n    x1: 0,\n    x2: 0,\n    y1: 0,\n    y2: 0,\n    collider: {\n      type: null\n    }\n  };\n\n  if (buildOpts.align === 'top' || buildOpts.align === 'bottom') {\n    struct.x1 = buildOpts.innerRect.x - buildOpts.outerRect.x;\n    struct.x2 = buildOpts.innerRect.width + buildOpts.innerRect.x;\n    struct.y1 = struct.y2 = buildOpts.align === 'top' ? buildOpts.innerRect.height - buildOpts.padding : buildOpts.padding;\n  } else {\n    struct.x1 = struct.x2 = buildOpts.align === 'left' ? buildOpts.innerRect.width - buildOpts.padding : buildOpts.padding;\n    struct.y1 = buildOpts.innerRect.y - buildOpts.outerRect.y;\n    struct.y2 = buildOpts.innerRect.height + buildOpts.innerRect.y;\n  }\n\n  appendStyle(struct, buildOpts);\n\n  return struct;\n}\n","import { rotate as rotateVector } from '../../math/vector';\n\nfunction checkText(text) {\n  return typeof text === 'string' || typeof text === 'number' ? text : '-';\n}\n\nfunction appendStyle(struct, buildOpts) {\n  ['fill', 'fontSize', 'fontFamily'].forEach((style) => {\n    struct[style] = buildOpts.style[style];\n  });\n}\n\nfunction clampEnds(struct, buildOpts) {\n  if (buildOpts.tilted || buildOpts.stepSize) {\n    return;\n  }\n\n  if (buildOpts.align === 'top' || buildOpts.align === 'bottom') {\n    const leftBoundary = 0;\n    const rightBoundary = buildOpts.outerRect.width;\n    const textWidth = Math.min(buildOpts.maxWidth / 2, buildOpts.textRect.width / 2);\n    const leftTextBoundary = struct.x - textWidth;\n    const rightTextBoundary = struct.x + textWidth;\n    if (leftTextBoundary < leftBoundary) {\n      struct.anchor = 'start';\n      struct.x = buildOpts.innerRect.x - buildOpts.outerRect.x;\n    } else if (rightTextBoundary > rightBoundary) {\n      struct.anchor = 'end';\n      struct.x = buildOpts.innerRect.width + buildOpts.innerRect.x;\n    }\n  } else {\n    const topBoundary = 0;\n    const bottomBoundary = buildOpts.outerRect.height;\n    const textHeight = buildOpts.maxHeight / 2;\n    const topTextBoundary = struct.y - textHeight;\n    const bottomTextBoundary = struct.y + textHeight;\n    if (topTextBoundary < topBoundary) {\n      struct.y = buildOpts.innerRect.y - buildOpts.outerRect.y;\n      struct.baseline = 'text-before-edge';\n    } else if (bottomTextBoundary > bottomBoundary) {\n      struct.y = buildOpts.innerRect.height + (buildOpts.innerRect.y - buildOpts.outerRect.y);\n      struct.baseline = 'text-after-edge';\n    }\n  }\n}\n\nfunction appendPadding(struct, buildOpts) {\n  if (buildOpts.align === 'top') {\n    struct.y -= buildOpts.padding;\n  } else if (buildOpts.align === 'bottom') {\n    struct.y += buildOpts.padding + buildOpts.maxHeight;\n  } else if (buildOpts.align === 'left') {\n    struct.x -= buildOpts.padding;\n  } else if (buildOpts.align === 'right') {\n    struct.x += buildOpts.padding;\n  }\n}\n\nfunction appendTilting(struct, buildOpts) {\n  if (buildOpts.tilted) {\n    const r = -buildOpts.angle;\n    const radians = r * (Math.PI / 180);\n\n    if (buildOpts.align === 'bottom') {\n      struct.x -= (buildOpts.maxHeight * Math.sin(radians)) / 2;\n      struct.y -= buildOpts.maxHeight;\n      struct.y += (buildOpts.maxHeight * Math.cos(radians)) / 2;\n    } else {\n      struct.x -= (buildOpts.maxHeight * Math.sin(radians)) / 3;\n    }\n\n    struct.transform = `rotate(${r}, ${struct.x}, ${struct.y})`;\n    struct.anchor = (buildOpts.align === 'bottom') === (buildOpts.angle < 0) ? 'start' : 'end';\n\n    // adjustForEnds\n    const textWidth = Math.cos(radians) * buildOpts.maxWidth;\n    if ((buildOpts.align === 'bottom') === (buildOpts.angle < 0)) {\n      // right\n      const rightBoundary = buildOpts.outerRect.width - buildOpts.paddingEnd;\n      const rightTextBoundary = struct.x + textWidth;\n      if (rightTextBoundary > rightBoundary) {\n        struct.maxWidth = (rightBoundary - struct.x - 10) / Math.cos(radians);\n      }\n    } else {\n      // left\n      const leftBoundary = buildOpts.paddingEnd;\n      const leftTextBoundary = struct.x - textWidth;\n      if (leftTextBoundary < leftBoundary) {\n        struct.maxWidth = (struct.x - leftBoundary - 10) / Math.cos(radians);\n      }\n    }\n  }\n}\n\nfunction bandwidthCollider(tick, struct, buildOpts) {\n  if (buildOpts.align === 'bottom' || buildOpts.align === 'top') {\n    const tickCenter = tick.position * buildOpts.innerRect.width;\n    const leftBoundary = tickCenter + (buildOpts.innerRect.x - buildOpts.outerRect.x - (buildOpts.stepSize / 2));\n    struct.collider = {\n      type: 'rect',\n      x: leftBoundary,\n      y: 0,\n      width: leftBoundary < 0 ? buildOpts.stepSize + leftBoundary : buildOpts.stepSize, // Adjust collider so that it doesnt extend onto neighbor collider\n      height: buildOpts.innerRect.height\n    };\n  } else {\n    const tickCenter = tick.position * buildOpts.innerRect.height;\n    const topBoundary = tickCenter + (buildOpts.innerRect.y - buildOpts.outerRect.y - (buildOpts.stepSize / 2));\n    struct.collider = {\n      type: 'rect',\n      x: 0,\n      y: topBoundary,\n      width: buildOpts.innerRect.width,\n      height: topBoundary < 0 ? buildOpts.stepSize + topBoundary : buildOpts.stepSize // Adjust collider so that it doesnt extend onto neighbor collider\n    };\n  }\n\n  // Clip edges of the collider, should not extend beyoned the outerRect\n  const collider = struct.collider;\n  collider.x = Math.max(collider.x, 0);\n  collider.y = Math.max(collider.y, 0);\n  const widthClip = (collider.x + collider.width) - (buildOpts.outerRect.x + buildOpts.outerRect.width);\n  collider.width = widthClip > 0 ? collider.width - widthClip : collider.width;\n  const heightClip = (collider.y + collider.height) - (buildOpts.outerRect.y + buildOpts.outerRect.height);\n  collider.height = heightClip > 0 ? collider.height - heightClip : collider.height;\n}\n\nfunction boundsCollider(tick, struct) {\n  struct.collider = {\n    type: 'polygon',\n    vertices: [\n      { x: struct.boundingRect.x, y: struct.boundingRect.y },\n      { x: struct.boundingRect.x + struct.boundingRect.width, y: struct.boundingRect.y },\n      { x: struct.boundingRect.x + struct.boundingRect.width, y: struct.boundingRect.y + struct.boundingRect.height },\n      { x: struct.boundingRect.x, y: struct.boundingRect.y + struct.boundingRect.height }\n    ]\n  };\n}\n\nfunction tiltedCollider(tick, struct, buildOpts) {\n  const radians = buildOpts.angle * (Math.PI / 180);\n  const halfWidth = Math.max(buildOpts.stepSize / 2, struct.boundingRect.height / 2); // Handle if bandwidth is zero\n  const startAnchor = struct.anchor === 'start';\n  const em = struct.anchor === 'end' && radians < 0;\n  const sp = struct.anchor === 'start' && radians >= 0;\n  const y = struct.boundingRect.y + (sp || em ? struct.boundingRect.height : 0);\n  // Generate starting points at bandwidth boundaries\n  const points = [\n    { x: struct.x - halfWidth, y },\n    { x: struct.x + halfWidth, y }\n  ].map((p) => rotateVector(p, radians, { x: struct.x, y: struct.y })); // Rotate around center point to counteract labels rotation\n\n  // Append points to wrap polygon around label\n  const margin = 10; // extend slightly to handle single char labels better\n  const leftPoint = {\n    x: startAnchor ? struct.boundingRect.x + struct.boundingRect.width + margin : struct.boundingRect.x - margin,\n    y: struct.boundingRect.y + struct.boundingRect.height\n  };\n\n  const rightPoint = {\n    x: startAnchor ? struct.boundingRect.x + struct.boundingRect.width + margin : struct.boundingRect.x - margin,\n    y: struct.boundingRect.y\n  };\n\n  const orderedPoints = radians >= 0 ? [leftPoint, rightPoint] : [rightPoint, leftPoint];\n  points.push(...orderedPoints);\n\n  struct.collider = {\n    type: 'polygon',\n    vertices: points\n  };\n}\n\nfunction appendCollider(tick, struct, buildOpts) {\n  if (buildOpts.layered || !buildOpts.stepSize) {\n    boundsCollider(tick, struct);\n  } else if (buildOpts.tilted) {\n    tiltedCollider(tick, struct, buildOpts);\n  } else {\n    bandwidthCollider(tick, struct, buildOpts);\n  }\n}\n\nfunction appendBounds(struct, buildOpts) {\n  struct.boundingRect = buildOpts.textBounds(struct);\n}\n\nfunction wiggle(buildOpts, isVertical) {\n  const a = isNaN(buildOpts.style.align) ? 0.5 : Math.min(Math.max(buildOpts.style.align, 0), 1);\n  let w = 0;\n  if (buildOpts.tilted) {\n    w = (buildOpts.stepSize * a);\n  } else {\n    const size = isVertical ? buildOpts.textRect.height : buildOpts.textRect.width;\n    w = Math.max(0, buildOpts.stepSize - size) * a;\n  }\n\n  return w;\n}\n\nexport default function buildNode(tick, buildOpts) {\n  const struct = {\n    type: 'text',\n    text: checkText(tick.label),\n    x: 0,\n    y: 0,\n    maxWidth: buildOpts.maxWidth,\n    maxHeight: buildOpts.maxHeight\n  };\n\n  if (buildOpts.align === 'top' || buildOpts.align === 'bottom') {\n    struct.x = (tick.start * buildOpts.innerRect.width) + (buildOpts.innerRect.x - buildOpts.outerRect.x) + wiggle(buildOpts, false);\n    struct.y = buildOpts.align === 'top' ? buildOpts.innerRect.height : 0;\n    struct.anchor = buildOpts.stepSize ? 'start' : 'middle';\n\n    struct.x += isNaN(buildOpts.style.offset) ? 0 : +buildOpts.style.offset;\n  } else {\n    struct.y = (tick.start * buildOpts.innerRect.height) + (buildOpts.innerRect.y - buildOpts.outerRect.y) + wiggle(buildOpts, true);\n    struct.x = buildOpts.align === 'left' ? buildOpts.innerRect.width : 0;\n    struct.anchor = buildOpts.align === 'left' ? 'end' : 'start';\n    struct.baseline = buildOpts.stepSize ? 'text-before-edge' : 'central';\n\n    struct.y += isNaN(buildOpts.style.offset) ? 0 : +buildOpts.style.offset;\n  }\n\n  appendStyle(struct, buildOpts);\n  clampEnds(struct, buildOpts);\n  appendPadding(struct, buildOpts);\n  appendTilting(struct, buildOpts);\n  appendBounds(struct, buildOpts);\n  appendCollider(tick, struct, buildOpts);\n\n  return struct;\n}\n","import extend from 'extend';\n\nfunction appendStyle(struct, buildOpts) {\n  extend(struct, buildOpts.style);\n}\n\nfunction appendPadding(struct, buildOpts) {\n  if (buildOpts.align === 'top') {\n    struct.y1 -= buildOpts.padding;\n    struct.y2 -= buildOpts.padding;\n  } else if (buildOpts.align === 'bottom') {\n    struct.y1 += buildOpts.padding;\n    struct.y2 += buildOpts.padding;\n  } else if (buildOpts.align === 'left') {\n    struct.x1 -= buildOpts.padding;\n    struct.x2 -= buildOpts.padding;\n  } else if (buildOpts.align === 'right') {\n    struct.x1 += buildOpts.padding;\n    struct.x2 += buildOpts.padding;\n  }\n}\n\nfunction adjustForEnds(struct, buildOpts) {\n  const halfWidth = struct.strokeWidth / 2;\n\n  if (struct.x1 === buildOpts.innerRect.width) { // outer end tick\n    struct.x1 -= halfWidth;\n    struct.x2 -= halfWidth;\n  } else if (struct.x1 === 0) { // outer start tick\n    struct.x1 += halfWidth;\n    struct.x2 += halfWidth;\n  } else if (struct.y1 === buildOpts.innerRect.height) {\n    struct.y1 -= halfWidth;\n    struct.y2 -= halfWidth;\n  } else if (struct.y1 === 0) {\n    struct.y1 += halfWidth;\n    struct.y2 += halfWidth;\n  }\n}\n\nexport default function buildNode(tick, buildOpts) {\n  const struct = {\n    type: 'line',\n    x1: 0,\n    x2: 0,\n    y1: 0,\n    y2: 0,\n    collider: {\n      type: null\n    }\n  };\n\n  if (buildOpts.align === 'top' || buildOpts.align === 'bottom') {\n    struct.x1 = struct.x2 = (tick.position * buildOpts.innerRect.width) + (buildOpts.innerRect.x - buildOpts.outerRect.x);\n    struct.y1 = buildOpts.align === 'top' ? buildOpts.innerRect.height : 0;\n    struct.y2 = buildOpts.align === 'top' ? struct.y1 - buildOpts.tickSize : struct.y1 + buildOpts.tickSize;\n  } else {\n    struct.y1 = struct.y2 = (tick.position * (buildOpts.innerRect.height)) + (buildOpts.innerRect.y - buildOpts.outerRect.y);\n    struct.x1 = buildOpts.align === 'left' ? buildOpts.innerRect.width : 0;\n    struct.x2 = buildOpts.align === 'left' ? struct.x1 - buildOpts.tickSize : struct.x1 + buildOpts.tickSize;\n  }\n\n  appendStyle(struct, buildOpts);\n  appendPadding(struct, buildOpts);\n  adjustForEnds(struct, buildOpts);\n  return struct;\n}\n","function isMajorTick(tick) {\n  return !tick.isMinor && tick.position >= 0 && tick.position <= 1;\n}\n\nfunction isVerticalLabelOverlapping({\n  majorTicks,\n  measureText,\n  rect\n}) {\n  const size = rect.height;\n  const textHeight = measureText('M').height;\n  if (majorTicks.length < 2) {\n    return false;\n  }\n\n  const d = size * Math.abs(majorTicks[0].position - majorTicks[1].position);\n  if (d < textHeight) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction isHorizontalLabelOverlapping({\n  majorTicks,\n  measureText,\n  rect,\n  state\n}) {\n  /*\n   * Currently isn't any good way of doing a accurate measurement on size available (bandWidth * width) for labels.\n   * It's a lifecycle limitation as components docked either left or right can affect the width available after the calculation is done.\n   * <number of components docked left/right> * <width of components> => Less accurate ===> Can result in only ellips char rendered as labels.\n   */\n  const m = state.labels.activeMode === 'layered' ? 2 : 1;\n  const size = rect.width;\n  const tickSize = majorTicks\n    .map((tick) => tick.label)\n    .map((l) => `${l.slice(0, 1)}${l.length > 1 ? '…' : ''}`) // Measure the size of 1 chars + the ellips char.\n    .map(measureText)\n    .map((r) => r.width);\n  for (let i = 0; i < majorTicks.length; ++i) {\n    const tick = majorTicks[i];\n    const d1 = m * size * Math.abs(tick.start - tick.end);\n    const d2 = tickSize[i];\n    if (d1 < d2) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction shouldAutoTilt({\n  majorTicks,\n  measure,\n  rect,\n  state,\n  settings\n}) {\n  const glyphCount = settings.labels.maxGlyphCount;\n  const m = state.labels.activeMode === 'layered' ? 2 : 1;\n  const magicSizeRatioMultipler = settings.labels.tiltThreshold ? settings.labels.tiltThreshold : 0.7; // So that if less the 70% of labels are visible, toggle on tilt or use variable tiltThreshold\n  const ellipsCharSize = measure('…').width; // include ellipsed char in calc as it's generally large then the char it replaces\n  const size = rect.width;\n  let maxLabelWidth = 0;\n  let d1 = 0;\n\n  if (!isNaN(glyphCount)) {\n    const minBandwidth = majorTicks.reduce((prev, curr) => Math.min(Math.abs(curr.start - curr.end), prev), Infinity);\n    d1 = m * size * minBandwidth;\n    maxLabelWidth = measure('M').width * magicSizeRatioMultipler * glyphCount;\n    if (maxLabelWidth + ellipsCharSize > d1) {\n      return true;\n    }\n  } else {\n    for (let i = 0; i < majorTicks.length; i++) {\n      const tick = majorTicks[i];\n      const label = tick.label;\n      const width = measure(label).width * (label.length > 1 ? magicSizeRatioMultipler : 1);\n      d1 = m * size * Math.abs(tick.start - tick.end);\n      if (width + ellipsCharSize > d1) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n}\n\nfunction isTiltedLabelOverlapping({\n  majorTicks,\n  measureText,\n  rect,\n  bleedSize,\n  angle\n}) {\n  if (majorTicks.length < 2) {\n    return false;\n  }\n  if (angle === 0) {\n    return true; // TODO 0 angle should be considered non-tilted\n  }\n  const absAngle = Math.abs(angle);\n  const size = rect.width - bleedSize;\n  const stepSize = size * Math.abs(majorTicks[0].position - majorTicks[1].position);\n  const textHeight = measureText('M').height;\n  const reciprocal = 1 / stepSize; // 1 === Math.sin(90 * (Math.PI / 180))\n  const distanceBetweenLabels = Math.sin(absAngle * (Math.PI / 180)) / reciprocal;\n\n  return textHeight > distanceBetweenLabels;\n}\n\nfunction isToLarge({\n  rect,\n  state,\n  majorTicks,\n  measure,\n  horizontal\n}) {\n  if (horizontal) {\n    return isHorizontalLabelOverlapping({\n      majorTicks,\n      measureText: measure,\n      rect,\n      state\n    });\n  }\n\n  return isVerticalLabelOverlapping({\n    majorTicks,\n    measureText: measure,\n    rect,\n    state\n  });\n}\n\nexport function getClampedValue({\n  value, maxValue, minValue, range, modifier\n}) {\n  if (!isNaN(range) && !isNaN(modifier)) {\n    value = range * modifier;\n  }\n\n  if (value > maxValue) {\n    value = maxValue;\n  }\n\n  if (value < minValue) {\n    value = minValue;\n  }\n\n  return value;\n}\n\nexport default function getSize({\n  isDiscrete,\n  rect,\n  formatter,\n  measureText,\n  scale,\n  settings,\n  state\n}) {\n  let size = 0;\n  const edgeBleed = {\n    left: 0, top: 0, right: 0, bottom: 0\n  };\n  const {\n    maxLengthPx: maxValue,\n    minLengthPx: minValue\n  } = settings.labels;\n\n  if (settings.labels.show) {\n    const align = settings.align;\n    const horizontal = align === 'top' || align === 'bottom';\n    const distance = horizontal ? rect.width : rect.height;\n    const majorTicks = scale.ticks({\n      settings,\n      distance,\n      formatter\n    }).filter(isMajorTick);\n\n    const measure = (text) => {\n      const m = measureText({\n        text,\n        fontSize: settings.labels.fontSize,\n        fontFamily: settings.labels.fontFamily\n      });\n      m.width = getClampedValue({ value: m.width, maxValue, minValue });\n      return m;\n    };\n\n    if (isDiscrete && horizontal && settings.labels.mode === 'auto') {\n      if (shouldAutoTilt({\n        majorTicks, measure, rect, state, settings\n      })) {\n        state.labels.activeMode = 'tilted';\n      } else {\n        state.labels.activeMode = 'horizontal';\n      }\n    }\n\n    if (!settings.labels.filterOverlapping && state.labels.activeMode !== 'tilted' && isToLarge({\n      rect, state, majorTicks, measure, horizontal\n    })) {\n      const toLargeSize = Math.max(rect.width, rect.height); // used to hide the axis\n      return { size: toLargeSize, isToLarge: true };\n    }\n\n    let sizeFromTextRect;\n    if (state.labels.activeMode === 'tilted') {\n      const radians = Math.abs(settings.labels.tiltAngle) * (Math.PI / 180); // angle in radians\n      sizeFromTextRect = (r) => (getClampedValue({ value: r.width, maxValue, minValue }) * Math.sin(radians)) + (r.height * Math.cos(radians));\n    } else if (horizontal) {\n      sizeFromTextRect = (r) => r.height;\n    } else {\n      sizeFromTextRect = (r) => getClampedValue({ value: r.width, maxValue, minValue });\n    }\n\n    let labels;\n    if (horizontal && state.labels.activeMode !== 'tilted') {\n      labels = ['M'];\n    } else if (!isNaN(settings.labels.maxGlyphCount)) {\n      let label = '';\n      for (let i = 0; i < settings.labels.maxGlyphCount; i++) {\n        label += 'M';\n      }\n      labels = [label];\n    } else {\n      labels = majorTicks.map((tick) => tick.label);\n    }\n    const tickMeasures = labels.map(measure);\n    const labelSizes = tickMeasures.map(sizeFromTextRect);\n    const textSize = Math.max(...labelSizes, 0);\n    size += textSize;\n    size += settings.labels.margin;\n\n    if (state.labels.activeMode === 'layered') {\n      size *= 2;\n    }\n\n    if (state.labels.activeMode === 'tilted') {\n      const extendLeft = (settings.align === 'bottom') === (settings.labels.tiltAngle >= 0);\n      const radians = Math.abs(settings.labels.tiltAngle) * (Math.PI / 180); // angle in radians\n      const h = measureText('M').height;\n      const maxWidth = (textSize - (h * Math.cos(radians))) / Math.sin(radians);\n      const labelWidth = (r) => (Math.min(maxWidth, r.width) * Math.cos(radians)) + r.height;\n      const adjustByPosition = (s, i) => {\n        const pos = majorTicks[i] ? majorTicks[i].position : 0;\n        if (extendLeft) {\n          return s - (pos * rect.width);\n        }\n        return s - ((1 - pos) * rect.width);\n      };\n      const bleedSize = Math.min(settings.labels.maxEdgeBleed, Math.max(...tickMeasures.map(labelWidth).map(adjustByPosition), 0)) + settings.paddingEnd;\n      const bleedDir = extendLeft ? 'left' : 'right';\n      edgeBleed[bleedDir] = bleedSize;\n\n      if (!settings.labels.filterOverlapping && isTiltedLabelOverlapping({\n        majorTicks, measureText, rect, bleedSize, angle: settings.labels.tiltAngle\n      })) {\n        return { size: Math.max(rect.width, rect.height), isToLarge: true };\n      }\n    }\n  }\n\n  return { size, edgeBleed };\n}\n","const PADDING = 2;\n\nconst tickDistance = (rect, start, end) => rect.width * Math.abs(start.position - end.position);\n\nconst getLeftEdgeWidth = ({\n  innerRect,\n  outerRect,\n  tick,\n  nextWidth\n}) => {\n  const leftEdgeBleed = innerRect.x - outerRect.x;\n  const left = (innerRect.width * tick.position) + leftEdgeBleed;\n  const minDubble = Math.min(nextWidth, left) * 2;\n  const minWidth = tick.position === 0 ? (innerRect.width / 2) - PADDING : 0;\n\n  return Math.max(nextWidth, minDubble, minWidth);\n};\n\nconst getRightEdgeWidth = ({\n  innerRect,\n  outerRect,\n  tick,\n  prevWidth\n}) => {\n  const leftEdgeBleed = innerRect.x - outerRect.x;\n  const rightEdgeBleed = (outerRect.width - innerRect.width) - leftEdgeBleed;\n  const right = (innerRect.width - (innerRect.width * tick.position)) + rightEdgeBleed;\n  const minDubble = Math.min(prevWidth, right) * 2;\n  const minWidth = tick.position === 1 ? (innerRect.width / 2) - PADDING : 0;\n\n  return Math.max(prevWidth, minDubble, minWidth);\n};\n\nexport default function getHorizontalWidth({\n  layered,\n  major,\n  innerRect,\n  outerRect,\n  tick,\n  index\n}) {\n  const step = layered ? 2 : 1;\n  const prev = major[index - step];\n  const next = major[index + step];\n  const prevWidth = prev ? (tickDistance(innerRect, tick, prev) / 2) - PADDING : Infinity;\n  const nextWidth = next ? (tickDistance(innerRect, tick, next) / 2) - PADDING : Infinity;\n\n  if (major.length < 2) {\n    return innerRect.width;\n  }\n\n  if (!prev) {\n    return getLeftEdgeWidth({\n      innerRect,\n      outerRect,\n      tick,\n      nextWidth\n    });\n  }\n\n  if (!next) {\n    return getRightEdgeWidth({\n      innerRect,\n      outerRect,\n      tick,\n      prevWidth\n    });\n  }\n\n  return Math.min(prevWidth, nextWidth) * 2;\n}\n","import buildLine from './axis-line-node';\nimport buildLabel from './axis-label-node';\nimport buildTick from './axis-tick-node';\nimport {\n  testRectRect\n} from '../../math/narrow-phase-collision';\nimport { getClampedValue } from './axis-label-size';\nimport getHorizontalContinuousWidth from './get-continuous-label-rect';\nimport { expandRect } from '../../geometry/util';\n\nfunction tickSpacing(settings) {\n  let spacing = 0;\n  spacing += settings.paddingStart;\n  spacing += settings.line.show ? settings.line.strokeWidth : 0;\n  spacing += settings.ticks.show ? settings.ticks.margin : 0;\n  return spacing;\n}\n\nfunction tickMinorSpacing(settings) {\n  return settings.line.strokeWidth + settings.minorTicks.margin;\n}\n\nfunction labelsSpacing(settings) {\n  let spacing = 0;\n  spacing += settings.ticks.show ? settings.ticks.tickSize : 0;\n  spacing += tickSpacing(settings) + settings.labels.margin;\n  return spacing;\n}\n\nfunction calcActualTextRect({ style, measureText, tick }) {\n  return measureText({\n    text: tick.label,\n    fontSize: style.fontSize,\n    fontFamily: style.fontFamily\n  });\n}\n\nfunction majorTicks(ticks) {\n  return ticks.filter((t) => !t.isMinor);\n}\n\nfunction minorTicks(ticks) {\n  return ticks.filter((t) => t.isMinor);\n}\n\nfunction tickBuilder(ticks, buildOpts) {\n  return ticks.map((tick) => buildTick(tick, buildOpts));\n}\n\nfunction tickBandwidth(scale, tick) {\n  return tick ? Math.abs(tick.end - tick.start) : scale.bandwidth();\n}\n\nfunction labelBuilder(ticks, buildOpts, resolveTickOpts) {\n  return ticks.map((tick, idx) => {\n    resolveTickOpts(tick, idx);\n    const label = buildLabel(tick, buildOpts);\n    label.data = tick.data;\n    return label;\n  });\n}\n\nfunction layeredLabelBuilder(ticks, buildOpts, settings, resolveTickOpts) {\n  const padding = buildOpts.padding;\n  const spacing = labelsSpacing(settings);\n  return ticks.map((tick, idx) => {\n    resolveTickOpts(tick, idx);\n    const padding2 = spacing + buildOpts.maxHeight + settings.labels.margin;\n    buildOpts.layer = idx % 2;\n    buildOpts.padding = idx % 2 === 0 ? padding : padding2;\n    const label = buildLabel(tick, buildOpts);\n    label.data = tick.data;\n    return label;\n  });\n}\n\nexport function filterOverlappingLabels(labels, ticks, buildOpts) {\n  let isOverlapping = (i, k) => {\n    const rect1 = expandRect(1, labels[i].boundingRect);\n    const rect2 = expandRect(1, labels[k].boundingRect);\n\n    return testRectRect(rect1, rect2);\n  };\n\n  if (buildOpts && buildOpts.tilted) {\n    const absAngle = Math.abs(buildOpts.angle);\n\n    isOverlapping = (i, k) => {\n      const stepSize = Math.abs(labels[i].x - labels[k].x);\n      const reciprocal = 1 / stepSize;\n      const distanceBetweenLabels = Math.sin(absAngle * (Math.PI / 180)) / reciprocal;\n\n      return labels[i].boundingRect.height > distanceBetweenLabels;\n    };\n  }\n\n  for (let i = 0; i <= labels.length - 1; i++) {\n    for (let k = i + 1; k <= Math.min(i + 5, i + (labels.length - 1)); k++) { // TODO Find a better way to handle exteme/layered labels then to iterare over ~5 next labels\n      if (labels[i] && labels[k] && isOverlapping(i, k)) {\n        if (k === labels.length - 1) { // On collition with last label, remove current label instead\n          labels.splice(i, 1);\n          if (ticks) { ticks.splice(i, 1); }\n        } else {\n          labels.splice(k, 1);\n          if (ticks) { ticks.splice(k, 1); }\n        }\n        k--;\n        i--;\n      }\n    }\n  }\n}\n\nfunction discreteCalcMaxTextRect({\n  textMetrics, settings, innerRect, scale, tilted, layered, tick\n}) {\n  const h = textMetrics.height;\n\n  const bandwidth = tickBandwidth(scale, tick);\n\n  const textRect = { width: 0, height: h };\n  if (settings.align === 'left' || settings.align === 'right') {\n    textRect.width = innerRect.width - labelsSpacing(settings) - settings.paddingEnd;\n  } else if (layered) {\n    textRect.width = (bandwidth * innerRect.width) * 2;\n  } else if (tilted) {\n    const radians = Math.abs(settings.labels.tiltAngle) * (Math.PI / 180);\n    textRect.width = (innerRect.height - labelsSpacing(settings) - settings.paddingEnd - (h * Math.cos(radians))) / Math.sin(radians);\n  } else {\n    textRect.width = bandwidth * innerRect.width;\n  }\n\n  textRect.width = getClampedValue({ value: textRect.width, maxValue: settings.labels.maxLengthPx, minValue: settings.labels.minLengthPx });\n\n  return textRect;\n}\n\nfunction continuousCalcMaxTextRect({\n  textMetrics, settings, innerRect, outerRect, tilted, layered, tick, index, major\n}) {\n  const h = textMetrics.height;\n\n  const textRect = { width: 0, height: h };\n  if (settings.align === 'left' || settings.align === 'right') {\n    textRect.width = innerRect.width - labelsSpacing(settings) - settings.paddingEnd;\n  } else if (tilted) {\n    const radians = Math.abs(settings.labels.tiltAngle) * (Math.PI / 180);\n    textRect.width = (innerRect.height - labelsSpacing(settings) - settings.paddingEnd - (h * Math.cos(radians))) / Math.sin(radians);\n  } else {\n    textRect.width = getHorizontalContinuousWidth({\n      layered,\n      major,\n      innerRect,\n      outerRect,\n      tick,\n      index\n    });\n  }\n\n  textRect.width = getClampedValue({ value: textRect.width, maxValue: settings.labels.maxLengthPx, minValue: settings.labels.minLengthPx });\n\n  return textRect;\n}\n\nfunction getStepSizeFn({\n  innerRect, scale, settings, tick\n}) {\n  const size = settings.align === 'top' || settings.align === 'bottom' ? innerRect.width : innerRect.height;\n  const bandwidth = tickBandwidth(scale, tick);\n  return size * bandwidth;\n}\n\nexport default function nodeBuilder(isDiscrete) {\n  let resolveLabelRect;\n\n  function continuous() {\n    resolveLabelRect = continuousCalcMaxTextRect;\n    return continuous;\n  }\n\n  function discrete() {\n    resolveLabelRect = discreteCalcMaxTextRect;\n    return discrete;\n  }\n\n  function build({\n    settings, scale, innerRect, outerRect, measureText, ticks, state, textBounds\n  }) {\n    const nodes = [];\n    const major = majorTicks(ticks);\n    const minor = minorTicks(ticks);\n    const buildOpts = {\n      innerRect,\n      align: settings.align,\n      outerRect\n    };\n    const tilted = state.labels.activeMode === 'tilted';\n    const layered = state.labels.activeMode === 'layered';\n    let majorTickNodes;\n\n    if (settings.line.show) {\n      buildOpts.style = settings.line;\n      buildOpts.padding = settings.paddingStart;\n\n      nodes.push(buildLine(buildOpts));\n    }\n    if (settings.ticks.show) {\n      buildOpts.style = settings.ticks;\n      buildOpts.tickSize = settings.ticks.tickSize;\n      buildOpts.padding = tickSpacing(settings);\n\n      majorTickNodes = tickBuilder(major, buildOpts);\n    }\n    if (settings.labels.show) {\n      const padding = labelsSpacing(settings);\n      buildOpts.style = settings.labels;\n      buildOpts.padding = padding;\n      buildOpts.tilted = tilted;\n      buildOpts.layered = layered;\n      buildOpts.angle = settings.labels.tiltAngle;\n      buildOpts.paddingEnd = settings.paddingEnd;\n      buildOpts.textBounds = textBounds;\n      const resolveTickOpts = (tick, index) => {\n        buildOpts.textRect = calcActualTextRect({ tick, measureText, style: buildOpts.style });\n        const maxSize = resolveLabelRect({\n          textMetrics: buildOpts.textRect, settings, innerRect, outerRect, scale, tilted, layered, tick, major, index\n        });\n        buildOpts.maxWidth = maxSize.width;\n        buildOpts.maxHeight = maxSize.height;\n        buildOpts.stepSize = getStepSizeFn({\n          innerRect, scale, ticks, settings, tick\n        });\n      };\n\n      let labelNodes = [];\n      if (layered && (settings.align === 'top' || settings.align === 'bottom')) {\n        labelNodes = layeredLabelBuilder(major, buildOpts, settings, resolveTickOpts);\n      } else {\n        labelNodes = labelBuilder(major, buildOpts, resolveTickOpts);\n      }\n\n      // Remove labels (and paired tick) that are overlapping\n      if (settings.labels.filterOverlapping) {\n        filterOverlappingLabels(labelNodes, majorTickNodes, buildOpts);\n      }\n\n      nodes.push(...labelNodes);\n    }\n\n    if (settings.minorTicks && settings.minorTicks.show && minor.length > 0) {\n      buildOpts.style = settings.minorTicks;\n      buildOpts.tickSize = settings.minorTicks.tickSize;\n      buildOpts.padding = tickMinorSpacing(settings);\n\n      nodes.push(...tickBuilder(minor, buildOpts));\n    }\n\n    if (majorTickNodes) {\n      nodes.push(...majorTickNodes);\n    }\n\n    return nodes;\n  }\n\n  continuous.build = build;\n  discrete.build = build;\n\n  return isDiscrete ? discrete() : continuous();\n}\n","// const DEFAULT_LAYOUT_SETTINGS = { // TODO create dis and con specific settings\n//   anchor: 'auto', // TODO re-name from align..\n//   // orientation: 'auto', // TODO impl. v/h/auto\n//   // direction: 'auto', // TODO impl. left/right/top/bottom/auto\n//   padding: { // TODO use dock layout margin instead..\n//     start: 0,\n//     end: 10\n//   },\n//   maxGlyphCount: NaN,\n//   maxEdgeBleed: Infinity\n//   // labelMode: 'auto' // TODO move here? auto, horizontal, layered\n// };\n\n/**\n * Discrete axis settings\n * @typedef {object}\n * @alias component--axis-discrete\n */\nconst DEFAULT_DISCRETE_SETTINGS = {\n  /**\n   * @typedef {object}\n   */\n  labels: {\n    /** Toggle labels on/off\n    * @type {boolean=} */\n    show: true,\n    /** Tilting angle in degrees. Capped between -90 and 90. Only applicable when labels are in `tilted` mode.\n    * @type {number=} */\n    tiltAngle: 40,\n    /** Threshold for toggle of tilted labels. Capped between 0 and 1. For example, if it is set to 0.7, then tilted labels will be toggled if less than 70% of the labels are visible.\n    * @type {number=}\n    * @experimental */\n    tiltThreshold: 0.7,\n    /** Control the amount of space (in pixels) that labes can occupy outside their docking area. Only applicable when labels are in `tilted` mode.\n    * @type {number=} */\n    maxEdgeBleed: Infinity,\n    /** Space in pixels between the tick and label.\n    * @type {number=} */\n    margin: 4,\n    /** Max length of labels in pixels\n    * @type {number=} */\n    maxLengthPx: 150,\n    /** Min length of labels in pixels. Labels will always at least require this much space\n    * @type {number=} */\n    minLengthPx: 0,\n    /** Control how labels arrange themself. Availabe modes are `auto`, `horizontal`, `layered` and `tilted`. When set to `auto` the axis determines the best possible layout in the current context.\n    * @type {string=} */\n    mode: 'auto',\n    /** When only a sub-set of data is available, ex. when paging. This property can be used to let the axis estimate how much space the labels will consume, allowing it to give a consistent space estimate over the entire dataset when paging.\n    * @type {number=} */\n    maxGlyphCount: NaN,\n    /** Align act as a slider for the text bounding rect over the item bandwidth, given that the item have a bandwidth. Except when labels are tilted, then the align is a pure align that shifts the position of the label anchoring point.\n    * @type {number=} */\n    align: 0.5,\n    /** Offset in pixels along the axis direction.\n    * @type {number=} */\n    offset: 0,\n    /**\n     * Toggle whether labels should be filtered if they are overlapping. Filtering may be applied in a non-sequential order.\n     * If labels are overlapping and this setting is toggled off, the axis will automatically hide.\n     * @type {boolean=}\n     */\n    filterOverlapping: false\n  },\n  /**\n   * @typedef {object}\n   */\n  ticks: {\n    /** Toggle ticks on/off\n    * @type {boolean=} */\n    show: false,\n    /** Space in pixels between the ticks and the line.\n    * @type {number=} */\n    margin: 0,\n    /** Size of the ticks in pixels.\n    * @type {number=} */\n    tickSize: 4\n  },\n  /**\n   * @typedef {object}\n   */\n  line: {\n    /** Toggle line on/off\n    * @type {boolean=} */\n    show: false\n  },\n  /** Padding in direction perpendicular to the axis\n    * @type {number=} */\n  paddingStart: 0,\n  /** Padding in direction perpendicular to the axis\n    * @type {number=} */\n  paddingEnd: 10,\n  /** Set the anchoring point of the axis. Avaialable options are `auto/left/right/bottom/top`. In `auto` the axis determines the best option. The options are restricted based on the axis orientation, a vertical axis may only anchor on `left` or `right`\n    * @type {string=} */\n  align: 'auto'\n};\n\n/**\n * Continuous axis settings\n * @typedef {object}\n * @alias component--axis-continuous\n */\nconst DEFAULT_CONTINUOUS_SETTINGS = {\n  /**\n   * @typedef {object}\n   */\n  labels: {\n    /** Toggle labels on/off\n    * @type {boolean=} */\n    show: true,\n    /** Space in pixels between the tick and label.\n    * @type {number=} */\n    margin: 4,\n    /** Max length of labels in pixels\n    * @type {number=} */\n    maxLengthPx: 150,\n    /** Min length of labels in pixels. Labels will always at least require this much space\n    * @type {number=} */\n    minLengthPx: 0,\n    /** Align act as a slider for the text bounding rect over the item bandwidth, given that the item have a bandwidth.\n    * @type {number=} */\n    align: 0.5,\n    /** Offset in pixels along the axis direction.\n    * @type {number=} */\n    offset: 0,\n    /**\n     * Toggle whether labels should be filtered if they are overlapping. Filtering may be applied in a non-sequential order.\n     * If labels are overlapping and this setting is toggled off, the axis will automatically hide.\n     * @type {boolean=}\n     */\n    filterOverlapping: true\n  },\n  /**\n   * @typedef {object}\n   */\n  ticks: {\n    /** Toggle ticks on/off\n    * @type {boolean=} */\n    show: true,\n    /** Space in pixels between the ticks and the line.\n    * @type {number=} */\n    margin: 0,\n    /** Size of the ticks in pixels.\n    * @type {number=} */\n    tickSize: 8\n  },\n  /**\n   * @typedef {object}\n   */\n  minorTicks: {\n    /** Toggle minor-ticks on/off\n    * @type {boolean=} */\n    show: false,\n    /** Size of the ticks in pixels.\n    * @type {number=} */\n    tickSize: 3,\n    /** Space in pixels between the ticks and the line.\n    * @type {number=} */\n    margin: 0\n  },\n  /**\n   * @typedef {object}\n   */\n  line: {\n    /** Toggle line on/off\n    * @type {boolean=} */\n    show: true\n  },\n  /** Padding in direction perpendicular to the axis\n    * @type {number=} */\n  paddingStart: 0,\n  /** Padding in direction perpendicular to the axis\n    * @type {number=} */\n  paddingEnd: 10,\n  /** Set the anchoring point of the axis. Avaialable options are `auto/left/right/bottom/top`. In `auto` the axis determines the best option. The options are restricted based on the axis orientation, a vertical axis may only anchor on `left` or `right`\n    * @type {string=} */\n  align: 'auto'\n};\n\nexport {\n  DEFAULT_DISCRETE_SETTINGS,\n  DEFAULT_CONTINUOUS_SETTINGS\n};\n","import getLabelSize from './axis-label-size';\n\nexport default function calcRequiredSize({\n  isDiscrete,\n  rect,\n  formatter,\n  measureText,\n  scale,\n  settings,\n  state\n}) {\n  let size = 0;\n\n  const { size: labelSize, edgeBleed, isToLarge } = getLabelSize({\n    isDiscrete,\n    rect,\n    formatter,\n    measureText,\n    scale,\n    settings,\n    state\n  });\n\n  size += labelSize;\n\n  if (isToLarge) {\n    return { size };\n  }\n\n  if (settings.ticks.show) {\n    size += settings.ticks.margin;\n    size += settings.ticks.tickSize;\n  }\n  if (settings.minorTicks && settings.minorTicks.show) {\n    const minorTicksSize = settings.minorTicks.margin + settings.minorTicks.tickSize;\n    if (minorTicksSize > size) {\n      size = minorTicksSize;\n    }\n  }\n  if (settings.line.show) {\n    size += settings.line.strokeWidth;\n  }\n  size += settings.paddingStart;\n  size += settings.paddingEnd;\n\n  return { size, edgeBleed };\n}\n","import extend from 'extend';\n\nimport nodeBuilder from './axis-node-builder';\nimport {\n  DEFAULT_CONTINUOUS_SETTINGS,\n  DEFAULT_DISCRETE_SETTINGS\n} from './axis-default-settings';\nimport calcRequiredSize from './axis-size-calculator';\nimport crispify from '../../transposer/crispifier';\nimport { scaleWithSize } from '../../scales';\n\nfunction alignTransform({ align, inner }) {\n  if (align === 'left') {\n    return { x: inner.width + inner.x };\n  }\n  if (align === 'right' || align === 'bottom') {\n    return inner;\n  }\n  return { y: inner.y + inner.height };\n}\n\nfunction resolveAlign(align, dock) {\n  const horizontal = ['top', 'bottom'];\n  const vertical = ['left', 'right'];\n  if (horizontal.indexOf(align) !== -1 && vertical.indexOf(dock) === -1) {\n    return align;\n  }\n  if (vertical.indexOf(align) !== -1 && horizontal.indexOf(dock) === -1) {\n    return align;\n  }\n  return dock; // Invalid align, return current dock as default\n}\n\n/**\n * @ignore\n * @param {object} context - The component context\n */\nfunction resolveLocalSettings({\n  state,\n  style,\n  settings\n}) {\n  const defaultStgns = extend(true, {}, state.isDiscrete ? DEFAULT_DISCRETE_SETTINGS : DEFAULT_CONTINUOUS_SETTINGS, style);\n  const localStgns = extend(true, {}, defaultStgns, settings.settings);\n\n  const dock = settings.layout.dock || state.defaultDock;\n  localStgns.dock = dock;\n  localStgns.align = resolveAlign(settings.settings.align, dock);\n  localStgns.labels.tiltAngle = Math.max(-90, Math.min(localStgns.labels.tiltAngle, 90));\n\n  return localStgns;\n}\n\nfunction updateActiveMode(state, settings, isDiscrete) {\n  const mode = settings.labels.mode;\n\n  if (!isDiscrete || !state.isHorizontal) {\n    return 'horizontal';\n  }\n\n  if (mode === 'auto') {\n    return state.labels.activeMode;\n  }\n  if (['layered', 'tilted'].indexOf(settings.labels.mode) !== -1 && ['top', 'bottom'].indexOf(settings.dock) !== -1) {\n    return mode;\n  }\n  return 'horizontal';\n}\n\nconst axisComponent = {\n  require: ['chart', 'renderer', 'dockConfig'],\n  defaultSettings: {\n    layout: {\n      displayOrder: 0,\n      prioOrder: 0\n    },\n    settings: {},\n    style: {\n      labels: '$label',\n      ticks: '$guide-line',\n      minorTicks: '$guide-line--minor',\n      line: '$guide-line'\n    }\n  },\n  created() {\n    // State is a representation of properties that are private to this component defintion and may be modified by only in this context.\n    this.state = {\n      isDiscrete: !!this.scale.bandwidth,\n      isHorizontal: false,\n      labels: {\n        activeMode: 'horizontal'\n      },\n      ticks: [],\n      innerRect: {\n        width: 0, height: 0, x: 0, y: 0\n      },\n      outerRect: {\n        width: 0, height: 0, x: 0, y: 0\n      },\n      defaultDock: undefined,\n      concreteNodeBuilder: undefined,\n      settings: undefined\n    };\n\n    if (this.state.isDiscrete) {\n      this.state.defaultDock = 'bottom';\n    } else {\n      this.state.defaultDock = 'left';\n    }\n\n    this.setState(this.settings);\n  },\n  setState() {\n    this.state.isDiscrete = !!this.scale.bandwidth;\n    this.state.settings = resolveLocalSettings(this);\n\n    this.state.concreteNodeBuilder = nodeBuilder(this.state.isDiscrete);\n\n    this.dockConfig.dock(this.state.settings.dock); // Override the dock setting (TODO should be removed)\n\n    this.state.isHorizontal = this.state.settings.align === 'top' || this.state.settings.align === 'bottom';\n    this.state.labels.activeMode = updateActiveMode(this.state, this.state.settings, this.state.isDiscrete);\n  },\n  preferredSize(opts) {\n    const {\n      formatter,\n      state,\n      scale\n    } = this;\n\n    const distance = this.state.isHorizontal ? opts.inner.width : opts.inner.height;\n\n    this.state.pxScale = scaleWithSize(scale, distance);\n\n    const reqSize = calcRequiredSize({\n      isDiscrete: this.state.isDiscrete,\n      rect: opts.inner,\n      formatter,\n      measureText: this.renderer.measureText,\n      scale: this.state.pxScale,\n      settings: this.state.settings,\n      state\n    });\n\n    return reqSize;\n  },\n  beforeUpdate(opts = {}) {\n    const {\n      settings\n    } = opts;\n    this.setState(settings);\n  },\n  resize(opts) {\n    const {\n      inner,\n      outer\n    } = opts;\n\n    const extendedInner = extend({}, inner, alignTransform({\n      align: this.state.settings.align,\n      inner\n    }));\n\n    const finalOuter = outer || extendedInner;\n    extend(this.state.innerRect, extendedInner);\n    extend(this.state.outerRect, finalOuter);\n\n    return outer;\n  },\n  beforeRender() {\n    const {\n      scale,\n      formatter\n    } = this;\n\n    const distance = this.state.isHorizontal ? this.state.innerRect.width : this.state.innerRect.height;\n\n    this.state.pxScale = scaleWithSize(scale, distance);\n    this.state.ticks = this.state.pxScale.ticks({\n      distance,\n      formatter\n    }).filter((t) => t.position >= 0 && t.position <= 1);\n  },\n  render() {\n    const {\n      state\n    } = this;\n\n    const nodes = [];\n    nodes.push(...this.state.concreteNodeBuilder.build({\n      settings: this.state.settings,\n      scale: this.state.pxScale,\n      innerRect: this.state.innerRect,\n      outerRect: this.state.outerRect,\n      measureText: this.renderer.measureText,\n      textBounds: this.renderer.textBounds,\n      ticks: this.state.ticks,\n      state\n    }));\n\n    crispify.multiple(nodes);\n\n    return nodes;\n  }\n};\n\nexport default axisComponent;\n","import axisComponent from './axis';\n\n/**\n * @typedef {object} component--axis\n */\n\n/**\n * @type {string}\n * @memberof component--axis\n */\n\nconst type = 'axis';\n\nexport default function axis(picasso) {\n  picasso.component(type, axisComponent);\n}\n","import extend from 'extend';\n\nfunction parseTitle(text, join, scale) {\n  let title = '';\n  if (typeof text === 'function') {\n    title = text();\n  } else if (typeof text === 'string') {\n    title = text;\n  } else if (scale) {\n    let data = scale.data();\n    const titles = (data.fields || []).map((field) => field.title());\n    title = titles.join(join);\n  }\n\n  return title;\n}\n\nfunction getTextAnchor(dock, anchor) {\n  let val = 'middle';\n  if (dock === 'left') {\n    if (anchor === 'top') {\n      val = 'end';\n    } else if (anchor === 'bottom') {\n      val = 'start';\n    }\n  } else if (dock === 'right') {\n    if (anchor === 'top') {\n      val = 'start';\n    } else if (anchor === 'bottom') {\n      val = 'end';\n    }\n  } else if (anchor === 'left') {\n    val = 'start';\n  } else if (anchor === 'right') {\n    val = 'end';\n  }\n  return val;\n}\n\nfunction generateTitle({\n  title,\n  definitionSettings,\n  dock,\n  rect,\n  measureText,\n  style\n}) {\n  const struct = {\n    type: 'text',\n    text: title,\n    x: 0,\n    y: 0,\n    dx: 0,\n    dy: 0,\n    anchor: getTextAnchor(dock, definitionSettings.anchor),\n    baseline: 'alphabetical'\n  };\n\n  extend(struct, style.text);\n  const textRect = measureText(struct);\n\n  if (dock === 'top' || dock === 'bottom') {\n    let x = rect.width / 2;\n    if (definitionSettings.anchor === 'left') {\n      x = definitionSettings.paddingLeft || 0;\n    } else if (definitionSettings.anchor === 'right') {\n      x = rect.width - (definitionSettings.paddingRight || 0);\n    }\n\n    struct.x = x;\n    struct.y = dock === 'top' ? rect.height - definitionSettings.paddingStart : definitionSettings.paddingStart + textRect.height;\n    struct.dy = dock === 'top' ? -(textRect.height / 6) : -(textRect.height / 3);\n    struct.maxWidth = rect.width * 0.8;\n  } else {\n    let y = rect.height / 2;\n    if (definitionSettings.anchor === 'top') {\n      y = definitionSettings.paddingStart;\n    } else if (definitionSettings.anchor === 'bottom') {\n      y = rect.height - definitionSettings.paddingStart;\n    }\n\n    struct.y = y;\n    struct.x = dock === 'left' ? rect.width - definitionSettings.paddingStart : definitionSettings.paddingStart;\n    struct.dx = dock === 'left' ? -(textRect.height / 3) : (textRect.height / 3);\n    const rotation = dock === 'left' ? 270 : 90;\n    struct.transform = `rotate(${rotation}, ${struct.x + struct.dx}, ${struct.y + struct.dy})`;\n    struct.maxWidth = rect.height * 0.8;\n  }\n\n  if (!isNaN(definitionSettings.maxLengthPx)) {\n    struct.maxWidth = Math.min(struct.maxWidth, definitionSettings.maxLengthPx);\n  }\n\n  return struct;\n}\n\n/**\n * @typedef {object} component--text\n * @property {string} [type='text']\n * @property {string|function} text\n * @property {component--text-settings} settings - Text settings\n * @example\n * {\n *  type: 'text',\n *  text: 'my title',\n *  dock: 'left',\n *  settings: {\n *    anchor: 'left',\n *    style: {\n *      fill: 'red'\n *    }\n *  }\n * }\n */\n\n/**\n * @typedef {object} component--text-settings\n * @property {number} [paddingStart=5]\n * @property {number} [paddingEnd=5]\n * @property {number} [paddingLeft=0]\n * @property {number} [paddingRight=0]\n * @property {string} [anchor='center'] - Where to v- or h-align the text. Supports `left`, `right`, `top`, `bottom` and `center`\n * @property {string} [join=', '] - String to add when joining titles from multiple sources\n * @property {number} [maxLengthPx] - Limit the text length to this value in pixels\n */\nconst textComponent = {\n  require: ['renderer', 'chart'],\n  defaultSettings: {\n    layout: {\n      dock: 'bottom',\n      displayOrder: 0,\n      prioOrder: 0\n    },\n    settings: {\n      paddingStart: 5,\n      paddingEnd: 5,\n      paddingLeft: 0,\n      paddingRight: 0,\n      anchor: 'center',\n      join: ', ',\n      maxLengthPx: NaN\n    },\n    style: {\n      text: '$title'\n    }\n  },\n\n  created() {\n    this.definitionSettings = this.settings.settings;\n\n    const text = this.settings.text;\n    const join = this.definitionSettings.join;\n    this.title = parseTitle(text, join, this.scale);\n  },\n\n  preferredSize() {\n    const height = this.renderer.measureText({\n      text: this.title,\n      fontSize: this.style.text.fontSize,\n      fontFamily: this.style.text.fontFamily\n    }).height;\n    return height + this.definitionSettings.paddingStart + this.definitionSettings.paddingEnd;\n  },\n\n  render() {\n    const {\n      title,\n      definitionSettings,\n      rect\n    } = this;\n    const nodes = [];\n    nodes.push(generateTitle({\n      title,\n      dock: this.settings.layout.dock,\n      definitionSettings,\n      rect,\n      measureText: this.renderer.measureText,\n      style: this.style\n    }));\n    return nodes;\n  },\n\n  beforeUpdate(opts) {\n    if (opts.settings) {\n      extend(this.settings, opts.settings);\n      this.definitionSettings = opts.settings.settings;\n    }\n    const text = this.settings.text;\n    const join = this.definitionSettings.join;\n    this.title = parseTitle(text, join, this.scale);\n  }\n};\n\nexport default textComponent;\n","import textComponent from './text';\n\nexport default function text(picasso) {\n  picasso.component('text', textComponent);\n}\n","/**\n * @typedef {object} component--scrollbar\n * @private\n */\n\n/**\n * @typedef {object} component--scrollbar.settings\n * @property {boolean} [backgroundColor = '#eee']\n * @property {boolean} [thumbColor = '#ccc']\n * @property {boolean} [width = 16]\n */\n\nfunction start(_scrollbar, pos) {\n  const dock = _scrollbar.settings.layout.dock;\n  const invert = _scrollbar.settings.settings.invert;\n  const horizontal = dock === 'top' || dock === 'bottom';\n  const lengthAttr = horizontal ? 'width' : 'height';\n  const length = _scrollbar.rect[lengthAttr];\n  const scroll = _scrollbar.chart.scroll(_scrollbar.settings.scroll);\n  let currentMove;\n\n  { // local scope to allow reuse of variable names later\n    let offset = pos[horizontal ? 'x' : 'y'];\n    if (invert) {\n      offset = length - offset;\n    }\n    const scrollState = scroll.getState();\n\n    currentMove = {\n      startOffset: offset,\n      startScroll: scrollState.start,\n      swipe: false\n    };\n\n    // Detect swipe start outsize the thumb & change startScroll to jump the scroll there.\n    const scrollPoint = ((offset / length) * (scrollState.max - scrollState.min)) + scrollState.min;\n    if (scrollPoint < scrollState.start) {\n      currentMove.startScroll = scrollPoint;\n    } else if (scrollPoint > scrollState.start + scrollState.viewSize) {\n      currentMove.startScroll = scrollPoint - scrollState.viewSize;\n    }\n  }\n\n  const update = (p) => {\n    let offset = p[horizontal ? 'x' : 'y'];\n    if (invert) {\n      offset = length - offset;\n    }\n    if (!currentMove.swipe) {\n      if (Math.abs(currentMove.startOffset - offset) <= 1) {\n        return;\n      }\n      currentMove.swipe = true;\n    }\n\n    const scrollState = scroll.getState();\n    const scrollMove = ((offset - currentMove.startOffset) / length) * (scrollState.max - scrollState.min);\n    const scrollStart = currentMove.startScroll + scrollMove;\n    scroll.moveTo(scrollStart);\n  };\n  const end = (p) => {\n    let offset = p[horizontal ? 'x' : 'y'];\n    if (invert) {\n      offset = length - offset;\n    }\n    const scrollState = scroll.getState();\n    if (currentMove.swipe) {\n      const scrollMove = ((offset - currentMove.startOffset) / length) * (scrollState.max - scrollState.min);\n      const scrollStart = currentMove.startScroll + scrollMove;\n      scroll.moveTo(scrollStart);\n    } else {\n      const scrollCenter = ((offset / length) * (scrollState.max - scrollState.min)) + scrollState.min;\n      const scrollStart = scrollCenter - (scrollState.viewSize / 2);\n      scroll.moveTo(scrollStart);\n    }\n  };\n\n  return {\n    update,\n    end\n  };\n}\n\nfunction getLocalPos(event, renderer) {\n  const containerRect = renderer.element().getBoundingClientRect();\n  return {\n    x: event.center.x - containerRect.left,\n    y: event.center.y - containerRect.top\n  };\n}\n\nconst scrollbarComponent = {\n  require: ['chart', 'renderer'],\n  on: {\n    panStart(event) {\n      const pos = getLocalPos(event, this.renderer);\n      const startPos = {\n        x: pos.x - event.deltaX,\n        y: pos.y - event.deltaY\n      };\n      this.currentMove = start(this, startPos);\n      this.currentMove.update(pos);\n    },\n    panMove(event) {\n      if (!this.currentMove) { return; }\n      const pos = getLocalPos(event, this.renderer);\n      this.currentMove.update(pos);\n    },\n    panEnd(event) {\n      if (!this.currentMove) { return; }\n      const pos = getLocalPos(event, this.renderer);\n      this.currentMove.end(pos);\n      this.currentMove = null;\n    },\n    panCancel() {\n      this.currentMove = null;\n    },\n    tap(event) {\n      const pos = getLocalPos(event, this.renderer);\n      const move = start(this, pos);\n      move.end(pos);\n    }\n  },\n  defaultSettings: {\n    settings: {\n      backgroundColor: '#eee',\n      thumbColor: '#ccc',\n      width: 16 // 32 for touch\n    }\n  },\n\n  preferredSize: function preferredSize(rect) {\n    const scrollState = this.chart.scroll(this.settings.scroll).getState();\n    // hide the scrollbar if it is not possible to scroll\n    if (scrollState.viewSize >= scrollState.max - scrollState.min) {\n      const toLargeSize = Math.max(rect.width, rect.height);\n      return toLargeSize;\n    }\n    return this.settings.settings.width;\n  },\n\n  render: function render(h) {\n    const dock = this.settings.layout.dock;\n    const invert = this.settings.settings.invert;\n    const horizontal = dock === 'top' || dock === 'bottom';\n    const lengthAttr = horizontal ? 'width' : 'height';\n\n    const _rect = this.rect;\n    const length = _rect[lengthAttr];\n\n    const scrollState = this.chart.scroll(this.settings.scroll).getState();\n    let thumbStart = (length * (scrollState.start - scrollState.min)) / (scrollState.max - scrollState.min);\n    const thumbRange = (length * scrollState.viewSize) / (scrollState.max - scrollState.min);\n\n    if (invert) {\n      thumbStart = length - thumbStart - thumbRange;\n    }\n\n    return h(\n      'div',\n      {\n        style: {\n          position: 'relative',\n          width: '100%',\n          height: '100%',\n          background: this.settings.settings.backgroundColor,\n          pointerEvents: 'auto'\n        }\n      },\n      [].concat(h('div', {\n        class: 'scroller',\n        style: {\n          position: 'absolute',\n          [horizontal ? 'left' : 'top']: `${thumbStart}px`,\n          [horizontal ? 'top' : 'left']: '25%',\n          [horizontal ? 'height' : 'width']: '50%', // ${width}px\n          [lengthAttr]: `${Math.max(1, thumbRange)}px`,\n          background: this.settings.settings.thumbColor\n        }\n      }))\n    );\n  },\n\n  renderer: 'dom'\n};\n\nexport default function scrollbar(picasso) {\n  picasso.component('scrollbar', scrollbarComponent);\n}\n","const TARGET_SIZE = 5;\nconst VERTICAL = 0;\nconst HORIZONTAL = 1;\n\nexport {\n  TARGET_SIZE,\n  VERTICAL,\n  HORIZONTAL\n};\n","import extend from 'extend';\n\nimport {\n  TARGET_SIZE,\n  VERTICAL\n} from './brush-range-const';\n\n\nfunction buildLine({\n  h, isVertical, value, pos, align, borderHit, state, idx\n}) {\n  const isAlignStart = align !== 'end';\n  const alignStart = { left: '0', top: '0' };\n  const alignEnd = { right: '0', bottom: '0' };\n  const alignStyle = isAlignStart ? alignStart : alignEnd;\n  let start = 0;\n  let width = '100%';\n  let height = '100%';\n\n  if (state.targetRect && state.settings.bubbles.align === 'start') {\n    width = `${state.targetRect.x + state.targetRect.width}px`;\n    height = `${state.targetRect.y + state.targetRect.height}px`;\n  } else if (state.targetRect && state.settings.bubbles.align === 'end') {\n    start = isVertical ? state.targetRect.x : state.targetRect.y;\n    width = `${state.rect.width - start}px`;\n    height = `${state.rect.height - start}px`;\n  }\n\n  if (!isAlignStart) {\n    pos -= borderHit;\n  }\n\n  // edge\n  return h('div', {\n    onmouseover(e) {\n      e.srcElement.children[0].style.backgroundColor = '#000';\n      e.srcElement.children[0].style[isVertical ? 'height' : 'width'] = '2px';\n    },\n    onmouseout(e) {\n      e.srcElement.children[0].style.backgroundColor = state.style.line.stroke;\n      e.srcElement.children[0].style[isVertical ? 'height' : 'width'] = '1px';\n    },\n    'data-value': value,\n    'data-key': [state.key, 'edge', idx].join('-'),\n    style: {\n      cursor: isVertical ? 'ns-resize' : 'ew-resize',\n      position: 'absolute',\n      left: isVertical ? `${start}px` : `${pos}px`,\n      top: isVertical ? `${pos}px` : `${start}px`,\n      height: isVertical ? `${borderHit}px` : height,\n      width: isVertical ? width : `${borderHit}px`,\n      pointerEvents: 'auto'\n    }\n  }, [\n    // line\n    h('div', {\n      style: extend(\n        {\n          backgroundColor: state.style.line.stroke,\n          position: 'absolute',\n          height: isVertical ? `${1}px` : '100%',\n          width: isVertical ? '100%' : `${1}px`,\n          pointerEvents: 'none'\n        },\n        alignStyle\n      )\n    })\n  ]);\n}\n\nfunction buildBubble({\n  h, isVertical, label, otherValue, rangeIdx, idx, pos, align, state, value\n}) {\n  const isAlignStart = align !== 'end';\n  const isOutside = state.settings.bubbles.placement === 'outside';\n  let outside = 'none';\n  let bubbleDock;\n  if (isVertical) {\n    bubbleDock = isAlignStart ? 'left' : 'right';\n    if (isOutside) {\n      outside = isAlignStart ? 'translate(-100%,  0px)' : 'translate(100%,  0px)';\n    }\n  } else {\n    bubbleDock = isAlignStart ? 'top' : 'bottom';\n    if (isOutside) {\n      outside = isAlignStart ? 'translate(0px, -100%)' : 'translate(0px,  100%)';\n    }\n  }\n\n  let inEdit = state.edit && state.edit.rangeIdx === rangeIdx && state.edit.bubbleIdx === idx;\n\n  const bubbleStyle = {\n    position: 'relative',\n    borderRadius: `${state.style.bubble.borderRadius}px`,\n    border: `${state.style.bubble.strokeWidth}px solid ${state.style.bubble.stroke}`,\n    backgroundColor: state.style.bubble.fill,\n    color: state.style.bubble.color,\n    fontFamily: state.style.bubble.fontFamily,\n    fontSize: state.style.bubble.fontSize,\n    padding: '4px 8px',\n    textAlign: 'center',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n    maxWidth: '150px',\n    minWidth: '50px',\n    minHeight: '1em',\n    pointerEvents: 'auto',\n    transform: isVertical ? 'translate(0,-50%)' : 'translate(-50%,0)',\n    cursor: isVertical ? 'ns-resize' : 'ew-resize'\n  };\n\n  let currentBorderColor = state.style.bubble.stroke;\n\n  const bubble = inEdit ? h('input', {\n    type: 'text',\n    value,\n    style: {\n      ...bubbleStyle,\n      textAlign: 'start',\n      textOverflow: '',\n      fontSize: '13px' // TODO - make it styleable\n    },\n    onkeyup(e) {\n      if (e.key === 'Enter') {\n        e.preventDefault();\n        e.stopPropagation();\n        const newValue = parseFloat(e.target.value);\n        if (isNaN(newValue)) {\n          currentBorderColor = 'rgba(230, 78, 78, 0.6)';\n          e.target.style.border = `${state.style.bubble.strokeWidth}px solid ${currentBorderColor}`;\n        } else {\n          state.onEditConfirmed(rangeIdx, newValue, otherValue);\n        }\n      } else if (e.key === 'Escape') {\n        e.preventDefault();\n        e.stopPropagation();\n        state.onEditCanceled();\n      }\n    }\n  }) : h('div', {\n    'data-key': [state.key, 'bubble', rangeIdx].join('-'),\n    'data-other-value': otherValue,\n    'data-idx': rangeIdx,\n    'data-bidx': idx,\n    style: bubbleStyle\n  }, [label]);\n\n  // bubble wrapper\n  return h('div', {\n    style: {\n      position: 'absolute',\n      [bubbleDock]: '0',\n      [isVertical ? 'top' : 'left']: `${pos}px`,\n      transform: outside\n    }\n  }, [\n    // bubble\n    bubble\n  ]);\n}\n\nfunction buildArea({\n  h, isVertical, top, height, color, on, opacity\n}) {\n  return h('div', extend({\n    style: {\n      backgroundColor: color,\n      opacity,\n      position: 'absolute',\n      left: isVertical ? 0 : `${top}px`,\n      top: isVertical ? `${top}px` : 0,\n      height: isVertical ? `${height}px` : '100%',\n      width: isVertical ? '100%' : `${height}px`,\n      pointerEvents: 'auto'\n    }\n  }, on), []);\n}\n\nexport default function buildRange({\n  borderHit, els, isVertical, state, vStart, vEnd, idx\n}) {\n  let targetOffset = 0;\n  if (state.targetRect) {\n    targetOffset = isVertical ? state.targetRect.y : state.targetRect.x;\n  }\n  const hasScale = !!state.scale;\n  const start = hasScale ? state.scale.norm(vStart) * state.size : vStart;\n  const end = hasScale ? state.scale.norm(vEnd) * state.size : vEnd;\n  const height = Math.abs(start - end);\n  const top = Math.min(start, end) + targetOffset;\n  const bottom = top + height;\n\n  if (state.targetRect) {\n    const target = state.targetFillRect || state.targetRect;\n    const targetSize = isVertical ? target.height : target.width;\n    const targetStart = hasScale ? state.scale.norm(vStart) * targetSize : vStart;\n    const targetEnd = hasScale ? state.scale.norm(vEnd) * targetSize : vEnd;\n    const targetHeight = Math.abs(targetStart - targetEnd);\n    const targetTop = Math.min(targetStart, targetEnd);\n    const targetArea = {\n      h: state.h,\n      isVertical,\n      top: targetTop,\n      height: targetHeight,\n      color: state.style.target.fill,\n      opacity: state.style.target.opacity\n    };\n    if (state.style.target.opacity < 0.8) {\n      targetArea.on = {\n        onmouseover(e) {\n          e.srcElement.style.opacity = state.style.target.opacity + 0.1;\n        },\n        onmouseout(e) {\n          e.srcElement.style.opacity = state.style.target.opacity;\n        }\n      };\n    }\n    els.push(state.h('div', {\n      style: {\n        position: 'absolute',\n        left: `${target.x}px`,\n        top: `${target.y}px`,\n        height: `${target.height}px`,\n        width: `${target.width}px`\n      }\n    }, [\n      buildArea(targetArea)\n    ]));\n  }\n\n  // active range area\n  // els.push(buildArea({\n  //   h: state.h,\n  //   isVertical,\n  //   top,\n  //   height,\n  //   color: state.settings.fill\n  // }));\n\n  const valStart = start < end ? vStart : vEnd;\n  const valEnd = start < end ? vEnd : vStart;\n  const [min, max] = hasScale ? state.scale.domain() : [Math.min(vStart, vEnd), Math.max(vStart, vEnd)];\n\n  const isStartVisible = valStart + 1e-5 >= min && valStart - 1e-5 <= max; // accept minor floating point difference\n  const isEndVisible = valEnd - 1e-5 <= max && valEnd + 1e-5 >= min;\n\n  if (isStartVisible) {\n    els.push(buildLine({\n      h: state.h,\n      isVertical,\n      borderHit,\n      value: valStart,\n      pos: top,\n      align: 'start',\n      state,\n      idx\n    }));\n  }\n\n  if (isEndVisible) {\n    els.push(buildLine({\n      h: state.h,\n      isVertical,\n      borderHit,\n      value: valEnd,\n      pos: bottom,\n      align: 'end',\n      state,\n      idx\n    }));\n  }\n\n  const bubbles = state.settings.bubbles;\n  if (bubbles && bubbles.show) {\n    const fontSize = bubbles.fontSize;\n    const fontFamily = bubbles.fontFamily;\n    const fill = bubbles.fill;\n    const style = {\n      fontSize,\n      fontFamily,\n      color: fill\n    };\n\n    const range = [vStart, vEnd];\n\n    if (isStartVisible) {\n      els.push(buildBubble({\n        h: state.h,\n        isVertical,\n        align: bubbles.align,\n        style,\n        rangeIdx: idx,\n        idx: 0,\n        otherValue: valEnd,\n        value: valStart,\n        label: `${state.format(valStart, range)}`,\n        pos: top,\n        state\n      }));\n    }\n\n    if (isEndVisible) {\n      els.push(buildBubble({\n        h: state.h,\n        isVertical,\n        align: bubbles.align,\n        style,\n        rangeIdx: idx,\n        idx: 1,\n        otherValue: valStart,\n        value: valEnd,\n        label: `${state.format(valEnd, range)}`,\n        pos: bottom,\n        state\n      }));\n    }\n  }\n}\n\nexport function getMoveDelta(state) {\n  const posDelta = state.active.limitHigh - state.active.end;\n  const negDelta = state.active.limitLow - state.active.start;\n  let delta = state.current - state.start;\n  if (delta < 0) {\n    delta = Math.max(delta, negDelta);\n  } else {\n    delta = Math.min(delta, posDelta);\n  }\n\n  return delta;\n}\n\nexport function nodes(state) {\n  let els = [];\n\n  const isVertical = state.direction === VERTICAL;\n\n  if (Array.isArray(state.ranges)) {\n    // add all other ranges\n    state.ranges.forEach((r, i) => {\n      if (!state.active || i !== state.active.idx) {\n        buildRange({\n          borderHit: TARGET_SIZE,\n          els,\n          isVertical,\n          state,\n          vStart: Math.min(r.min, r.max),\n          vEnd: Math.max(r.min, r.max),\n          idx: i\n        });\n      }\n    });\n  }\n\n  if (state.active) {\n    // add active range\n    let vStart = state.start;\n    let vEnd = state.current;\n    if (state.active.idx !== -1) {\n      if (state.active.mode === 'foo') {\n        vStart = Math.min(state.active.start, state.active.end);\n        vEnd = Math.max(state.active.start, state.active.end);\n      } else if (state.active.mode === 'modify') {\n        vStart = Math.min(state.start, state.current);\n        vEnd = Math.max(state.start, state.current);\n      } else {\n        const delta = getMoveDelta(state);\n        vStart = state.active.start + delta;\n        vEnd = state.active.end + delta;\n      }\n    }\n\n    buildRange({\n      borderHit: TARGET_SIZE,\n      els,\n      isVertical,\n      state,\n      vStart,\n      vEnd,\n      idx: state.active.idx\n    });\n  }\n\n  return els;\n}\n","import extend from 'extend';\nimport { testRectPoint } from '../../../core/math/narrow-phase-collision';\n\nfunction rangelimits(state) {\n  return {\n    min: state.scale.min(),\n    max: state.scale.max()\n  };\n}\n\nfunction areaLimits(state) {\n  return {\n    min: 0,\n    max: state.direction ? state.rect.width : state.rect.height\n  };\n}\n\nfunction findActive(state, value, limits) {\n  let rs = state.ranges;\n  let i;\n  let activeIdx = -1;\n  for (i = 0; i < rs.length; i++) {\n    if (rs[i].min <= value && value <= rs[i].max) {\n      activeIdx = i;\n      limits.min = i ? rs[i - 1].max : limits.min;\n      limits.max = i + 1 < rs.length ? rs[i + 1].min : limits.max;\n      break;\n    } else if (value < rs[i].min) {\n      limits.max = rs[i].min;\n      limits.min = i ? rs[i - 1].max : limits.min;\n      break;\n    }\n  }\n  if (activeIdx === -1 && rs.length && i >= rs.length) {\n    limits.min = rs[rs.length - 1].max;\n  }\n\n  let activeRange;\n\n  if (activeIdx !== -1) {\n    activeRange = {\n      idx: activeIdx,\n      start: rs[activeIdx].min,\n      end: rs[activeIdx].max,\n      limitLow: limits.min,\n      limitHigh: limits.max,\n      mode: 'foo'\n    };\n  }\n  state.active = activeRange;\n}\n\nexport function startArea({\n  state, e, renderer, ranges, targetSize\n}) {\n  if (state.started) {\n    return;\n  }\n  const x = (e.center.x - e.deltaX);\n  const y = (e.center.y - e.deltaY);\n  let target = document.elementFromPoint(x, y);\n  if (!renderer.element().contains(target)) {\n    target = null;\n  }\n\n  const tempState = {\n    started: true\n  };\n\n  state.offset = renderer.element().getBoundingClientRect();\n  state.ranges = ranges(state);\n  const relX = x - state.offset.left; // coordinate relative renderer\n  const relY = y - state.offset.top;\n  const startPoint = (e.center[state.cssCoord.coord] - e[state.cssCoord.pos]) - state.offset[state.cssCoord.offset];\n  const relStart = (e.center[state.cssCoord.coord]) - state.offset[state.cssCoord.offset];\n  let v = relStart;\n  let vStart = startPoint;\n\n  tempState.start = startPoint;\n  tempState.current = relStart;\n\n  let rs = state.ranges;\n  const limits = areaLimits(state);\n  let i;\n  let activeIdx = -1;\n  if (target && target.hasAttribute('data-idx')) {\n    activeIdx = parseInt(target.getAttribute('data-idx'), 10);\n    limits.min = activeIdx > 0 ? rs[activeIdx - 1].max : limits.min;\n    limits.max = activeIdx + 1 < rs.length ? rs[activeIdx + 1].min : limits.max;\n  } else {\n    for (i = 0; i < rs.length; i++) {\n      if (rs[i].min <= vStart && vStart <= rs[i].max) {\n        activeIdx = i;\n        limits.min = i ? rs[i - 1].max : limits.min;\n        limits.max = i + 1 < rs.length ? rs[i + 1].min : limits.max;\n        break;\n      } else if (vStart < rs[i].min) {\n        limits.max = rs[i].min;\n        limits.min = i ? rs[i - 1].max : limits.min;\n        break;\n      }\n    }\n    if (activeIdx === -1 && rs.length && i >= rs.length) {\n      limits.min = rs[rs.length - 1].max;\n    }\n  }\n\n  if (activeIdx === -1 && !state.multi) {\n    tempState.ranges = [];\n    limits.min = 0;\n    limits.max = state.direction ? state.rect.width : state.rect.height;\n  }\n  let activeRange;\n\n  if (activeIdx !== -1) {\n    activeRange = {\n      idx: activeIdx,\n      start: rs[activeIdx].min,\n      end: rs[activeIdx].max,\n      limitLow: limits.min,\n      limitHigh: limits.max,\n      mode: 'move'\n    };\n\n    if (target && target.hasAttribute('data-other-value')) {\n      tempState.start = parseFloat(target.getAttribute('data-other-value'));\n      activeRange.mode = 'modify';\n    } else {\n      let pxStart = activeRange.start;\n      let pxEnd = activeRange.end;\n      if (Math.abs(startPoint - pxStart) <= targetSize) {\n        tempState.start = activeRange.end;\n        activeRange.mode = 'modify';\n      } else if (Math.abs(startPoint - pxEnd) <= targetSize) {\n        tempState.start = activeRange.start;\n        activeRange.mode = 'modify';\n      }\n    }\n  } else {\n    activeRange = {\n      idx: -1,\n      start: vStart,\n      end: v,\n      limitLow: limits.min,\n      limitHigh: limits.max,\n      mode: 'current'\n    };\n  }\n\n  tempState.active = activeRange;\n\n  if (activeRange.mode !== 'modify' && state.targetRect && !testRectPoint(state.targetRect, { x: relX, y: relY })) {\n    // do nothing\n  } else {\n    Object.keys(tempState).forEach((key) => (state[key] = tempState[key]));\n  }\n}\n\nexport function start({\n  state, e, renderer, ranges, targetSize\n}) {\n  if (state.started) {\n    return;\n  }\n  state.edit = null;\n  const x = (e.center.x - e.deltaX);\n  const y = (e.center.y - e.deltaY);\n  let target = document.elementFromPoint(x, y);\n  if (!renderer.element().contains(target)) {\n    target = null;\n  }\n\n  const tempState = {\n    started: true\n  };\n\n  state.offset = extend({}, renderer.element().getBoundingClientRect());\n  const relX = x - state.offset.left; // coordinate relative renderer\n  const relY = y - state.offset.top;\n  state.offset.left += state.targetRect ? state.targetRect.x : 0; // make offset relative to targetRect\n  state.offset.top += state.targetRect ? state.targetRect.y : 0;\n  state.ranges = ranges(state, state.fauxBrushInstance || state.brushInstance);\n  const startPoint = (e.center[state.cssCoord.coord] - e[state.cssCoord.pos]) - state.offset[state.cssCoord.offset];\n  const relStart = (e.center[state.cssCoord.coord]) - state.offset[state.cssCoord.offset];\n  tempState.current = state.scale.normInvert(relStart / state.size);\n  tempState.start = state.scale.normInvert(startPoint / state.size);\n\n  let rs = state.ranges;\n  const limits = rangelimits(state);\n  let i;\n  let activeIdx = -1;\n  if (target && target.hasAttribute('data-idx')) {\n    activeIdx = parseInt(target.getAttribute('data-idx'), 10);\n    limits.min = activeIdx > 0 ? rs[activeIdx - 1].max : limits.min;\n    limits.max = activeIdx + 1 < rs.length ? rs[activeIdx + 1].min : limits.max;\n  } else {\n    for (i = 0; i < rs.length; i++) {\n      if (rs[i].min <= tempState.start && tempState.start <= rs[i].max) {\n        activeIdx = i;\n        limits.min = i ? rs[i - 1].max : limits.min;\n        limits.max = i + 1 < rs.length ? rs[i + 1].min : limits.max;\n        break;\n      } else if (tempState.start < rs[i].min) {\n        limits.max = rs[i].min;\n        limits.min = i ? rs[i - 1].max : limits.min;\n        break;\n      }\n    }\n    if (activeIdx === -1 && rs.length && i >= rs.length) {\n      limits.min = rs[rs.length - 1].max;\n    }\n  }\n\n  if (activeIdx === -1 && !state.multi) {\n    tempState.ranges = [];\n    limits.min = state.scale.min();\n    limits.max = state.scale.max();\n  }\n  let activeRange;\n\n  if (activeIdx !== -1) {\n    activeRange = {\n      idx: activeIdx,\n      start: rs[activeIdx].min,\n      end: rs[activeIdx].max,\n      limitLow: limits.min,\n      limitHigh: limits.max,\n      mode: 'move'\n    };\n\n    if (target && target.hasAttribute('data-other-value')) {\n      tempState.start = parseFloat(target.getAttribute('data-other-value'));\n      activeRange.mode = 'modify';\n    } else {\n      let pxStart = state.scale.norm(activeRange.start) * state.size;\n      let pxEnd = state.scale.norm(activeRange.end) * state.size;\n      if (Math.abs(startPoint - pxStart) <= targetSize) {\n        tempState.start = activeRange.end;\n        activeRange.mode = 'modify';\n      } else if (Math.abs(startPoint - pxEnd) <= targetSize) {\n        tempState.start = activeRange.start;\n        activeRange.mode = 'modify';\n      }\n    }\n  } else {\n    activeRange = {\n      idx: -1,\n      start: tempState.start,\n      end: tempState.current,\n      limitLow: limits.min,\n      limitHigh: limits.max,\n      mode: 'current'\n    };\n  }\n\n  tempState.active = activeRange;\n\n  if (activeRange.mode !== 'modify' && state.targetRect && !testRectPoint(state.targetRect, { x: relX, y: relY })) {\n    // do nothing\n  } else {\n    Object.keys(tempState).forEach((key) => (state[key] = tempState[key]));\n  }\n}\nexport function end(state, ranges) {\n  state.started = false;\n  state.ranges = ranges(state, state.fauxBrushInstance || state.brushInstance);\n  const limits = rangelimits(state);\n  findActive(state, state.current, limits);\n}\n\nexport function endArea(state, ranges) {\n  state.started = false;\n  state.ranges = ranges(state);\n  const limits = areaLimits(state);\n  findActive(state, state.current, limits);\n}\n\nexport function move(state, e) {\n  const relY = e.center[state.cssCoord.coord] - state.offset[state.cssCoord.offset];\n  const rel = relY / state.size;\n  const v = state.scale.normInvert(rel);\n  state.current = Math.max(Math.min(v, state.active.limitHigh), state.active.limitLow);\n}\n\nexport function moveArea(state, e) {\n  const rel = e.center[state.cssCoord.coord] - state.offset[state.cssCoord.offset];\n\n  state.current = Math.max(Math.min(rel, state.active.limitHigh), state.active.limitLow);\n}\n","import {\n  nodes,\n  getMoveDelta\n} from './brush-range-node-builder';\nimport { start, end, move } from './brush-range-interaction';\nimport linear from '../../../core/scales/linear';\nimport { scaleWithSize } from '../../../core/scales';\nimport brushFactory from '../../../core/brush';\nimport {\n  TARGET_SIZE,\n  VERTICAL,\n  HORIZONTAL\n} from './brush-range-const';\nimport {\n  pointsToRect,\n  rectToPoints\n} from '../../../core/geometry/util';\n\nfunction render(state) {\n  state.renderer.render(nodes(state));\n}\n\nfunction ranges(state, brush) {\n  if (!brush || !brush.isActive()) {\n    return [];\n  }\n\n  const sourceData = state.scale.data();\n  const sourceFields = sourceData ? sourceData.fields || [] : [];\n  const sources = sourceFields.map((field) => field.id());\n  const rangeBrush = brush.brushes().filter((f) => f.type === 'range' && sources.indexOf(f.id) !== -1)[0];\n\n  if (!rangeBrush) {\n    return [];\n  }\n\n  return rangeBrush.brush.ranges();\n}\n\nfunction setRanges(state) {\n  let rs = state.ranges.map((r) => ({ min: r.min, max: r.max }));\n  if (state.active.idx !== -1) {\n    if (state.active.mode === 'modify') {\n      rs[state.active.idx].min = Math.min(state.start, state.current);\n      rs[state.active.idx].max = Math.max(state.start, state.current);\n    } else {\n      const delta = getMoveDelta(state);\n      rs[state.active.idx].min += delta;\n      rs[state.active.idx].max += delta;\n    }\n  } else {\n    rs.push({\n      min: Math.min(state.start, state.current),\n      max: Math.max(state.start, state.current)\n    });\n  }\n\n  const scaleData = state.scale.data();\n  if (scaleData && scaleData.fields) {\n    scaleData.fields.forEach((field) => {\n      if (state.fauxBrushInstance) {\n        let ordRS = ranges(state, state.fauxBrushInstance);\n        let oldValues = state.findValues(ordRS);\n        let values = state.findValues(rs);\n\n        let addedValues = values.filter((v) => oldValues.indexOf(v) === -1);\n        let removedValues = oldValues.filter((v) => values.indexOf(v) === -1);\n\n        let addItems = addedValues.map((v) => ({ key: field.id(), value: v }));\n        let removeItems = removedValues.map((v) => ({ key: field.id(), value: v }));\n\n        state.brushInstance.addAndRemoveValues(addItems, removeItems);\n\n        state.fauxBrushInstance.setRange(field.id(), rs);\n      } else {\n        state.brushInstance.setRange(field.id(), rs);\n      }\n    });\n  }\n}\n\nfunction setEditedRanges(state, idx, startValue, endValue) {\n  let rs = state.ranges.map((r) => ({ min: r.min, max: r.max }));\n  const limitMin = state.scale.min();\n  const limitMax = state.scale.max();\n  rs[idx] = { min: Math.max(limitMin, Math.min(startValue, endValue)), max: Math.min(limitMax, Math.max(startValue, endValue)) };\n  state.ranges[idx] = { ...rs[idx] };\n\n  const scaleData = state.scale.data();\n  if (scaleData && scaleData.fields) {\n    scaleData.fields.forEach((field) => {\n      if (!state.fauxBrushInstance) {\n        state.brushInstance.setRange(field.id(), rs);\n      }\n    });\n  }\n}\n\nfunction findClosest(value, scale) {\n  let name;\n  let minDist = Infinity;\n  const domain = scale.domain();\n  const halfBandwidth = scale.bandwidth() / 2;\n  for (let i = 0; i < domain.length; ++i) {\n    const d = Math.abs(value - halfBandwidth - scale(domain[i]));\n    if (d < minDist) {\n      minDist = d;\n      name = domain[i];\n    }\n  }\n  return name;\n}\n\nfunction findClosestLabel(value, scale) {\n  const ticks = scale.ticks();\n  const idx = scale.domain().indexOf(findClosest(value, scale));\n  return idx !== -1 ? ticks[idx].label : '-';\n}\n\nfunction rangesOverlap(r1, r2) {\n  return Math.min(...r1) <= Math.max(...r2) && Math.max(...r1) >= Math.min(...r2);\n}\n\nfunction findValues(rangesValues, scale) {\n  const domain = scale.domain();\n  const scaleRange = scale.range();\n  const values = [];\n  rangesValues.forEach((range) => {\n    if (!rangesOverlap(scaleRange, [range.min, range.max])) {\n      return;\n    }\n    const startIdx = domain.indexOf(findClosest(range.min, scale));\n    const endIdx = domain.indexOf(findClosest(range.max, scale));\n    values.push.apply(values, domain.slice(Math.min(startIdx, endIdx), Math.max(startIdx, endIdx) + 1)); /* eslint prefer-spread:0 */\n  });\n\n  return values;\n}\n\nfunction resolveNodeBounds(targetNodes) {\n  const points = targetNodes.reduce((ary, node) => {\n    ary.push(...rectToPoints(node.bounds));\n    return ary;\n  }, []);\n  return pointsToRect(points);\n}\n\nfunction resolveTarget(ctx) {\n  const resolved = {\n    targetRect: null,\n    targetFillRect: null,\n    scale: null,\n    size: null\n  };\n  const stngs = ctx.settings.settings;\n  const targets = stngs.target && (stngs.target.components || (stngs.target.component ? [stngs.target.component] : []))\n    .map((c) => ctx.chart.component(c)).filter((c) => !!c && !!c.rect);\n  const targetNodes = stngs.target && stngs.target.selector ? ctx.chart.findShapes(stngs.target.selector) : [];\n  const targetFillNodes = stngs.target && stngs.target.fillSelector ? ctx.chart.findShapes(stngs.target.fillSelector) : [];\n  if (targetNodes.length > 0) {\n    const bounds = resolveNodeBounds(targetNodes);\n    resolved.size = bounds[ctx.state.direction === VERTICAL ? 'height' : 'width'];\n    resolved.scale = scaleWithSize(ctx.chart.scale(stngs.scale), resolved.size);\n    resolved.targetRect = bounds;\n    if (targetFillNodes.length > 0) {\n      const fillBounds = resolveNodeBounds(targetFillNodes);\n      resolved.targetFillRect = fillBounds;\n    }\n  } else if (targets && targets.length > 0) {\n    const targetRect = targets.slice(1).reduce((prev, curr) => ({\n      x0: Math.min(prev.x0, curr.rect.computedInner.x),\n      y0: Math.min(prev.y0, curr.rect.computedInner.y),\n      x1: Math.max(prev.x1, curr.rect.computedInner.x + curr.rect.computedInner.width),\n      y1: Math.max(prev.y1, curr.rect.computedInner.y + curr.rect.computedInner.height)\n    }), {\n      x0: targets[0].rect.computedInner.x,\n      y0: targets[0].rect.computedInner.y,\n      x1: targets[0].rect.computedInner.x + targets[0].rect.computedInner.width,\n      y1: targets[0].rect.computedInner.y + targets[0].rect.computedInner.height\n    });\n\n    resolved.targetRect = {\n      x: targetRect.x0 - ctx.state.rect.x,\n      y: targetRect.y0 - ctx.state.rect.y,\n      width: targetRect.x1 - targetRect.x0,\n      height: targetRect.y1 - targetRect.y0\n    };\n  }\n\n  return resolved;\n}\n\n/**\n * @typedef {object} component--brush-range-settings\n * @property {string|object} brush - Brush context to apply changes to\n * @property {string} scale - Scale to extract data from\n * @property {string} [direction=vertical] - Rendering direction [horizontal|vertical]\n * @property {object} [bubbles]\n * @property {boolean} [bubbles.show=true] - True to show label bubble, false otherwise\n * @property {string} [bubbles.align=start] - Where to anchor bubble [start|end]\n * @property {function} [bubbles.label] - Callback function for the labels\n * @property {object} [target]\n * @property {string} [target.component] - Render matching overlay on target component. @deprecated Use `components` instead\n * @property {string[]} [target.components] - Render matching overlay on target components\n * @property {string} [target.selector] - Instead of targeting a component, target one or more shapes\n * @property {string} [target.fillSelector] - Target a subset of the selector as fill area. Only applicable if `selector` property is set\n */\n\n/**\n * @typedef {object} component--brush-range-style\n * @property {object} [bubble]\n * @property {string} [bubble.fontSize]\n * @property {string} [bubble.fontFamily]\n * @property {string} [bubble.fill]\n * @property {string} [bubble.color]\n * @property {string} [bubble.stroke]\n * @property {number} [bubble.strokeWidth]\n * @property {number} [bubble.borderRadius]\n * @property {object} [line]\n * @property {string} [line.stroke]\n * @property {number} [line.strokeWidth]\n * @property {object} [target]\n * @property {string} [target.fill]\n * @property {number} [target.strokeWidth]\n * @property {number} [target.opacity]\n */\n\nconst brushRangeComponent = {\n  require: ['chart', 'settings', 'renderer'],\n  defaultSettings: {\n    settings: {\n      bubbles: {\n        show: true,\n        align: 'start'\n      }\n    },\n    style: {\n      bubble: '$label-overlay',\n      line: '$shape-guide--inverted',\n      target: '$selection-area-target'\n    }\n  },\n  renderer: 'dom',\n  on: {\n    rangeStart(e) { this.start(e); },\n    rangeMove(e) { this.move(e); },\n    rangeEnd(e) { this.end(e); },\n    rangeClear(e) { this.clear(e); },\n    bubbleStart(e) { this.bubbleStart(e); }\n  },\n  created() {\n    this.state = {\n      key: this.settings.key || 'brush-range'\n    };\n  },\n  beforeRender(opts) {\n    this.state.rect = opts.size.computedInner;\n  },\n  renderRanges() {\n    if (!this.state.started) {\n      this.state.ranges = ranges(this.state, this.state.brushInstance);\n      this.state.active = null;\n      render(this.state);\n    }\n  },\n  render(h) {\n    const stngs = this.settings.settings;\n    this.state.direction = stngs.direction === 'vertical' ? VERTICAL : HORIZONTAL;\n    const offset = this.renderer.element().getBoundingClientRect();\n    const size = this.state.rect[this.state.direction === VERTICAL ? 'height' : 'width'];\n    let scale = scaleWithSize(this.chart.scale(stngs.scale), size);\n\n    const target = resolveTarget(this);\n    scale = target.scale ? target.scale : scale;\n    this.state.targetRect = target.targetRect;\n    this.state.targetFillRect = target.targetFillRect;\n    this.state.size = target.size === null ? size : target.size;\n\n    this.state.settings = stngs;\n    this.state.style = this.style;\n    this.state.offset = offset;\n    this.state.brush = typeof stngs.brush === 'object' ? stngs.brush.context : stngs.brush;\n    this.state.brushInstance = this.chart.brush(this.state.brush);\n    this.state.renderer = this.renderer;\n    this.state.multi = !!stngs.multiple;\n    this.state.h = h;\n    this.state.onEditConfirmed = (rangeIdx, value, otherValue) => {\n      this.state.edit = null;\n      setEditedRanges(this.state, rangeIdx, value, otherValue);\n      this.emit('bubbleEnd');\n      render(this.state);\n    };\n    this.state.onEditCanceled = () => {\n      this.state.edit = null;\n      render(this.state);\n    };\n    this.state.cssCoord = {\n      offset: this.state.direction === VERTICAL ? 'top' : 'left',\n      coord: this.state.direction === VERTICAL ? 'y' : 'x',\n      pos: this.state.direction === VERTICAL ? 'deltaY' : 'deltaX'\n    };\n    this.state.format = typeof stngs.bubbles.label === 'function' ? (v, r) => stngs.bubbles.label.call(undefined, {\n      datum: v,\n      data: r,\n      scale,\n      resources: {\n        scale: this.chart.scale,\n        formatter: this.chart.formatter\n      }\n    }) : false;\n\n    if (!{}.hasOwnProperty.call(scale, 'norm')) { // Non-linear scale if norm method is unavailable\n      this.state.editable = false;\n      this.state.scale = linear();\n      this.state.scale.data = scale.data;\n      if (!this.state.format) {\n        this.state.format = (v, r) => {\n          if (!rangesOverlap(scale.range(), r)) {\n            return '-';\n          }\n          return findClosestLabel(v, scale);\n        };\n      }\n      this.state.fauxBrushInstance = brushFactory();\n      this.state.findValues = (valueRanges) => findValues(valueRanges, scale);\n    } else {\n      this.state.editable = true;\n      this.state.observeBrush = typeof stngs.brush === 'object' ? stngs.brush.observe : false;\n      this.state.fauxBrushInstance = null;\n      this.state.findValues = null;\n      this.state.scale = scale;\n      const scaleData = this.state.scale.data();\n      if (!this.state.format && scaleData && scaleData.fields && scaleData.fields[0]) {\n        this.state.format = scaleData.fields[0].formatter();\n      }\n    }\n\n    this.state.ranges = ranges(this.state, this.state.brushInstance);\n\n    return (this.state.observeBrush || this.state.sourcedFromThisComponent) ? [nodes(this.state)] : [];\n  },\n  mounted() {\n    if (this.state.observeBrush && this.state.brushInstance) {\n      this.state.brushInstance.on('update', this.renderRanges);\n    }\n  },\n  beforeDestroy() {\n    if (this.state.observeBrush && this.state.brushInstance) {\n      this.state.brushInstance.removeListener('update', this.renderRanges);\n    }\n  },\n  start(e) {\n    start({\n      e,\n      state: this.state,\n      renderer: this.renderer,\n      ranges,\n      targetSize: TARGET_SIZE\n    });\n  },\n  end() {\n    if (!this.state.started) {\n      return;\n    }\n    end(this.state, ranges);\n    render(this.state);\n    this.state.sourcedFromThisComponent = true;\n    this.state.active = null;\n  },\n  move(e) {\n    if (!this.state.started) {\n      return;\n    }\n    move(this.state, e);\n    setRanges(this.state);\n    render(this.state);\n  },\n  clear() {\n    if (this.state.fauxBrushInstance) {\n      this.state.fauxBrushInstance.clear();\n    }\n    this.state.renderer.render([]);\n    this.state.started = false;\n    this.state.active = null;\n    this.state.sourcedFromThisComponent = false;\n  },\n  bubbleStart(e) {\n    if (!this.state.editable) {\n      return;\n    }\n    const ee = e.srcEvent || e;\n\n    const target = ee.target;\n    const ed = {\n      rangeIdx: parseInt(target.getAttribute('data-idx'), 10),\n      bubbleIdx: parseInt(target.getAttribute('data-bidx'), 10)\n    };\n    if (isNaN(ed.rangeIdx) || JSON.stringify(ed) === JSON.stringify(this.state.edit)) {\n      return;\n    }\n    this.state.edit = ed;\n\n    ee.stopPropagation();\n    ee.stopImmediatePropagation();\n    ee.preventDefault();\n\n    const wrapper = target.parentNode;\n\n    render(this.state);\n    const inputEl = wrapper.querySelector('input');\n    inputEl.focus();\n    inputEl.select();\n  }\n};\n\nexport default brushRangeComponent;\n","import {\n  getMoveDelta,\n  nodes\n} from './brush-range-node-builder';\nimport {\n  startArea,\n  moveArea,\n  endArea\n} from './brush-range-interaction';\nimport rangeCollection from '../../../core/brush/range-collection';\nimport {\n  TARGET_SIZE,\n  VERTICAL,\n  HORIZONTAL\n} from './brush-range-const';\n\nfunction render(state) {\n  state.renderer.render(nodes(state));\n}\n\nfunction ranges(state) {\n  return state.rc.ranges();\n}\n\nfunction shapesFromRange(state, brushRange) {\n  const shapeAt = {\n    x: state.direction ? brushRange.min + state.rect.x : state.rect.x,\n    y: state.direction ? state.rect.y : brushRange.min + state.rect.y,\n    width: state.direction ? brushRange.max - brushRange.min : state.rect.width + state.rect.x,\n    height: state.direction ? state.rect.height + state.rect.y : brushRange.max - brushRange.min\n  };\n  return state.chart.shapesAt(shapeAt, state.settings.brush);\n}\n\nfunction brushFromShape(state, newShapes) {\n  state.chart.brushFromShapes(newShapes, state.settings.brush);\n}\n\nfunction setRanges(state) {\n  const rs = state.ranges.map((r) => ({ min: r.min, max: r.max }));\n\n  if (state.active.idx !== -1) {\n    if (state.active.mode === 'modify') {\n      rs[state.active.idx].min = Math.min(state.start, state.current);\n      rs[state.active.idx].max = Math.max(state.start, state.current);\n    } else {\n      const delta = getMoveDelta(state);\n      rs[state.active.idx].min = state.active.start + delta;\n      rs[state.active.idx].max = state.active.end + delta;\n    }\n  } else {\n    rs.push({\n      min: Math.min(state.start, state.current),\n      max: Math.max(state.start, state.current)\n    });\n  }\n\n  state.rc.set(rs);\n\n  const shapes = [];\n  rs.forEach((range) => {\n    shapes.push(...shapesFromRange(state, range));\n  });\n\n  brushFromShape(state, shapes);\n}\n\nfunction getBubbleLabel(state, value, range) {\n  const min = Math.min(...range);\n  const max = Math.max(...range);\n  const shapeAt = {\n    x: state.direction ? min + state.rect.x : state.rect.x,\n    y: state.direction ? state.rect.y : min + state.rect.y,\n    width: state.direction ? max - min : state.rect.width + state.rect.x,\n    height: state.direction ? state.rect.height + state.rect.y : max - min\n  };\n\n  const shapes = state.chart.shapesAt(shapeAt, state.settings.brush);\n\n  if (shapes.length === 0) {\n    return '-';\n  }\n\n  const labelShape = shapes.reduce((s0, s1) => {\n    // Min value\n    const bounds0 = s0.bounds;\n    const bounds1 = s1.bounds;\n\n    if (value === min) {\n      if (bounds0[state.cssCoord.coord] <= bounds1[state.cssCoord.coord]) {\n        return s0;\n      }\n      return s1;\n    }\n\n    // Max value\n    if (bounds0[state.cssCoord.coord] + bounds0[state.cssCoord.area] >= bounds1[state.cssCoord.coord] + bounds1[state.cssCoord.area]) {\n      return s0;\n    }\n    return s1;\n  });\n\n  const compConfig = state.settings.brush.components.reduce((c0, c1) => (c0.key === labelShape.key ? c0 : c1));\n\n  if (typeof state.settings.bubbles.label === 'function') {\n    return state.settings.bubbles.label(labelShape.data);\n  }\n  if (Array.isArray(compConfig.data) && compConfig.data.length) {\n    return labelShape.data[compConfig.data[0]].label;\n  }\n\n  return labelShape.data && labelShape.data.label ? labelShape.data.label : '-';\n}\n\n/**\n * @typedef {object} component--brush-area-dir-settings\n * @property {object} brush\n * @property {array} brush.components\n * @property {object} brush.components[].key - Component key\n * @property {object} brush.components[].contexts[] - Brush context to apply changes to\n * @property {object} [brush.components[].data] - Data reference\n * @property {object} [brush.components[].action] - Type of brush action\n * @property {string} [direction=vertical] - Rendering direction [horizontal|vertical]\n * @property {object} [bubbles]\n * @property {boolean} [bubbles.show=true] - True to show label bubble, false otherwise\n * @property {string} [bubbles.align=start] - Where to anchor bubble [start|end]\n * @property {function} [bubbles.label] - Callback function for the labels\n * @property {object} [target]\n * @property {string} [target.component] - Render matching overlay on target component. @deprecated Use `components` instead\n * @property {string[]} [target.components] - Render matching overlay on target components\n */\n\n/**\n * @typedef {object} component--brush-area-dir-style\n * @property {object} [bubble]\n * @property {string} [bubble.fontSize]\n * @property {string} [bubble.fontFamily]\n * @property {string} [bubble.fill]\n * @property {string} [bubble.color]\n * @property {string} [bubble.stroke]\n * @property {number} [bubble.strokeWidth]\n * @property {number} [bubble.borderRadius]\n * @property {object} [line]\n * @property {string} [line.stroke]\n * @property {number} [line.strokeWidth]\n * @property {object} [target]\n * @property {string} [target.fill]\n * @property {number} [target.strokeWidth]\n * @property {number} [target.opacity]\n */\n\nconst brushAreaDirectionalComponent = {\n  require: ['chart', 'settings', 'renderer'],\n  defaultSettings: {\n    settings: {\n      bubbles: {\n        show: true,\n        align: 'start'\n      }\n    },\n    style: {\n      bubble: '$label-overlay',\n      line: '$shape-guide--inverted',\n      target: '$selection-area-target'\n    }\n  },\n  renderer: 'dom',\n  on: {\n    areaStart(e) { this.start(e); },\n    areaMove(e) { this.move(e); },\n    areaEnd(e) { this.end(e); },\n    areaClear(e) { this.clear(e); }\n  },\n  created() {\n    this.state = {\n      key: this.settings.key || 'brush-area-dir'\n    };\n  },\n  render(h) {\n    this.state.rect = this.rect;\n\n    const stngs = this.settings.settings;\n    const direction = stngs.direction === 'vertical' ? VERTICAL : HORIZONTAL;\n    const size = this.state.rect[direction === VERTICAL ? 'height' : 'width'];\n    const offset = this.renderer.element().getBoundingClientRect();\n\n    const targets = (stngs.target ? stngs.target.components || [stngs.target.component] : [])\n      .map((c) => this.chart.component(c)).filter((c) => !!c && !!c.rect);\n\n    const targetRect = targets[0] ? targets.slice(1).reduce((prev, curr) => ({\n      x0: Math.min(prev.x0, curr.rect.x),\n      y0: Math.min(prev.y0, curr.rect.y),\n      x1: Math.max(prev.x1, curr.rect.x + curr.rect.width),\n      y1: Math.max(prev.y1, curr.rect.y + curr.rect.height)\n    }), {\n      x0: targets[0].rect.x,\n      y0: targets[0].rect.y,\n      x1: targets[0].rect.x + targets[0].rect.width,\n      y1: targets[0].rect.y + targets[0].rect.height\n    }) : null;\n\n    this.state.targetRect = targetRect ? {\n      x: targetRect.x0 - this.rect.x,\n      y: targetRect.y0 - this.rect.y,\n      width: targetRect.x1 - targetRect.x0,\n      height: targetRect.y1 - targetRect.y0\n    } : null;\n\n    this.state.style = this.style;\n    this.state.chart = this.chart;\n    this.state.direction = direction;\n    this.state.settings = stngs;\n    this.state.offset = offset;\n    this.state.rc = rangeCollection();\n    this.state.renderer = this.renderer;\n    this.state.multi = !!stngs.multiple;\n    this.state.h = h;\n    this.state.size = size;\n    this.state.cssCoord = {\n      offset: this.state.direction === VERTICAL ? 'top' : 'left',\n      coord: this.state.direction === VERTICAL ? 'y' : 'x',\n      pos: this.state.direction === VERTICAL ? 'deltaY' : 'deltaX',\n      area: this.state.direction === VERTICAL ? 'height' : 'width'\n    };\n\n    this.state.format = function getFormat(v, r) {\n      return getBubbleLabel(this, v, r);\n    };\n\n    return [];\n  },\n  start(e) {\n    startArea({\n      e,\n      state: this.state,\n      renderer: this.renderer,\n      ranges,\n      targetSize: TARGET_SIZE\n    });\n  },\n  end() {\n    if (!this.state.started) {\n      return;\n    }\n    endArea(this.state, ranges);\n    render(this.state);\n  },\n  move(e) {\n    if (!this.state.started) {\n      return;\n    }\n    moveArea(this.state, e);\n    setRanges(this.state);\n    render(this.state);\n  },\n  clear() {\n    if (this.state.rc) {\n      this.state.rc.clear();\n    }\n    this.state.renderer.render([]);\n  }\n};\n\nexport default brushAreaDirectionalComponent;\n","import rangeBrushComponent from './brush-range';\nimport brushAreaDirectionalComponent from './brush-area-dir';\n\nexport default function rangeBrush(picasso) {\n  picasso.component('brush-range', rangeBrushComponent);\n  picasso.component('brush-area-dir', brushAreaDirectionalComponent);\n}\n","import { scaleWithSize } from '../../scales';\n\nconst FILL = '#ccc';\nconst OPACITY = 1;\n\nfunction ranges(state) {\n  const brush = state.brush;\n  if (!brush || !brush.isActive()) {\n    return [];\n  }\n\n  const sourceData = state.scale.data();\n  const sourceFields = sourceData ? sourceData.fields || [] : [];\n  const sources = sourceFields.map((field) => field.id());\n  const rangeBrush = brush.brushes().filter((f) => f.type === 'range' && sources.indexOf(f.id) !== -1)[0];\n\n  if (!rangeBrush) {\n    return [];\n  }\n\n  return rangeBrush.brush.ranges();\n}\n\nfunction shapes(state) {\n  const isVertical = state.direction === 'vertical';\n  const size = state.rect[isVertical ? 'height' : 'width'];\n  const otherSize = state.rect[isVertical ? 'width' : 'height'];\n  return ranges(state).map((range) => {\n    const start = state.scale(range.min) * size;\n    const end = state.scale(range.max) * size;\n    const low = Math.min(start, end);\n    const s = Math.abs(start - end);\n    return {\n      type: 'rect',\n      fill: state.fill,\n      opacity: state.opacity,\n      x: isVertical ? 0 : low,\n      width: isVertical ? otherSize : s,\n      y: isVertical ? low : 0,\n      height: isVertical ? s : otherSize\n    };\n  });\n}\n\nfunction onStart(state) {\n  state.renderer.render(shapes(state));\n}\n\nfunction onUpdate(state) {\n  state.renderer.render(shapes(state));\n}\n\nfunction onEnd(state) {\n  state.renderer.render(shapes(state));\n}\n\nfunction setup(state, brush, scale, renderer) {\n  state.brush = brush;\n\n  if (!brush) {\n    return;\n  }\n\n  function start() {\n    onStart(state);\n  }\n\n  function update() {\n    onUpdate(state);\n  }\n\n  function end() {\n    onEnd(state);\n  }\n\n  brush.on('start', start);\n  brush.on('update', update);\n  brush.on('end', end);\n\n  state.start = start;\n  state.update = update;\n  state.end = end;\n  state.brush = brush;\n  state.scale = scale;\n  state.renderer = renderer;\n}\n\nfunction teardown(state) {\n  if (state.brush) {\n    state.brush.removeListener('start', state.start);\n    state.brush.removeListener('update', state.update);\n    state.brush.removeListener('end', state.end);\n  }\n\n  state.start = undefined;\n  state.update = undefined;\n  state.end = undefined;\n  state.brush = undefined;\n  state.scale = undefined;\n  state.renderer = undefined;\n}\n\n/**\n * @typedef {object} component--range\n */\n\n/**\n * @typedef {object} component--range.settings\n * @property {string} brush - Name of brush instance\n * @property {string} scale - Name of a scale\n * @property {string} [direction='horizontal'] - Direction of the brush\n * @property {string} [fill='#ccc'] - Fill color\n * @property {number} [opacity=1] - Layer opacity\n */\n\nconst rangeComponent = {\n  require: ['chart', 'settings', 'renderer'],\n  defaultSettings: {\n    settings: {}\n  },\n  preferredSize: () => 50,\n  created() {\n    this.state = {};\n  },\n  render() {\n    const stngs = this.settings.settings;\n    const brush = this.chart.brush(stngs.brush);\n    const direction = stngs.direction || 'horizontal';\n    const distance = direction === 'horizontal' ? this.rect.width : this.rect.height;\n    const scale = scaleWithSize(this.chart.scale(stngs.scale), distance);\n\n    teardown(this.state);\n    setup(this.state, brush, scale, this.renderer);\n\n    this.state.rect = this.rect;\n    this.state.fill = stngs.fill || FILL;\n    this.state.opacity = typeof stngs.opacity !== 'undefined' ? stngs.opacity : OPACITY;\n    this.state.direction = direction;\n\n    return shapes(this.state);\n  },\n  beforeDestroy() {\n    teardown(this.state);\n  }\n};\n\nexport default rangeComponent;\n","import rangeBrushComponent from './range';\n\nexport default function rangeBrush(picasso) {\n  picasso.component('range', rangeBrushComponent);\n}\n","import { sqrDistance } from '../../math/vector';\n\nfunction getPoint(rendererBounds, event) {\n  const eventOffsetX = event.center.x;\n  const eventOffsetY = event.center.y;\n  return {\n    x: eventOffsetX - rendererBounds.left,\n    y: eventOffsetY - rendererBounds.top\n  };\n  // return {\n  //   x: Math.min(Math.max(eventOffsetX - rendererBounds.left, 0), rendererBounds.width),\n  //   y: Math.min(Math.max(eventOffsetY - rendererBounds.top, 0), rendererBounds.height)\n  // };\n}\n\nfunction withinThreshold(p, state, settings) {\n  const startPoint = state.points[0];\n  const sqrDist = sqrDistance(p, startPoint);\n  return sqrDist < Math.pow(settings.settings.snapIndicator.threshold, 2);\n}\n\nfunction appendToPath(state, p) {\n  if (state.path.d == null) {\n    state.path.d = `M${p.x} ${p.y} `;\n  } else {\n    state.path.d += `L${p.x} ${p.y} `;\n  }\n  state.points.push(p);\n}\n\nfunction render(state, renderer) {\n  const nodes = [\n    state.startPoint,\n    state.path,\n    state.snapIndicator\n  ].filter((node) => node.visible);\n\n  renderer.render(nodes);\n}\n\nfunction setSnapIndictor({ state, start = null, end = null }) {\n  if (start !== null) {\n    state.snapIndicator.x1 = start.x;\n    state.snapIndicator.y1 = start.y;\n  }\n  if (end !== null) {\n    state.snapIndicator.x2 = end.x;\n    state.snapIndicator.y2 = end.y;\n  }\n}\n\nfunction showSnapIndicator(state, show) {\n  state.snapIndicator.visible = show;\n}\n\nfunction setStartPoint(state, p) {\n  state.startPoint.cx = p.x;\n  state.startPoint.cy = p.y;\n}\n\nfunction getComponentDelta(chart, rendererBounds) {\n  const chartBounds = chart.element.getBoundingClientRect();\n  return {\n    x: rendererBounds.left - chartBounds.left,\n    y: rendererBounds.top - chartBounds.top\n  };\n}\n\nfunction doLineBrush(state, chart) {\n  if (state.active) {\n    const p1 = state.points[state.points.length - 2];\n    const p2 = state.points[state.points.length - 1];\n    state.lineBrushShape.x1 = p1.x + state.componentDelta.x;\n    state.lineBrushShape.y1 = p1.y + state.componentDelta.y;\n    state.lineBrushShape.x2 = p2.x + state.componentDelta.x;\n    state.lineBrushShape.y2 = p2.y + state.componentDelta.y;\n\n    const shapes = chart.shapesAt(state.lineBrushShape, { components: state.brushConfig });\n    chart.brushFromShapes(shapes, { components: state.brushConfig });\n  }\n}\n\nfunction doPolygonBrush(state, chart) {\n  if (state.active) {\n    const dx = state.componentDelta.x;\n    const dy = state.componentDelta.y;\n    const vertices = state.points.map((p) => ({\n      x: p.x + dx,\n      y: p.y + dy\n    }));\n\n    const shapes = chart.shapesAt({ vertices }, { components: state.brushConfig });\n    chart.brushFromShapes(shapes, { components: state.brushConfig });\n  }\n}\n\nfunction initPath(stgns) {\n  return {\n    visible: true,\n    type: 'path',\n    d: null,\n    fill: stgns.fill,\n    stroke: stgns.stroke,\n    strokeWidth: stgns.strokeWidth,\n    opacity: stgns.opacity,\n    strokeDasharray: stgns.strokeDasharray,\n    collider: {\n      type: null\n    }\n  };\n}\n\nfunction initSnapIndicator(stgns) {\n  return {\n    visible: false,\n    type: 'line',\n    x1: 0,\n    y1: 0,\n    x2: 0,\n    y2: 0,\n    strokeDasharray: stgns.strokeDasharray,\n    stroke: stgns.stroke,\n    strokeWidth: stgns.strokeWidth,\n    opacity: stgns.opacity,\n    collider: {\n      type: null\n    }\n  };\n}\n\nfunction initStartPoint(stgns) {\n  return {\n    visible: true,\n    type: 'circle',\n    cx: 0,\n    cy: 0,\n    r: stgns.r,\n    fill: stgns.fill,\n    opacity: stgns.opacity,\n    stroke: stgns.stroke,\n    strokeWidth: stgns.strokeWidth,\n    collider: {\n      type: null\n    }\n  };\n}\n\nfunction getBrushConfig(settings) {\n  return settings.settings.brush.components.map((b) => (\n    {\n      key: b.key,\n      contexts: b.contexts || ['lassoBrush'],\n      data: b.data || [''],\n      action: b.action || 'add'\n    }));\n}\n\nfunction endBrush(state, chart) {\n  state.brushConfig.forEach((config) => {\n    config.contexts.forEach((context) => {\n      chart.brush(context).end();\n    });\n  });\n}\n\nfunction resetState() {\n  return {\n    points: [],\n    active: false,\n    path: null,\n    snapIndicator: null,\n    startPoint: null,\n    rendererBounds: null,\n    componentDelta: null,\n    brushConfig: null,\n    lineBrushShape: {\n      x1: 0, y1: 0, x2: 0, y2: 0\n    } // Keep a single shape instance to avoid instantiating a new object on each lookup\n  };\n}\n\n/**\n * @typedef {object} component--brush-lasso\n */\n\n/**\n * @typedef {object} component--brush-lasso-settings\n * @property {object} [lasso] - Lasso style settings\n * @property {string} [lasso.fill='transparent']\n * @property {string} [lasso.stroke='black']\n * @property {number} [lasso.strokeWidth=2]\n * @property {number} [lasso.opacity=0.7]\n * @property {number} [lasso.strokeDasharray]\n * @property {object} [snapIndicator] - Snap indicator settings\n * @property {number} [snapIndicator.threshold=75] - The distance in pixel to show the snap indicator, if less then threshold the indicator is dispalyed\n * @property {string} [snapIndicator.strokeDasharray='5, 5']\n * @property {string} [snapIndicator.stroke='black']\n * @property {number} [snapIndicator.strokeWidth=2]\n * @property {number} [snapIndicator.opacity=0.5]\n * @property {object} [startPoint] - Start point style settings\n * @property {number} [startPoint.r=10] - Circle radius\n * @property {string} [startPoint.stroke='green']\n * @property {number} [startPoint.strokeWidth=1]\n * @property {number} [startPoint.opacity=1]\n * @property {object} [brush]\n * @property {object[]} brush.components - Array of components to brush on.\n * @property {string} [brush.components[].component.key] - Component key\n * @property {string[]} [brush.components[].component.contexts=['brushLasso']] - Name of the brushing contexts to affect\n * @property {string[]} [brush.components[].component.data=['']] - The mapped data properties to add to the brush\n * @property {string} [brush.components[].component.action='add'] - Type of action to respond with\n */\n\nconst brushLassoComponent = {\n  require: ['chart', 'renderer', 'settings'],\n  defaultSettings: {\n    layout: {\n      displayOrder: 0\n    },\n    settings: {\n      brush: {\n        components: []\n      },\n      snapIndicator: {\n        threshold: 75,\n        strokeDasharray: '5, 5',\n        stroke: 'black',\n        strokeWidth: 2,\n        opacity: 0.5\n      },\n      lasso: {\n        fill: 'transparent',\n        stroke: 'black',\n        strokeWidth: 2,\n        opacity: 0.7,\n        strokeDasharray: '20, 10'\n      },\n      startPoint: {\n        r: 10,\n        fill: 'green',\n        stroke: 'black',\n        strokeWidth: 1,\n        opacity: 1\n      }\n    }\n  },\n  on: {\n    lassoStart(e) {\n      this.start(e);\n    },\n    lassoEnd(e) {\n      this.end(e);\n    },\n    lassoMove(e) {\n      this.move(e);\n    },\n    lassoCancel() {\n      this.cancel();\n    }\n  },\n  created() {\n    this.state = resetState();\n  },\n  start(e) {\n    this.state.active = true;\n    this.state.path = initPath(this.settings.settings.lasso);\n    this.state.snapIndicator = initSnapIndicator(this.settings.settings.snapIndicator);\n    this.state.startPoint = initStartPoint(this.settings.settings.startPoint);\n    this.state.rendererBounds = this.renderer.element().getBoundingClientRect();\n    this.state.componentDelta = getComponentDelta(this.chart, this.state.rendererBounds);\n    this.state.brushConfig = getBrushConfig(this.settings);\n\n    const p = getPoint(this.state.rendererBounds, e);\n\n    appendToPath(this.state, p);\n    setSnapIndictor({ state: this.state, start: p });\n    setStartPoint(this.state, p);\n  },\n  move(e) {\n    if (!this.state.active) {\n      return;\n    }\n\n    const p = getPoint(this.state.rendererBounds, e);\n\n    if (withinThreshold(p, this.state, this.settings)) {\n      showSnapIndicator(this.state, true);\n    } else {\n      showSnapIndicator(this.state, false);\n    }\n\n    appendToPath(this.state, p);\n    setSnapIndictor({ state: this.state, end: p });\n    render(this.state, this.renderer);\n\n    doLineBrush(\n      this.state,\n      this.chart\n    );\n  },\n  end(e) {\n    if (!this.state.active) {\n      return;\n    }\n\n    showSnapIndicator(this.state, false);\n    const p = getPoint(this.state.rendererBounds, e);\n    const shouldSnap = withinThreshold(p, this.state, this.settings);\n\n    if (shouldSnap) {\n      doPolygonBrush(this.state, this.chart);\n    }\n\n    this.state = resetState();\n    this.renderer.render([]);\n  },\n  cancel() {\n    if (!this.state.active) {\n      return;\n    }\n    endBrush(this.state, this.chart);\n    this.state = resetState();\n    this.renderer.render([]);\n  },\n  render() {\n    // Do nothing\n  }\n};\n\nexport default brushLassoComponent;\n","import lassoBrushComponent from './brush-lasso';\n\nexport default function lassoBrush(picasso) {\n  picasso.component('brush-lasso', lassoBrushComponent);\n}\n","import { testRectRect } from '../../../math/narrow-phase-collision';\n\n/**\n * Using the basic example found here: https://en.wikipedia.org/wiki/Binary_search_algorithm\n *\n * Finds the first node that may intersect the label.\n * @private\n */\nexport function binaryLeftSearch(labelBounds, ary, coord, side, extractBounds) {\n  let left = 0;\n  let right = ary.length - 1;\n  let bounds;\n\n  while (left < right) {\n    let m = Math.floor((left + right) / 2);\n    bounds = extractBounds(ary[m]);\n    if (bounds[coord] + bounds[side] < labelBounds[coord]) { // label is on right side\n      left = m + 1;\n    } else { // label is on the left side\n      right = m;\n    }\n  }\n\n  return left;\n}\n\n/**\n * The purpose of this module is to act as a filtering function to remove any labels\n * that meets one of the following criterias:\n * -- The label is not fully inside the container, such that it would be fully or partially clipped if rendered\n * -- The label overlaps another label\n * -- The label overlaps another bar which is not the bar the label is originating from\n *\n * Assumes that the nodes are sorted from left/top to right/down, as that allows\n * some optimizations to be performed.\n * @private\n * @returns {function} Filter function, returns false if label be removed and true otherwise\n */\nexport default function filterOverlappingLabels({\n  orientation,\n  targetNodes,\n  labels,\n  container\n},\nfindLeft = binaryLeftSearch) {\n  const renderLabels = [];\n  const coord = orientation === 'v' ? 'x' : 'y';\n  const side = orientation === 'v' ? 'width' : 'height';\n  const getTextBounds = (item) => item.textBounds;\n  const getNodeBounds = (item) => item.node.localBounds;\n\n  return (doNotUse, labelIndex) => {\n    const { textBounds: labelBounds, node: labelNode } = labels[labelIndex];\n\n    // ### Test if label is not fully inside container based on the orientation ###\n    if (labelBounds[coord] < container[coord] || labelBounds[coord] + labelBounds[side] > container[coord] + container[side]) {\n      return false;\n    }\n\n    // ### Test label to label collision ###\n    const leftStartLabel = findLeft(labelBounds, renderLabels, coord, side, getTextBounds);\n    for (let i = leftStartLabel; i < renderLabels.length; i++) {\n      if (testRectRect(labelBounds, renderLabels[i].textBounds)) {\n        return false;\n      }\n    }\n\n    // ### Test label to node collision ###\n    const leftStartNode = findLeft(labelBounds, targetNodes, coord, side, getNodeBounds);\n    const labelRightBoundary = (labelBounds[coord] + labelBounds[side]);\n    for (let i = leftStartNode; i < targetNodes.length; i++) {\n      const node = targetNodes[i].node;\n      // Do not test beyond this node, as they are assumed to not collide with the label\n      if (labelRightBoundary < node.localBounds[coord]) {\n        break;\n      }\n\n      if (testRectRect(labelBounds, node.localBounds) && labelNode !== node) {\n        return false;\n      }\n    }\n\n    // No collision occured, allow the label to be rendered\n    renderLabels.push(labels[labelIndex]);\n    return true;\n  };\n}\n","import extend from 'extend';\nimport {\n  testRectRect\n} from '../../../math/narrow-phase-collision';\nimport filterOverlapping from './bars-overlapping-filter';\n\nconst PADDING = 4;\n// const DOUBLE_PADDING = PADDING * 2;\n\nfunction cbContext(node, chart) {\n  return {\n    node,\n    data: node.data,\n    scale: chart.scale,\n    formatter: chart.formatter,\n    dataset: chart.dataset\n  };\n}\n\nfunction isValidText(text) {\n  const type = typeof text;\n  return (type === 'string' || type === 'number') && text !== '';\n}\n\nfunction toBackground(label) {\n  return {\n    type: 'rect',\n    rx: 2,\n    ry: 2,\n    fill: label.backgroundColor,\n    ...label.backgroundBounds\n  };\n}\n\nfunction isTextWidthInRectWidth(rect, label, rotate) {\n  return rotate ? rect.width >= label.height : rect.width >= label.width;\n}\n\nfunction isTextHeightInRectHeight(rect, label, rotate) {\n  return rotate ? rect.height >= label.width : rect.height >= label.height;\n}\n\nfunction isGoodPlacement(orientation, rect, label, fitsHorizontally, overflow) {\n  let fitWidth;\n  let fitHeight;\n  if (orientation === 'v') {\n    fitWidth = fitsHorizontally || overflow || isTextWidthInRectWidth(rect, label, true);\n    fitHeight = isTextHeightInRectHeight(rect, label, !fitsHorizontally);\n  } else {\n    fitWidth = isTextWidthInRectWidth(rect, label);\n    fitHeight = overflow || isTextHeightInRectHeight(rect, label, false);\n  }\n  return fitWidth && fitHeight;\n}\n\nexport function isTextInRect(rect, label, opts) {\n  return isTextWidthInRectWidth(rect, label, opts.rotate) && isTextHeightInRectHeight(rect, label, opts.rotate);\n}\n\nexport function placeSegmentInSegment(majorSegmentPosition, majorSegmentSize, minorSegmentSize, align) {\n  const majorSegmentCenter = majorSegmentPosition + majorSegmentSize * 0.5;\n  const offset = (align - 0.5) * (majorSegmentSize - minorSegmentSize);\n  const minorSegmentCenter = majorSegmentCenter + offset;\n  const minorSegmentPosition = minorSegmentCenter - minorSegmentSize * 0.5;\n  return minorSegmentPosition;\n}\n\nexport function placeTextInRect(rect, text, opts) {\n  const label = {\n    type: 'text',\n    text,\n    maxWidth: opts.rotate ? rect.height : rect.width,\n    x: 0,\n    y: rect.y,\n    dx: 0,\n    dy: 0,\n    fill: opts.fill,\n    anchor: opts.rotate ? 'end' : 'start',\n    baseline: 'central',\n    fontSize: `${opts.fontSize}px`,\n    fontFamily: opts.fontFamily\n  };\n\n  const textMetrics = opts.textMetrics;\n  if (!opts.overflow && !isTextInRect(rect, textMetrics, opts)) {\n    return false;\n  }\n  const baseLineOffset = textMetrics.height * 0.5;\n  if (opts.rotate) {\n    label.x = placeSegmentInSegment(rect.x, rect.width, textMetrics.height, opts.align) + baseLineOffset;\n    label.y = placeSegmentInSegment(rect.y, rect.height, textMetrics.width, opts.justify);\n    label.transform = `rotate(-90, ${label.x + label.dx}, ${label.y + label.dy})`;\n  } else {\n    label.x = placeSegmentInSegment(rect.x, rect.width, textMetrics.width, opts.align);\n    label.y = placeSegmentInSegment(rect.y, rect.height, textMetrics.height, opts.justify) + baseLineOffset;\n  }\n\n  return label;\n}\n\nfunction limitBounds(bounds, view) {\n  const minY = Math.max(0, Math.min(bounds.y, view.height));\n  const maxY = Math.max(0, Math.min(bounds.y + bounds.height, view.height));\n  const minX = Math.max(0, Math.min(bounds.x, view.width));\n  const maxX = Math.max(0, Math.min(bounds.x + bounds.width, view.width));\n  bounds.x = minX;\n  bounds.width = maxX - minX;\n  bounds.y = minY;\n  bounds.height = maxY - minY;\n}\n\nfunction pad(bounds, padding = {}) {\n  const {\n    top = PADDING, bottom = PADDING, left = PADDING, right = PADDING\n  } = padding;\n  bounds.x += left;\n  bounds.width -= (left + right);\n  bounds.y += top;\n  bounds.height -= (top + bottom);\n}\n\nexport function getBarRect({\n  bar, view, direction, position, padding = PADDING\n}) {\n  const bounds = {};\n  extend(bounds, bar);\n\n  if (!position || position === 'inside') {\n    // do nothing\n  } else if (direction === 'up' || direction === 'down') {\n    const start = Math.max(0, Math.min(bar.y, view.height));\n    const end = Math.max(0, Math.min(bar.y + bar.height, view.height));\n\n    if ((position === 'outside' && direction === 'up') || (position === 'opposite' && direction === 'down')) {\n      bounds.y = 0;\n      bounds.height = start;\n    } else if ((position === 'outside' && direction === 'down') || (position === 'opposite' && direction === 'up')) {\n      bounds.y = end;\n      bounds.height = view.height - end;\n    }\n  } else {\n    const start = Math.max(0, Math.min(bar.x, view.width));\n    const end = Math.max(0, Math.min(bar.x + bar.width, view.width));\n\n    if ((position === 'outside' && direction === 'left') || (position === 'opposite' && direction === 'right')) {\n      bounds.x = 0;\n      bounds.width = start;\n    } else if ((position === 'outside' && direction === 'right') || (position === 'opposite' && direction === 'left')) {\n      bounds.x = end;\n      bounds.width = view.width - end;\n    }\n  }\n\n  limitBounds(bounds, view);\n  pad(bounds, padding);\n\n  return bounds;\n}\n\nexport function findBestPlacement({\n  direction,\n  fitsHorizontally,\n  // lblStngs,\n  measured,\n  node,\n  orientation,\n  // placements,\n  placementSettings,\n  rect\n}, barRect = getBarRect) {\n  let largest;\n  let bounds;\n  let placement;\n  let testBounds;\n  let p;\n  const boundaries = [];\n  const dimension = orientation === 'h' ? 'width' : 'height';\n  for (p = 0; p < placementSettings.length; p++) {\n    placement = placementSettings[p];\n    testBounds = barRect({\n      bar: node.localBounds,\n      view: rect,\n      direction,\n      position: placement.position,\n      padding: placement.padding\n    });\n    boundaries.push(testBounds);\n    largest = !p || testBounds[dimension] > largest[dimension] ? testBounds : largest;\n\n    if (isGoodPlacement(orientation, testBounds, measured, fitsHorizontally, placement.overflow)) {\n      bounds = testBounds;\n      break;\n    }\n  }\n\n  // fallback strategy - place the text in the largest rectangle\n  if (!bounds) {\n    bounds = largest;\n    p = boundaries.indexOf(bounds);\n  }\n  placement = placementSettings[p];\n\n  return { bounds, placement };\n}\n\nfunction approxTextBounds(label, textMetrics, rotated, rect, padding = {}) {\n  const {\n    top = PADDING, bottom = PADDING, left = PADDING, right = PADDING\n  } = padding;\n  const x0 = label.x + label.dx;\n  const y0 = label.y + label.dy;\n  const height = rotated ? Math.min(textMetrics.width, rect.height) : Math.min(textMetrics.height, rect.width);\n  const width = rotated ? Math.min(textMetrics.height, rect.height) : Math.min(textMetrics.width, rect.width);\n  const offset = textMetrics.height * 0.5;\n  const PADDING_OFFSET = 1e-9; // Needed to support a case when multiple bars are on the same location\n  const x = rotated ? x0 - offset : x0;\n  const y = rotated ? y0 : y0 - offset;\n  const bounds = {\n    x: x - left - PADDING_OFFSET,\n    y: y - top - PADDING_OFFSET,\n    width: width + (left + right) - PADDING_OFFSET,\n    height: height + (top + bottom) - PADDING_OFFSET\n  };\n  return bounds;\n}\n\nexport function placeInBars(\n  {\n    chart,\n    targetNodes,\n    rect,\n    fitsHorizontally,\n    collectiveOrientation\n  },\n  findPlacement = findBestPlacement,\n  placer = placeTextInRect,\n  postFilter = filterOverlapping\n) {\n  const labels = [];\n  const postFilterContext = {\n    container: rect,\n    targetNodes,\n    labels: [],\n    orientation: collectiveOrientation\n  };\n  let label;\n  let target;\n  let node;\n  let text;\n  let justify;\n  let bounds;\n  let fill;\n  let measured;\n  let direction;\n  let lblStngs;\n  let placement;\n  let placements;\n  let arg;\n  let orientation;\n\n  for (let i = 0, len = targetNodes.length; i < len; i++) {\n    bounds = null;\n    target = targetNodes[i];\n    node = target.node;\n    arg = cbContext(node, chart);\n    direction = target.direction;\n    orientation = direction === 'left' || direction === 'right' ? 'h' : 'v';\n\n    for (let j = 0; j < target.texts.length; j++) {\n      text = target.texts[j];\n      if (!isValidText(text)) {\n        continue;\n      }\n      lblStngs = target.labelSettings[j];\n      measured = target.measurements[j];\n      placements = lblStngs.placements;\n\n      const bestPlacement = findPlacement({\n        direction,\n        fitsHorizontally,\n        lblStngs,\n        measured,\n        node,\n        orientation,\n        placements,\n        placementSettings: target.placementSettings[j],\n        rect\n      });\n\n      bounds = bestPlacement.bounds;\n      placement = bestPlacement.placement;\n\n      if (bounds && placement) {\n        justify = placement.justify;\n        fill = typeof placement.fill === 'function' ? placement.fill(arg, i) : placement.fill;\n        const linkData = typeof lblStngs.linkData === 'function' ? lblStngs.linkData(arg, i) : undefined;\n        const overflow = typeof placement.overflow === 'function' ? placement.overflow(arg, i) : placement.overflow;\n\n        if (direction === 'up') {\n          justify = 1 - justify;\n        }\n        if (placement.position === 'opposite') {\n          justify = 1 - justify;\n        }\n        if (direction === 'left') {\n          justify = 1 - justify;\n        }\n\n        const isRotated = !(collectiveOrientation === 'h' || fitsHorizontally);\n        label = placer(bounds, text, {\n          fill,\n          justify: orientation === 'h' ? placement.align : justify,\n          align: orientation === 'h' ? justify : placement.align,\n          fontSize: lblStngs.fontSize,\n          fontFamily: lblStngs.fontFamily,\n          textMetrics: measured,\n          rotate: isRotated,\n          overflow: !!overflow\n        });\n\n        if (label) {\n          if (typeof linkData !== 'undefined') {\n            label.data = linkData;\n          }\n          if (typeof placement.background === 'object') {\n            label.backgroundColor = typeof placement.background.fill === 'function' ? placement.background.fill(arg, i) : placement.background.fill;\n            if (typeof label.backgroundColor !== 'undefined') {\n              label.backgroundBounds = approxTextBounds(label, measured, isRotated, bounds, placement.background.padding);\n            }\n          }\n          labels.push(label);\n          postFilterContext.labels.push({\n            node,\n            textBounds: approxTextBounds(label, measured, isRotated, bounds, placement.padding)\n          });\n        }\n      }\n    }\n  }\n\n  const filteredLabels = labels.filter(postFilter(postFilterContext));\n  const backgrounds = filteredLabels.filter((lb) => typeof lb.backgroundBounds !== 'undefined').map(toBackground);\n\n  return [...backgrounds, ...filteredLabels];\n}\n\nexport function precalculate({\n  nodes,\n  rect,\n  chart,\n  labelSettings,\n  placementSettings,\n  settings,\n  renderer\n}) {\n  const labelStruct = {};\n  const targetNodes = [];\n  let target;\n  let fitsHorizontally = true;\n  let hasHorizontalDirection = false;\n  let node;\n  let text;\n  let bounds;\n  let measured;\n  let lblStng;\n  let direction;\n\n  for (let i = 0; i < nodes.length; i++) {\n    node = nodes[i];\n    bounds = node.localBounds;\n    if (!testRectRect(bounds, rect)) {\n      continue;\n    }\n    let arg = cbContext(node, chart);\n\n    target = {\n      node,\n      texts: [],\n      measurements: [],\n      labelSettings: [],\n      placementSettings: []\n      // direction: 'up'\n    };\n\n    for (let j = 0; j < labelSettings.length; j++) {\n      lblStng = labelSettings[j];\n      text = typeof lblStng.label === 'function' ? lblStng.label(arg, i) : undefined;\n      if (!isValidText(text)) {\n        continue; // eslint-ignore-line\n      }\n      direction = typeof settings.direction === 'function' ? settings.direction(arg, i) : settings.direction || 'up';\n      hasHorizontalDirection = hasHorizontalDirection || direction === 'left' || direction === 'right';\n\n      labelStruct.fontFamily = lblStng.fontFamily;\n      labelStruct.fontSize = `${lblStng.fontSize}px`;\n      labelStruct.text = text;\n\n      measured = renderer.measureText(labelStruct);\n      target.measurements.push(measured);\n      target.texts.push(text);\n      target.labelSettings.push(lblStng);\n      target.placementSettings.push(placementSettings[j]);\n      target.direction = direction;\n      fitsHorizontally = fitsHorizontally && measured.width <= (bounds.width - (PADDING * 2));\n    }\n\n    targetNodes.push(target);\n  }\n\n  return {\n    targetNodes,\n    fitsHorizontally,\n    hasHorizontalDirection\n  };\n}\n\n/**\n * @typedef {object} component--labels~label-strategy\n *\n */\n\n/**\n * @typedef {object} component--labels~label-strategy.settings\n * @property {string|function} [direction='up'] - The direction in which the bars are growing: 'up', 'down', 'right' or 'left'.\n * @property {string} [fontFamily='Arial']\n * @property {number} [fontSize=12]\n * @property {Array<object>} labels\n * @property {string|function} labels[].label - The text value\n * @property {function} labels[].linkData - Link data to the label\n * @property {Array<object>} labels[].placements\n * @property {string} labels[].placements[].position - 'inside' | 'outside' | 'opposite'\n * @property {number} [labels[].placements[].justify=0] - Placement of the label along the direction of the bar\n * @property {number} [labels[].placements[].align=0.5] - Placement of the label along the perpendicular direction of the bar\n * @property {string} [labels[].placements[].fill='#333'] - Color of the label\n * @property {boolean} [labels[].placements[].overflow=false] - True if the label is allowed to overflow the bar\n * @property {object} labels[].placements[].padding - Padding between the label and the bar\n * @property {number} [labels[].placements[].padding.top=4] - Padding-top between the label and the bar\n * @property {number} [labels[].placements[].padding.bottom=4] - Padding-bottom between the label and the bar\n * @property {number} [labels[].placements[].padding.left=4] - Padding-left between the label and the bar\n * @property {number} [labels[].placements[].padding.right=4] - Padding-right between the label and the bar\n * @property {object} labels[].placements[].background - Background of the label\n * @property {string|function} labels[].placements[].background.fill - Background color of the label\n * @property {object} labels[].placements[].background.padding - Padding between the label and the background\n * @property {number} [labels[].placements[].background.padding.top=4] - Padding-top between the label and the background\n * @property {number} [labels[].placements[].background.padding.bottom=4] - Padding-bottom between the label and the background\n * @property {number} [labels[].placements[].background.padding.left=4] - Padding-left between the label and the background\n * @property {number} [labels[].placements[].background.padding.right=4] - Padding-right between the label and the background\n */\n\nexport function bars({\n  settings,\n  chart,\n  nodes,\n  rect,\n  renderer,\n  style\n}, placer = placeInBars) {\n  const defaults = extend({\n    fontSize: 12,\n    fontFamily: 'Arial',\n    align: 0.5,\n    justify: 0,\n    fill: '#333'\n  }, style.label);\n\n  defaults.fontSize = parseInt(defaults.fontSize, 10);\n\n  const labelSettings = settings.labels.map((labelSetting) => extend({}, defaults, settings, labelSetting));\n\n  const placementSettings = settings.labels.map((labelSetting) => labelSetting.placements.map((placement) => extend({}, defaults, settings, labelSetting, placement)));\n\n  const {\n    fitsHorizontally,\n    hasHorizontalDirection,\n    targetNodes\n  } = precalculate({\n    nodes,\n    chart,\n    renderer,\n    settings,\n    rect,\n    labelSettings,\n    placementSettings\n  });\n\n  const coord = hasHorizontalDirection ? 'y' : 'x';\n  const side = hasHorizontalDirection ? 'height' : 'width';\n  targetNodes.sort((a, b) => (a.node.localBounds[coord] + a.node.localBounds[side]) - (b.node.localBounds[coord] + b.node.localBounds[side]));\n\n  return placer({\n    chart,\n    targetNodes,\n    stngs: settings,\n    rect,\n    fitsHorizontally,\n    collectiveOrientation: hasHorizontalDirection ? 'h' : 'v'\n  });\n}\n","import extend from 'extend';\nimport {\n  testCircleRect,\n  testRectLine,\n  testRectRect\n} from '../../../math/narrow-phase-collision';\nimport { rectContainsRect } from '../../../math/intersection';\n\nconst LABEL_OVERLAP_THRESHOLD_X = 4;\n\nfunction normalize(angle) {\n  const PI2 = Math.PI * 2;\n  return ((angle % PI2) + PI2) % PI2; // normalize\n}\n\nfunction pad(bounds, padding) {\n  bounds.x += padding;\n  bounds.width -= (padding * 2);\n  bounds.y += padding;\n  bounds.height -= (padding * 2);\n}\n\nfunction getTopLeftBounds(bounds) {\n  const x = bounds.x;\n  const y = bounds.y - (bounds.height / 2);\n\n  return {\n    x,\n    y,\n    width: bounds.width,\n    height: bounds.height\n  };\n}\n\n// assume 0 <= angle < (PI / 2)\nfunction getLineCircleIntersection(radius, offset, angle) {\n  let { x, y } = offset;\n\n  if ((x * x) + (y * y) > radius * radius) { return null; }\n\n  let dx = Math.sin(angle);\n  let dy = Math.cos(angle);\n  let D = (x * dy) - (y * dx);\n\n  let d = (radius * radius) - (D * D);\n  if (d < 0) {\n    return null;\n  }\n  let sqrtD = Math.sqrt(d);\n  return {\n    x: (D * dy) + (dx * sqrtD),\n    y: -(D * dx) + (dy * sqrtD)\n  };\n}\n\n// assume 0 <= angle < (PI * 2)\nfunction getRectFromCircleIntersection({ radius, size, angle }) {\n  let { width, height } = size;\n  let lineOffset = { x: width / 2, y: height / 2 };\n  let section = Math.floor(angle / (Math.PI / 2));\n  let intersection;\n  let offset;\n  switch (section) {\n    case 0:\n      intersection = getLineCircleIntersection(radius, lineOffset, angle);\n      if (!intersection) { return null; }\n      intersection.y *= -1;\n      offset = { x: -width, y: 0 };\n      break;\n    case 1:\n      intersection = getLineCircleIntersection(radius, lineOffset, Math.PI - angle);\n      if (!intersection) { return null; }\n      offset = { x: -width, y: -height };\n      break;\n    case 2:\n      intersection = getLineCircleIntersection(radius, lineOffset, angle - Math.PI);\n      if (!intersection) { return null; }\n      intersection.x *= -1;\n      offset = { x: 0, y: -height };\n      break;\n    case 3:\n      intersection = getLineCircleIntersection(radius, lineOffset, (2 * Math.PI) - angle);\n      if (!intersection) { return null; }\n      intersection.x *= -1;\n      intersection.y *= -1;\n      offset = { x: 0, y: 0 };\n      break;\n    default:\n      throw new Error('invalid angle');\n  }\n  let bounds = {\n    x: intersection.x + offset.x,\n    y: intersection.y + offset.y,\n    width,\n    height\n  };\n  return bounds;\n}\n\nfunction getHorizontalInsideSliceRect({\n  slice, padding, measured, store\n}) {\n  const {\n    start, end, outerRadius\n  } = slice;\n  const middle = normalize((start + end) / 2);\n\n  const size = {\n    width: measured.width + (padding * 2),\n    height: measured.height + (padding * 2)\n  };\n\n  let bounds = getRectFromCircleIntersection({\n    radius: outerRadius,\n    size,\n    angle: middle\n  });\n\n  if (!bounds) { return null; }\n\n  bounds.baseline = 'top';\n\n  pad(bounds, padding);\n\n  if (store.insideLabelBounds.some((rect) => testRectRect(rect, bounds))) {\n    return null;\n  }\n\n  store.insideLabelBounds.push({\n    x: bounds.x - LABEL_OVERLAP_THRESHOLD_X,\n    y: bounds.y,\n    width: bounds.width + (LABEL_OVERLAP_THRESHOLD_X * 2),\n    height: bounds.height\n  }); // Copy as bounds is mutated else where\n\n  return bounds;\n}\n\nfunction getHorizontalIntoSliceRect({ slice, padding, measured }) {\n  let {\n    start, end, innerRadius, outerRadius\n  } = slice;\n  const middle = normalize((start + end) / 2);\n\n  let size = {\n    width: measured.width + (padding * 2),\n    height: measured.height + (padding * 2)\n  };\n\n  let bounds = getRectFromCircleIntersection({\n    radius: outerRadius,\n    size,\n    angle: middle\n  });\n\n  if (!bounds) { return null; }\n\n  bounds.baseline = 'top';\n\n  let startLine = {\n    x1: 0, y1: 0, x2: Math.sin(start) * outerRadius, y2: -Math.cos(start) * outerRadius\n  };\n  if (testRectLine(bounds, startLine)) { return null; }\n  let endLine = {\n    x1: 0, y1: 0, x2: Math.sin(end) * outerRadius, y2: -Math.cos(end) * outerRadius\n  };\n  if (testRectLine(bounds, endLine)) { return null; }\n  let circle = { cx: 0, cy: 0, r: innerRadius };\n  if (testCircleRect(circle, bounds)) { return null; }\n\n  pad(bounds, padding);\n\n  return bounds;\n}\n\n// TODO: this case can support a justify setting\nfunction getRotatedInsideSliceRect({ slice, measured, padding }) {\n  let {\n    start, end, innerRadius, outerRadius\n  } = slice;\n\n  let maxWidth = outerRadius - innerRadius - (padding * 2);\n  let size = end - start;\n  if (size < Math.PI) {\n    let x = ((measured.height / 2) + padding) / Math.tan(size / 2);\n    if (x > innerRadius) {\n      maxWidth = outerRadius - x - (padding * 2);\n    }\n  }\n  if (maxWidth < 0 || maxWidth < measured.minReqWidth) {\n    return null;\n  }\n\n  const middle = normalize((start + end) / 2);\n  let r = outerRadius - padding;\n  let bounds = {\n    x: Math.sin(middle) * r,\n    y: -Math.cos(middle) * r,\n    width: maxWidth,\n    height: measured.height\n  };\n  if (middle < Math.PI) {\n    bounds.angle = middle - (Math.PI / 2);\n    bounds.anchor = 'end';\n  } else {\n    bounds.angle = middle + (Math.PI / 2);\n    bounds.anchor = 'start';\n  }\n  return bounds;\n}\n\n\nfunction getRotatedOusideSliceRect({\n  slice, measured, padding, view\n}) {\n  let {\n    start, end, outerRadius, offset\n  } = slice;\n  let r = outerRadius + padding;\n  let size = end - start;\n  if (size < Math.PI) {\n    let minR = ((measured.height / 2) + padding) / Math.tan(size / 2);\n    if (minR > r) {\n      return null;\n    }\n  }\n  const middle = normalize((start + end) / 2);\n  let x = Math.sin(middle) * r;\n  let y = -Math.cos(middle) * r;\n\n  let maxWidth = measured.width;\n  let v = middle % Math.PI;\n  if (v > Math.PI / 2) {\n    v = Math.PI - v;\n  }\n  if (Math.cos(v) > 0.001) {\n    let edge = y < 0 ? view.y : view.y + view.height;\n    let d = Math.abs(edge - offset.y);\n    let w = (d / Math.cos(v)) - (Math.tan(v) * (measured.height / 2)) - (padding * 2) - outerRadius;\n    if (w < maxWidth) {\n      maxWidth = w;\n    }\n  }\n  if (Math.sin(v) > 0.001) {\n    let edge = x < 0 ? view.x : view.x + view.width;\n    let d = Math.abs(edge - offset.x);\n    let w = (d / Math.sin(v)) - ((measured.height / 2) / Math.tan(v)) - (padding * 2) - outerRadius;\n    if (w < maxWidth) {\n      maxWidth = w;\n    }\n  }\n\n  if (maxWidth <= 0 || maxWidth < measured.minReqWidth) {\n    return null;\n  }\n\n  let bounds = {\n    x,\n    y,\n    width: maxWidth,\n    height: measured.height\n  };\n  if (middle < Math.PI) {\n    bounds.angle = middle - (Math.PI / 2);\n    bounds.anchor = 'start';\n  } else {\n    bounds.angle = middle + (Math.PI / 2);\n    bounds.anchor = 'end';\n  }\n  return bounds;\n}\n\nfunction outOfSpace(context, section, view) {\n  switch (section) {\n    case 0: return context.q1maxY < 0;\n    case 1: return context.q2minY > view.height;\n    case 2: return context.q3minY > view.height;\n    case 3: return context.q4maxY < 0;\n    default: return true;\n  }\n}\nfunction adjustBounds(bounds, context, slice) {\n  const LINE_PADDING = 2;\n  const LIMIT = 1;\n\n  const {\n    start, end, offset, outerRadius\n  } = slice;\n  const middle = normalize((start + end) / 2);\n  let section = Math.floor(middle / (Math.PI / 2));\n\n  switch (section) {\n    case 0:\n      if (context.q1maxY !== undefined) {\n        let y = Math.min(bounds.y, context.q1maxY - bounds.height);\n        let dy = bounds.y - y;\n        bounds.y = y;\n        if (dy > LIMIT) {\n          let r = outerRadius + LINE_PADDING;\n          bounds.line = {\n            type: 'line',\n            x1: bounds.x - LINE_PADDING,\n            y1: bounds.y + LINE_PADDING,\n            x2: offset.x + (Math.sin(middle) * r),\n            y2: offset.y - (Math.cos(middle) * r),\n            strokeWidth: 1\n          };\n        }\n      }\n      break;\n    case 1:\n      if (context.q2minY !== undefined) {\n        let y = Math.max(bounds.y, context.q2minY);\n        let dy = y - bounds.y;\n        bounds.y = y;\n        if (dy > LIMIT) {\n          let r = outerRadius + LINE_PADDING;\n          bounds.line = {\n            type: 'line',\n            x1: bounds.x - LINE_PADDING,\n            y1: bounds.y - LINE_PADDING,\n            x2: offset.x + (Math.sin(middle) * r),\n            y2: offset.y - (Math.cos(middle) * r),\n            strokeWidth: 1\n          };\n        }\n      }\n      break;\n    case 2:\n      if (context.q3minY !== undefined) {\n        let y = Math.max(bounds.y, context.q3minY);\n        let dy = y - bounds.y;\n        bounds.y = y;\n        if (dy > LIMIT) {\n          let r = outerRadius + LINE_PADDING;\n          bounds.line = {\n            type: 'line',\n            x1: bounds.x + LINE_PADDING,\n            y1: bounds.y - LINE_PADDING,\n            x2: offset.x + (Math.sin(middle) * r),\n            y2: offset.y - (Math.cos(middle) * r),\n            strokeWidth: 1\n          };\n        }\n      }\n      break;\n    case 3:\n      if (context.q4maxY !== undefined) {\n        let y = Math.min(bounds.y, context.q4maxY - bounds.height);\n        let dy = bounds.y - y;\n        bounds.y = y;\n        if (dy > LIMIT) {\n          let r = outerRadius + LINE_PADDING;\n          bounds.line = {\n            type: 'line',\n            x1: bounds.x + LINE_PADDING,\n            y1: bounds.y + LINE_PADDING,\n            x2: offset.x + (Math.sin(middle) * r),\n            y2: offset.y - (Math.cos(middle) * r),\n            strokeWidth: 1\n          };\n        }\n      }\n      break;\n    default: break;\n  }\n}\nfunction updateContext({ context, node, bounds }) {\n  const PADDING = 2;\n  let {\n    start, end\n  } = node.desc.slice;\n  const middle = normalize((start + end) / 2);\n\n  let section = Math.floor(middle / (Math.PI / 2));\n  switch (section) {\n    case 0:\n      context.q1maxY = bounds.y - PADDING;\n      if (context.q2minY === undefined) {\n        context.q2minY = bounds.y + bounds.height + PADDING;\n      }\n      break;\n    case 1:\n      context.q2minY = bounds.y + bounds.height + PADDING;\n      break;\n    case 2:\n      context.q3minY = bounds.y + bounds.height + PADDING;\n      break;\n    case 3:\n      context.q4maxY = bounds.y - PADDING;\n      if (context.q3minY === undefined) {\n        context.q3minY = bounds.y + bounds.height + PADDING;\n      }\n      break;\n    default: break;\n  }\n}\n\nfunction getHorizontalOusideSliceRect({\n  slice, measured, padding, view, context\n}) {\n  let {\n    start, end, outerRadius, offset\n  } = slice;\n  const middle = normalize((start + end) / 2);\n\n  let section = Math.floor(middle / (Math.PI / 2));\n  if (outOfSpace(context, section, view)) {\n    return null;\n  }\n\n  let r = outerRadius + padding + (measured.height / 2);\n  let x = Math.sin(middle) * r;\n  let y = -Math.cos(middle) * r;\n\n  let maxWidth = measured.width;\n  if (middle < Math.PI) {\n    let w = Math.abs((view.x + view.width) - (x + offset.x));\n    if (w < maxWidth) {\n      maxWidth = w;\n    }\n  } else {\n    let w = Math.abs(view.x - (x + offset.x));\n    if (w < maxWidth) {\n      maxWidth = w;\n    }\n  }\n\n  if (maxWidth < measured.minReqWidth) {\n    return null;\n  }\n\n  let bounds = {\n    x,\n    y,\n    width: maxWidth,\n    height: measured.height\n  };\n\n  if (middle < Math.PI) {\n    bounds.anchor = 'start';\n  } else {\n    bounds.anchor = 'end';\n  }\n\n  return bounds;\n}\n\nfunction cbContext(node, chart) {\n  return {\n    node,\n    data: node.data,\n    scale: chart.scale,\n    formatter: chart.formatter,\n    dataset: chart.dataset\n  };\n}\n\nfunction placeTextOnPoint(rect, text, opts) {\n  const label = {\n    type: 'text',\n    text,\n    maxWidth: rect.width,\n    x: rect.x,\n    y: rect.y + (rect.baseline === 'top' ? rect.height / 2 : 0),\n    fill: opts.fill,\n    anchor: rect.anchor || 'start',\n    baseline: 'middle',\n    fontSize: `${opts.fontSize}px`,\n    fontFamily: opts.fontFamily\n  };\n\n  if (!isNaN(rect.angle)) {\n    let angle = rect.angle * (360 / (Math.PI * 2));\n    label.transform = `rotate(${angle}, ${label.x}, ${label.y})`;\n  }\n\n  return label;\n}\n\nexport function getSliceRect({\n  slice, direction, position, padding, measured, view, context, store\n}) {\n  let {\n    start,\n    end,\n    innerRadius,\n    offset\n  } = slice;\n\n  let bounds;\n  let s;\n  switch (position) {\n    case 'into':\n      if (direction === 'rotate') {\n        bounds = getRotatedInsideSliceRect({ slice, measured, padding });\n      } else {\n        bounds = getHorizontalIntoSliceRect({ slice, measured, padding });\n      }\n      break;\n    case 'inside':\n      s = {\n        start,\n        end,\n        innerRadius: 0,\n        outerRadius: innerRadius\n      };\n      if (direction === 'rotate') {\n        bounds = getRotatedInsideSliceRect({ slice: s, measured, padding });\n      } else {\n        bounds = getHorizontalInsideSliceRect({\n          slice: s, measured, padding, store\n        });\n      }\n      break;\n    case 'outside':\n      if (direction === 'rotate') {\n        bounds = getRotatedOusideSliceRect({\n          slice, measured, padding, view\n        });\n      } else {\n        bounds = getHorizontalOusideSliceRect({\n          slice, measured, padding, view, context\n        });\n      }\n      break;\n    default:\n      throw new Error('not implemented');\n  }\n  if (bounds) {\n    bounds.x += offset.x;\n    bounds.y += offset.y;\n    if (position === 'outside' && direction !== 'rotate') {\n      adjustBounds(bounds, context, slice);\n    }\n  }\n  return bounds;\n}\n\nfunction findBestPlacement({\n  context,\n  direction,\n  measured,\n  node,\n  placementSettings,\n  rect,\n  store\n}, sliceRect = getSliceRect) {\n  for (let p = 0; p < placementSettings.length; p++) {\n    let placement = placementSettings[p];\n    let bounds = sliceRect({\n      context,\n      slice: node.desc.slice,\n      view: rect,\n      direction,\n      position: placement.position,\n      measured,\n      padding: placement.padding,\n      store\n    });\n\n    if (!bounds) {\n      continue;\n    }\n\n    return { bounds, placement };\n  }\n  return { bounds: null, placement: null };\n}\n\n/*\n * Sorts the nodes so that\n *   in each quarter sort nodes from the center (in y) outwards\n *   first quarter before the second\n *   forth quarter before the third\n */\nfunction sortNodes(nodes) {\n  const q1 = [];\n  const q2 = [];\n  const q3 = [];\n  const q4 = [];\n  for (let i = 0; i < nodes.length; ++i) {\n    const { start, end } = nodes[i].desc.slice;\n    const middle = normalize((start + end) / 2);\n    let section = Math.floor(middle / (Math.PI / 2));\n    switch (section) {\n      case 0: q1.push(nodes[i]); break;\n      case 1: q2.push(nodes[i]); break;\n      case 2: q3.push(nodes[i]); break;\n      case 3: q4.push(nodes[i]); break;\n      default: break;\n    }\n  }\n\n  const sortFn = (a, b) => {\n    const middleA = normalize((a.desc.slice.start + a.desc.slice.end) / 2);\n    const middleB = normalize((b.desc.slice.start + b.desc.slice.end) / 2);\n    return middleA - middleB;\n  };\n  const reverseSortFn = (a, b) => sortFn(b, a);\n\n  q1.sort(reverseSortFn);\n  q2.sort(sortFn);\n  q3.sort(reverseSortFn);\n  q4.sort(sortFn);\n  return q1.concat(q2, q4, q3);\n}\n\nfunction measureText(text, stgns, renderer) {\n  const fontFamily = stgns.fontFamily;\n  const fontSize = `${stgns.fontSize}px`;\n  const metrics = renderer.measureText({ text, fontFamily, fontSize });\n\n  metrics.minReqWidth = Math.min(\n    metrics.width,\n    renderer.measureText({\n      text: `${text[0]}…`,\n      fontFamily,\n      fontSize\n    }).width\n  );\n\n  return metrics;\n}\n\n/**\n * @typedef {object} component--labels~slices-label-strategy\n *\n */\n\n/**\n * @typedef {object} component--labels~slices-label-strategy.settings\n * @property {string|function} [direction='horizontal'] - The direction of the text: 'horizontal' or 'rotate'.\n * @property {string} [fontFamily='Arial']\n * @property {number} [fontSize=12]\n * @property {Array<object>} labels\n * @property {string|function} labels[].label - The text value\n * @property {function} labels[].linkData - Link data to the label\n * @property {Array<object>} labels[].placements\n * @property {string} [labels[].placements[].position='into'] - 'inside' | 'into' | 'outside' (outside is not implmented yet)\n * @property {string} [labels[].placements[].fill='#333'] - Color of the label\n */\n\nexport function slices(\n  {\n    settings,\n    chart,\n    nodes,\n    rect,\n    renderer,\n    style\n  }, findPlacement = findBestPlacement,\n  placer = placeTextOnPoint\n) {\n  const defaults = extend({\n    fontSize: 12,\n    fontFamily: 'Arial',\n    fill: '#333',\n    padding: 4,\n    position: 'into'\n  }, style.label);\n\n  defaults.fontSize = parseInt(defaults.fontSize, 10);\n\n  const labelSettings = settings.labels.map((labelSetting) => extend({}, defaults, settings, labelSetting));\n\n  const placementSettings = settings.labels.map((labelSetting) => labelSetting.placements.map((placement) => extend({}, defaults, settings, labelSetting, placement)));\n\n  const labels = [];\n  const store = {\n    insideLabelBounds: []\n  };\n\n  nodes = sortNodes(nodes);\n  const context = {};\n\n  for (let i = 0, len = nodes.length; i < len; i++) {\n    const node = nodes[i];\n    const arg = cbContext(node, chart);\n\n    for (let j = 0; j < labelSettings.length; j++) {\n      const lblStngs = labelSettings[j];\n      const text = typeof lblStngs.label === 'function' ? lblStngs.label(arg, i) : '';\n      if (!text) {\n        continue;\n      }\n      const direction = typeof lblStngs.direction === 'function' ? lblStngs.direction(arg, i) : lblStngs.direction || 'horizontal';\n      const linkData = typeof lblStngs.linkData === 'function' ? lblStngs.linkData(arg, i) : undefined;\n      const measured = measureText(text, lblStngs, renderer);\n      const bestPlacement = findPlacement({\n        context,\n        direction,\n        lblStngs,\n        measured,\n        node,\n        placementSettings: placementSettings[j],\n        rect,\n        store\n      });\n\n      const bounds = bestPlacement.bounds;\n      const placement = bestPlacement.placement;\n\n      if (bounds && placement) {\n        if (placement.position === 'outside' && direction !== 'rotate') {\n          updateContext({ context, node, bounds });\n\n          const topLeftBounds = getTopLeftBounds(bounds);\n\n          if (!rectContainsRect(topLeftBounds, rect)) {\n            continue;\n          }\n        }\n\n        const fill = typeof placement.fill === 'function' ? placement.fill(arg, i) : placement.fill;\n\n        const label = placer(bounds, text, {\n          fill,\n          fontSize: lblStngs.fontSize,\n          fontFamily: lblStngs.fontFamily,\n          textMetrics: measured\n        });\n\n        if (label) {\n          if (typeof linkData !== 'undefined') {\n            label.data = linkData;\n          }\n          labels.push(label);\n          if (bounds.line) {\n            bounds.line.stroke = fill;\n            labels.push(bounds.line);\n          }\n        }\n      }\n    }\n  }\n\n  return labels;\n}\n","const LINEBREAK_REGEX = /\\n+|\\r+|\\r\\n/;\nconst WHITESPACE_REGEX = /\\s/;\nconst HYPHEN_REGEX = /[a-zA-Z\\u00C0-\\u00F6\\u00F8-\\u00FF\\u00AD]/;\nexport const NO_BREAK = 0;\nexport const MANDATORY = 1;\nexport const BREAK_ALLOWED = 2;\n\nexport function includesLineBreak(c) {\n  if (typeof c === 'string') {\n    return c.search(LINEBREAK_REGEX) !== -1;\n  }\n  return String(c).search(LINEBREAK_REGEX) !== -1;\n}\n\nfunction includesWhiteSpace(c) {\n  return c.search(WHITESPACE_REGEX) !== -1;\n}\n\nfunction hyphenationAllowed(c) {\n  /* Latin character set. Excluding numbers, sign and symbol characters, but including soft hyphen */\n  return c.search(HYPHEN_REGEX) !== -1;\n}\n\nfunction resolveBreakOpportunity(chunk, i, chunks, mandatory, noBreakAllowed) {\n  if (mandatory.some((fn) => fn(chunk, i, chunks))) {\n    return MANDATORY;\n  }\n  if (noBreakAllowed.some((fn) => fn(chunk, i, chunks))) {\n    return NO_BREAK;\n  }\n\n  return BREAK_ALLOWED;\n}\n\nfunction cleanEmptyChunks(chunks) {\n  if (chunks[0] === '') {\n    chunks.shift();\n  }\n  if (chunks[chunks.length - 1] === '') {\n    chunks.pop();\n  }\n}\n\nfunction clamp(val, min, max) {\n  return Math.max(min, Math.min(max, val));\n}\n\nexport default function stringTokenizer({\n  string,\n  separator = '',\n  reverse = false,\n  measureText = (text) => ({ width: text.length, height: 1 }),\n  mandatoryBreakIdentifiers = [includesLineBreak],\n  noBreakAllowedIdentifiers = [],\n  suppressIdentifier = [includesWhiteSpace, includesLineBreak, (chunk) => chunk === ''],\n  hyphenationIdentifiers = [hyphenationAllowed]\n} = {}) {\n  const chunks = String(string).split(separator);\n  cleanEmptyChunks(chunks);\n  const length = chunks.length;\n  const isNotDone = reverse ? (p) => p >= 0 : (p) => p < length;\n  let position = reverse ? length : -1; // Set init position 1 step before or after to make first next call go to first position\n\n  function peek(peekAt) {\n    const i = clamp(peekAt, 0, length - 1);\n    const chunk = chunks[i];\n    const textMeasure = measureText(chunk);\n    const opportunity = resolveBreakOpportunity(\n      chunk,\n      i,\n      chunks,\n      mandatoryBreakIdentifiers,\n      noBreakAllowedIdentifiers\n    );\n\n    return {\n      index: i,\n      value: chunk,\n      breakOpportunity: opportunity,\n      suppress: suppressIdentifier.some((fn) => fn(chunk, i, chunks)),\n      hyphenation: hyphenationIdentifiers.some((fn) => fn(chunk, i, chunks)),\n      width: textMeasure.width,\n      height: textMeasure.height,\n      done: false\n    };\n  }\n\n  function next(jumpToPosition) {\n    if (isNaN(jumpToPosition)) {\n      if (reverse) {\n        position--;\n      } else {\n        position++;\n      }\n    } else {\n      position = clamp(jumpToPosition, 0, length - 1);\n    }\n\n    if (isNotDone(position)) {\n      return peek(position);\n    }\n    return { done: true };\n  }\n\n  return {\n    next,\n    peek,\n    length\n  };\n}\n","const HYPHENS_CHAR = '\\u2010';\nconst ELLIPSIS_CHAR = '…';\n\nexport {\n  HYPHENS_CHAR,\n  ELLIPSIS_CHAR\n};\n","const BASE = 24;\nconst PAD = 4;\nconst BUMP = 1e-12;\nconst DEFAULT_FONT_HEIGHT = 16;\nconst DEFAULT_LINE_HEIGHT = 1.2;\nconst TEXT_REGEX = /^\\s*\\d+(\\.\\d+)?px\\s*$/i;\n\nfunction isValidFontSize(val) {\n  const type = typeof val;\n  if (type === 'string') {\n    return TEXT_REGEX.test(val);\n  }\n\n  return false;\n}\n\nexport function fontSizeToHeight(fontSize) {\n  if (isValidFontSize(fontSize)) {\n    const size = parseFloat(fontSize);\n    const m = PAD * Math.ceil((size + BUMP) / BASE);\n\n    return size + m;\n  }\n\n  return DEFAULT_FONT_HEIGHT;\n}\n\nexport function fontSizeToLineHeight(node) {\n  const fontSize = node['font-size'] || node.fontSize;\n  if (isValidFontSize(fontSize)) {\n    return parseFloat(fontSize) * Math.max(isNaN(node.lineHeight) ? DEFAULT_LINE_HEIGHT : node.lineHeight, 0);\n  }\n\n  return DEFAULT_FONT_HEIGHT * DEFAULT_LINE_HEIGHT;\n}\n","import stringTokenizer, {\n  MANDATORY,\n  BREAK_ALLOWED\n} from './string-tokenizer';\nimport {\n  HYPHENS_CHAR\n} from './text-const';\nimport { fontSizeToLineHeight } from './font-size-to-height';\n\nfunction resolveMaxAllowedLines(node) {\n  const maxHeight = node.maxHeight;\n  const maxLines = Math.max(node.maxLines, 1) || Infinity;\n\n  if (isNaN(maxHeight)) {\n    return maxLines;\n  }\n\n  const computedLineHeight = fontSizeToLineHeight(node);\n\n  return Math.max(1, Math.min(Math.floor(maxHeight / computedLineHeight), maxLines));\n}\n\nfunction initState(node, measureText) {\n  return {\n    lines: [],\n    line: '',\n    width: 0,\n    maxLines: resolveMaxAllowedLines(node),\n    maxWidth: node.maxWidth,\n    hyphens: {\n      enabled: node.hyphens === 'auto',\n      char: HYPHENS_CHAR,\n      metrics: measureText(HYPHENS_CHAR)\n    }\n  };\n}\n\nfunction newLine(state) {\n  state.lines.push(state.line);\n  state.line = '';\n  state.width = 0;\n}\n\nfunction appendToLine(state, token) {\n  state.line += token.value;\n  state.width += token.width;\n}\n\nfunction insertHyphenAndJump(state, token, iterator) {\n  if (token.width > state.maxWidth) {\n    return token;\n  }\n\n  const startIndex = token.index;\n\n  for (let i = 1; i < 5; i++) {\n    const pairToken = iterator.peek(token.index - 1);\n\n    if (!token.hyphenation || !pairToken.hyphenation || token.index === 0) {\n      return token;\n    }\n    if (state.width + state.hyphens.metrics.width <= state.maxWidth) {\n      state.line += state.hyphens.char;\n      return token;\n    }\n    if (state.line.length === 1) {\n      return token;\n    }\n\n    token = iterator.next(startIndex - i);\n    state.line = state.line.slice(0, -1);\n    state.width -= token.width;\n  }\n\n  return token;\n}\n\nfunction breakSequence(state, token, measureText) {\n  const charTokenIterator = stringTokenizer({\n    string: token.value,\n    measureText\n  });\n\n  while (state.lines.length < state.maxLines) {\n    let charToken = charTokenIterator.next();\n    if (charToken.done) {\n      break;\n    } else if (state.width + charToken.width > state.maxWidth && charToken.breakOpportunity === BREAK_ALLOWED && state.line.length > 0) {\n      charToken = state.hyphens.enabled ? insertHyphenAndJump(state, charToken, charTokenIterator) : charToken;\n      newLine(state);\n      appendToLine(state, charToken);\n    } else {\n      appendToLine(state, charToken);\n    }\n  }\n}\n\nexport function breakAll(node, measureText) {\n  const text = node.text;\n  const iterator = stringTokenizer({\n    string: text,\n    separator: '',\n    measureText,\n    noBreakAllowedIdentifiers: [(chunk, i) => i === 0]\n  });\n  const state = initState(node, measureText);\n  let reduced = true;\n\n  while (state.lines.length < state.maxLines) {\n    let token = iterator.next();\n\n    if (token.done) {\n      newLine(state);\n      reduced = false;\n      break;\n    } else if (token.breakOpportunity === MANDATORY) {\n      newLine(state);\n    } else if (state.width + token.width > state.maxWidth && token.breakOpportunity === BREAK_ALLOWED) {\n      if (token.suppress) { // Token is suppressable and can be ignored\n        state.width += token.width;\n      } else {\n        token = state.hyphens.enabled ? insertHyphenAndJump(state, token, iterator) : token;\n        newLine(state);\n        appendToLine(state, token);\n      }\n    } else {\n      appendToLine(state, token);\n    }\n  }\n\n  return {\n    lines: state.lines,\n    reduced\n  };\n}\n\nexport function breakWord(node, measureText) {\n  const text = node.text;\n  const iterator = stringTokenizer({\n    string: text,\n    separator: /(\\s|-|\\u2010)/,\n    measureText\n  });\n  const state = initState(node, measureText);\n  let reduced = true;\n\n  while (state.lines.length < state.maxLines) {\n    let token = iterator.next();\n\n    if (token.done) {\n      newLine(state);\n      reduced = false;\n      break;\n    } else if (token.breakOpportunity === MANDATORY) {\n      newLine(state);\n    } else if (state.width + token.width > state.maxWidth && token.breakOpportunity === BREAK_ALLOWED) {\n      if (token.suppress) { // Token is suppressable and can be ignored\n        newLine(state);\n      } else if (token.width > state.maxWidth) { // Single sequence is wider then maxWidth, break sequence into multiple lines\n        breakSequence(state, token, measureText);\n      } else {\n        newLine(state);\n        appendToLine(state, token);\n      }\n    } else {\n      appendToLine(state, token);\n    }\n  }\n\n  return {\n    lines: state.lines,\n    reduced\n  };\n}\n","import extend from 'extend';\nimport { breakAll, breakWord } from './word-break';\nimport { ELLIPSIS_CHAR } from './text-const';\nimport { includesLineBreak } from './string-tokenizer';\nimport { fontSizeToLineHeight } from './font-size-to-height';\n\nfunction generateLineNodes(result, item, halfLead, height) {\n  const container = { type: 'container', children: [] };\n\n  if (typeof item.id !== 'undefined') { // TODO also inherit data attribute and more?\n    container.id = item.id;\n  }\n\n  let currentY = 0;\n\n  result.lines.forEach((line, i) => {\n    const node = extend({}, item);\n    node.text = line;\n    node._lineBreak = true; // Flag node as processed to avoid duplicate linebreak run\n    currentY += halfLead; // leading height above\n\n    if (result.reduced && i === result.lines.length - 1) {\n      node.text += ELLIPSIS_CHAR;\n    } else {\n      delete node.maxWidth;\n    }\n\n    node.dy = isNaN(node.dy) ? currentY : node.dy + currentY;\n    currentY += height;\n    currentY += halfLead; // Leading height below\n    container.children.push(node);\n  });\n\n  return container;\n}\n\nfunction shouldLineBreak(item) {\n  // If type text and not already broken into lines\n  return item.type === 'text' && !item._lineBreak;\n}\n\nfunction wrappedMeasureText(node, measureText) {\n  return (text) => measureText({\n    text,\n    fontSize: node.fontSize,\n    fontFamily: node.fontFamily\n  });\n}\n\nexport function resolveLineBreakAlgorithm(node) {\n  const WORDBREAK = {\n    'break-all': breakAll,\n    'break-word': breakWord\n  };\n\n  return WORDBREAK[node.wordBreak];\n}\n\n/**\n * Apply wordBreak rules to text nodes.\n * @ignore\n * @param {function} measureText\n * @returns {function} Event function to convert a text node into multiple nodes\n */\nexport function onLineBreak(measureText) {\n  return (state) => {\n    const item = state.node;\n    if (shouldLineBreak(item)) {\n      const wordBreakFn = resolveLineBreakAlgorithm(item);\n      if (!wordBreakFn) {\n        return;\n      }\n\n      const tm = measureText(item);\n      if (tm.width > item.maxWidth || includesLineBreak(item.text)) {\n        const diff = fontSizeToLineHeight(item) - tm.height;\n        const halfLead = diff / 2;\n        const result = wordBreakFn(item, wrappedMeasureText(item, measureText));\n\n        state.node = generateLineNodes(result, item, halfLead, tm.height); // Convert node to container\n      }\n    }\n  };\n}\n","import { ELLIPSIS_CHAR } from './text-const';\n\nexport default function ellipsText({\n  text, 'font-size': fontSize, 'font-family': fontFamily, maxWidth\n}, measureText) { // eslint-disable-line import/prefer-default-export\n  text = typeof text === 'string' ? text : `${text}`;\n  if (maxWidth === undefined) {\n    return text;\n  }\n  let textWidth = measureText({ text, fontSize, fontFamily }).width;\n  if (textWidth <= maxWidth) {\n    return text;\n  }\n\n  let min = 0;\n  let max = text.length - 1;\n  while (min <= max) {\n    let reduceIndex = Math.floor((min + max) / 2);\n    let reduceText = text.substr(0, reduceIndex) + ELLIPSIS_CHAR;\n    textWidth = measureText({ text: reduceText, fontSize, fontFamily }).width;\n    if (textWidth <= maxWidth) {\n      min = reduceIndex + 1;\n    } else { // textWidth > maxWidth\n      max = reduceIndex - 1;\n    }\n  }\n  return text.substr(0, max) + ELLIPSIS_CHAR;\n}\n","/**\n * Currently some browsers, IE11 and Edge confirmed, doesn't support the dominant-baseline svg-attribute and\n * the browser that does, have different implementations. Thus giving an unpredictable result when rendering'\n * text and predicting it's position (ex. in collision detection).\n *\n * To supplement and the aid in aligning/positioning text with various items, this function can be used\n * to follow a common heuristic across supported renderers.\n * @ignore\n * @param {object} textNode\n * @param {string|number} [textNode['font-size']=0] - String in px format or number\n * @param {string} [textNode['dominant-baseline']] - If baseline is omitted dominant-baseline is used\n * @param {string} [textNode.baseline]\n * @returns {number} Delta-y required to adjust for baseline\n */\nexport default function baselineHeuristic(textNode) {\n  const baseline = textNode.baseline || textNode['dominant-baseline'];\n  let dy = 0;\n\n  const fontSize = parseInt(textNode.fontSize || textNode['font-size'], 10) || 0;\n\n  switch (baseline) {\n    case 'hanging':\n      dy = fontSize * 0.75;\n      break;\n    case 'text-before-edge':\n      dy = fontSize * 0.85;\n      break;\n    case 'middle':\n      dy = fontSize * 0.25;\n      break;\n    case 'central':\n      dy = fontSize * 0.35;\n      break;\n    case 'mathemetical':\n      dy = fontSize / 2;\n      break;\n    case 'text-after-edge':\n    case 'ideographic':\n      dy = -fontSize * 0.2;\n      break;\n    default:\n      dy = 0;\n      break;\n  }\n\n  return dy;\n}\n","import extend from 'extend';\nimport { resolveLineBreakAlgorithm } from './line-break-resolver';\nimport baselineHeuristic from './baseline-heuristic';\nimport {\n  ELLIPSIS_CHAR\n} from './text-const';\nimport {\n  fontSizeToHeight,\n  fontSizeToLineHeight\n} from './font-size-to-height';\nimport { includesLineBreak } from './string-tokenizer';\n\nconst heightCache = {};\nconst widthCache = {};\nconst contextCache = {\n  fontSize: undefined,\n  fontFamily: undefined\n};\nlet context;\n\nfunction setContext() {\n  context = context || document.createElement('canvas').getContext('2d');\n}\n\nfunction setFont(fontSize, fontFamily) {\n  if (contextCache.fontSize === fontSize && contextCache.fontFamily === fontFamily) {\n    return;\n  }\n\n  context.font = fontSize + ' ' + fontFamily; // eslint-disable-line\n  contextCache.fontSize = fontSize;\n  contextCache.fontFamily = fontFamily;\n}\n\nfunction measureTextWidth(text, fontSize, fontFamily) {\n  const key = text + fontSize + fontFamily;\n  if (typeof widthCache[key] !== 'number') {\n    setContext();\n    setFont(fontSize, fontFamily);\n    widthCache[key] = context.measureText(text).width;\n  }\n\n  return widthCache[key];\n}\n\nfunction measureTextHeight(fontSize) {\n  if (typeof heightCache[fontSize] !== 'number') {\n    heightCache[fontSize] = fontSizeToHeight(fontSize);\n  }\n\n  return heightCache[fontSize];\n}\n\n/**\n * @private\n * @param {object} opts\n * @param {string} opts.text - Text to measure\n * @param {string} opts.fontSize - Font size with a unit definition, ex. 'px' or 'em'\n * @param {string} opts.fontFamily - Font family\n * @return {object} Width and height of text in pixels\n * @example\n * measureText({\n *  text: 'my text',\n *  fontSize: '12px',\n *  fontFamily: 'Arial'\n * }); // returns { width: 20, height: 12 }\n */\nexport function measureText({ text, fontSize, fontFamily }) {\n  const w = measureTextWidth(text, fontSize, fontFamily);\n  const h = measureTextHeight(fontSize);\n  return { width: w, height: h };\n}\n\n/**\n * Calculates the bounding rectangle of a text node.\n * The bounding rectangle is a approximate of the \"em square\" seen here (http://www.w3resource.com/html5-canvas/html5-canvas-text.php)\n * @ignore\n * @param {object} attrs - Text node definition\n * @param {number} [attrs.x] - X-coordinate\n * @param {number} [attrs.y] - Y-coordinate\n * @param {number} [attrs.dx] - Delta x-coordinate\n * @param {number} [attrs.dy] - Delta y-coordinate\n * @param {string} [attrs.anchor] - Text anchor\n * @param {number} [attrs.maxWidth] - Maximum allowed text width\n * @return {object} The bounding rectangle\n */\nfunction calcTextBounds(attrs, measureFn = measureText) {\n  const fontSize = attrs['font-size'] || attrs.fontSize;\n  const fontFamily = attrs['font-family'] || attrs.fontFamily;\n  const textMeasure = measureFn({ text: attrs.text, fontFamily, fontSize });\n  const calWidth = Math.min(attrs.maxWidth || textMeasure.width, textMeasure.width); // Use actual value if max is not set\n  const x = attrs.x || 0;\n  const y = attrs.y || 0;\n  const dx = attrs.dx || 0;\n  const dy = (attrs.dy || 0) + baselineHeuristic(attrs);\n\n  const boundingRect = {\n    x: 0,\n    y: (y + dy) - (textMeasure.height * 0.75), // Magic number for alphabetical baseline\n    width: calWidth,\n    height: textMeasure.height\n  };\n\n  const anchor = attrs['text-anchor'] || attrs.anchor;\n\n  if (anchor === 'middle') {\n    boundingRect.x = (x + dx) - (calWidth / 2);\n  } else if (anchor === 'end') {\n    boundingRect.x = (x + dx) - calWidth;\n  } else {\n    boundingRect.x = x + dx;\n  }\n\n  return boundingRect;\n}\n\n/**\n * Calculates the bounding rectangle of a text node. Including any line breaks.\n * @ignore\n * @param {object} node\n * @param {string} node.text - Text to measure\n * @param {number} [node.x=0] - X-coordinate\n * @param {number} [node.y=0] - Y-coordinate\n * @param {number} [node.dx=0] - Delta x-coordinate\n * @param {number} [node.dy=0] - Delta y-coordinate\n * @param {string} [node.anchor='start'] - Text anchor\n * @param {string} [node.fontSize] - Font size\n * @param {string} [node.fontFamily] - Font family\n * @param {string} [node['font-size']] - Font size\n * @param {string} [node['font-family']] - Font family\n * @param {string} [node.wordBreak] - Word-break option\n * @param {number} [node.maxWidth] - Maximum allowed text width\n * @param {number} [node.maxHeight] - Maximum allowed text height. If both maxLines and maxHeight are set, the property that results in the fewest number of lines is used\n * @param {number} [node.maxLines] - Maximum number of lines allowed.\n * @param {number} [node.lineHeight=1.2] - Line height\n * @param {function} [measureFn] - Optional text measure function\n * @return {object} The bounding rectangle\n */\nexport function textBounds(node, measureFn = measureText) {\n  const lineBreakFn = resolveLineBreakAlgorithm(node);\n  const fontSize = node['font-size'] || node.fontSize;\n  const fontFamily = node['font-family'] || node.fontFamily;\n  const tm = measureFn({ text: node.text, fontFamily, fontSize });\n\n  if (lineBreakFn && (tm.width > node.maxWidth || includesLineBreak(node.text))) {\n    const resolvedLineBreaks = lineBreakFn(node, (text) => measureFn({ text, fontFamily, fontSize }));\n    const nodeCopy = extend({}, node);\n    let maxWidth = 0;\n    let widestLine = '';\n    for (let i = 0, len = resolvedLineBreaks.lines.length; i < len; i++) {\n      let line = resolvedLineBreaks.lines[i];\n      line += i === len - 1 && resolvedLineBreaks.reduced ? ELLIPSIS_CHAR : '';\n      const width = measureFn({ text: line, fontSize, fontFamily }).width;\n      if (width >= maxWidth) {\n        maxWidth = width;\n        widestLine = line;\n      }\n    }\n    nodeCopy.text = widestLine;\n    const bounds = calcTextBounds(nodeCopy, measureFn);\n    bounds.height = fontSizeToLineHeight(node) * resolvedLineBreaks.lines.length;\n\n    return bounds;\n  }\n\n  return calcTextBounds(node, measureFn);\n}\n","import extend from 'extend';\n\nimport { ellipsText } from '../../../../web/text-manipulation';\nimport { ELLIPSIS_CHAR } from '../../../../web/text-manipulation/text-const';\n\nconst LINE_HEIGHT = 1.2;\nconst CIRCLE_FACTOR = 0.9;\n\nfunction cbContext(node, chart) {\n  return {\n    node,\n    data: node.data,\n    scale: chart.scale,\n    formatter: chart.formatter,\n    dataset: chart.dataset\n  };\n}\n\nexport function placeTextInRect(rect, text, opts) {\n  const label = {\n    type: 'text',\n    text,\n    maxWidth: rect.width,\n    x: 0,\n    y: rect.y,\n    dx: 0,\n    dy: 0,\n    fill: opts.fill,\n    anchor: 'start',\n    baseline: 'alphabetical',\n    fontSize: `${opts.fontSize}px`,\n    fontFamily: opts.fontFamily\n  };\n\n  const textMetrics = opts.textMetrics;\n\n  if (rect.width < opts.fontSize) {\n    return false;\n  }\n\n  const wiggleWidth = Math.max(0, rect.width - textMetrics.width);\n  label.x = rect.x + (opts.align * wiggleWidth);\n  label.y = rect.y + (textMetrics.height / LINE_HEIGHT);\n\n  return label;\n}\n\nfunction getRectFromCircle({ cx, cy, r }) {\n  return {\n    type: 'circle',\n    bounds: { cx, cy, r }\n  };\n}\nfunction getSliceBounds(slice) {\n  const EPSILON = 1e-12;\n  let {\n    start,\n    end,\n    innerRadius,\n    outerRadius,\n    offset\n  } = slice;\n  if (Math.abs((start + (2 * Math.PI)) - end) > EPSILON) {\n    return { type: null, bounds: null };\n  }\n  let r = innerRadius !== 0 ? innerRadius : outerRadius;\n  return getRectFromCircle({ cx: offset.x, cy: offset.y, r });\n}\n\nfunction getBounds(node) {\n  if (node.desc && node.desc.slice) {\n    return getSliceBounds(node.desc.slice);\n  }\n  if (node.type === 'circle') {\n    return getRectFromCircle(node.attrs);\n  }\n  if (node.type === 'rect') {\n    return { type: 'rect', bounds: node.bounds };\n  }\n  // defualt to node.bounds ?\n  return { type: null, bounds: null };\n}\n\n/**\n * @typedef {object} component--labels~rows-label-strategy\n *\n */\n\n/**\n * @typedef {object} component--labels~rows-label-strategy.settings\n * @property {string} [fontFamily='Arial']\n * @property {number} [fontSize=12]\n * @property {number} [justify=0.5]\n * @property {number} [padding=4]\n * @property {Array<object>} labels\n * @property {string|function} labels[].label - The text value\n * @property {function} labels[].linkData - Link data to the label\n * @property {number} [labels[].align=0.5]\n * @property {string|function} [labels[].fill='#333']\n */\n\nexport function rows({\n  settings,\n  chart,\n  nodes,\n  renderer,\n  style\n}, placer = placeTextInRect) {\n  const defaults = extend({\n    fontSize: 12,\n    fontFamily: 'Arial',\n    fill: '#333',\n    padding: 4,\n    align: 0.5,\n    justify: 0.5\n  }, style.label);\n\n  defaults.fontSize = parseInt(defaults.fontSize, 10);\n\n  const rowSettings = extend({}, defaults, settings);\n\n  const labelSettings = settings.labels.map((labelSetting) => extend({}, rowSettings, labelSetting));\n\n  const labelStruct = {};\n  const labels = [];\n\n  for (let i = 0, len = nodes.length; i < len; i++) {\n    let node = nodes[i];\n    let arg = cbContext(node, chart);\n\n    let { type, bounds } = getBounds(node);\n    if (!bounds) {\n      continue;\n    }\n\n    let totalHeight = 0;\n    let measurements = [];\n    let texts = [];\n\n    let maxHeight = type === 'circle' ? 2 * bounds.r * CIRCLE_FACTOR : bounds.height;\n    totalHeight += rowSettings.padding;\n    let j;\n    for (j = 0; j < labelSettings.length; j++) {\n      let lblStngs = labelSettings[j];\n      let text = typeof lblStngs.label === 'function' ? lblStngs.label(arg, i) : '';\n\n      labelStruct.fontFamily = lblStngs.fontFamily;\n      labelStruct.fontSize = `${lblStngs.fontSize}px`;\n      labelStruct.text = text;\n      let measured = renderer.measureText(labelStruct);\n      totalHeight += measured.height + lblStngs.padding;\n      if (totalHeight > maxHeight) { break; }\n      texts.push(text);\n      measurements.push(measured);\n    }\n\n    const labelCount = j;\n    const wiggleHeight = Math.max(0, maxHeight - totalHeight);\n    let currentY;\n    if (type === 'circle') {\n      currentY = bounds.cy - (bounds.r * CIRCLE_FACTOR);\n    } else {\n      currentY = bounds.y;\n    }\n    currentY += (rowSettings.justify * wiggleHeight) + rowSettings.padding;\n\n    for (j = 0; j < labelCount; j++) {\n      let lblStngs = labelSettings[j];\n      let rect;\n      if (type === 'circle') {\n        let maxYDistToCenter = Math.max(Math.abs(currentY - bounds.cy), Math.abs((currentY + measurements[j].height) - bounds.cy));\n        let halfWidth = Math.sqrt((bounds.r * bounds.r) - (maxYDistToCenter * maxYDistToCenter));\n        rect = {\n          x: (bounds.cx - halfWidth) + rowSettings.padding,\n          y: currentY,\n          width: (2 * halfWidth) - (2 * rowSettings.padding),\n          height: measurements[j].height\n        };\n      } else {\n        rect = {\n          x: bounds.x + rowSettings.padding,\n          y: currentY,\n          width: bounds.width - (2 * rowSettings.padding),\n          height: measurements[j].height\n        };\n      }\n\n      currentY += measurements[j].height + rowSettings.padding;\n      let fill = typeof lblStngs.fill === 'function' ? lblStngs.fill(arg, i) : lblStngs.fill;\n      const linkData = typeof lblStngs.linkData === 'function' ? lblStngs.linkData(arg, i) : undefined;\n      let label = placer(rect, texts[j], {\n        fill,\n        align: lblStngs.align,\n        fontSize: lblStngs.fontSize,\n        fontFamily: lblStngs.fontFamily,\n        textMetrics: measurements[j]\n      });\n      if (label) {\n        if (label.text && label.text !== ELLIPSIS_CHAR) {\n          const ellipsed = ellipsText(label, renderer.measureText);\n          if (ELLIPSIS_CHAR === ellipsed) {\n            // don't include label if it's only an ellipsis\n            continue;\n          }\n          label.ellipsed = ellipsed;\n        }\n        if (typeof linkData !== 'undefined') {\n          label.data = linkData;\n        }\n        labels.push(label);\n      }\n    }\n  }\n\n  return labels;\n}\n","\nimport { bars } from './bars';\nimport { slices } from './slices';\nimport { rows } from './rows';\n\nexport default {\n  bar: bars,\n  slice: slices,\n  rows\n};\n","import strategies from './strategies';\n\n/**\n * @typedef {object} component--labels\n * @property {string} [type='labels']\n */\n\n/**\n * @typedef {object} component--labels.settings\n * @property {Array<object>} sources\n * @property {string} sources[].component\n * @property {string} sources[].selector\n * @property {component--labels~label-strategy} sources[].strategy\n */\n\nexport function strategy({\n  chart,\n  source,\n  rect,\n  renderer,\n  style\n}, fn) {\n  const component = chart.component(source.component);\n  if (!component) {\n    return [];\n  }\n  const nodes = chart.findShapes(source.selector).filter((n) => n.key === source.component);\n\n  return fn({\n    chart,\n    settings: source.strategy.settings,\n    nodes,\n    rect: {\n      x: 0,\n      y: 0,\n      width: rect.width,\n      height: rect.height\n    },\n    renderer,\n    style\n  });\n}\n\nconst labelsComponent = {\n  require: ['chart', 'renderer', 'settings'],\n  defaultSettings: {\n    settings: {},\n    style: {\n      label: '$label'\n    }\n  },\n  render() {\n    const stngs = this.settings.settings;\n    const labels = [];\n\n    (stngs.sources || []).forEach((source) => {\n      if (source.strategy && strategies[source.strategy.type] && source.component) {\n        labels.push(...strategy({\n          chart: this.chart,\n          rect: this.rect,\n          renderer: this.renderer,\n          source,\n          style: this.style\n        }, strategies[source.strategy.type]));\n      }\n    });\n\n    return labels;\n  }\n};\n\nexport default labelsComponent;\n","import labelsComponent from './labels';\n\nexport default function labels(picasso) {\n  picasso.component('labels', labelsComponent);\n}\n","import extend from 'extend';\n\n/**\n * @typedef {object}\n * @alias component--legend-cat.settings\n */\nconst DEFAULT_SETTINGS = {\n  /**\n   * @typedef {object=}\n   */\n  layout: {\n    /**\n     * Maximum number of columns (vertical) or rows (horizontal)\n     * @type {number=}\n     */\n    size: 1,\n    /**\n     * Layout direction. Either `'ltr'` or `'rtl'`\n     * @type {string=}\n     */\n    direction: 'ltr',\n    /** Initial scroll offset\n     * @type {number=} */\n    scrollOffset: 0\n  },\n  /**\n   * Settings applied per item\n   * @typedef {object=}\n   */\n  item: {\n    /** Whether to show the current item\n     * @type {boolean=} */\n    show: true,\n    justify: 0.5,\n    align: 0.5,\n    /**\n     * @typedef {object=} */\n    label: {\n      fontSize: '12px',\n      fontFamily: 'Arial',\n      fill: '#595959',\n      /** Word break rule, how to apply line break if label text overflows its maxWidth property. Either `'break-word'` or `'break-all'`\n       * @type {string=} */\n      wordBreak: 'none',\n      /** Max number of lines allowed if label is broken into multiple lines (only applicable with wordBreak)\n       * @type {number=} */\n      maxLines: 2,\n      /** Maximum width of label, in px\n       * @type {number=} */\n      maxWidth: 136,\n      lineHeight: 1.2\n    },\n    /**\n     * @typedef {object=} */\n    shape: {\n      /**\n       * @type {string=} */\n      type: 'square',\n      /**\n       * @type {number=} */\n      size: 12\n    }\n  },\n  /**\n   * @typedef {object=} */\n  title: {\n    /** Whether to show the title\n     * @type {boolean=} */\n    show: true,\n    /** Title text. Defaults to the title of the provided data field\n     * @type {string=} */\n    text: undefined,\n    /** Horizontal alignment of the text. Allowed values are `'start'`, `'middle'` and `'end'`\n     * @type {string}\n     */\n    anchor: 'start',\n    fontSize: '16px',\n    fontFamily: 'Arial',\n    fill: '#595959',\n    /** Word break rule, how to apply line break if label text overflows its maxWidth property. Either `'break-word'` or `'break-all'`\n     * @type {string=} */\n    wordBreak: 'none',\n    /** Max number of lines allowed if label is broken into multiple lines, is only appled when `wordBreak` is not set to `'none'`\n     * @type {number=} */\n    maxLines: 2,\n    /** Maximum width of title, in px\n     * @type {number=} */\n    maxWidth: 156,\n    lineHeight: 1.25\n  },\n  /**\n   * @typedef {object=} */\n  navigation: {\n    /**\n     * @typedef {object=} */\n    button: {\n      /**\n       * @type {object<string, boolean>=} */\n      class: undefined,\n      /**\n       * @type {function} */\n      content: undefined\n    },\n    /** Whether the button should be disabled or not\n     * @type {boolean=} */\n    disabled: false\n  }\n};\n\n/**\n * Resolve settings based on input, defaults, and data\n *\n * @ignore\n * @param {legendComponent} comp - The component instance\n */\nexport default function resolveSettings(comp) {\n  const domain = comp.scale.domain();\n  let data = { items: [] };\n  const dock = comp.settings.layout.dock;\n  if (comp.scale.type === 'threshold-color') {\n    const fields = comp.scale.data().fields;\n    const sourceField = fields[0];\n    let formatter = (v) => String(v);\n\n    if (comp.settings.formatter) {\n      formatter = comp.chart.formatter(comp.settings.formatter);\n    } else if (sourceField) {\n      formatter = sourceField.formatter();\n    }\n\n    for (let i = 0; i < domain.length - 1; i++) {\n      const it = {\n        value: domain[i],\n        label: `${formatter(domain[i])} - < ${formatter(domain[i + 1])}`\n      };\n      if (sourceField) {\n        it.source = {\n          field: sourceField.id()\n        };\n      }\n      data.items.push(it);\n    }\n    const orientation = dock === 'top' || dock === 'bottom' ? 'horizontal' : 'vertical';\n\n    if (orientation === 'vertical') {\n      data.items.reverse();\n    }\n  } else {\n    const labels = comp.scale.labels ? comp.scale.labels() : null;\n    data.items = domain.map((d, idx) => {\n      const datum = comp.scale.datum ? extend({}, comp.scale.datum(d)) : { value: d };\n      datum.value = d;\n\n      if (comp.scale.label) {\n        datum.label = comp.scale.label(d);\n      } else if (labels) {\n        datum.label = labels[idx];\n      }\n\n      return datum;\n    });\n  }\n\n  const title = comp.resolver.resolve({\n    data: {\n      fields: comp.scale.data().fields\n    },\n    defaults: extend(true, {}, DEFAULT_SETTINGS.title, comp.style.title),\n    settings: comp.settings.settings.title\n  });\n\n  const layout = comp.resolver.resolve({\n    data: {\n      fields: comp.scale.data().fields\n    },\n    defaults: DEFAULT_SETTINGS.layout,\n    settings: comp.settings.settings.layout\n  });\n\n  const labels = comp.resolver.resolve({\n    data,\n    defaults: extend(true, {}, DEFAULT_SETTINGS.item.label, comp.style.item.label),\n    settings: (comp.settings.settings.item || {}).label\n  });\n\n  const shapeSettings = extend(true, {}, (comp.settings.settings.item || {}).shape);\n\n  if (typeof shapeSettings.fill === 'undefined' && comp.settings.scale) {\n    shapeSettings.fill = {\n      scale: comp.settings.scale\n    };\n  }\n\n  const symbols = comp.resolver.resolve({\n    data,\n    defaults: extend(true, {}, DEFAULT_SETTINGS.item.shape, comp.style.item.shape),\n    settings: shapeSettings\n  });\n\n  const items = comp.resolver.resolve({\n    data,\n    defaults: extend(true, {}, {\n      show: DEFAULT_SETTINGS.item.show\n    }),\n    settings: {\n      show: (comp.settings.settings.item || {}).show\n    }\n  });\n\n  function range(item, i) {\n    let v = item.data.value;\n    let next = domain[i + 1];\n    item.data.value = [v, next];\n  }\n\n  if (comp.scale.type === 'threshold-color') {\n    const orientation = dock === 'top' || dock === 'bottom' ? 'horizontal' : 'vertical';\n\n    if (orientation === 'vertical') {\n      items.items.reverse().forEach(range);\n      items.items.reverse();\n    } else {\n      items.items.forEach(range);\n    }\n  }\n\n  return {\n    title,\n    labels,\n    symbols,\n    items,\n    layout\n  };\n}\n","import extend from 'extend';\n\n/* eslint no-mixed-operators:0 */\n\nfunction placeTextInRect(rect, label, opts) {\n  const textMetrics = opts.textMetrics;\n\n  if (rect.height < textMetrics.height) {\n    return false;\n  }\n\n  const wiggleWidth = Math.max(0, rect.width - textMetrics.width);\n  label.baseline = 'text-before-edge';\n  const wiggleHeight = Math.max(0, rect.height - (textMetrics.height));\n  label.x = rect.x + (opts.align * wiggleWidth);\n  label.y = rect.y + (opts.justify * wiggleHeight) + parseInt(label.fontSize, 10) * 0.175; // 0.175 - basline offset\n\n  return label;\n}\n\nfunction wiggleSymbol(container, size, opts) {\n  const wiggleWidth = Math.max(0, container.width - size);\n  const wiggleHeight = Math.max(0, container.height - size);\n\n  return {\n    x: container.x + (size / 2) + (opts.align * wiggleWidth),\n    y: container.y + (size / 2) + (opts.justify * wiggleHeight)\n  };\n}\n\nexport function createRenderItem({\n  x = 0,\n  y,\n  item,\n  globalMetrics,\n  createSymbol,\n  direction = 'ltr'\n}) {\n  let label = item.label.displayObject;\n  let labelBounds = item.label.bounds;\n  let symbolItem = item.symbol.meta;\n  const rtl = direction === 'rtl';\n\n  let labelRect = {\n    x: rtl ? x + globalMetrics.maxLabelBounds.width : x + globalMetrics.maxSymbolSize + globalMetrics.spacing,\n    y,\n    width: globalMetrics.maxLabelBounds.width,\n    height: Math.max(globalMetrics.maxSymbolSize, globalMetrics.maxLabelBounds.height)\n  };\n\n  let wiggled = wiggleSymbol({\n    x: rtl ? x + globalMetrics.maxLabelBounds.width + globalMetrics.spacing : x,\n    y,\n    width: globalMetrics.maxSymbolSize,\n    height: labelRect.height\n  }, symbolItem.size, {\n    align: typeof symbolItem.align === 'undefined' ? 0.5 : symbolItem.align,\n    justify: typeof symbolItem.justify === 'undefined' ? 0.5 : symbolItem.justify\n  });\n\n  const symbol = createSymbol(extend({}, symbolItem, wiggled));\n\n  delete symbol.collider;\n\n  label.anchor = rtl ? 'end' : 'start';\n\n  placeTextInRect(labelRect, label, {\n    textMetrics: labelBounds,\n    fontSize: parseInt(label.fontSize, 10),\n    align: 0.0,\n    justify: 0.5\n  });\n\n  let container = {\n    type: 'container',\n    data: item.label.displayObject.data,\n    children: [symbol, label],\n    collider: {\n      type: 'rect',\n      x,\n      y,\n      width: globalMetrics.maxItemBounds.width,\n      height: globalMetrics.maxItemBounds.height\n    }\n  };\n\n  return {\n    item: container,\n    metrics: labelRect\n  };\n}\n\nexport function getItemsToRender({\n  viewRect\n}, rect, {\n  itemized,\n  create = createRenderItem,\n  parallels,\n  createSymbol\n}) {\n  const direction = itemized.layout.direction;\n  const globalMetrics = itemized.globalMetrics;\n  const legendItems = itemized.items;\n  const isHorizontal = itemized.layout.orientation === 'horizontal';\n  let s = 0;\n\n  const renderItems = [];\n  const fixedHeight = globalMetrics.maxItemBounds.height;\n  const fixedWidth = globalMetrics.maxItemBounds.width;\n  const rowHeight = itemized.layout.margin.vertical + fixedHeight;\n  const columnWidth = itemized.layout.margin.horizontal + fixedWidth;\n  let x = rect.x;\n  let y = rect.y;\n\n  let shift = viewRect.x - rect.x;\n\n  for (let i = 0; i < legendItems.length; i++) {\n    let renderItem = create({\n      y,\n      x: direction === 'rtl' ? viewRect.x + shift + viewRect.width - fixedWidth - (x - rect.x) : x,\n      item: legendItems[i],\n      globalMetrics,\n      direction,\n      createSymbol\n    });\n\n    if ((isHorizontal && x >= viewRect.x - fixedWidth) || (!isHorizontal && y >= viewRect.y - fixedHeight)) {\n      renderItems.push(renderItem.item);\n    }\n\n    s++;\n    if (s >= parallels) {\n      s = 0;\n      if (isHorizontal) {\n        x += columnWidth; // next column\n        y = rect.y; // reset y to first row\n      } else {\n        y += rowHeight; // next row\n        x = rect.x; // reset x to first column\n      }\n    } else if (isHorizontal) {\n      y += rowHeight; // next row\n    } else {\n      x += columnWidth; // next column\n    }\n\n    if (!isHorizontal && (y > viewRect.y + viewRect.height)) {\n      break;\n    } else if (isHorizontal && x > viewRect.x + viewRect.width) {\n      break;\n    }\n  }\n  return renderItems;\n}\n\n\nexport function itemize({\n  resolved,\n  dock\n}, renderer) {\n  let label;\n  let items = [];\n  let item;\n  let sourceItems = resolved.items.items;\n  let sourceSymbols = resolved.symbols.items;\n  let sourceLabels = resolved.labels.items;\n\n  let maxSymbolSize = 0;\n  let maxLabelWidth = 0;\n  let maxLabelHeight = 0;\n\n  for (let i = 0; i < sourceItems.length; i++) {\n    if (sourceItems[i].show === false) {\n      continue;\n    }\n\n    const text = typeof sourceLabels[i].text !== 'undefined' ? sourceLabels[i].text : sourceLabels[i].data.label || '';\n    label = extend({}, sourceLabels[i], { // create the displayObject here in order to measure it\n      type: 'text',\n      fontSize: `${parseInt(sourceLabels[i].fontSize, 10)}px`,\n      text,\n      title: text\n    });\n\n    item = {\n      symbol: {\n        // can't create a displayObject here due to need to wiggle the center position of the symbol later on,\n        // just store the object needed later on\n        meta: sourceSymbols[i]\n      },\n      label: {\n        displayObject: label,\n        bounds: renderer.textBounds(label)\n      }\n    };\n\n    items.push(item);\n\n    maxSymbolSize = Math.max(sourceSymbols[i].size, maxSymbolSize);\n    maxLabelWidth = Math.max(item.label.bounds.width, maxLabelWidth);\n    maxLabelHeight = Math.max(item.label.bounds.height, maxLabelHeight);\n  }\n\n  return {\n    items,\n    globalMetrics: {\n      spacing: 8,\n      maxSymbolSize,\n      maxItemBounds: {\n        height: Math.max(maxSymbolSize, maxLabelHeight),\n        width: maxSymbolSize + 8 + maxLabelWidth\n      },\n      maxLabelBounds: {\n        width: maxLabelWidth,\n        height: maxLabelHeight\n      }\n    },\n    layout: {\n      margin: {\n        vertical: typeof resolved.layout.item.vertical !== 'undefined' ? resolved.layout.item.vertical : 4,\n        horizontal: typeof resolved.layout.item.horizontal !== 'undefined' ? resolved.layout.item.horizontal : 4\n      },\n      mode: resolved.layout.item.mode,\n      size: resolved.layout.item.size,\n      orientation: dock === 'top' || dock === 'bottom' ? 'horizontal' : 'vertical',\n      direction: resolved.layout.item.direction,\n      scrollOffset: resolved.layout.item.scrollOffset\n    }\n  };\n}\n\nexport function extent(itemized, parallels) {\n  const count = itemized.items.length;\n  const size = Math.ceil(count / parallels);\n  const property = itemized.layout.orientation === 'horizontal' ? 'width' : 'height';\n  const margin = property === 'width' ? 'horizontal' : 'vertical';\n  return (itemized.globalMetrics.maxItemBounds[property] * size)\n    + ((size - 1) * itemized.layout.margin[margin]);\n}\n\nexport function spread(itemized, parallels) {\n  const size = parallels;\n  const property = itemized.layout.orientation === 'horizontal' ? 'height' : 'width';\n  const margin = property === 'width' ? 'horizontal' : 'vertical';\n  return (itemized.globalMetrics.maxItemBounds[property] * size) // expected vertical size of items\n    + ((size - 1) * itemized.layout.margin[margin]); // expected spacing between items\n}\n\nexport function parallelize(availableExtent, availableSpread, itemized) {\n  const count = itemized.items.length;\n  const extentProperty = itemized.layout.orientation === 'horizontal' ? 'width' : 'height';\n  const margin = extentProperty === 'width' ? 'horizontal' : 'vertical';\n  const extentInPx = (itemized.globalMetrics.maxItemBounds[extentProperty] * count)\n    + ((count - 1) * itemized.layout.margin[margin]);\n  let numNeeded = Math.ceil(extentInPx / availableExtent);\n\n  if (availableSpread != null) {\n    const spreadProperty = itemized.layout.orientation === 'horizontal' ? 'height' : 'width';\n    const numAllowed = Math.floor(availableSpread / (4 + itemized.globalMetrics.maxItemBounds[spreadProperty]));\n    numNeeded = Math.min(numNeeded, numAllowed);\n  }\n\n  const numInput = isNaN(itemized.layout.size) ? 1 : itemized.layout.size;\n  return Math.max(1, Math.min(numNeeded, numInput));\n}\n\nexport default function (legend, {\n  onScroll = () => {}\n}) {\n  let itemized;\n  let parallels;\n  let viewRect;\n  let containerRect;\n  let offset = null;\n  let overflow = 0;\n\n  const api = {\n    itemize: (obj) => {\n      itemized = itemize(obj, legend.renderer);\n      offset = !isNaN(itemized.layout.scrollOffset) ? itemized.layout.scrollOffset : offset; // Set the initial offset\n    },\n    getItemsToRender: (obj) => {\n      viewRect = obj.viewRect;\n      overflow = api.getContentOverflow(viewRect);\n      const ext = api.extent();\n      offset = Math.max(0, Math.min(offset, overflow));\n\n      containerRect = extend({}, viewRect);\n\n      const offsetProperty = api.orientation() === 'horizontal' ? 'x' : 'y';\n      containerRect[offsetProperty] -= offset;\n      containerRect[offsetProperty === 'x' ? 'width' : 'height'] = ext;\n\n      return getItemsToRender(obj, containerRect, { itemized, parallels, createSymbol: legend.symbol });\n    },\n    parallelize: (availableExtent, availableSpread) => {\n      parallels = parallelize(availableExtent, availableSpread, itemized);\n      return parallels;\n    },\n    hasContentOverflow: () => {\n      const property = itemized.layout.orientation === 'horizontal' ? 'width' : 'height';\n      return extent(itemized, parallels) > viewRect[property];\n    },\n    getContentOverflow: (rect = viewRect) => {\n      const property = itemized.layout.orientation === 'horizontal' ? 'width' : 'height';\n      return Math.max(0, extent(itemized, parallels) - rect[property]);\n    },\n    getNextSize: () => {\n      // TODO - calculate the actual size to next item to ensure alignment\n      const property = itemized.layout.orientation === 'horizontal' ? 'width' : 'height';\n      const margin = property === 'width' ? 'horizontal' : 'vertical';\n      return itemized.globalMetrics.maxItemBounds[property] + itemized.layout.margin[margin];\n    },\n    getPrevSize: () => {\n      // TODO - calculate the actual size to next item to ensure alignment\n      const property = itemized.layout.orientation === 'horizontal' ? 'width' : 'height';\n      const margin = property === 'width' ? 'horizontal' : 'vertical';\n      return itemized.globalMetrics.maxItemBounds[property] + itemized.layout.margin[margin];\n    },\n    hasNext: () => {\n      if (api.orientation() === 'horizontal') {\n        return viewRect.x + viewRect.width < containerRect.x + containerRect.width;\n      }\n      return viewRect.y + viewRect.height < containerRect.y + containerRect.height;\n    },\n    hasPrev: () => {\n      if (api.orientation() === 'horizontal') {\n        return containerRect.x < viewRect.x;\n      }\n      return containerRect.y < viewRect.y;\n    },\n    next: () => {\n      api.scroll(-api.getNextSize());\n    },\n    prev: () => {\n      api.scroll(api.getPrevSize());\n    },\n    scroll: (delta) => {\n      const current = Math.max(0, Math.min(overflow, (offset - delta)));\n      if (current === offset) {\n        return;\n      }\n      offset = current;\n      onScroll();\n    },\n    offset: () => offset,\n    orientation: () => itemized.layout.orientation,\n    direction: () => itemized.layout.direction,\n    extent: () => extent(itemized, parallels), // total amount of space along orientation\n    spread: () => spread(itemized, parallels) // total amount of space perpendicular to orientation\n  };\n\n  return api;\n}\n","/**\n * Concatenate object keys into a space separated string. Use for transforming a 'class name map' into a class string\n * @private\n * @param  {Object} classMap Object with class names as keys and true or false values depending on if they should be in the returned class string or not\n * @return {String} Space separated string with class names\n */\nexport default function classString(classMap) {\n  return Object.keys(classMap).filter((className) => classMap[className]).join(' ');\n}\n","import extend from 'extend';\nimport classString from '../../utils/class-string';\n\nconst DIR = {\n  up: '\\u25B2',\n  right: '\\u25B6',\n  down: '\\u25BC',\n  left: '\\u25C0'\n};\n\nfunction itemize({\n  // resolved,\n  dock,\n  navigation\n}) {\n  return {\n    layout: {\n      orientation: dock === 'top' || dock === 'bottom' ? 'vertical' : 'horizontal'\n    },\n    navigation\n  };\n}\n\nfunction btn(h, {\n  size,\n  isActive,\n  direction,\n  nav,\n  attrs\n}) {\n  let c = {};\n  let content = '';\n  if (nav && nav.button) {\n    if (typeof nav.button.class === 'function') {\n      c = nav.button.class({ direction });\n    } else if (nav.button.class) {\n      c = nav.button.class;\n    }\n    if (typeof nav.button.content === 'function') {\n      content = nav.button.content(h, { direction });\n    }\n  }\n  const style = {\n    width: `${size}px`,\n    minWidth: `${size}px`,\n    height: `${size}px`\n  };\n\n  if (!Object.keys(c).length) { // if no classes are set, add some basic styling\n    style.border = '0';\n    style.background = 'none';\n  }\n  const attrsMerged = attrs;\n  if (!isActive || (nav && nav.disabled)) {\n    attrsMerged.disabled = 'disabled';\n  }\n\n  return h('button', extend({\n    class: classString(c),\n    style\n  }, attrsMerged), [content || h('span', {\n    style: {\n      pointerEvents: 'none'\n    }\n  }, [DIR[direction]])]);\n}\n\nfunction render(renderer, {\n  rect,\n  itemRenderer\n}, itemized, legend) {\n  if (!renderer || !renderer.renderArgs) {\n    return;\n  }\n  renderer.size(rect);\n  const h = renderer.renderArgs[0];\n\n  const isVertical = itemized.layout.orientation === 'vertical'; // orientation of the navigation (not the legend)\n  const isRtl = itemRenderer.direction() === 'rtl';\n\n  const hasNext = itemRenderer.hasNext();\n  const hasPrev = itemRenderer.hasPrev();\n\n  if (!hasPrev && !hasNext) {\n    renderer.render([]);\n    return;\n  }\n\n  const buttonSize = 32;\n\n  const order = isVertical ? ['right', 'left'] : ['down', 'up'];\n\n  if (isRtl && isVertical) {\n    order.reverse();\n  }\n\n  const nodes = [h('div', {\n    style: {\n      position: 'relative',\n      display: 'flex',\n      'flex-direction': isVertical ? 'column' : 'row',\n      'justify-content': 'center',\n      height: '100%',\n      pointerEvents: 'auto'\n    },\n    dir: isRtl && !isVertical ? 'rtl' : 'ltr'\n  }, [btn(h, {\n    size: buttonSize,\n    isActive: hasNext,\n    direction: order[0],\n    attrs: {\n      'data-action': 'next',\n      'data-component-key': legend.settings.key\n    },\n    nav: itemized.navigation\n  }), btn(h, {\n    size: buttonSize,\n    isActive: hasPrev,\n    direction: order[1],\n    attrs: {\n      'data-action': 'prev',\n      'data-component-key': legend.settings.key\n    },\n    nav: itemized.navigation\n  })])];\n  renderer.render(nodes);\n}\n\nexport default function (legend) {\n  let itemized;\n\n  const nav = {\n    itemize: (obj) => {\n      itemized = itemize(obj);\n    },\n    render: (obj) => render(nav.renderer, obj, itemized, legend),\n    extent: () => 32,\n    spread: () => 64\n  };\n\n  return nav;\n}\n","import extend from 'extend';\n\nfunction itemize({\n  resolved\n}, legend) {\n  if (resolved.title.item.show === false) {\n    return null;\n  }\n  const t = extend({}, resolved.title.item, {\n    type: 'text'\n  });\n\n  if (resolved.layout.item.direction === 'rtl') {\n    if (!t.anchor || t.anchor === 'start') {\n      t.anchor = 'end';\n    } else if (t.anchor === 'end') {\n      t.anchor = 'start';\n    }\n  }\n\n  if (typeof resolved.title.settings.text === 'undefined') {\n    const fields = legend.scale.data().fields;\n    t.text = fields && fields[0] ? fields[0].title() : '';\n  }\n\n  return {\n    displayObject: t,\n    bounds: legend.renderer.textBounds(t)\n  };\n}\n\nfunction render({\n  rect\n}, renderer, itemized) {\n  if (!renderer) {\n    return;\n  }\n  const nodes = [];\n  renderer.size(rect);\n  if (itemized) {\n    const align = {\n      start: 0,\n      end: rect.width,\n      middle: rect.width / 2\n    };\n    nodes.push(extend({}, itemized.displayObject, {\n      x: align[itemized.displayObject.anchor] || 0,\n      y: 0,\n      baseline: 'text-before-edge',\n      title: itemized.displayObject.text\n    }));\n  }\n  renderer.render(nodes);\n}\n\nexport default function (legend) {\n  let itemized;\n\n  const api = {\n    itemize: (obj) => {\n      itemized = itemize(obj, legend);\n    },\n    render: (obj) => {\n      render(obj, api.renderer, itemized);\n    },\n    spread: () => (itemized ? itemized.bounds.height : 0),\n    extent: () => (itemized ? itemized.bounds.width : 0)\n  };\n\n  return api;\n}\n","import extend from 'extend';\n/* eslint no-mixed-operators:0 */\n\nexport default function layout(rect, display, orientation, {\n  itemRenderer,\n  navigationRenderer,\n  titleRenderer,\n  isPreliminary = false\n}) {\n  let title;\n  let content;\n  let navigation;\n  let preferredSize = 0;\n\n  const paddedRect = {\n    x: display.spacing,\n    y: display.spacing,\n    width: rect.width - (2 * display.spacing),\n    height: rect.height - (2 * display.spacing)\n  };\n\n  title = {\n    x: paddedRect.x,\n    y: paddedRect.y,\n    width: paddedRect.width,\n    height: titleRenderer.spread()\n  };\n\n  if (orientation === 'horizontal') {\n    // const titleAtTop = false;\n    // if (titleAtTop) { // this might be a nicer layout sometimes\n    //   // |------------------|\n    //   // |title             |\n    //   // |------------|-----|\n    //   // |content     | nav |\n    //   // |------------|-----|\n\n    //   // available space for items without navigation UI\n    //   const availableExtentForItems = paddedRect.width;\n    //   const availableSpreadForItems = paddedRect.height - (title.y + title.height) + 8;\n    //   const isRtl = itemRenderer.direction() === 'rtl';\n    //   itemRenderer.parallelize(availableExtentForItems, isPreliminary ? undefined : availableSpreadForItems);\n\n    //   const navigationSize = itemRenderer.extent() > availableExtentForItems ? navigationRenderer.extent() : 0;\n    //   content = {\n    //     x: paddedRect.x,\n    //     y: title.y + title.height,\n    //     width: paddedRect.width - navigationSize,\n    //     height: availableSpreadForItems\n    //   };\n    //   navigation = {\n    //     x: content.x + content.width,\n    //     y: title.y + title.height,\n    //     width: navigationSize,\n    //     height: paddedRect.height - (title.y + title.height) + 8\n    //   };\n\n    //   if (isRtl) { // switch navigation and content\n    //     navigation.x = content.x;\n    //     content.x = navigation.x + navigation.width;\n    //     // totalContent.x = navigation.x;\n    //   }\n    //   preferredSize = title.height + Math.max(navigationRenderer.spread(), itemRenderer.spread());\n    // } else {\n    // |-----|------------|-----|\n    // |title|content     | nav |\n    // |-----|------------|-----|\n\n    title = {\n      x: paddedRect.x,\n      y: paddedRect.y,\n      width: titleRenderer.extent(),\n      height: titleRenderer.spread()\n    };\n\n    // available space for items without navigation UI\n    const availableExtentForItems = paddedRect.width - title.width - (title.width ? display.spacing : 0);\n    const availableSpreadForItems = paddedRect.height;\n    itemRenderer.parallelize(availableExtentForItems, isPreliminary ? undefined : availableSpreadForItems);\n\n    const navigationSize = itemRenderer.extent() > availableExtentForItems ? navigationRenderer.extent() : 0;\n    const spread = itemRenderer.spread();\n    const navigationSpread = navigationSize ? navigationRenderer.spread() : 0;\n    content = {\n      x: title.x + title.width + (title.width ? display.spacing : 0),\n      y: paddedRect.y + Math.max(0, (navigationSpread - spread) / 2),\n      width: paddedRect.width - navigationSize - title.width - (navigationSize ? display.spacing : 0) - (title.width ? display.spacing : 0),\n      height: availableSpreadForItems\n    };\n    navigation = {\n      x: content.x + content.width + (navigationSize ? display.spacing : 0),\n      y: paddedRect.y,\n      width: navigationSize,\n      height: paddedRect.height\n    };\n\n    title.y = content.y;\n\n    const isRtl = itemRenderer.direction() === 'rtl';\n    if (isRtl) { // switch title, content and navigation\n      navigation.x = paddedRect.x;\n      content.x = navigation.x + navigation.width + (navigation.width ? display.spacing : 0);\n      title.x = content.x + content.width + (title.width ? display.spacing : 0);\n    }\n    preferredSize = Math.max(title.height, navigationSpread, itemRenderer.spread());\n    // }\n  } else {\n    // |------------|\n    // |title       |\n    // |------------|\n    // |content     |\n    // |------------|\n    // |navigation  |\n    // |------------|\n\n    const availableExtentForItems = paddedRect.height - title.height - (title.height ? display.spacing : 0);\n    const availableSpreadForItems = paddedRect.width;\n    itemRenderer.parallelize(availableExtentForItems, isPreliminary ? undefined : availableSpreadForItems);\n\n    const navigationSize = itemRenderer.extent() > availableExtentForItems ? navigationRenderer.extent() : 0;\n    navigation = {\n      x: paddedRect.x,\n      y: paddedRect.y + paddedRect.height - navigationSize,\n      width: paddedRect.width,\n      height: navigationSize\n    };\n\n    content = {\n      x: paddedRect.x,\n      y: title.y + title.height + (title.height ? display.spacing : 0),\n      width: paddedRect.width,\n      height: paddedRect.height - title.height - (title.height ? display.spacing : 0) - navigation.height - (navigation.height ? display.spacing : 0)\n    };\n\n    preferredSize = Math.max(titleRenderer.extent(), navigationSize ? navigationRenderer.spread() : 0, itemRenderer.spread());\n  }\n\n  content = extend({}, rect, {\n    x: rect.x + content.x,\n    y: rect.y + content.y,\n    width: content.width,\n    height: content.height\n  });\n\n  navigation.x += rect.x;\n  navigation.y += rect.y;\n\n  title.x += rect.x;\n  title.y += rect.y;\n\n  return {\n    title: extend({}, rect, title),\n    content: extend({}, rect, content),\n    navigation: extend({}, rect, navigation),\n    orientation,\n    preferredSize\n  };\n}\n","import extend from 'extend';\nimport resolveSettings from './legend-resolver';\nimport itemRendererFactory from './item-renderer';\nimport navigationRendererFactory from './navigation-renderer';\nimport titleRendererFactory from './title-renderer';\nimport layout from './legend-layout';\n\nfunction update(comp) {\n  comp.state.resolved = resolveSettings(comp);\n  comp.titleRenderer.itemize({\n    resolved: comp.state.resolved,\n    dock: comp.settings.layout.dock || 'center'\n  });\n  comp.itemRenderer.itemize({\n    resolved: comp.state.resolved,\n    dock: comp.settings.layout.dock || 'center'\n  });\n  comp.navigationRenderer.itemize({\n    resolved: comp.state.resolved,\n    dock: comp.settings.layout.dock || 'center',\n    navigation: comp.settings.settings.navigation\n  });\n\n  comp.state.display = {\n    spacing: 8\n  };\n}\n\nfunction preferredSize(comp, size) {\n  let s = 0;\n  const dock = comp.settings.layout.dock || 'center';\n  const orientation = dock === 'top' || dock === 'bottom' ? 'horizontal' : 'vertical';\n  const d = comp.state.display;\n  const tempLayout = layout(size.inner, d, orientation, {\n    itemRenderer: comp.itemRenderer,\n    navigationRenderer: comp.navigationRenderer,\n    titleRenderer: comp.titleRenderer,\n    isPreliminary: true\n  });\n  s += d.spacing; // start padding in both vertical and horizontal mode\n  s += tempLayout.preferredSize;\n  s += d.spacing; // end padding in both vertical and horizontal mode\n  return s;\n}\n\nfunction render(legend) {\n  const {\n    rect,\n    settings,\n    state,\n    itemRenderer,\n    navigationRenderer,\n    titleRenderer\n  } = legend;\n  const dock = settings.layout.dock;\n  const orientation = dock === 'top' || dock === 'bottom' ? 'horizontal' : 'vertical';\n  const l = layout(rect, state.display, orientation, {\n    itemRenderer,\n    navigationRenderer,\n    titleRenderer\n  });\n\n  legend.renderer.size(l.content);\n\n  // l.content.x = 0;\n  // l.content.y = 0;\n\n  // l.navigation.x += rect.x;\n  // l.navigation.y += rect.y;\n\n  // l.title.x += rect.x;\n  // l.title.y += rect.y;\n\n  let contentItems = itemRenderer.getItemsToRender({\n    viewRect: extend({}, l.content, { x: 0, y: 0 })\n  });\n\n  navigationRenderer.render({\n    rect: l.navigation,\n    itemRenderer\n  });\n\n  titleRenderer.render({\n    rect: l.title\n  });\n\n  legend.state.views = {\n    layout: l\n  };\n\n  return contentItems;\n}\n\nconst component = {\n  require: ['chart', 'settings', 'renderer', 'update', 'resolver', 'registries', 'symbol'],\n  defaultSettings: {\n    settings: {},\n    style: {\n      item: {\n        label: '$label',\n        shape: '$shape'\n      },\n      title: '$title'\n    }\n  },\n  mounted(renderElement) {\n    if (renderElement && renderElement.parentNode) {\n      this.navigationRenderer.renderer.appendTo(renderElement.parentNode);\n      this.titleRenderer.renderer.appendTo(renderElement.parentNode);\n\n      renderElement.parentNode.insertBefore(this.navigationRenderer.renderer.element(), renderElement);\n      renderElement.parentNode.insertBefore(this.titleRenderer.renderer.element(), renderElement);\n    }\n    this.navigationRenderer.render({\n      rect: this.state.views.layout.navigation,\n      itemRenderer: this.itemRenderer\n    });\n\n    this.titleRenderer.render({\n      rect: this.state.views.layout.title\n    });\n  },\n  beforeUnmount() {\n    this.navigationRenderer.renderer.clear();\n    this.titleRenderer.renderer.clear();\n  },\n  on: {\n    panstart() {\n      if (this.state.interaction.started) {\n        return;\n      }\n      const contentOverflow = this.itemRenderer.getContentOverflow();\n      if (!contentOverflow) {\n        return;\n      }\n      this.state.interaction.started = true;\n      this.state.interaction.delta = 0;\n    },\n    panmove(e) {\n      if (!this.state.interaction.started) {\n        return;\n      }\n      const delta = this.itemRenderer.orientation() === 'horizontal' ? (this.itemRenderer.direction() === 'rtl' ? -1 : 1) * e.deltaX : e.deltaY;\n      this.itemRenderer.scroll(delta - this.state.interaction.delta);\n      this.state.interaction.delta = delta;\n    },\n    panend() {\n      this.state.interaction.started = false;\n    },\n    scroll(delta) {\n      this.itemRenderer.scroll(-delta);\n    },\n    next() {\n      this.itemRenderer.next();\n    },\n    prev() {\n      this.itemRenderer.prev();\n    }\n  },\n  created() {\n    this.state = {\n      interaction: {}\n    };\n    this.onScroll = () => {\n      const items = render(this);\n      this.update(items);\n    };\n    this.itemRenderer = itemRendererFactory(this, {\n      onScroll: this.onScroll\n    });\n    this.navigationRenderer = navigationRendererFactory(this);\n    this.titleRenderer = titleRendererFactory(this);\n    this.navigationRenderer.renderer = this.registries.renderer('dom')();\n    this.titleRenderer.renderer = this.registries.renderer(this.settings.renderer)();\n    update(this);\n  },\n  preferredSize(obj) {\n    return preferredSize(this, obj);\n  },\n  beforeUpdate() {\n    update(this);\n  },\n  render() {\n    return render(this);\n  },\n  beforeDestroy() {\n    this.navigationRenderer.renderer.destroy();\n    this.titleRenderer.renderer.destroy();\n  },\n  additionalElements() {\n    return [\n      this.titleRenderer.renderer.element(),\n      this.navigationRenderer.renderer.element()\n    ];\n  },\n  _DO_NOT_USE_getInfo() {\n    return {\n      offset: this.itemRenderer.offset()\n    };\n  }\n};\n\nexport default component;\n","import component from './legend-cat';\n\n/**\n * @typedef {object} component--legend-cat\n * @property {string} scale\n */\n\n/**\n * @type {string}\n * @memberof component--legend-cat\n */\nconst type = 'legend-cat';\n\nexport default function categoricalLegend(picasso) {\n  picasso.component(type, component);\n}\n","function applyAlignJustify(ctx, node) {\n  let wiggle = 0;\n  const cmd = {\n    type: ctx.state.isVertical ? 'justify' : 'align',\n    coord: ctx.state.isVertical ? 'y' : 'x',\n    pos: ctx.state.isVertical ? 'height' : 'width',\n    fn: ctx.state.isVertical ? 'requiredHeight' : 'requiredWidth'\n  };\n\n  wiggle = ctx.state.rect[cmd.pos] - ctx.state.legend.length() - ctx.state.title[cmd.fn]();\n  wiggle *= Math.min(1, Math.max(ctx.stgns[cmd.type], 0));\n  node[cmd.coord] += wiggle;\n}\n\nexport function generateStopNodes(ctx) {\n  const fillScale = ctx.state.legend.fillScale;\n  const majorScale = ctx.state.legend.majorScale;\n  const stops = fillScale.domain().map((d) => ({\n    type: 'stop',\n    color: fillScale(d),\n    offset: Math.min(1, Math.max(0, majorScale.norm(d)))\n  }));\n\n  return stops.sort((a, b) => a.offset - b.offset);\n}\n\nexport function createTitleNode(ctx) {\n  const state = ctx.state;\n  const settings = ctx.stgns;\n  const isTickLeft = state.ticks.anchor === 'left';\n  const isTickTop = state.ticks.anchor === 'top';\n  let x = state.rect.x;\n  let y = state.rect.y;\n  let textAnchor = 'start';\n\n  if (state.title.anchor === 'left') {\n    x += state.title.requiredWidth() - settings.title.padding;\n    y += state.title.textMetrics.height;\n    y += isTickTop ? state.rect.height - state.title.textBounds.height : 0;\n    textAnchor = 'end';\n  } else if (state.title.anchor === 'right') {\n    x += state.legend.length();\n    x += settings.title.padding;\n    y += state.title.textMetrics.height;\n    y += isTickTop ? state.rect.height - state.title.textBounds.height : 0;\n  } else if (state.title.anchor === 'top') {\n    x += isTickLeft ? state.rect.width : 0;\n    y += state.title.textMetrics.height;\n    textAnchor = isTickLeft ? 'end' : 'start';\n  }\n\n  const node = {\n    tag: 'legend-title',\n    type: 'text',\n    x,\n    y: Math.min(y, state.rect.y + state.rect.height),\n    text: settings.title.text,\n    fill: settings.title.fill,\n    fontSize: settings.title.fontSize,\n    fontFamily: settings.title.fontFamily,\n    maxWidth: settings.title.maxLengthPx,\n    maxLines: settings.title.maxLines,\n    wordBreak: settings.title.wordBreak,\n    hyphens: settings.title.hyphens,\n    lineHeight: settings.title.lineHeight,\n    anchor: textAnchor,\n    title: settings.title.text\n  };\n\n  applyAlignJustify(ctx, node);\n  return node;\n}\n\nexport function createLegendRectNode(ctx, stops) {\n  const state = ctx.state;\n  const settings = ctx.stgns;\n  const container = state.rect;\n  let x = container.x;\n  let y = container.y;\n  let width = state.isVertical ? settings.size : state.legend.length();\n  let height = state.isVertical ? state.legend.length() : settings.size;\n\n  if (state.ticks.anchor === 'left') {\n    x += state.rect.width - settings.size;\n  } else if (state.ticks.anchor === 'top') {\n    y += state.rect.height - settings.size;\n  }\n\n  if (state.title.anchor === 'top') {\n    y += state.title.requiredHeight();\n  } else if (state.title.anchor === 'left') {\n    x += state.title.requiredWidth();\n  }\n\n  const node = {\n    type: 'rect',\n    x,\n    y,\n    width,\n    height,\n    fill: {\n      type: 'gradient',\n      stops,\n      degree: state.isVertical ? 90 : 180\n    }\n  };\n\n  applyAlignJustify(ctx, node);\n  return node;\n}\n\nexport function createTickNodes(ctx, legendNode) {\n  const state = ctx.state;\n  const settings = ctx.stgns;\n  let anchor = 'start';\n  const rangeSelectorRect = {\n    type: 'rect',\n    x: legendNode.x,\n    y: legendNode.y,\n    width: state.isVertical ? 0 : legendNode.width,\n    height: state.isVertical ? legendNode.height : 0,\n    fill: 'transparent'\n  };\n\n  const nodes = state.ticks.values.map((tick) => {\n    let x = 0;\n    let y = 0;\n    let dx = 0;\n    let dy = 0;\n    let baseline = 'alphabetical';\n\n    if (state.isVertical) {\n      y = legendNode.y + (legendNode.height * tick.pos);\n      baseline = tick.pos === 0 ? 'text-before-edge' : 'text-after-edge';\n    } else {\n      x = legendNode.x + (legendNode.width * tick.pos);\n    }\n\n    if (state.ticks.anchor === 'right') {\n      x = legendNode.x + settings.size + settings.tick.padding;\n\n      rangeSelectorRect.x = legendNode.x + legendNode.width;\n    } else if (state.ticks.anchor === 'left') {\n      x = legendNode.x - settings.tick.padding;\n      anchor = 'end';\n    } else if (state.ticks.anchor === 'top') {\n      y = legendNode.y - settings.tick.padding;\n      dy -= tick.textMetrics.height * 0.25;\n      anchor = tick.pos === 0 ? 'start' : 'end';\n    } else if (state.ticks.anchor === 'bottom') {\n      y = legendNode.y + legendNode.height + settings.tick.padding;\n      dy = tick.textMetrics.height * 0.8;\n      anchor = tick.pos === 0 ? 'start' : 'end';\n\n      rangeSelectorRect.y = legendNode.y + legendNode.height;\n    }\n\n    const node = {\n      type: 'text',\n      x,\n      y,\n      dx,\n      dy,\n      text: tick.label,\n      fontSize: settings.tick.fontSize,\n      fontFamily: settings.tick.fontFamily,\n      fill: settings.tick.fill,\n      maxWidth: state.isVertical ? settings.tick.maxLengthPx : Math.min(settings.tick.maxLengthPx, state.legend.length() / 2),\n      anchor,\n      textBoundsFn: ctx.renderer.textBounds,\n      title: tick.label,\n      baseline\n    };\n\n    return node;\n  });\n\n  return {\n    type: 'container',\n    id: 'legend-seq-ticks',\n    children: [...nodes, rangeSelectorRect]\n  };\n}\n","import {\n  createTitleNode,\n  generateStopNodes,\n  createLegendRectNode,\n  createTickNodes\n} from './node-builder';\n\n\nfunction resolveAnchor(dock, anchor, map) {\n  const mapped = map[dock];\n  if (typeof mapped === 'object') {\n    if (mapped.valid.indexOf(anchor) !== -1) {\n      return anchor;\n    }\n    return mapped.default;\n  }\n\n  return map.default;\n}\n\nfunction resolveTickAnchor(settings) {\n  const dock = settings.layout.dock;\n  const anchor = settings.settings.tick.anchor;\n\n  const dockAnchorMap = {\n    left: { valid: ['left', 'right'], default: 'left' },\n    right: { valid: ['left', 'right'], default: 'right' },\n    top: { valid: ['top', 'bottom'], default: 'top' },\n    bottom: { valid: ['top', 'bottom'], default: 'bottom' },\n    default: 'right'\n  };\n\n  return resolveAnchor(dock, anchor, dockAnchorMap);\n}\n\nfunction resolveTitleAnchor(settings) {\n  const dockAnchorMap = {\n    left: { valid: ['top'], default: 'top' },\n    right: { valid: ['top'], default: 'top' },\n    top: { valid: ['left', 'right'], default: 'left' },\n    bottom: { valid: ['left', 'right'], default: 'left' },\n    default: 'top'\n  };\n\n  const dock = settings.layout.dock;\n  const anchor = settings.settings.title.anchor;\n\n  return resolveAnchor(dock, anchor, dockAnchorMap);\n}\n\nfunction initRect(ctx, size) {\n  const rect = {\n    x: 0, y: 0, width: 0, height: 0\n  };\n  const padding = ctx.stgns.padding;\n  rect.x = padding.left;\n  rect.y = padding.top;\n  rect.width = size.width - padding.left - padding.right;\n  rect.height = size.height - padding.top - padding.bottom;\n\n  return rect;\n}\n\nfunction getTicks(ctx, majorScale) {\n  const values = majorScale.domain();\n  let labels = values;\n  let labelFn = ctx.stgns.tick.label;\n  if (!labelFn && ctx.formatter) {\n    labelFn = ctx.formatter;\n  } else if (!labelFn && majorScale.data().fields) {\n    labelFn = majorScale.data().fields[0].formatter();\n  }\n  if (typeof labelFn === 'function') {\n    labels = values.map(labelFn).map(String);\n  }\n\n  const ticks = values.map((value, i) => {\n    const label = labels[i];\n    return {\n      value,\n      label,\n      pos: majorScale.norm(parseFloat(value, 10)),\n      textMetrics: ctx.renderer.measureText({\n        text: label,\n        fontSize: ctx.stgns.tick.fontSize,\n        fontFamily: ctx.stgns.tick.fontFamily\n      })\n    };\n  });\n\n  return ticks;\n}\n\nfunction initState(ctx) {\n  const isVertical = ctx.settings.layout.dock !== 'top' && ctx.settings.layout.dock !== 'bottom';\n  const titleStgns = ctx.stgns.title;\n\n  const fillScale = ctx.chart.scale(ctx.stgns.fill);\n  const majorScale = ctx.chart.scale(ctx.stgns.major);\n  const tickValues = getTicks(ctx, majorScale);\n  const tickAnchor = resolveTickAnchor(ctx.settings);\n\n  if (typeof titleStgns.text === 'undefined') {\n    const fields = majorScale.data().fields;\n    titleStgns.text = fields && fields[0] ? fields[0].title() : '';\n  }\n\n  const titleTextMetrics = ctx.renderer.measureText({\n    text: titleStgns.text,\n    fontSize: titleStgns.fontSize,\n    fontFamily: titleStgns.fontFamily\n  });\n\n  const titleTextBounds = ctx.renderer.textBounds({\n    text: titleStgns.text,\n    fontSize: titleStgns.fontSize,\n    fontFamily: titleStgns.fontFamily,\n    maxLines: titleStgns.maxLines,\n    maxWidth: titleStgns.maxLengthPx,\n    wordBreak: titleStgns.wordBreak,\n    hyphens: titleStgns.hyphens,\n    lineHeight: titleStgns.lineHeight\n  });\n\n  const state = {\n    isVertical,\n    nodes: [],\n    title: {\n      anchor: resolveTitleAnchor(ctx.settings),\n      textMetrics: titleTextMetrics,\n      textBounds: titleTextBounds,\n      requiredWidth: () => {\n        if (!titleStgns.show) {\n          return 0;\n        }\n        let w = titleTextBounds.width;\n        let mw = titleStgns.maxLengthPx;\n        if (!isVertical) {\n          w += titleStgns.padding;\n          mw += titleStgns.padding;\n        }\n        return Math.min(w, mw, state.rect.width);\n      },\n      requiredHeight: () => {\n        if (!titleStgns.show) {\n          return 0;\n        }\n        let h = titleTextBounds.height;\n        if (isVertical) {\n          h += titleStgns.padding;\n        }\n        return Math.min(h, state.rect.height);\n      }\n    },\n    ticks: {\n      values: tickValues,\n      anchor: tickAnchor,\n      length: Math.min(Math.max(...tickValues.map((t) => t.textMetrics.width)), ctx.stgns.tick.maxLengthPx),\n      requiredHeight: () => (tickAnchor === 'top' ? Math.max(...state.ticks.values.map((t) => t.textMetrics.height)) + ctx.stgns.tick.padding : 0),\n      height: Math.max(...tickValues.map((t) => t.textMetrics.height))\n    },\n    legend: {\n      fillScale,\n      majorScale,\n      length: () => {\n        const pos = isVertical ? 'height' : 'width';\n        const fnPos = isVertical ? 'requiredHeight' : 'requiredWidth';\n        const len = Math.min(state.rect[pos], state.rect[pos] * ctx.stgns.length) - state.title[fnPos]();\n        return Math.max(0, Math.min(len, ctx.stgns.maxLengthPx));\n      }\n    }\n  };\n\n  return state;\n}\n\n/**\n * @typedef {object} component--legend-seq\n * @property {string} fill - Reference to definition of sequential color scale\n * @property {string} major - Reference to definition of linear scale\n * @property {number} [size=15] - Size in pixels of the legend, if vertical is the width and height otherwise\n * @property {number} [length=1] - A value in the range 0-1 indicating the length of the legend node\n * @property {number} [maxLengthPx=250] - Max length in pixels\n * @property {number} [align=0.5] - A value in the range 0-1 indicating horizontal alignment of the legend's content. 0 aligns to the left, 1 to the right.\n * @property {number} [justify=0] - A value in the range 0-1 indicating vertical alignment of the legend's content. 0 aligns to the top, 1 to the bottom.\n * @property {object} [padding]\n * @property {number} [padding.left=5]\n * @property {number} [padding.right=5]\n * @property {number} [padding.top=5]\n * @property {number} [padding.bottom=5]\n * @property {object} [tick]\n * @property {function} [tick.label] - Function applied to all tick values, returned values are used as labels\n * @property {string} [tick.fill='#595959']\n * @property {string} [tick.fontSize='12px']\n * @property {string} [tick.fontFamily='Arial']\n * @property {number} [tick.maxLengthPx=150] - Max length in pixels\n * @property {string} [tick.anchor='right'] - Where to anchor the tick in relation to the legend node, supported values are [top, bottom, left and right]\n * @property {number} [tick.padding=5] - padding in pixels to the legend node\n * @property {object} [title] - Title settings\n * @property {boolean} [title.show=true] - Toggle title on/off\n * @property {string} [title.text=''] - Title text. Defaults to the title of the provided data field\n * @property {string} [title.fill='#595959']\n * @property {string} [title.fontSize='12px']\n * @property {string} [title.fontFamily='Arial']\n * @property {number} [title.maxLengthPx=100] - Max length in pixels\n * @property {number} [title.padding=5] - padding in pixels to the legend node\n * @property {string} [title.anchor='top'] - Where to anchor the title in relation to the legend node, supported values are [top, left and right]\n * @property {string} [title.wordBreak='none'] - How overflowing title is handled, if it should insert line breaks at word boundries (break-word) or character boundries (break-all)\n * @property {string} [title.hyphens='auto'] - How words should be hyphenated when text wraps across multiple lines (only applicable with wordBreak)\n * @property {number} [title.maxLines=2] - Number of allowed lines if title contains line breaks (only applicable with wordBreak)\n * @property {number} [title.lineHeight=1.2] - A multiplier defining the distance between lines (only applicable with wordBreak)\n */\n\nconst legendDef = {\n  require: ['chart', 'settings', 'renderer'],\n  defaultSettings: {\n    layout: {\n      displayOrder: 0,\n      dock: 'right'\n    },\n    settings: {\n      size: 15,\n      length: 0.5,\n      maxLengthPx: 250,\n      align: 0.5,\n      justify: 0,\n      padding: {\n        left: 5,\n        right: 5,\n        top: 5,\n        bottom: 5\n      },\n      tick: {\n        label: null,\n        fill: '#595959',\n        fontSize: '12px',\n        fontFamily: 'Arial',\n        maxLengthPx: 100,\n        anchor: null, // Use default based on dock\n        padding: 5\n      },\n      title: {\n        show: true,\n        text: undefined,\n        fill: '#595959',\n        fontSize: '12px',\n        fontFamily: 'Arial',\n        maxLengthPx: 100,\n        padding: 5,\n        maxLines: 2,\n        wordBreak: 'none',\n        lineHeight: 1.2,\n        hyphens: 'auto',\n        anchor: null // Use default based on dock\n      }\n    }\n  },\n  preferredSize(opts) {\n    const state = this.state;\n    state.rect = initRect(this, opts.inner);\n\n    // Init with size of legend\n    let prefSize = this.stgns.size;\n\n    // Append paddings\n    const paddings = state.isVertical ? this.stgns.padding.left + this.stgns.padding.right : this.stgns.padding.top + this.stgns.padding.bottom;\n    prefSize += paddings;\n\n    // Append tick size\n    const maxSize = Math.max(opts.inner.width, opts.inner.height);\n    if ((state.ticks.anchor === 'left' || state.ticks.anchor === 'right')) {\n      const tHeight = state.ticks.values.reduce((sum, t) => sum + t.textMetrics.height, 0);\n      if (tHeight > this.state.legend.length()) {\n        return maxSize;\n      }\n      prefSize += state.ticks.length;\n    } else {\n      const tWidth = state.ticks.length;\n      if (tWidth > this.state.legend.length()) {\n        return maxSize;\n      }\n      prefSize += Math.max(...state.ticks.values.map((t) => t.textMetrics.height));\n    }\n    prefSize += this.stgns.tick.padding;\n\n    // Append or use title size\n    if (this.stgns.title.show) {\n      if (state.title.anchor === 'left' || state.title.anchor === 'right') {\n        prefSize = Math.max(state.title.textBounds.height + paddings, prefSize);\n      } else {\n        prefSize = Math.max(prefSize, state.title.requiredWidth() + paddings);\n      }\n    }\n\n    this.state.preferredSize = prefSize;\n    return prefSize;\n  },\n  created() {\n    this.stgns = this.settings.settings;\n\n    this.state = initState(this);\n  },\n  beforeUpdate(opts) {\n    this.stgns = opts.settings.settings;\n\n    this.state = initState(this);\n  },\n  beforeRender(opts) {\n    this.state.nodes = [];\n    this.state.rect = initRect(this, opts.size);\n\n    if (this.stgns.title.show) {\n      const titleNode = createTitleNode(this);\n      this.state.nodes.push(titleNode);\n    }\n\n    const stopNodes = generateStopNodes(this);\n    const rectNode = createLegendRectNode(this, stopNodes);\n    const tickNodes = createTickNodes(this, rectNode);\n\n    const targetNode = { // The target node enables range selection component to limit its range to a specific area\n      id: 'legend-seq-target',\n      type: 'container',\n      children: [rectNode, tickNodes]\n    };\n\n    this.state.nodes.push(targetNode);\n  },\n  render() {\n    return this.state.nodes;\n  }\n};\n\nexport default legendDef;\n","import legendSeq from './legend-seq';\n\nexport default function sequentialLegend(picasso) {\n  picasso.component('legend-seq', legendSeq);\n}\n","import extend from 'extend';\nimport {\n  area,\n  curveLinear,\n  curveStep,\n  curveStepAfter,\n  curveStepBefore,\n  curveBasis,\n  curveCardinal,\n  curveCatmullRom,\n  curveMonotoneX,\n  curveMonotoneY,\n  curveNatural\n} from 'd3-shape';\n\nconst CURVES = {\n  step: curveStep,\n  stepAfter: curveStepAfter,\n  stepBefore: curveStepBefore,\n  linear: curveLinear,\n  basis: curveBasis,\n  cardinal: curveCardinal.tension(0),\n  catmullRom: curveCatmullRom,\n  monotonex: curveMonotoneX,\n  monotoney: curveMonotoneY,\n  natural: curveNatural\n};\n\n/**\n * @callback component--line~layerSort\n * @param {object} a\n * @param {string} a.id\n * @param {Array<datum-extract>} a.data\n * @param {object} b\n * @param {string} b.id\n * @param {Array<datum-extract>} b.data\n */\n\n/**\n * @typedef {object}\n * @alias component--line-settings\n */\nconst SETTINGS = {\n  /**\n   * @typedef {object}\n   */\n  coordinates: {\n    /**\n     * @type {number} */\n    minor: 0.5,\n    /**\n     * @type {number} */\n    major: 0.5,\n    /**\n     * @type {number=} */\n    layerId: 0\n  },\n  /**\n   * @type {boolean=} */\n  connect: false,\n  /**\n   * @type {string=} */\n  orientation: 'horizontal',\n  /**\n   * @typedef {object} */\n  layers: {\n    /**\n     * @type {string=} */\n    curve: 'linear',\n    /**\n     * @type {boolean=} */\n    show: true,\n    /**\n     * @type {component--line~layerSort=} */\n    sort: undefined,\n    /**\n     * @typedef {object} */\n    line: {\n      /**\n       * @type {string=} */\n      stroke: '#ccc',\n      /**\n       * @type {number=} */\n      strokeWidth: 1,\n      /**\n       * @type {string=} */\n      strokeLinejoin: 'miter',\n      /**\n       * @type {string=} */\n      strokeDasharray: undefined,\n      /**\n       * @type {number=} */\n      opacity: 1,\n      /**\n       * @type {boolean=} */\n      show: true\n    },\n    /**\n     * @typedef {object} */\n    area: {\n      /**\n       * @type {string=} */\n      fill: '#ccc',\n      /**\n       * @type {number=} */\n      opacity: 0.8,\n      /**\n       * @type {boolean=} */\n      show: true\n    }\n  }\n};\n\n/**\n * @type {datum-boolean=}\n * @memberof component--line-settings.coordinates\n * @name defined\n * @default true\n */\n\n\nfunction createDisplayLayer(points, {\n  generator,\n  item,\n  data\n}, fill = '') {\n  const path = generator(points);\n  const d = {\n    type: 'path',\n    d: path,\n    opacity: item.opacity,\n    stroke: item.stroke,\n    strokeWidth: item.strokeWidth,\n    strokeLinejoin: item.strokeLinejoin,\n    fill: fill || item.fill,\n    data\n  };\n\n  if (item.strokeDasharray) {\n    d.strokeDasharray = item.strokeDasharray;\n  }\n\n  return d;\n}\n\nfunction createDisplayLayers(layers, {\n  width,\n  height,\n  missingMinor0,\n  stngs\n}) {\n  const nodes = [];\n  const layerStngs = stngs.layers || {};\n  layers.forEach((layer) => {\n    const {\n      lineObj, layerObj, areaObj, points\n    } = layer;\n\n    const areaGenerator = area();\n    const defined = stngs.coordinates ? stngs.coordinates.defined : null;\n    let lineGenerator;\n    let secondaryLineGenerator;\n    let minor = { size: height, p: 'y' };\n    let major = { size: width, p: 'x' };\n    if (stngs.orientation === 'vertical') {\n      const temp = extend(true, {}, major);\n      major = extend(true, {}, minor);\n      minor = extend(true, {}, temp);\n    }\n\n    areaGenerator\n      [major.p]((d) => d.major * major.size) // eslint-disable-line no-unexpected-multiline\n      [`${minor.p}1`]((d) => d.minor * minor.size) // eslint-disable-line no-unexpected-multiline\n      [`${minor.p}0`]((d) => d.minor0 * minor.size) // eslint-disable-line no-unexpected-multiline\n      .curve(CURVES[layerObj.curve === 'monotone' ? `monotone${major.p}` : layerObj.curve]);\n    if (defined) {\n      areaGenerator.defined((d) => !d.dummy && typeof d.minor === 'number' && !isNaN(d.minor) && d.defined);\n    } else {\n      areaGenerator.defined((d) => !d.dummy && typeof d.minor === 'number' && !isNaN(d.minor));\n    }\n\n    const filteredPoints = stngs.connect ? points.filter(areaGenerator.defined()) : points;\n    lineGenerator = areaGenerator[`line${minor.p.toUpperCase()}1`]();\n    secondaryLineGenerator = areaGenerator[`line${minor.p.toUpperCase()}0`]();\n\n    // area layer\n    if (layerStngs.area && areaObj.show !== false) {\n      nodes.push(createDisplayLayer(filteredPoints, {\n        data: layer.consumableData,\n        item: areaObj,\n        generator: areaGenerator\n      }));\n    }\n\n    // main line layer\n    if (lineObj && lineObj.show !== false) {\n      nodes.push(createDisplayLayer(filteredPoints, {\n        data: layer.consumableData,\n        item: lineObj,\n        generator: lineGenerator\n      }, 'none'));\n\n      // secondary line layer, used only when rendering area\n      if (!missingMinor0 && layerStngs.area && areaObj.show !== false) {\n        nodes.push(createDisplayLayer(filteredPoints, {\n          data: layer.consumableData,\n          item: lineObj,\n          generator: secondaryLineGenerator\n        }, 'none'));\n      }\n    }\n  });\n\n  return nodes;\n}\n\nfunction resolve({\n  data,\n  stngs,\n  rect,\n  resolver,\n  style,\n  domain\n}) {\n  const { width, height } = rect;\n  const coordinates = resolver.resolve({\n    data,\n    defaults: SETTINGS.coordinates,\n    settings: stngs.coordinates || {},\n    scaled: {\n      major: stngs.orientation === 'vertical' ? height : width,\n      minor: stngs.orientation === 'vertical' ? width : height\n    }\n  });\n\n  // there are two cases when a line should be interrupted:\n  // 1. When the minor value is undefined (this case is easily handled by the lineGenerator.defined).\n  // 2. When a line is moving over a domain that may not coincide with the domain on the major scale.\n  // For the second case, dummy points need to be injected in order to create values which will cause gaps as they fulfill the first case.\n  // These dummy points need to be injected only when: the domain is discrete, connect !== false and multiple layers are defined\n  const injectDummy = !stngs.connect && domain.length > 2 && (typeof stngs.coordinates.layerId === 'function' || typeof stngs.coordinates.layerId === 'object');\n\n  // collect points into layers\n  const layerIds = {};\n  let numLines = 0;\n  for (let i = 0; i < coordinates.items.length; i++) {\n    let p = coordinates.items[i];\n    let lid = p.layerId;\n    if (injectDummy) {\n      // inject dummy if the previous point on the major domain is not the same as the prev point on the line's domain.\n      // this works only if a datum's value property is the same primitive as in the domain.\n      const lastItem = layerIds[lid] ? layerIds[lid].items[layerIds[lid].items.length - 1] : null;\n      const lastOrderIdx = lastItem ? domain.indexOf(lastItem.data.major ? lastItem.data.major.value : lastItem.data.value) : null;\n      if (lastItem && domain.indexOf(p.data.major ? p.data.major.value : p.data.value) - 1 !== lastOrderIdx) {\n        layerIds[lid].items.push({ dummy: true });\n      }\n    }\n    layerIds[lid] = layerIds[lid] || {\n      order: numLines++,\n      id: lid,\n      items: [],\n      dataItems: [],\n      consumableData: {}\n    };\n    layerIds[lid].dataItems.push(p.data);\n    layerIds[lid].items.push(p);\n  }\n\n  const metaLayers = Object.keys(layerIds).map((lid) => {\n    layerIds[lid].consumableData = {\n      points: layerIds[lid].dataItems,\n      ...layerIds[lid].dataItems[0]\n    };\n    return layerIds[lid];\n  });\n\n  const layersData = {\n    items: metaLayers.map((layer) => layer.consumableData)\n  };\n  const layerStngs = stngs.layers || {};\n\n  const layersResolved = resolver.resolve({\n    data: layersData,\n    defaults: {\n      curve: SETTINGS.layers.curve,\n      show: SETTINGS.layers.show\n    },\n    settings: {\n      curve: layerStngs.curve,\n      show: layerStngs.show\n    }\n  });\n\n  const linesResolved = resolver.resolve({\n    data: layersData,\n    defaults: extend({}, SETTINGS.layers.line, style.line),\n    settings: layerStngs.line\n  });\n\n  const areasResolved = resolver.resolve({\n    data: layersData,\n    defaults: extend({}, SETTINGS.layers.area, style.area),\n    settings: layerStngs.area\n  });\n\n  return {\n    coordinates,\n    metaLayers,\n    layers: layersResolved,\n    lines: linesResolved,\n    areas: areasResolved\n  };\n}\n\nfunction calculateVisibleLayers(opts) {\n  const {\n    metaLayers,\n    coordinates,\n    layers,\n    lines,\n    areas\n  } = resolve(opts);\n\n  const visibleLayers = [];\n  metaLayers.forEach((layer, ix) => {\n    const layerObj = layers.items[ix];\n    if (layerObj.show === false) {\n      return;\n    }\n\n    // layerObj.points = [];\n    layerObj.datum = layerObj.data;\n    layerObj.data = [];\n    layerObj.id = layer.id;\n\n    const values = [];\n    const points = [];\n    let point;\n    let pData;\n    for (let i = 0; i < layer.items.length; i++) {\n      point = layer.items[i];\n      pData = point.data;\n      if (!point.dummy) {\n        if (isNaN(point.major)) {\n          continue;\n        }\n        if (opts.missingMinor0) {\n          point.minor0 = coordinates.settings.minor.scale ? coordinates.settings.minor.scale(pData.minor0 ? pData.minor0.value : 0) : 0;\n        }\n        if (!isNaN(point.minor)) {\n          values.push(point.minor);\n        }\n        layerObj.data.push(point.data);\n      }\n      points.push(point);\n    }\n\n    const median = values.sort((a, b) => a - b)[Math.floor((values.length - 1) / 2)];\n\n    visibleLayers.push({\n      layerObj,\n      lineObj: lines.items[ix],\n      areaObj: areas.items[ix],\n      median,\n      points,\n      consumableData: layer.consumableData\n    });\n  });\n\n  return visibleLayers;\n}\n\nconst lineMarkerComponent = {\n  require: ['chart', 'resolver'],\n  defaultSettings: {\n    style: {\n      area: '$shape',\n      line: '$shape-outline'\n    }\n  },\n  created() {\n  },\n  render({ data }) {\n    // console.log(\"DATA\", data);\n    const { width, height } = this.rect;\n    this.stngs = this.settings.settings || {};\n    const missingMinor0 = !this.stngs.coordinates || typeof this.stngs.coordinates.minor0 === 'undefined';\n\n    const visibleLayers = calculateVisibleLayers({\n      data,\n      stngs: this.stngs,\n      rect: this.rect,\n      resolver: this.resolver,\n      style: this.style,\n      missingMinor0,\n      domain: this.stngs.coordinates && this.stngs.coordinates.major && this.stngs.coordinates.major.scale ? this.chart.scale(this.stngs.coordinates.major.scale).domain() : []\n    });\n\n    if (this.stngs.layers && this.stngs.layers.sort) {\n      const sortable = visibleLayers.map((v) => ({\n        id: v.layerObj.id,\n        data: v.layerObj.data\n      })).sort(this.stngs.layers.sort).map((s) => s.id);\n      visibleLayers.sort((a, b) => sortable.indexOf(a.layerObj.id) - sortable.indexOf(b.layerObj.id));\n    } else {\n      visibleLayers.sort((a, b) => a.median - b.median);\n    }\n\n    // generate visuals\n    return createDisplayLayers(visibleLayers, {\n      width,\n      height,\n      missingMinor0,\n      stngs: this.stngs\n    });\n  }\n};\n\nexport default lineMarkerComponent;\n","import component from './line';\n\n/**\n * @typedef {object} component--line\n */\n\n/**\n * @type {string}\n * @memberof component--line\n */\nconst type = 'line';\n\nexport default function line(picasso) {\n  picasso.component(type, component);\n}\n","import extend from 'extend';\nimport { testRectPoint } from '../../../core/math/narrow-phase-collision';\n\n/**\n * @typedef {object} component--brush-area-brush\n * @property {string} key - Component key\n * @property {string[]} [contexts] - Name of the brushing contexts to affect\n * @property {string[]} [data] - The mapped data properties to add to the brush\n * @property {string} [action='set'] - Type of action to respond with\n */\n\n/**\n  * @typedef {object}\n  * @alias component--brush-area-settings\n  */\nconst DEFAULT_SETTINGS = {\n  /**\n   * @type {object}\n   */\n  brush: {\n    /**\n   * @type {Array<component--brush-area-brush>}\n   */\n    components: []\n  }\n};\n\n/**\n * Transform the incoming event into point in the local coordinate system. That is the coordinate system of the component.\n * @private\n * @param {object} ctx - Context\n * @param {object} event - Incoming event, either native event or hammer event\n * @param {boolean} clamp - True to clamp the point inside the component bounds\n * @returns {point}\n */\nfunction getLocalPoint(ctx, event, clamp = true) {\n  let x;\n  let y;\n\n  if (typeof event.center === 'object') {\n    x = event.center.x;\n    y = event.center.y;\n  } else {\n    x = event.clientX;\n    y = event.clientY;\n  }\n\n  const localX = x - ctx.state.boundingRect.left;\n  const localY = y - ctx.state.boundingRect.top;\n\n  return {\n    x: clamp ? Math.max(0, Math.min(localX, ctx.rect.width)) : localX,\n    y: clamp ? Math.max(0, Math.min(localY, ctx.rect.height)) : localY\n  };\n}\n\n/**\n * Transform a local point into a point in the chart coordinate system.\n * @private\n * @param {object} ctx - Context\n * @param {object} p - Point to transform\n * @returns {point}\n */\nfunction localToChartPoint(ctx, p) {\n  return {\n    x: p.x + ctx.rect.x,\n    y: p.y + ctx.rect.y\n  };\n}\n\n/**\n * Extract and apply default brush configuration.\n * @private\n * @param {object} settings\n * @returns {object[]} An Array of brush configurations\n */\nfunction getBrushConfig(settings) {\n  return settings.settings.brush.components.map((b) => (\n    {\n      key: b.key,\n      contexts: b.contexts,\n      data: b.data,\n      action: b.action || 'set'\n    }));\n}\n\n/**\n * End all active brush contexts.\n * @private\n * @param {oject} state\n * @param {object} chart - Chart instance\n */\nfunction doEndBrush(state, chart) {\n  state.brushConfig.forEach((config) => {\n    if (Array.isArray(config.contexts)) {\n      config.contexts.forEach((context) => {\n        chart.brush(context).end();\n      });\n    }\n  });\n}\n\n/**\n * Convert two points into a rectangle.\n * @private\n * @param {point} p0\n * @param {point} p1\n * @returns {rect}\n */\nfunction toRect(p0, p1) {\n  const xMin = Math.min(p0.x, p1.x);\n  const yMin = Math.min(p0.y, p1.y);\n  const xMax = Math.max(p0.x, p1.x);\n  const yMax = Math.max(p0.y, p1.y);\n\n  return {\n    x: xMin,\n    y: yMin,\n    width: xMax - xMin,\n    height: yMax - yMin\n  };\n}\n\n/**\n * Perform a brush on the given area.\n * @private\n * @param {object} ctx\n */\nfunction doAreaBrush(ctx) {\n  if (ctx.state.active) {\n    const start = localToChartPoint(ctx, ctx.state.start);\n    const end = localToChartPoint(ctx, ctx.state.end);\n\n    const shapes = ctx.chart.shapesAt(toRect(start, end), { components: ctx.state.brushConfig });\n    ctx.chart.brushFromShapes(shapes, { components: ctx.state.brushConfig });\n  }\n}\n\nfunction render(ctx) {\n  ctx.renderer.render([\n    extend({ type: 'rect' }, toRect(ctx.state.start, ctx.state.end), ctx.style.area)\n  ]);\n}\n\nfunction resetState() {\n  return {\n    start: { x: 0, y: 0 },\n    end: { x: 0, y: 0 },\n    active: false\n  };\n}\n\nconst definition = {\n  require: ['chart', 'renderer'],\n  defaultSettings: {\n    layout: {\n      displayOrder: 99\n    },\n    settings: DEFAULT_SETTINGS,\n    style: {\n      area: '$selection-area-target'\n    }\n  },\n  on: {\n    areaStart(e) {\n      this.start(e);\n    },\n    areaMove(e) {\n      this.move(e);\n    },\n    areaEnd(e) {\n      this.end(e);\n    },\n    areaCancel() {\n      this.cancel();\n    }\n  },\n  created() {\n    this.state = resetState();\n  },\n  preferredSize() {\n    return 0;\n  },\n  render() {},\n  start(e) {\n    this.state.boundingRect = this.renderer.element().getBoundingClientRect();\n    const p = getLocalPoint(this, e, false);\n\n    // Require event to be inside the component bounds\n    if (!testRectPoint({\n      x: 0, y: 0, width: this.rect.width, height: this.rect.height\n    }, p)) {\n      return;\n    }\n\n    this.state.brushConfig = getBrushConfig(this.settings);\n    this.state.start = getLocalPoint(this, e);\n    this.state.active = true;\n  },\n  move(e) {\n    if (!this.state.active) {\n      return;\n    }\n\n    this.state.end = getLocalPoint(this, e);\n\n    doAreaBrush(this);\n    render(this);\n  },\n  end() {\n    if (!this.state.active) {\n      return;\n    }\n\n    this.state = resetState();\n    this.renderer.render([]);\n  },\n  cancel() {\n    if (!this.state.active) {\n      return;\n    }\n    doEndBrush(this.state, this.chart);\n    this.state = resetState();\n    this.renderer.render([]);\n  }\n\n};\n\nexport default definition;\n","import definition from './brush-area';\n\nexport default function areaBrush(picasso) {\n  picasso.component('brush-area', definition);\n}\n","import extend from 'extend';\n\nexport default function extractor(nodes, {\n  chart,\n  scale,\n  props,\n  h\n}) {\n  const dataCtx = {\n    resources: {\n      dataset: chart.dataset,\n      scale: chart.scale,\n      formatter: chart.formatter\n    },\n    scale,\n    h\n  };\n\n  const data = [];\n  nodes.forEach((node) => {\n    if (typeof props.extract === 'function') {\n      const ctx = extend({ node }, dataCtx);\n      data.push(props.extract(ctx));\n    }\n  });\n\n  return data;\n}\n","import extend from 'extend';\nimport classString from '../../../core/utils/class-string';\n\nfunction resolveClasses(props, opts) {\n  return {\n    tooltip: typeof props.tooltipClass === 'function' ? props.tooltipClass({ dock: opts.dock }) : props.tooltipClass,\n    content: typeof props.contentClass === 'function' ? props.contentClass({ dock: opts.dock }) : props.contentClass,\n    arrow: typeof props.arrowClass === 'function' ? props.arrowClass({ dock: opts.dock }) : props.arrowClass\n  };\n}\n\nfunction resolveContent(h, data, style, props) {\n  return props.content({\n    h,\n    style,\n    data\n  });\n}\n\nexport default function render(data, placement, {\n  renderer,\n  style,\n  props,\n  h\n}) {\n  const classes = resolveClasses(props, placement);\n  const content = resolveContent(h, data, style, props);\n\n  const tooltipDefaultStyle = {\n    position: 'relative',\n    display: 'inline-block'\n  };\n\n  const tooltipNode = (\n    <div dir={props.direction} class={classString(extend({ 'pic-tooltip': true }, classes.tooltip))} style={extend(tooltipDefaultStyle, placement.computedTooltipStyle)}>\n      <div style={style.content} class={classString(extend({ 'pic-tooltip-content': true }, classes.content))}>\n        {content}\n      </div>\n      <div class={classString(extend({ 'pic-tooltip-arrow': true }, classes.arrow))} style={extend({}, style.arrow, style[`arrow-${placement.dock}`], placement.computedArrowStyle)}></div>\n    </div>\n  );\n\n  renderer.render(tooltipNode);\n\n  return renderer.element().children[0];\n}\n","// Successfull flow: pending -> active -> fulfilled (only with duration)\n// Cancelled flow: pending -> active -> cancelled\n// Rejected flow: pending -> rejected\n// Debounced flow: pending -> debounced -> pending -> [rejected|fulfilled]\nfunction dispatcherState() {\n  const fn = function fn() { };\n  const on = {\n    pending: [],\n    debounced: [],\n    active: [],\n    cancelled: [],\n    rejected: [],\n    fulfilled: []\n  };\n  let state;\n\n  fn.set = (s) => {\n    state = s;\n    on[state].forEach((event) => event(s));\n  };\n\n  fn.on = (key, event) => {\n    if (Array.isArray(key)) {\n      key.forEach((k) => on[k].push(event));\n    } else {\n      on[key].push(event);\n    }\n  };\n\n  fn.destroy = () => {\n    Object.keys(on).forEach((key) => {\n      on[key].length = 0;\n    });\n  };\n\n  // fn.on(['pending', 'debounced', 'active', 'cancelled', 'rejected', 'fulfilled'], (e) => {\n  //   console.log(e);\n  // });\n\n  return fn;\n}\n\nexport default function timeSpanDispatcher({\n  defaultDuration,\n  defaultDelay\n}) {\n  let actionId = null;\n  let fulfilledId = null;\n  let isActive = false;\n  const state = dispatcherState();\n  const fn = function fn() {};\n  const fulfilled = () => {\n    actionId = null;\n    fulfilledId = null;\n    isActive = false;\n    state.set('fulfilled');\n  };\n\n  fn.invoke = (action, duration = defaultDuration, delay = defaultDelay) => {\n    if (actionId) {\n      clearTimeout(actionId);\n      state.set('debounced');\n    }\n\n    state.set('pending');\n    actionId = setTimeout(() => {\n      action();\n      isActive = true;\n      actionId = null;\n      state.set('active');\n    }, delay);\n\n    if (duration > 0) {\n      if (fulfilledId) {\n        clearTimeout(fulfilledId);\n      }\n      fulfilledId = setTimeout(fulfilled, duration + Math.max(delay, 0));\n    }\n  };\n\n  fn.clear = () => {\n    if (isActive) {\n      state.set('cancelled');\n    } else if (actionId) {\n      clearTimeout(actionId);\n      state.set('rejected');\n    }\n    if (fulfilledId) {\n      clearTimeout(fulfilledId);\n    }\n    actionId = null;\n    fulfilledId = null;\n    isActive = false;\n  };\n\n  fn.on = (key, event) => {\n    state.on(key, event);\n  };\n\n  fn.destroy = () => {\n    fn.clear();\n    state.destroy();\n  };\n\n  return fn;\n}\n","import extend from 'extend';\n\nfunction getDockTransform(offset = 0) {\n  return {\n    left: `translate(-100%,-50%) translateX(${-offset}px)`,\n    right: `translate(${offset}px, -50%)`,\n    top: `translate(-50%, -100%) translateY(${-offset}px)`,\n    bottom: `translate(-50%, ${offset}px)`\n  };\n}\n\nfunction getDockOffset(width, height, offset = 0) {\n  return {\n    left: { x: -width - offset, y: -height / 2 },\n    right: { x: offset, y: -height / 2 },\n    top: { x: -width / 2, y: -height - offset },\n    bottom: { x: -width / 2, y: offset }\n  };\n}\n\nfunction getComputedArrowStyle(offset) {\n  return {\n    left: {\n      left: '100%',\n      top: `calc(50% - ${offset}px)`,\n      borderWidth: `${offset}px`\n    },\n    right: {\n      left: `${-offset * 2}px`,\n      top: `calc(50% - ${offset}px)`,\n      borderWidth: `${offset}px`\n    },\n    top: {\n      left: `calc(50% - ${offset}px)`,\n      top: '100%',\n      borderWidth: `${offset}px`\n    },\n    bottom: {\n      left: `calc(50% - ${offset}px)`,\n      top: `${-offset * 2}px`,\n      borderWidth: `${offset}px`\n    }\n  };\n}\n\nfunction isInsideArea(area, vx, vy, width, height, offset) {\n  const rect = {\n    x: vx + offset.x,\n    y: vy + offset.y,\n    width,\n    height\n  };\n\n  if (rect.x < 0 || rect.y < 0) {\n    return false;\n  }\n  if (rect.x + rect.width > area.width || rect.y + rect.height > area.height) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * @param {vx} vx X-coordinate realative to the area\n * @param {vy} vy Y-coordinate realative to the area\n */\nexport function calcOffset({\n  area, vx, vy, width, height, offset\n}) {\n  const rect = {\n    x: vx + offset.x,\n    y: vy + offset.y,\n    width,\n    height\n  };\n\n  let offsetX = rect.x < 0 ? -rect.x : 0;\n  let offsetY = rect.y < 0 ? -rect.y : 0;\n\n  offsetX += rect.x + rect.width > area.width\n    ? -((rect.x + rect.width) - area.width) : 0;\n  offsetY += rect.y + rect.height > area.height\n    ? -((rect.y + rect.height) - area.height) : 0;\n\n  return {\n    x: offsetX,\n    y: offsetY\n  };\n}\n\nfunction alignToBounds({\n  resources,\n  nodes,\n  pointer,\n  width: elmWidth,\n  height: elmHeight,\n  options\n}) {\n  const { targetBounds } = pointer;\n  const {\n    x,\n    y,\n    width,\n    height\n  } = resources.getNodeBoundsRelativeToTarget(nodes[0]);\n\n  const docks = {\n    left: { x, y: y + (height / 2) },\n    right: { x: x + width, y: y + (height / 2) },\n    top: { x: x + (width / 2), y },\n    bottom: { x: x + (width / 2), y: y + height }\n  };\n\n  // Check if explicit dock\n  const dockTransforms = getDockTransform(options.offset);\n  const transform = dockTransforms[options.dock];\n  if (transform) {\n    return {\n      computedTooltipStyle: {\n        left: `${docks[options.dock].x}px`,\n        top: `${docks[options.dock].y}px`,\n        transform\n      },\n      computedArrowStyle: getComputedArrowStyle(options.offset)[options.dock],\n      dock: options.dock\n    };\n  }\n\n  const area = {\n    width: options.area === 'target' ? targetBounds.width : window.innerWidth,\n    height: options.area === 'target' ? targetBounds.height : window.innerHeight\n  };\n  const dockOffsets = getDockOffset(elmWidth, elmHeight, options.offset);\n  const dockOrder = ['top', 'left', 'right', 'bottom'];\n\n  for (let i = 0; i < dockOrder.length; i += 1) {\n    const dock = dockOrder[i];\n    const vx = options.area === 'target' ? docks[dock].x : targetBounds.left + docks[dock].x;\n    const vy = options.area === 'target' ? docks[dock].y : targetBounds.top + docks[dock].y;\n    if (isInsideArea(area, vx, vy, elmWidth, elmHeight, dockOffsets[dock])) {\n      return {\n        computedTooltipStyle: {\n          left: `${docks[dock].x}px`,\n          top: `${docks[dock].y}px`,\n          transform: dockTransforms[dock]\n        },\n        computedArrowStyle: getComputedArrowStyle(options.offset)[dock],\n        dock\n      };\n    }\n  }\n\n  return {\n    computedTooltipStyle: {\n      left: `${docks.top.x}px`,\n      top: `${docks.top.y}px`,\n      transform: dockTransforms.top\n    },\n    computedArrowStyle: getComputedArrowStyle(options.offset).top,\n    dock: 'top'\n  };\n}\n\nfunction alignToPoint({\n  options,\n  pointer,\n  width,\n  height,\n  dockOrder,\n  x,\n  y\n}) {\n  const {\n    targetBounds\n  } = pointer;\n\n  // Check if explicit dock\n  const dockTransforms = getDockTransform(options.offset);\n  const transform = dockTransforms[options.dock];\n  if (transform) {\n    return {\n      computedTooltipStyle: {\n        left: `${x}px`,\n        top: `${y}px`,\n        transform\n      },\n      computedArrowStyle: getComputedArrowStyle(options.offset)[options.dock],\n      dock: options.dock\n    };\n  }\n\n  const area = {\n    width: options.area === 'target' ? targetBounds.width : window.innerWidth,\n    height: options.area === 'target' ? targetBounds.height : window.innerHeight\n  };\n  const dockOffsets = getDockOffset(width, height, options.offset);\n\n  const results = [];\n  const edgeMargin = 20;\n  const vx = options.area === 'target' ? x : targetBounds.left + x;\n  const vy = options.area === 'target' ? y : targetBounds.top + y;\n\n  for (let i = 0; i < dockOrder.length; i += 1) {\n    const dock = dockOrder[i];\n\n    const offset = calcOffset({\n      area, vx, vy, width, height, offset: dockOffsets[dock]\n    });\n\n    const computedTooltipStyle = {\n      left: `${x}px`,\n      top: `${y}px`,\n      transform: dockTransforms[dock]\n    };\n    const computedArrowStyle = getComputedArrowStyle(options.offset)[dock];\n\n    if (offset.x !== 0) {\n      computedTooltipStyle.width = `${width - edgeMargin - Math.abs(offset.x)}px`;\n\n      if (dock === 'top' || dock === 'bottom') {\n        computedTooltipStyle.left = `${x + offset.x}px`;\n\n        computedArrowStyle.left = `calc(50% ${offset.x > 0 ? '-' : '+'} ${Math.abs(offset.x)}px)`;\n      }\n    }\n\n    const result = {\n      computedTooltipStyle,\n      computedArrowStyle,\n      dock,\n      rect: {\n        width,\n        height\n      }\n    };\n\n    if (offset.x === 0 && offset.y === 0) {\n      return result;\n    }\n\n    result.offset = offset;\n\n    results.push(result);\n  }\n\n  results.sort((a, b) => Math.abs(a.offset.x) - Math.abs(b.offset.x));\n\n  return results[0];\n}\n\nfunction alignToPointer({\n  options,\n  pointer,\n  width,\n  height\n}) {\n  const {\n    x,\n    y\n  } = pointer;\n\n  return alignToPoint({\n    x,\n    y,\n    pointer,\n    width,\n    height,\n    options,\n    dockOrder: ['top', 'left', 'right', 'bottom']\n  });\n}\n\nfunction alignToSlice({\n  options,\n  pointer,\n  width,\n  height,\n  nodes,\n  resources\n}) {\n  const node = nodes[0];\n  const { dx, dy } = pointer;\n  const componentBounds = resources.getComponentBoundsFromNode(node);\n\n  // cx and cy relative to targetBounds\n  const center = {\n    x: dx + componentBounds.x + (componentBounds.width / 2),\n    y: dy + componentBounds.y + (componentBounds.height / 2)\n  };\n\n  const {\n    start,\n    end,\n    outerRadius\n  } = node.desc.slice;\n\n  // Node origin is at 12 o clock, clockwise, but Math uses 3 a clock, so it's transformed to origin at 3 a clock\n  const middle = ((start + end) / 2) - (Math.PI / 2);\n  const PI2 = Math.PI * 2;\n  const radians = ((middle % PI2) + PI2) % PI2;\n  let dockOrder = ['top', 'left', 'right', 'bottom'];\n\n  if (options.dock === 'auto') {\n    if (radians <= Math.PI / 4 || radians >= (Math.PI * 7) / 4) {\n      dockOrder = ['right', 'top', 'bottom', 'left'];\n    } else if (radians <= (Math.PI * 3) / 4) {\n      dockOrder = ['bottom', 'left', 'right', 'top'];\n    } else if (radians <= (Math.PI * 5) / 4) {\n      dockOrder = ['left', 'top', 'bottom', 'right'];\n    } else {\n      dockOrder = ['top', 'left', 'right', 'bottom'];\n    }\n  }\n\n  return alignToPoint({\n    x: center.x + (outerRadius * componentBounds.scaleRatio.x * Math.cos(radians)),\n    y: center.y + (outerRadius * componentBounds.scaleRatio.y * Math.sin(radians)),\n    pointer,\n    width,\n    height,\n    options,\n    dockOrder\n  });\n}\n\nfunction getComponentBoundsFromNode(node, pointer, chart) {\n  const comp = node.key ? chart.component(node.key)\n    : chart.componentsFromPoint({ x: pointer.clientX, y: pointer.clientY })[0];\n\n  if (!comp) {\n    return {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0,\n      scaleRatio: {\n        x: 1,\n        y: 1\n      }\n    };\n  }\n\n  const componentSize = comp.rect;\n  return extend({ scaleRatio: componentSize.scaleRatio }, componentSize.computedInner);\n}\n\nfunction getNodeBoundsRelativeToTarget(node, pointer, chart) {\n  const componentBounds = getComponentBoundsFromNode(node, pointer, chart);\n  const bounds = node.bounds;\n\n  return {\n    x: componentBounds.x + pointer.dx + bounds.x,\n    y: componentBounds.y + pointer.dy + bounds.y,\n    width: bounds.width,\n    height: bounds.height\n  };\n}\n\nconst STRATEGIES = {\n  bounds: alignToBounds,\n  pointer: alignToPointer,\n  slice: alignToSlice\n};\n\nexport default function placement({ width, height }, {\n  chart,\n  state,\n  props\n}) {\n  const propCtx = {\n    resources: {\n      formatter: chart.formatter,\n      scale: chart.scale,\n      component: chart.component,\n      getComponentBoundsFromNode: (node) => getComponentBoundsFromNode(node, state.pointer, chart),\n      getNodeBoundsRelativeToTarget: (node) => getNodeBoundsRelativeToTarget(node, state.pointer, chart)\n    },\n    nodes: state.activeNodes,\n    pointer: state.pointer,\n    width,\n    height\n  };\n  const type = typeof props.placement;\n\n  if (type === 'object' && typeof props.placement.fn === 'function') {\n    // Custom placement strategy function\n    return props.placement.fn(propCtx);\n  }\n\n  let opts = {\n    type: 'pointer',\n    offset: 8,\n    dock: 'auto',\n    area: 'viewport'\n  };\n  if (type === 'function') {\n    // Custom placement function\n    opts = extend(opts, props.placement(propCtx));\n  }\n\n  if (type === 'object' && STRATEGIES[props.placement.type]) {\n    // Predefined placement function with options\n    opts = extend(opts, props.placement);\n  } else if (type === 'string' && STRATEGIES[props.placement]) {\n    // Predefined placement function without options\n    opts = extend(opts, { type: props.placement });\n  }\n\n  propCtx.options = opts;\n  const plcm = STRATEGIES[opts.type](propCtx);\n\n  let {\n    x: minX,\n    y: minY,\n    width: maxX,\n    height: maxY\n  } = propCtx.resources.getComponentBoundsFromNode(propCtx.nodes[0]);\n  minX += propCtx.pointer.dx;\n  maxX += minX;\n  minY += propCtx.pointer.dy;\n  maxY += minY;\n\n  // Clamp tooltip position\n  plcm.computedTooltipStyle.left = `${Math.min(Math.max(0, minX, parseFloat(plcm.computedTooltipStyle.left)), maxX)}px`;\n  plcm.computedTooltipStyle.top = `${Math.min(Math.max(0, minY, parseFloat(plcm.computedTooltipStyle.top)), maxY)}px`;\n\n  return plcm;\n}\n","let instance;\n\nexport function setActive(action) {\n  instance = action;\n}\n\nexport function removeActive(action) {\n  if (instance === action) {\n    instance = null;\n    return true;\n  }\n\n  return false;\n}\n\nexport function cancelActive(a) {\n  if (instance && instance !== a) {\n    instance();\n  }\n}\n\nexport function getActive() {\n  return instance;\n}\n\nexport function remove() {\n  instance = null;\n}\n","import extend from 'extend';\nimport extractor from './extractor';\nimport render from './render';\nimport timeSpanDispatcher from './timespan-dispatcher';\nimport placement from './placement';\nimport {\n  setActive,\n  removeActive,\n  cancelActive,\n  remove\n} from './instance-handler';\n\n/**\n * @typedef {object}\n * @alias component--tooltip.settings\n */\nconst DEFAULT_SETTINGS = {\n  /**\n   * How long the tooltip is visible, in milliseconds\n   * @type {number=}\n   */\n  duration: 8000,\n  /**\n   * Delay before the tooltip is rendered, in milliseconds\n   * @type {number=}\n   */\n  delay: 500,\n  /**\n   * Reduce incoming nodes to only a set of applicable nodes. Is called as a part of the `show` event.\n   * @type {function=}\n   * @returns {array} An array of nodes\n   */\n  filter: (nodes) => nodes.filter((node) => node.data && typeof node.data.value !== 'undefined'),\n  /**\n   * Extract data from a node.\n   * @type {function=}\n   * @returns {object} An array of data\n   */\n  extract: (ctx) => ctx.node.data.value,\n  /**\n   * Content generator. Extracted data is available in the `data` property, where each value in the area is the extracted datum from a node.\n   * @type {function=}\n   * @returns {object[]} Array of h objects\n   */\n  content: ({ h, data }) => data.map((datum) => h('div', {}, datum)),\n  /**\n   * Comparison function. If evaluted to true, the incoming nodes in the `show` event are ignored. If evaluated to false, any active tooltip is cleared and a new tooltip is queued.\n   *\n   * The function gets two parameters, the first is the currently active set of nodes, if any, and the second is the incoming set of nodes. By default the two set of nodes are considered equal if their data attributes are the same.\n   * @type {function=}\n   * @returns {boolean}\n   */\n  isEqual: (prev, curr) => prev.length\n    && prev.length === curr.length\n    && prev.every((p, i) => curr[i] && JSON.stringify(p.data) === JSON.stringify(curr[i].data)),\n  /**\n   * @typedef {object=}\n   */\n  placement: {\n    /**\n     * Available types: [pointer | bounds | slice]\n     * @type {string=}\n     */\n    type: 'pointer',\n    /**\n     * Docking position of the tooltip. Available positions: [left | right | top | bottom | auto]\n     * @type {string=}\n     */\n    dock: 'auto',\n    /**\n     * Distance from the content area to the tooltip position, in px.\n     * @type {number=}\n     */\n    offset: 8,\n    /**\n     * Specify the limiting area, where target is the component area unless the appendTo property is set, in which case it referes to the appendTo element. Viewport is the browser viewport.\n     *\n     * Available options are: [viewport | target]\n     * @type {number=}\n     */\n    area: 'viewport'\n  },\n  /**\n   * Set tooltip class.\n  * @type {object<string, boolean>=}\n  */\n  tooltipClass: {},\n  /**\n   * Set content class.\n  * @type {object<string, boolean>=}\n  */\n  contentClass: {},\n  /**\n   * Set arrow class.\n  * @type {object<string, boolean>=}\n  */\n  arrowClass: {},\n  /**\n   * Content direction [ltr | rtl]\n   * @type {string=}\n   */\n  direction: 'ltr',\n  /**\n   * Explicitly set a target element. This allows the tooltip to attach itself outside the picasso container.\n   * @type {HTMLElement=}\n   */\n  appendTo: undefined,\n  /**\n   * Component lifecycle hook. Called before the tooltip is displayed.\n   * @type {function=}\n   */\n  beforeShow: undefined,\n  /**\n   * Component lifecycle hook. Called after the tooltip have been displayed.\n   * @type {function=}\n   */\n  afterShow: undefined,\n  /**\n   * Component lifecycle hook. Called before the tooltip is hidden.\n   * @type {function=}\n   */\n  beforeHide: undefined,\n  /**\n   * Component lifecycle hook. Called when the toolip is hidden. By default this deletes the tooltip element.\n   * @type {function=}\n   */\n  onHide: undefined,\n  /**\n   * Component lifecycle hook. Called after the tooltip is hidden.\n   * @type {function=}\n   */\n  afterHide: undefined\n};\n\nconst DEFAULT_STYLE = {\n  tooltip: {},\n  content: {\n    backgroundColor: '$gray-25',\n    color: '$font-color--inverted',\n    fontFamily: '$font-family',\n    fontSize: '$font-size',\n    lineHeight: '$line-height',\n    borderRadius: '4px',\n    padding: '8px',\n    opacity: 0.9\n  },\n  arrow: {\n    position: 'absolute',\n    width: '0px',\n    height: '0px',\n    borderStyle: 'solid',\n    color: '$gray-25',\n    opacity: 0.9\n  },\n  'arrow-bottom': {\n    borderTopColor: 'transparent',\n    borderLeftColor: 'transparent',\n    borderRightColor: 'transparent'\n  },\n  'arrow-top': {\n    borderBottomColor: 'transparent',\n    borderLeftColor: 'transparent',\n    borderRightColor: 'transparent'\n  },\n  'arrow-right': {\n    borderTopColor: 'transparent',\n    borderLeftColor: 'transparent',\n    borderBottomColor: 'transparent'\n  },\n  'arrow-left': {\n    borderTopColor: 'transparent',\n    borderBottomColor: 'transparent',\n    borderRightColor: 'transparent'\n  }\n};\n\nfunction toPoint(event, { chart, state }) {\n  let x = 0;\n  let y = 0;\n  if (event.center) {\n    x += event.center.x;\n    y += event.center.y;\n  } else {\n    x += event.clientX;\n    y += event.clientY;\n  }\n  // TODO Don't do getBoundingClientRect lookup here. It's performance heavy.\n  const chartBounds = chart.element.getBoundingClientRect();\n  const targetBounds = state.targetElement.getBoundingClientRect();\n  const clientX = x;\n  const clientY = y;\n  const dx = chartBounds.left - targetBounds.left;\n  const dy = chartBounds.top - targetBounds.top;\n  const cx = x - chartBounds.left;\n  const cy = y - chartBounds.top;\n  x -= targetBounds.left;\n  y -= targetBounds.top;\n  return {\n    x, // Target point relative to the target bounds\n    y,\n    dx, // Delta from target bounds to the chart bounds\n    dy,\n    cx, // Target point relative to the chart bounds\n    cy,\n    clientX,\n    clientY,\n    targetBounds, // Target bounding rect\n    chartBounds // Chart bounding rect\n  };\n}\n\nconst component = {\n  require: ['chart', 'renderer'],\n  defaultSettings: {\n    settings: DEFAULT_SETTINGS,\n    style: DEFAULT_STYLE\n  },\n  renderer: 'dom',\n  on: {\n    hide() {\n      this.hide();\n    },\n    show(event, opts = {}) {\n      this.show(event, opts);\n    },\n    prevent(p) {\n      this.prevent(p);\n    }\n  },\n  hide() {\n    this.dispatcher.clear();\n    this.state.activeNodes = [];\n    this.state.pointer = {};\n  },\n  show(event, { nodes, duration, delay } = {}) {\n    if (this.state.prevent) {\n      return;\n    }\n\n    // Set pointer here to always expose latest pointer to invokeRenderer\n    this.state.pointer = toPoint(event, this);\n\n    let fNodes;\n    if (Array.isArray(nodes)) {\n      fNodes = this.props.filter(nodes);\n    } else {\n      fNodes = this.props.filter(this.chart.shapesAt({\n        x: this.state.pointer.cx,\n        y: this.state.pointer.cy\n      }));\n    }\n\n    if (this.props.isEqual(this.state.activeNodes, fNodes)) {\n      return;\n    }\n\n    this.dispatcher.clear();\n    this.state.activeNodes = fNodes;\n\n    if (this.state.activeNodes.length) {\n      this.dispatcher.invoke(\n        () => this.invokeRenderer(this.state.activeNodes),\n        duration,\n        delay\n      );\n    }\n  },\n  prevent(p) {\n    this.state.prevent = !!p;\n  },\n  init(settings) {\n    this.state = {\n      activeNodes: [],\n      pointer: {},\n      targetElement: null,\n      prevent: false\n    };\n    this.props = settings.settings;\n    this.dispatcher = timeSpanDispatcher({\n      defaultDuration: this.props.duration,\n      defaultDelay: this.props.delay\n    });\n\n    const instanceId = this.dispatcher.clear;\n    this.dispatcher.on('pending', () => {\n      // Cancel only if the active is another instance\n      cancelActive(instanceId);\n      setActive(instanceId);\n\n      if (typeof this.props.beforeShow === 'function') {\n        this.props.beforeShow.call(undefined, {\n          resources: {\n            formatter: this.chart.formatter,\n            scale: this.chart.scale\n          }\n        });\n      }\n    });\n\n    this.dispatcher.on(['cancelled', 'fulfilled'], () => {\n      const listenerCtx = {\n        resources: {\n          formatter: this.chart.formatter,\n          scale: this.chart.scale\n        }\n      };\n\n      if (typeof this.props.beforeHide === 'function') {\n        this.props.beforeHide.call(undefined, extend({ element: this.state.tooltipElm }, listenerCtx));\n      }\n\n      if (typeof this.props.onHide === 'function') {\n        this.props.onHide.call(undefined, extend({ element: this.state.tooltipElm }, listenerCtx));\n      } else {\n        this.renderer.clear([]); // Hide tooltip\n      }\n\n      if (typeof this.props.afterHide === 'function') {\n        this.props.afterHide.call(undefined, listenerCtx);\n      }\n\n      removeActive(instanceId);\n      this.state.tooltipElm = undefined;\n    });\n\n    this.dispatcher.on('active', () => {\n      if (typeof this.props.afterShow === 'function') {\n        this.props.afterShow.call(undefined, {\n          element: this.state.tooltipElm,\n          resources: {\n            formatter: this.chart.formatter,\n            scale: this.chart.scale\n          }\n        });\n      }\n    });\n  },\n  created() {\n    this.init(this.settings);\n  },\n  beforeUpdate({ settings }) {\n    if (this.dispatcher) {\n      this.dispatcher.destroy();\n      remove();\n    }\n    this.init(settings);\n  },\n  render(h) {\n    this.h = h;\n    return []; // Nothing to render initially.\n  },\n  beforeDestroy() {\n    this.dispatcher.destroy();\n    remove();\n  },\n  appendTo() {\n    if (this.props.appendTo) {\n      this.state.targetElement = typeof this.props.appendTo === 'function' ? this.props.appendTo({\n        resources: {\n          formatter: this.chart.formatter,\n          scale: this.chart.scale\n        }\n      }) : this.props.appendTo;\n      const { width, height } = this.state.targetElement.getBoundingClientRect();\n      this.renderer.destroy();\n      this.renderer.size({ width, height });\n      this.renderer.appendTo(this.state.targetElement);\n    } else {\n      this.state.targetElement = this.renderer.element();\n    }\n  },\n  mounted() {\n    this.appendTo();\n  },\n  updated() {\n    // Append here to, otherwise the picasso displayOrder logic screw things up\n    this.appendTo();\n  },\n  invokeRenderer(nodes) {\n    const items = extractor(nodes, this);\n    const pseudoElement = render(items, { style: { left: '0px', top: '0px', visibility: 'hidden' } }, this);\n    const pos = placement(pseudoElement.getBoundingClientRect(), this);\n    this.state.tooltipElm = render(items, pos, this);\n  }\n};\n\nexport { component as default };\n","import tooltip from './tooltip';\n\n/**\n * @typedef {object} component--tooltip\n */\n\n/**\n * @type {string}\n * @memberof component--tooltip\n */\nconst type = 'tooltip';\n\nexport default function addTooltip(picasso) {\n  picasso.component(type, tooltip);\n}\n","const debugColliderDef = {\n  require: ['renderer', 'chart'],\n  defaultSettings: {\n    settings: {\n      target: '',\n      selector: '*',\n      fill: 'rgba(0, 255, 0, 0.1)',\n      stroke: 'lime',\n      opacity: 1,\n      useOuterRect: false\n    }\n  },\n  on: {\n    update() {\n      this.draw();\n    }\n  },\n  draw() {\n    const shapes = this.chart.findShapes(this.props.selector).filter((s) => s.key === this.props.target); // Find all shapes\n    const colliders = shapes.filter((s) => s.collider).map((s) => s.collider);\n\n    colliders.forEach((c) => {\n      c.fill = this.props.fill;\n      c.stroke = this.props.stroke;\n      c.opacity = this.props.opacity;\n      c.collider = { type: null };\n    });\n\n    this.renderer.render(colliders);\n  },\n  created() {\n    this.props = this.settings.settings;\n  },\n  resize({ outer, inner }) {\n    if (this.props.useOuterRect) {\n      return outer;\n    }\n    return inner;\n  },\n  render() { },\n  mounted() {\n    this.draw();\n  },\n  updated() {\n    this.props = this.settings.settings;\n    this.draw();\n  }\n};\n\nexport default debugColliderDef;\n","import { toRadians } from './angles';\n\nconst PI_X2 = Math.PI * 2;\n\n/**\n * Implementation of F.6.5 https://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\n * @ignore\n * @param {number} rx - Arc x-radius\n * @param {number} ry - Arc y-radius\n * @param {number} rotation - Arc rotation in degrees (0-360)\n * @param {boolean} largeArcFlag\n * @param {boolean} sweepFlag\n * @param {number} endX - X-coordinate for end of arc\n * @param {number} endY - Y-coordinate for end of arc\n * @param {number} startX - X-coordinate for start of arc\n * @param {number} startY - Y-coordinate for start of arc\n * @returns {object}\n */\nfunction arcToCenter(rx, ry, rotation, largeArcFlag, sweepFlag, endX, endY, startX, startY) {\n  let startAngle;\n  let endAngle;\n  let sweepAngle;\n  let cx;\n  let cy;\n  let radiusRatio;\n\n  const rad = toRadians(rotation % 360);\n\n  // F.6.5.1\n  const cos = Math.cos(rad);\n  const sin = Math.sin(rad);\n  const hdx = (startX - endX) / 2;\n  const hdy = (startY - endY) / 2;\n\n  const x1d = (cos * hdx) + (sin * hdy);\n  const y1d = (cos * hdy) - (sin * hdx);\n\n  // F.6.6\n  rx = Math.abs(rx);\n  ry = Math.abs(ry);\n\n  radiusRatio = (Math.pow(x1d, 2) / Math.pow(rx, 2)) + (Math.pow(y1d, 2) / Math.pow(ry, 2));\n  if (radiusRatio > 1) {\n    radiusRatio = Math.sqrt(radiusRatio);\n    rx *= radiusRatio;\n    ry *= radiusRatio;\n  }\n\n  // F.6.5.2\n  const rxry = rx * ry;\n  const rxy1d = rx * y1d;\n  const ryx1d = ry * x1d;\n  const den = Math.pow(rxy1d, 2) + Math.pow(ryx1d, 2);\n  const num = Math.pow(rxry, 2) - den;\n\n  let frac = Math.sqrt(Math.max(num / den, 0));\n\n  if (largeArcFlag === sweepFlag) {\n    frac = -frac;\n  }\n\n  const cxd = frac * (rxy1d / ry);\n  const cyd = frac * -(ryx1d / rx);\n\n  // F.6.5.3\n  const mx = (startX + endX) / 2;\n  const my = (startY + endY) / 2;\n  cx = ((cos * cxd) - (sin * cyd)) + mx;\n  cy = (sin * cxd) + (cos * cyd) + my;\n\n  // F.6.5.6 clockwise angle\n  const ux = (x1d - cxd) / rx;\n  const uy = (y1d - cyd) / ry;\n  const vx = (-x1d - cxd) / rx;\n  const vy = (-y1d - cyd) / ry;\n  startAngle = Math.atan2(uy, ux);\n  startAngle += startAngle < 0 ? PI_X2 : 0;\n  endAngle = Math.atan2(vy, vx);\n  endAngle += endAngle < 0 ? PI_X2 : 0;\n\n  sweepAngle = endAngle - startAngle;\n\n  if (!sweepFlag && startAngle < endAngle) {\n    sweepAngle -= PI_X2;\n  } else if (sweepFlag && endAngle < startAngle) {\n    sweepAngle += PI_X2;\n  }\n\n  sweepAngle %= PI_X2;\n\n  return {\n    startAngle,\n    sweepAngle,\n    cx,\n    cy,\n    rx,\n    ry\n  };\n}\n\nexport {\n  arcToCenter as default,\n  PI_X2\n};\n","/**\n * Measure the flatnass of a cubic bezier curve\n * @ignore\n * @param {point} s - Start point\n * @param {point} cp1 - First control point\n * @param {point} cp2 - Second control point\n * @param {point} e - End point\n */\nexport default function flatness(s, cp1, cp2, e) {\n  const ux = Math.abs((s.x + cp2.x) - (cp1.x + cp1.x));\n  const uy = Math.abs((s.y + cp2.y) - (cp1.y + cp1.y));\n  const vx = Math.abs((cp1.x + e.x) - (cp2.x + cp2.x));\n  const vy = Math.abs((cp1.y + e.y) - (cp2.y + cp2.y));\n\n  return ux + uy + vx + vy;\n}\n","import flatness from './curve-flattness';\n\nfunction mid(p0, p1) {\n  return {\n    x: (p0.x + p1.x) / 2,\n    y: (p0.y + p1.y) / 2\n  };\n}\n\nfunction interpolate(t, s, cp1, cp2, e) {\n  const td = 1 - t;\n  const t0 = Math.pow(td, 3) * s;\n  const t1 = 3 * Math.pow(td, 2) * t * cp1;\n  const t2 = 3 * td * Math.pow(t, 2) * cp2;\n  const t3 = Math.pow(t, 3) * e;\n\n  return t0 + t1 + t2 + t3;\n}\n\n/**\n * Recursive subdivision of a curve using de Casteljau algorithm.\n * Splits the curve into multiple line segments where each segments is choosen based on a level of flatness.\n * @ignore\n * @param {point} s - Start point\n * @param {point} cp1 - First control point\n * @param {point} cp2 - Second control point\n * @param {point} e - End point\n * @param {array} points - Initial set of points\n * @returns {point[]} Array of points\n */\nfunction toPoints(s, cp1, cp2, e, points = []) {\n  if (flatness(s, cp1, cp2, e) <= 10) {\n    // Poor man's Set\n    if (points.indexOf(s) === -1) {\n      points.push(s);\n    }\n    if (points.indexOf(e) === -1) {\n      points.push(e);\n    }\n    return points;\n  }\n\n  const t = 0.5;\n\n  const m0 = mid(s, cp1);\n  const m1 = mid(cp1, cp2);\n  const m2 = mid(cp2, e);\n\n  const b = { // Split curve at point\n    x: interpolate(t, s.x, cp1.x, cp2.x, e.x),\n    y: interpolate(t, s.y, cp1.y, cp2.y, e.y)\n  };\n\n  const q0 = mid(m0, m1); // New cp2 for left curve\n  const q1 = mid(m1, m2); // New cp1 for right curve\n\n  toPoints(s, m0, q0, b, points); // left curve\n  toPoints(b, q1, m2, e, points); // Right curve\n\n  return points;\n}\n\nexport {\n  toPoints as default,\n  interpolate\n};\n","import cubicToPoints from './cubic-bezier-curve-interpolation';\n\nfunction interpolate(t, s, cp, e) {\n  const td = (1 - t);\n\n  return (Math.pow(td, 2) * s)\n    + (2 * td * t * cp)\n    + (Math.pow(t, 2) * e);\n}\n\nfunction toCubic(s, cp, e) {\n  const cp1x = s.x + ((2 / 3) * (cp.x - s.x));\n  const cp1y = s.y + ((2 / 3) * (cp.y - s.y));\n  const cp2x = e.x + ((2 / 3) * (cp.x - e.x));\n  const cp2y = e.y + ((2 / 3) * (cp.y - e.y));\n  const cp1 = { x: cp1x, y: cp1y };\n  const cp2 = { x: cp2x, y: cp2y };\n\n  return { cp1, cp2 };\n}\n\n/**\n * Recursive subdivision of a curve using de Casteljau algorithm.\n * Splits the curve into multiple line segments where each segments is choosen based on a level of flatness.\n * @ignore\n * @param {point} s - Start point\n * @param {point} cp - Control point\n * @param {point} e - End point\n * @returns {point[]} Array of points\n */\nfunction toPoints(s, cp, e) {\n  const { cp1, cp2 } = toCubic(s, cp, e);\n\n  return cubicToPoints(s, cp1, cp2, e);\n}\n\nexport {\n  interpolate,\n  toPoints as default\n};\n","import { parsePath } from 'path2d-polyfill';\nimport arcToCenter, { PI_X2 } from '../math/arc-to-center';\nimport cubicCurveToPoints from '../math/cubic-bezier-curve-interpolation';\nimport quadCurveToPoints from '../math/quad-bezier-curve-interpolation';\n\nconst EPSILON = 1e-12;\n\nfunction removeDuplicates(points) {\n  for (let i = 0; i < points.length - 1; i++) {\n    const p0 = points[i];\n    const p1 = points[i + 1];\n    if (Math.abs(p0.x - p1.x) < EPSILON && Math.abs(p0.y - p1.y) < EPSILON) {\n      points.splice(i, 1);\n      i--;\n    }\n  }\n}\n\n/**\n * Transform an arc to a set of points a long the arc.\n * Specifiction F.6 (https://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes)\n * @ignore\n * @param {array} s - Segments\n * @param {number} startX - X-coordinate for start of arc\n * @param {number} startY - Y-coordinate for start of arc\n */\nfunction arcToPoints(s, startX, startY) {\n  const points = [];\n  const largeArcFlag = !!s[4]; // F.6.3\n  const sweepFlag = !!s[5]; // F.6.3\n  const rotation = s[3];\n  let endX = s[6];\n  let endY = s[7];\n  let rx = s[1];\n  let ry = s[2];\n  let cx;\n  let cy;\n  let sweepAngle;\n  let startAngle;\n\n  if (s[0] === 'a') {\n    endX += startX;\n    endY += startY;\n  }\n\n  // F.6.2\n  if (startX === endY && startY === endY) {\n    return points;\n  }\n\n  // Given no radius, threat as lineTo command\n  if (!rx || !ry) {\n    points.push({ x: endX, y: endY });\n    return points;\n  }\n\n  ({\n    cx, cy, rx, ry, sweepAngle, startAngle\n  } = arcToCenter(rx, ry, rotation, largeArcFlag, sweepFlag, endX, endY, startX, startY));\n\n  // Approximation of perimeter\n  const p = Math.abs(sweepAngle * Math.sqrt((Math.pow(rx, 2) + Math.pow(ry, 2)) / 2));\n\n  // Generate a point every 10th pixel. Scaling of the node should probably be included in this calculation\n  const res = Math.ceil(p / 10);\n  const resAngle = sweepAngle / res;\n\n  for (let k = 1; k <= res; k++) {\n    const deltaAngle = resAngle * k;\n    const radians = (startAngle + deltaAngle) % PI_X2;\n    const cos = Math.cos(radians);\n    const sin = Math.sin(radians);\n    // F.6.3 https://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\n    points.push({\n      x: cx + (cos * rx) + (-sin * cos),\n      y: cy + (sin * ry) + (cos * sin)\n    });\n  }\n\n  // points.push({ x: cx, y: cy });\n\n  return points;\n}\n\n/**\n * Converts a SVG path data string into a set of points.\n * @ignore\n * @param {string} path\n * @returns {Array<point[]>} Array of points\n */\nexport default function pathToPoints(path) {\n  const commands = parsePath(path);\n  const segments = [];\n  const points = [];\n  let x = 0; // Current point\n  let y = 0;\n  let cpx = null; // Last control point on a cubic curve\n  let cpy = null;\n  let qcpx = null; // Last control point on a quad curve\n  let qcpy = null;\n\n  for (let i = 0; i < commands.length; ++i) {\n    const cmd = commands[i];\n    const pathType = cmd[0];\n\n    // Reset control point if command is not cubic\n    if (pathType !== 'S' && pathType !== 's' && pathType !== 'C' && pathType !== 'c') {\n      cpx = null;\n      cpy = null;\n    }\n\n    if (pathType !== 'T' && pathType !== 't' && pathType !== 'Q' && pathType !== 'q') {\n      qcpx = null;\n      qcpy = null;\n    }\n\n    switch (pathType) {\n      case 'm':\n        if (points.length) {\n          segments.push(points.splice(0));\n        }\n        // Fall through\n      case 'l': // eslint-disable-line no-fallthrough\n        x += cmd[1];\n        y += cmd[2];\n        points.push({ x, y });\n        break;\n      case 'M':\n        if (points.length) {\n          segments.push(points.splice(0));\n        }\n        // Fall through\n      case 'L': // eslint-disable-line no-fallthrough\n        x = cmd[1];\n        y = cmd[2];\n        points.push({ x, y });\n        break;\n      case 'H':\n        x = cmd[1];\n        points.push({ x, y });\n        break;\n      case 'h':\n        x += cmd[1];\n        points.push({ x, y });\n        break;\n      case 'V':\n        y = cmd[1];\n        points.push({ x, y });\n        break;\n      case 'v':\n        y += cmd[1];\n        points.push({ x, y });\n        break;\n      case 'a':\n        points.push(...arcToPoints(cmd, x, y));\n        x += cmd[6];\n        y += cmd[7];\n        break;\n      case 'A':\n        points.push(...arcToPoints(cmd, x, y));\n        x = cmd[6];\n        y = cmd[7];\n        break;\n      case 'c':\n        points.push(...cubicCurveToPoints(\n          { x, y },\n          { x: cmd[1] + x, y: cmd[2] + y },\n          { x: cmd[3] + x, y: cmd[4] + y },\n          { x: cmd[5] + x, y: cmd[6] + y }\n        ));\n        cpx = cmd[3] + x; // Last control point\n        cpy = cmd[4] + y;\n        x += cmd[5];\n        y += cmd[6];\n        break;\n      case 'C':\n        points.push(...cubicCurveToPoints(\n          { x, y },\n          { x: cmd[1], y: cmd[2] },\n          { x: cmd[3], y: cmd[4] },\n          { x: cmd[5], y: cmd[6] }\n        ));\n        cpx = cmd[3]; // Last control point\n        cpy = cmd[4];\n        x = cmd[5];\n        y = cmd[6];\n        break;\n      case 's':\n        if (cpx === null || cpx === null) {\n          cpx = x;\n          cpy = y;\n        }\n\n        points.push(...cubicCurveToPoints(\n          { x, y },\n          { x: (2 * x) - cpx, y: (2 * y) - cpy },\n          { x: cmd[1] + x, y: cmd[2] + y },\n          { x: cmd[3] + x, y: cmd[4] + y }\n        ));\n        cpx = cmd[1] + x; // last control point\n        cpy = cmd[2] + y;\n        x += cmd[3];\n        y += cmd[4];\n        break;\n      case 'S':\n        if (cpx === null || cpx === null) {\n          cpx = x;\n          cpy = y;\n        }\n\n        points.push(...cubicCurveToPoints(\n          { x, y },\n          { x: (2 * x) - cpx, y: (2 * y) - cpy },\n          { x: cmd[1], y: cmd[2] },\n          { x: cmd[3], y: cmd[4] }\n        ));\n        cpx = cmd[1]; // last control point\n        cpy = cmd[2];\n        x = cmd[3];\n        y = cmd[4];\n        break;\n      case 'Q':\n        points.push(...quadCurveToPoints(\n          { x, y },\n          { x: cmd[1], y: cmd[2] },\n          { x: cmd[3], y: cmd[4] }\n        ));\n\n        qcpx = cmd[1]; // last control point\n        qcpy = cmd[2];\n        x = cmd[3];\n        y = cmd[4];\n        break;\n      case 'q':\n        points.push(...quadCurveToPoints(\n          { x, y },\n          { x: cmd[1] + x, y: cmd[2] + y },\n          { x: cmd[3] + x, y: cmd[4] + y }\n        ));\n\n        qcpx = cmd[1] + x; // last control point\n        qcpy = cmd[2] + y;\n        x += cmd[3];\n        y += cmd[4];\n        break;\n      case 'T':\n        if (qcpx === null || qcpx === null) {\n          qcpx = x;\n          qcpy = y;\n        }\n\n        qcpx = (2 * x) - qcpx; // last control point\n        qcpy = (2 * y) - qcpy;\n        points.push(...quadCurveToPoints(\n          { x, y },\n          { x: qcpx, y: qcpy },\n          { x: cmd[1], y: cmd[2] }\n        ));\n\n        x = cmd[1];\n        y = cmd[2];\n        break;\n      case 't':\n        if (qcpx === null || qcpx === null) {\n          qcpx = x;\n          qcpy = y;\n        }\n\n        qcpx = (2 * x) - qcpx; // last control point\n        qcpy = (2 * y) - qcpy;\n        points.push(...quadCurveToPoints(\n          { x, y },\n          { x: qcpx, y: qcpy },\n          { x: cmd[1] + x, y: cmd[2] + y }\n        ));\n        x += cmd[1];\n        y += cmd[2];\n        break;\n      case 'z':\n      case 'Z':\n        if (points.length) {\n          points.push({ x: points[0].x, y: points[0].y });\n        }\n        break;\n      default:\n        // Do nothing\n    }\n  }\n\n  removeDuplicates(points);\n  segments.push(points.splice(0));\n\n  return segments;\n}\n","import pathToSegments from '../../scene-graph/parse-path-d';\n\nconst debugPathToPointsDef = {\n  require: ['renderer', 'chart'],\n  defaultSettings: {\n    settings: {\n      target: '',\n      fill: 'transparent',\n      stroke: 'lime',\n      opacity: 1,\n      radius: 2,\n      useOuterRect: false\n    }\n  },\n  on: {\n    update() {\n      this.draw();\n    }\n  },\n  draw() {\n    const shapes = this.chart.findShapes('path').filter((s) => s.key === this.props.target); // Find all shapes\n\n    const circles = [];\n    shapes.forEach((s) => {\n      pathToSegments(s.attrs.d).forEach((segment) => {\n        segment.forEach((p) => {\n          circles.push({\n            type: 'circle',\n            cx: p.x,\n            cy: p.y,\n            r: this.props.radius,\n            fill: this.props.fill,\n            stroke: this.props.stroke,\n            opacity: this.props.opacity,\n            collider: { type: null }\n          });\n        });\n      });\n    });\n\n    this.renderer.render(circles);\n  },\n  created() {\n    this.props = this.settings.settings;\n  },\n  resize({ outer, inner }) {\n    if (this.props.useOuterRect) {\n      return outer;\n    }\n    return inner;\n  },\n  render() { },\n  mounted() {\n    this.draw();\n  },\n  updated() {\n    this.props = this.settings.settings;\n    this.draw();\n  }\n};\n\nexport default debugPathToPointsDef;\n","import createDebugCollider from './debug-collider';\nimport createDebugPathToPoints from './debug-path-to-points';\n\nexport function debugCollider(picasso) {\n  picasso.component('debug-collider', createDebugCollider);\n}\n\nexport function debugPathToPoints(picasso) {\n  picasso.component('debug-path-to-points', createDebugPathToPoints);\n}\n","import boxComponent from '../core/chart-components/box';\nimport pointComponent from '../core/chart-components/point';\nimport pieComponent from '../core/chart-components/pie';\nimport gridLineComponent from '../core/chart-components/grid';\nimport refLineComponent from '../core/chart-components/ref-line';\nimport axisComponent from '../core/chart-components/axis';\nimport textComponent from '../core/chart-components/text';\nimport scrollbarComponent from '../core/chart-components/scrollbar';\nimport brushRangeComponent from '../web/components/brush-range';\nimport rangeComponent from '../core/chart-components/range';\nimport brushLassoComponent from '../core/chart-components/brush-lasso';\nimport labelsComponent from '../core/chart-components/labels';\nimport categoricalLegend from '../core/chart-components/legend-cat';\nimport sequentialLegend from '../core/chart-components/legend-seq';\nimport lineComponent from '../core/chart-components/line';\nimport brushAreaComponent from '../web/components/brush-area';\nimport tooltipComponent from '../web/components/tooltip';\nimport {\n  debugCollider,\n  debugPathToPoints\n} from '../core/chart-components/debug';\n\nexport default [\n  boxComponent,\n  pointComponent,\n  pieComponent,\n  gridLineComponent,\n  refLineComponent,\n  axisComponent,\n  textComponent,\n  scrollbarComponent,\n  brushRangeComponent,\n  rangeComponent,\n  brushLassoComponent,\n  labelsComponent,\n  categoricalLegend,\n  sequentialLegend,\n  lineComponent,\n  brushAreaComponent,\n  tooltipComponent,\n  debugCollider,\n  debugPathToPoints\n];\n","class Node {\n  /**\n   * @private\n   */\n  constructor(type) {\n    this._parent = null;\n    this._children = [];\n    this._ancestors = null;\n    this.type = type;\n    this.data = null;\n  }\n\n  /**\n   * Detaches this node from its parent, if such exists.\n   * @returns {Node}\n   */\n  detach() {\n    if (this._parent) {\n      this._parent.removeChild(this);\n    }\n    return this;\n  }\n\n  /**\n   * Parent of this node.\n   * @readonly\n   * @type {Node}\n   */\n  get parent() {\n    return this._parent;\n  }\n\n  /**\n   * Checks whether this node is a branch.\n   *\n   * True if this node has children, false otherwise.\n   * @readonly\n   * @type {Boolean}\n   */\n  get isBranch() {\n    return this._children && this._children.length;\n  }\n\n  /**\n   * Children of this node.\n   * @readonly\n   * @type {Node[]}\n   */\n  get children() {\n    return this._children;\n  }\n\n  /**\n   * Ancestors of this node, including parent.\n   * @readonly\n   * @type {Node[]}\n   */\n  get ancestors() {\n    if (!this._ancestors) {\n      this._ancestors = [];\n      if (this.parent) {\n        this._ancestors.push(this.parent, ...this.parent.ancestors);\n      }\n    }\n\n    return this._ancestors;\n  }\n\n  /**\n   * Descendants of this node.\n   * @readonly\n   * @type {Node[]}\n   */\n  get descendants() {\n    const r = [];\n    const len = this.children.length;\n    let i;\n    let c;\n\n    for (i = 0, len; i < len; i++) {\n      c = this.children[i];\n      r.push(c);\n\n      if (c.children.length) {\n        r.push(...c.descendants);\n      }\n    }\n    return r;\n  }\n\n  /**\n   *\n   * @returns {Boolean}\n   */\n  equals(n) {\n    const children = this.children;\n    const nChildren = n.children;\n    if (children.length !== nChildren.length) {\n      return false;\n    }\n    // Requires deterministic child order\n    for (let i = 0; i < children.length; i++) {\n      if (!children[i].equals(nChildren[i])) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  toJSON() {\n    return {\n      type: this.type,\n      children: this.children.map((ch) => ch.toJSON())\n    };\n  }\n}\n\nexport default Node;\n","import {\n  pointsToLine,\n  pointsToRect\n} from './util';\nimport {\n  testCircleRect,\n  testPolygonRect,\n  testRectRect,\n  testRectPoint,\n  testRectLine\n} from '../math/narrow-phase-collision';\n\n/**\n * Construct a new GeoRect instance\n * @private\n */\nclass GeoRect {\n  constructor({\n    x = 0, y = 0, width = 0, height = 0, minWidth = 0, minHeight = 0\n  } = {}) {\n    this.set({\n      x, y, width, height, minWidth, minHeight\n    });\n  }\n\n  set({\n    x = 0, y = 0, width = 0, height = 0, minWidth = 0, minHeight = 0\n  } = {}) {\n    this.type = 'rect';\n\n    if (width >= 0) {\n      this.x = x;\n      this.width = Math.max(width, minWidth);\n    } else {\n      this.x = x + Math.min(width, -minWidth);\n      this.width = -Math.min(width, -minWidth);\n    }\n\n    if (height >= 0) {\n      this.y = y;\n      this.height = Math.max(height, minHeight);\n    } else {\n      this.y = y + Math.min(height, -minHeight);\n      this.height = -Math.min(height, -minHeight);\n    }\n  }\n\n  /**\n   * @param {point} p\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  containsPoint(p) {\n    return testRectPoint(this, p);\n  }\n\n  /**\n   * @param {point[]} points - Line start and end point as an array of points\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsLine(points) {\n    const line = pointsToLine(points);\n    return testRectLine(this, line);\n  }\n\n  /**\n   * @param {point[]} points - Rect vertices as an array of points\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsRect(points) {\n    const rect = pointsToRect(points);\n    return testRectRect(this, rect);\n  }\n\n  /**\n   * @param {circle} c\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsCircle(c) {\n    return testCircleRect(c, this);\n  }\n\n  /**\n   * @param {GeoPolygon} polygon\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsPolygon(polygon) {\n    return testPolygonRect(polygon, this);\n  }\n\n  /**\n   * Get the points\n   * @returns {point[]}\n   */\n  points() {\n    return [\n      { x: this.x, y: this.y },\n      { x: this.x + this.width, y: this.y },\n      { x: this.x + this.width, y: this.y + this.height },\n      { x: this.x, y: this.y + this.height }\n    ];\n  }\n}\n\nfunction create(...args) {\n  return new GeoRect(...args);\n}\n\nexport {\n  GeoRect as default,\n  create\n};\n","import { pointsToLine, pointsToRect } from './util';\nimport {\n  testCirclePoint,\n  testCircleRect,\n  testCircleLine,\n  testCircleCircle,\n  testCirclePolygon\n} from '../math/narrow-phase-collision';\n\n/**\n * Construct a new GeoCircle instance\n * @private\n */\nclass GeoCircle {\n  constructor({\n    cx = 0, cy = 0, r = 0, minRadius = 0\n  } = {}) {\n    this.set({\n      cx, cy, r, minRadius\n    });\n  }\n\n  set({\n    cx = 0, cy = 0, r = 0, minRadius = 0\n  } = {}) {\n    this.type = 'circle';\n    this.cx = cx;\n    this.cy = cy;\n    this.r = Math.max(r, minRadius);\n    this.vector = { x: this.cx, y: this.cy };\n  }\n\n  /**\n   * @param {point} p\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  containsPoint(p) {\n    return testCirclePoint(this, p);\n  }\n\n  /**\n   * @param {point[]} points - Line start and end point as an array of points\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsLine(points) {\n    const line = pointsToLine(points);\n\n    return testCircleLine(this, line);\n  }\n\n  /**\n   * @param {point[]} points - Rect vertices as an array of points\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsRect(points) {\n    const rect = pointsToRect(points);\n\n    return testCircleRect(this, rect);\n  }\n\n  /**\n   * @param {circle} c\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsCircle(c) {\n    return testCircleCircle(this, c);\n  }\n\n  /**\n   * @param {GeoPolygon} polygon\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsPolygon(polygon) {\n    return testCirclePolygon(this, polygon);\n  }\n\n  /**\n   * Get the points\n   * @returns {point[]}\n   */\n  points() {\n    return [\n      {\n        x: this.cx,\n        y: this.cy\n      }\n    ];\n  }\n}\n\nfunction create(...args) {\n  return new GeoCircle(...args);\n}\n\nexport {\n  GeoCircle as default,\n  create\n};\n","import { pointsToLine, pointsToRect } from './util';\nimport {\n  testCircleLine,\n  testPolygonLine,\n  testRectLine,\n  testLinePoint,\n  testLineLine\n} from '../math/narrow-phase-collision';\n\n/**\n * Construct a new GeoLine instance\n * @private\n */\nclass GeoLine {\n  constructor({\n    x1 = 0, y1 = 0, x2 = 0, y2 = 0, tolerance = 0\n  } = {}) {\n    this.set({\n      x1, y1, x2, y2, tolerance\n    });\n  }\n\n  set({\n    x1 = 0, y1 = 0, x2 = 0, y2 = 0, tolerance = 0\n  } = {}) {\n    this.type = 'line';\n    this.x1 = x1;\n    this.y1 = y1;\n    this.x2 = x2;\n    this.y2 = y2;\n    this.tolerance = Math.max(0, Math.round(tolerance));\n\n    this.vectors = this.points();\n    this.zeroSize = x1 === x2 && y1 === y2;\n  }\n\n  /**\n   * @param {point} p\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  containsPoint(p) {\n    if (this.tolerance > 0) {\n      const c = { cx: p.x, cy: p.y, r: this.tolerance };\n      return testCircleLine(c, this);\n    }\n    return testLinePoint(this, p);\n  }\n\n  /**\n   * @param {point[]} points - Line start and end point as an array of points\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsLine(points) {\n    const line = pointsToLine(points);\n    return testLineLine(this, line);\n  }\n\n  /**\n   * @param {point[]} points - Rect vertices as an array of points\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsRect(points) {\n    const rect = pointsToRect(points);\n    return testRectLine(rect, this);\n  }\n\n  /**\n   * @param {circle} c\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsCircle(c) {\n    return testCircleLine(c, this);\n  }\n\n  /**\n   * @param {GeoPolygon} polygon\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsPolygon(polygon) {\n    return testPolygonLine(polygon, this);\n  }\n\n  /**\n   * Get the points\n   * @returns {point[]}\n   */\n  points() {\n    return [\n      { x: this.x1, y: this.y1 },\n      { x: this.x2, y: this.y2 }\n    ];\n  }\n}\n\nfunction create(...args) {\n  return new GeoLine(...args);\n}\n\nexport {\n  GeoLine as default,\n  create\n};\n","import {\n  pointsToLine,\n  pointsToRect\n} from './util';\nimport {\n  testCirclePolygon,\n  testPolygonPoint,\n  testPolygonLine,\n  testPolygonRect,\n  testRectRect\n} from '../math/narrow-phase-collision';\n\nfunction close(vertices) {\n  const first = vertices[0];\n  const last = vertices[vertices.length - 1];\n\n  if (first.x !== last.x || first.y !== last.y) {\n    vertices.push(first);\n  }\n}\n\nfunction removeDuplicates(vertices) {\n  for (let i = 0; i < vertices.length - 1; i++) {\n    const v0 = vertices[i];\n    const v1 = vertices[i + 1];\n    if (v0.x === v1.x && v0.y === v1.y) {\n      vertices.splice(i, 1);\n      i--;\n    }\n  }\n}\n\n/**\n * Construct a new GeoPolygon instance\n * @private\n */\nclass GeoPolygon {\n  constructor({ vertices = [] } = {}) {\n    this.set({ vertices });\n  }\n\n  /**\n   * Set the vertices.\n   * If vertices doesn't close the polygon, a closing vertice is appended.\n   * @param {object} input An object with a vertices property\n   * @param {point[]} [input.vertices=[]] Vertices are represented as an array of points.\n   */\n  set({ vertices = [] } = {}) {\n    this.type = 'polygon';\n    this.vertices = vertices.slice();\n    this.edges = [];\n\n    removeDuplicates(this.vertices);\n\n    if (this.vertices.length <= 2) {\n      return;\n    }\n\n    close(this.vertices);\n\n    this.xMin = NaN;\n    this.yMin = NaN;\n    this.xMax = NaN;\n    this.yMax = NaN;\n\n    for (let i = 0; i < this.vertices.length; i++) {\n      if (i < this.vertices.length - 1) {\n        this.edges.push([this.vertices[i], this.vertices[i + 1]]);\n      }\n\n      this.xMin = isNaN(this.xMin) ? this.vertices[i].x : Math.min(this.xMin, this.vertices[i].x);\n      this.xMax = isNaN(this.xMax) ? this.vertices[i].x : Math.max(this.xMax, this.vertices[i].x);\n      this.yMin = isNaN(this.yMin) ? this.vertices[i].y : Math.min(this.yMin, this.vertices[i].y);\n      this.yMax = isNaN(this.yMax) ? this.vertices[i].y : Math.max(this.yMax, this.vertices[i].y);\n    }\n\n    this._bounds = null;\n    this._boundingRect = null;\n  }\n\n  /**\n   * Check if a point is inside the area of the polygon.\n   * Supports convex, concave and self-intersecting polygons (filled area).\n   * @param {point} point\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  containsPoint(point) {\n    return testPolygonPoint(this, point);\n  }\n\n  /**\n   * Check if circle is inside the area of the polygon.\n   * Supports convex, concave and self-intersecting polygons (filled area).\n   * @param {circle} circle\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsCircle(circle) {\n    return testCirclePolygon(circle, this);\n  }\n\n  /**\n   * @param {point[]} points - Line start and end point as an array of points\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsLine(points) {\n    return testPolygonLine(this, pointsToLine((points)));\n  }\n\n  /**\n   * @param {point[]} points - Rect vertices as an array of points\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsRect(points) {\n    return testPolygonRect(this, pointsToRect(points));\n  }\n\n  /**\n   * Check if polygon intersects another polygon.\n   * Supports convex, concave and self-intersecting polygons (filled area).\n   * @param {GeoPolygon} polygon\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsPolygon(polygon) {\n    // This is a unoptimized solution and should be replaced by a more efficient algorithm.\n    if (!testRectRect(this.boundingRect(), polygon.boundingRect())) {\n      return false;\n    }\n\n    let intersects = false;\n    for (let i = 0, len = this.edges.length; i < len; i++) {\n      intersects = testPolygonLine(polygon, pointsToLine(this.edges[i]));\n      if (intersects === true) {\n        break;\n      }\n    }\n    return intersects;\n  }\n\n  /**\n   * Get the points\n   * @returns {point[]}\n   */\n  points() {\n    return this.vertices;\n  }\n\n  /**\n   * Get the bounds of the polygon, as an array of points\n   * @returns {point[]}\n   */\n  bounds() {\n    if (!this._bounds) {\n      this._bounds = [\n        { x: this.xMin, y: this.yMin },\n        { x: this.xMax, y: this.yMin },\n        { x: this.xMax, y: this.yMax },\n        { x: this.xMin, y: this.yMax }\n      ];\n    }\n\n    return this._bounds;\n  }\n\n  /**\n   * Get the bounding rect of the polygon\n   * @returns {rect}\n   */\n  boundingRect() {\n    if (!this._boundingRect) {\n      this._boundingRect = {\n        x: this.xMin,\n        y: this.yMin,\n        width: this.xMax - this.xMin,\n        height: this.yMax - this.yMin\n      };\n    }\n    return this._boundingRect;\n  }\n}\n\n\n/**\n* Construct a new GeoPolygon instance\n* @param {object} input An object with a vertices property\n* @param {point[]} [input.vertices=[]] Vertices are represented as an array of points.\n* @returns {GeoPolygon} GeoPolygon instance\n* @private\n*/\nfunction create(...a) {\n  return new GeoPolygon(...a);\n}\n\nexport {\n  create,\n  GeoPolygon as default\n};\n","import {\n  pointsToLine,\n  pointsToRect\n} from './util';\nimport {\n  testCircleLine,\n  testPolygonLine,\n  testLinePoint,\n  testLineLine,\n  testRectLine\n} from '../math/narrow-phase-collision';\n\nfunction pointsAreNotEqual(p0, p1) {\n  return p0.x !== p1.x || p0.y !== p1.y;\n}\n\n/**\n * Construct a new GeoPolyline instance\n * @private\n */\nclass GeoPolyline {\n  constructor({ points = [] } = {}) {\n    this.set({ points });\n  }\n\n  set({ points = [] } = {}) {\n    this.type = 'polyline';\n    this.segments = [];\n    this._points = points.slice();\n\n    if (this._points.length > 1) {\n      for (let i = 0, len = this._points.length - 1; i < len; i++) {\n        if (pointsAreNotEqual(this._points[i], this._points[i + 1])) {\n          this.segments.push({\n            x1: this._points[i].x,\n            y1: this._points[i].y,\n            x2: this._points[i + 1].x,\n            y2: this._points[i + 1].y\n          });\n        }\n      }\n    }\n  }\n\n  /**\n   * @param {point} point\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  containsPoint(point) {\n    return this.segments.some((line) => testLinePoint(line, point));\n  }\n\n  /**\n   * @param {circle} circle\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsCircle(circle) {\n    return this.segments.some((line) => testCircleLine(circle, line));\n  }\n\n  /**\n   * @param {point[]} points - Line start and end point as an array of points\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsLine(points) {\n    const testLine = pointsToLine(points);\n    return this.segments.some((line) => testLineLine(line, testLine));\n  }\n\n  /**\n   * @param {point[]} points - Rect vertices as an array of points\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsRect(points) {\n    const rect = pointsToRect(points);\n    return this.segments.some((line) => testRectLine(rect, line));\n  }\n\n  /**\n   * @param {GeoPolygon} polygon\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsPolygon(polygon) {\n    // This is a unoptimized solution and should be replaced by a more efficient algorithm.\n    return this.segments.some((line) => testPolygonLine(polygon, line));\n  }\n\n  /**\n   * Get the points\n   * @returns {point[]}\n   */\n  points() {\n    return this._points;\n  }\n}\n\nfunction create(...a) {\n  return new GeoPolyline(...a);\n}\n\nexport {\n  create,\n  GeoPolyline as default\n};\n","import { create as rect } from './rect';\nimport { create as circle } from './circle';\nimport { create as line } from './line';\nimport { create as polygon } from './polygon';\nimport { create as polyline } from './polyline';\nimport registry from '../utils/registry';\n\nconst reg = registry();\n\nreg.add('rect', rect);\nreg.add('circle', circle);\nreg.add('line', line);\nreg.add('polygon', polygon);\nreg.add('polyline', polyline);\n\nexport function create(type, input) { // eslint-disable-line import/prefer-default-export\n  return reg.get(type)(input);\n}\n\n/**\n * @typedef {object} rect\n * @property {number} x - X-coordinate\n * @property {number} y - Y-coordinate\n * @property {number} width - Width\n * @property {number} height - Height\n */\n\n/**\n * @typedef {object} line\n * @property {number} x1 - Start x-coordinate\n * @property {number} y1 - Start y-coordinate\n * @property {number} x2 - End x-coordinate\n * @property {number} y2 - End y-coordinate\n */\n\n/**\n * @typedef {object} point\n * @property {number} x - X-coordinate\n * @property {number} y - Y-coordinate\n */\n\n/**\n * @typedef {object} circle\n * @property {number} cx - Center x-coordinate\n * @property {number} cy - Center y-coordinate\n * @property {number} r - Circle radius\n */\n\n/**\n * @typedef {object} polygon\n * @property {Array<point>} points - Array of connected points\n */\n\n/**\n * @typedef {object} polyline\n * @property {Array<point>} points - Array of connected points\n */\n\n/**\n * @typedef {object} path\n * @property {string} d - Path definition\n */\n","import { create as factory } from './index';\n\n/**\n * Construct a new GeometryCollection instance\n * @private\n  */\nclass GeometryCollection {\n  constructor(collection = []) {\n    this.set(collection);\n  }\n\n  set(collection = []) {\n    this.geometries = [];\n    collection.forEach((geo) => {\n      const geoInstance = factory(geo.type, geo);\n      if (geoInstance) {\n        this.geometries.push(geoInstance);\n      }\n    });\n  }\n\n  /**\n   * @param {point} p\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  containsPoint(p) {\n    return this.geometries.some((geo) => geo.containsPoint(p));\n  }\n\n  /**\n   * @param {point[]} points - Line start and end point as an array of points\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsLine(points) {\n    return this.geometries.some((geo) => geo.intersectsLine(points));\n  }\n\n  /**\n   * @param {point[]} points - Rect vertices as an array of points\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsRect(points) {\n    return this.geometries.some((geo) => geo.intersectsRect(points));\n  }\n\n  /**\n   * @param {circle} c\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsCircle(c) {\n    return this.geometries.some((geo) => geo.intersectsCircle(c));\n  }\n\n  /**\n   * @param {GeoPolygon} polygon\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsPolygon(polygon) {\n    return this.geometries.some((geo) => geo.intersectsPolygon(polygon));\n  }\n}\n\nfunction create(...args) {\n  return new GeometryCollection(...args);\n}\n\nexport {\n  GeometryCollection as default,\n  create\n};\n","class Matrix {\n  /**\n   * Creates a matrix with identity values.\n   * @private\n   */\n  constructor() {\n    this._elements = [\n      [1, 0, 0],\n      [0, 1, 0],\n      [0, 0, 1]\n    ];\n\n    this._stack = [];\n  }\n\n  /**\n   * Creates a new matrix with a copy of the current values.\n   */\n  clone() {\n    const mt = new Matrix();\n    return mt.multiply(this);\n  }\n\n  /**\n  * Sets the matrix values\n  * @param {Number[][]} arr A 3x3 array.\n  */\n  set(arr) {\n    this._elements = arr;\n    return this;\n  }\n\n  /**\n  * Saves the current matrix values to a stack.\n  */\n  save() {\n    this._stack.push(this.elements);\n    return this;\n  }\n\n  /**\n  * Sets the current matrix values to the last ones saved on to the stack.\n  */\n  restore() {\n    if (this._stack.length) {\n      this._elements = this._stack.pop(); // TODO - use a copy instead\n    }\n    return this;\n  }\n\n  /**\n  * Adds a scalar value to each element in the matrix.\n  * @param {Number} value\n  */\n  add(value) { // assume scalar\n    let i,\n      j;\n    for (i = 0; i < this._elements.length; i++) {\n      for (j = 0; j < this._elements[i].length; j++) {\n        this._elements[i][j] += value;\n      }\n    }\n    return this;\n  }\n\n  /**\n  * Translates the current matrix along the x and y axis.\n  * @param {Number} x\n  * @param {Number} y\n  */\n  translate(x, y) {\n    this.multiply([[1, 0, x], [0, 1, y], [0, 0, 1]]);\n    return this;\n  }\n\n  /**\n  * Rotates the current matrix.\n  * @param {Number} radianAngle Angle in radians.\n  */\n  rotate(radianAngle) {\n    let cos = Math.cos(-radianAngle),\n      sin = Math.sin(-radianAngle);\n    this.multiply([[cos, sin, 0], [-sin, cos, 0], [0, 0, 1]]);\n    return this;\n  }\n\n  /**\n  *\n  * If value is a number; multiplies each element in the matrix by the given value.\n  * If value is a matrix; multiplies the two matrices.\n  * @param {Number|Array|Matrix} value\n  */\n  multiply(value) {\n    let i,\n      j,\n      m,\n      k;\n    if (value instanceof Matrix) {\n      value = value._elements;\n    }\n    if (Array.isArray(value)) { // matrix multiplication\n      m = [\n        [0, 0, 0],\n        [0, 0, 0],\n        [0, 0, 0]\n      ];\n      for (i = 0; i < this._elements.length; i++) { // row\n        for (j = 0; j < this._elements[i].length; j++) { // column\n          for (k = 0; k < 3; k++) { // row\n            m[i][j] += this._elements[i][k] * value[k][j];\n          }\n        }\n      }\n      this._elements = m;\n    } else { // scalar multiplication\n      for (i = 0; i < this._elements.length; i++) {\n        for (j = 0; j < this._elements[i].length; j++) {\n          this._elements[i][j] *= value;\n        }\n      }\n    }\n    return this;\n  }\n\n  /**\n  * Scales the matrix along x and y axis.\n  * @param {Number} x The value to scale the matrix with along the x direction\n  * @param {Number} [y=x] The value to scale the matrix with along the y direction.\n  */\n  scale(x, y = x) {\n    // if ( arguments.length < 2 || typeof y === \"undefined\" ) {\n    //  y = x;\n    // }\n\n    this.multiply([[x, 0, 0], [0, y, 0], [0, 0, 1]]);\n    return this;\n  }\n\n  /**\n   * Multiples the matrix with the supplied transformation values\n   * @param {Number} a Horizontal scaling\n   * @param {Number} b Horizontal skewing\n   * @param {Number} c Vertical skewing\n   * @param {Number} d Vertical scaling\n   * @param {Number} e Horizontal moving\n   * @param {Number} f Vertical scaling\n   */\n  transform(a, b, c, d, e, f) {\n    this.multiply([[a, c, e], [b, d, f], [0, 0, 1]]);\n\n    return this;\n  }\n\n  /**\n  * Gets the value of the determinant.\n  * @return {Number}\n  */\n  determinant() {\n    let a = this._elements[0][0],\n      b = this._elements[0][1],\n      c = this._elements[0][2],\n      d = this._elements[1][0],\n      e = this._elements[1][1],\n      f = this._elements[1][2],\n      g = this._elements[2][0],\n      h = this._elements[2][1],\n      i = this._elements[2][2],\n      p = 0;\n\n    p = ((a * e * i) + (b * f * g) + (c * d * h)) - (c * e * g) - (b * d * i) - (a * f * h);\n\n    return p;\n  }\n\n  /**\n  * Inverts the matrix.\n  */\n  invert() {\n    let dt = this.determinant(),\n      a = this._elements[0][0],\n      b = this._elements[0][1],\n      c = this._elements[0][2],\n      d = this._elements[1][0],\n      e = this._elements[1][1],\n      f = this._elements[1][2],\n      g = this._elements[2][0],\n      h = this._elements[2][1],\n      k = this._elements[2][2];\n\n    this._elements = [\n      [(e * k) - (f * h), (c * h) - (b * k), (b * f) - (c * e)],\n      [(f * g) - (d * k), (a * k) - (c * g), (c * d) - (a * f)],\n      [(d * h) - (e * g), (g * b) - (a * h), (a * e) - (b * d)]\n    ];\n\n    this.multiply(1 / dt); // TODO - handle when dt === 0 ?\n    return this;\n  }\n\n  /**\n  * Transposes the elements of the matrix.\n  */\n  transpose() {\n    const m = Object.create(this._elements); // ?\n    this._elements = [\n      [m[0][0], m[1][0], m[2][0]],\n      [m[0][1], m[1][1], m[2][1]],\n      [m[0][2], m[1][2], m[2][2]]\n    ];\n    return this;\n  }\n\n  /**\n  * Resets the inner elements of the matrix to identity values.\n  */\n  identity() {\n    this._elements = [\n      [1, 0, 0],\n      [0, 1, 0],\n      [0, 0, 1]\n    ];\n    return this;\n  }\n\n  toString() {\n    return `${this._elements.map((r) => r.join('\\t')).join('\\n')}`;\n  }\n\n  isIdentity() {\n    const m = this._elements;\n    return m[0][0] === 1 && m[0][1] === 0 && m[0][2] === 0\n      && m[1][0] === 0 && m[1][1] === 1 && m[1][2] === 0\n      && m[2][0] === 0 && m[2][1] === 0 && m[2][2] === 1;\n  }\n\n  /**\n   * Transforms the given point by this matrix and returns a new point\n   */\n  transformPoint(p) {\n    let vec = [p.x, p.y, 1],\n      i,\n      j,\n      e = this._elements,\n      m = [0, 0, 0];\n    for (i = 0; i < this._elements.length; i++) { // row\n      for (j = 0; j < this._elements[i].length; j++) { // column\n        m[i] += vec[j] * e[i][j];\n      }\n    }\n\n    return { x: m[0], y: m[1] };\n  }\n\n  /**\n   * Transforms the given points by this matrix and returns the new points\n   */\n  transformPoints(array) {\n    let vec,\n      i,\n      j,\n      k,\n      m,\n      e = this._elements,\n      ret = [];\n\n    for (k = 0; k < array.length; k++) {\n      vec = [array[k].x, array[k].y, 1];\n      m = [0, 0, 0];\n\n      for (i = 0; i < this._elements.length; i++) { // row\n        for (j = 0; j < this._elements[i].length; j++) { // column\n          m[i] += vec[j] * e[i][j];\n        }\n      }\n      ret.push({ x: m[0], y: m[1] });\n    }\n    return ret;\n  }\n\n  get elements() {\n    const m = this._elements;\n    return [\n      [m[0][0], m[0][1], m[0][2]],\n      [m[1][0], m[1][1], m[1][2]],\n      [m[2][0], m[2][1], m[2][2]]\n    ];\n  }\n}\n\nexport default Matrix;\n","const transformRegEx = /(translate|scale|rotate|matrix)\\(([0-9,.eE+-\\s]+)(?:,|\\s?)+\\)/g;\n\nfunction parseTransform(transform) {\n  let m,\n    commands = [];\n  while ((m = transformRegEx.exec(transform)) !== null) { // eslint-disable-line no-cond-assign\n    const argsStr = m[2].trim();\n    const args = argsStr.indexOf(',') === -1 ? argsStr.split(' ') : argsStr.split(',');\n\n    commands.push({\n      cmd: m[1],\n      args: args.filter((a) => a.trim().length > 0).map((a) => Number(a))\n    });\n  }\n\n  return commands;\n}\n\nfunction resolveRotateCmd(matrix, transform) {\n  const radians = transform.args[0] * (Math.PI / 180);\n\n  if (transform.args.length > 2) {\n    const x = transform.args[1];\n    const y = transform.args[2];\n    matrix.translate(x, y);\n    matrix.rotate(radians);\n    matrix.translate(-x, -y);\n  } else if (transform.args.length === 1) {\n    matrix.rotate(radians);\n  }\n}\n\nfunction resolveScaleCmd(matrix, transform) {\n  const x = transform.args[0];\n  const y = isNaN(transform.args[1]) ? transform.args[0] : transform.args[1];\n  matrix.scale(x, y);\n}\n\nfunction resolveTranslateCmd(matrix, transform) {\n  const x = transform.args[0];\n  const y = isNaN(transform.args[1]) ? 0 : transform.args[1];\n  matrix.translate(x, y);\n}\n\nfunction resolveMatrixCmd(matrix, transform) {\n  if (transform.args.length >= 6) {\n    matrix.transform(...transform.args);\n  }\n}\n\nexport default function resolveTransform(t, matrix) {\n  const transforms = parseTransform(t);\n  let transform;\n\n  for (let i = 0, len = transforms.length; i < len; i++) {\n    transform = transforms[i];\n\n    if (transform.cmd === 'rotate') {\n      resolveRotateCmd(matrix, transform);\n    } else if (transform.cmd === 'scale') {\n      resolveScaleCmd(matrix, transform);\n    } else if (transform.cmd === 'matrix') {\n      resolveMatrixCmd(matrix, transform);\n    } else if (transform.cmd === 'translate') {\n      resolveTranslateCmd(matrix, transform);\n    }\n  }\n}\n","/* eslint-disable no-useless-escape */\n\nconst SELECTOR_MAPS = {\n  type: /^\\w[\\w-]+/,\n  attr: /^\\[\\w(?:[\\w\\._-]+)?(?:[!]?=['\\\"][\\w\\s*#_-]*['\\\"])?\\]/,\n  universal: /^(\\*)/,\n  tag: /^\\.(\\w+)/\n};\n\nconst FILTERS = {\n  type: (c, objects) => { // eslint-disable-line arrow-body-style\n    return objects.filter((o) => {\n      const type = o.type;\n\n      if (type) {\n        return type.toLowerCase() === c.toLowerCase();\n      }\n      return false;\n    });\n  },\n\n  attr: (attr, operator, value, objects) => { // eslint-disable-line arrow-body-style\n    return objects.filter((o) => {\n      const v = o.attrs[attr];\n\n      if (!operator) { // TODO handle undefined differently for != operator? As display object may very well have a default rendering color\n        return typeof v !== 'undefined';\n      }\n      if (typeof v === 'undefined') {\n        return false;\n      }\n\n      switch (operator) {\n        case '=':\n          return value === String(v);\n        case '!=':\n          return value !== String(v);\n        default:\n          return false;\n      }\n    });\n  },\n\n  universal: (objects) => objects,\n\n  tag: (selector, objects) => { // eslint-disable-line arrow-body-style\n    return objects.filter((o) => {\n      const tag = o.tag;\n      if (tag) {\n        return tag\n          .trim()\n          .split(/\\s+/)\n          .indexOf(selector.replace('.', '')) !== -1;\n      }\n      return false;\n    });\n  }\n};\n\n/**\n* Filters out objects of given type and value\n* @ignore\n* @example\n* filter(\n*   {type:'type', value:'Circle'},\n*   [new Circle(), new Rectangle()]\n* )\n* // [Circle]\n* @param {Object} token\n* @param {Array} objects\n* @returns {Object[]} Objects that fulfill the type and value\n*/\nexport function filter(token, objects) {\n  if (!objects || !objects.length || !token || (typeof FILTERS[token.type] !== 'function')) {\n    return [];\n  }\n\n  switch (token.type) {\n    case 'type':\n      return FILTERS[token.type](token.value, objects);\n    case 'attr':\n      return FILTERS[token.type](token.attribute, token.operator, token.attributeValue, objects);\n    case 'universal':\n      return FILTERS[token.type](objects);\n    case 'tag':\n      return FILTERS[token.type](token.value, objects);\n    default:\n      return [];\n  }\n}\n\n/**\n* Tokenizes a string into supported selectors\n* @ignore\n*\n* @example\n* tokenize(\"Circle[color='red']\")\n*\n* @param {String} s\n*/\nexport function tokenize(s) {\n  const groups = [];\n  let sub;\n  let info;\n  let match;\n  let validSelector;\n\n  s.split(/\\s*,\\s*/).forEach((group) => {\n    group = group.trim();\n    sub = [];\n    const selectorMapsIterator = (key) => {\n      match = group.match(SELECTOR_MAPS[key]);\n      if (match) {\n        validSelector = true;\n        group = group.slice(match[0].length);\n        info = {\n          type: key,\n          value: match[0]\n        };\n\n        if (key === 'attr') {\n          // extract parts of attribute from e.g. [color='red'] => (color, =, red)\n          match = match[0].match(/\\[(\\w[\\w\\._-]+)?(?:([!]?=)['\\\"]([\\w\\s#_-]*)['\\\"])?\\]/);\n          info.attribute = match[1];\n          info.operator = match[2];\n          info.attributeValue = match[3];\n        }\n        sub.push(info);\n      }\n    };\n    while (group) {\n      validSelector = false;\n\n      match = group.match(/^\\s*([>+~]|\\s)\\s*/);\n      if (match) {\n        validSelector = true;\n        sub.push({\n          type: ' ',\n          value: match[0]\n        });\n        group = group.slice(match[0].length);\n      }\n\n      Object.keys(SELECTOR_MAPS).forEach(selectorMapsIterator);\n\n      if (sub && sub.length && groups.indexOf(sub) < 0) {\n        groups.push(sub);\n      }\n\n      if (!validSelector) {\n        break;\n      }\n    }\n  });\n  return groups;\n}\n\nfunction find(s, object) {\n  const result = [];\n  const groupResults = [];\n  let groups;\n  let descendants;\n\n  if (object.isBranch) {\n    groups = tokenize(s);\n    descendants = object.descendants;\n\n    let tokens;\n\n    for (let gi = 0, glen = groups.length; gi < glen; gi++) {\n      tokens = groups[gi];\n\n      const levels = [];\n      let filtered = descendants.slice();\n      let hasRemainder = false;\n      tokens.reverse().forEach((token) => {\n        if (token.type === ' ') {\n          levels.push(filtered);\n          filtered = descendants.slice();\n          hasRemainder = false;\n          return;\n        }\n\n        filtered = filter(token, filtered);\n        hasRemainder = true;\n      });\n\n      if (hasRemainder) {\n        levels.push(filtered);\n      }\n\n      const selected = levels[0].filter((node) => {\n        let ancestor = node.parent;\n        let idx;\n\n        for (let i = 1; i < levels.length; i++) {\n          idx = levels[i].indexOf(ancestor);\n          while (ancestor && idx < 0) {\n            ancestor = ancestor.parent;\n            idx = levels[i].indexOf(ancestor);\n          }\n          if (idx < 0) {\n            return false;\n          }\n        }\n        return true;\n      });\n\n      groupResults.push(selected);\n    }\n\n    for (let i = 0, len = groupResults.length; i < len; i++) {\n      for (let ni = 0, nlen = groupResults[i].length; ni < nlen; ni++) {\n        if (result.indexOf(groupResults[i][ni]) < 0) {\n          result.push(groupResults[i][ni]);\n        }\n      }\n    }\n  }\n\n  return result || [];\n}\n\nexport default {\n  find\n};\n","import { pointsToRect, pointsToCircle, pointsToLine } from '../geometry/util';\nimport pointsToPath from '../utils/points-to-path';\n\nfunction appendDpi(points, dpi) {\n  for (let i = 0, len = points.length; i < len; i++) {\n    points[i].x /= dpi;\n    points[i].y /= dpi;\n  }\n}\n\nfunction geometryToDef(geometry, dpi, mvm) {\n  const type = geometry.type;\n  const points = mvm ? mvm.transformPoints(geometry.points()) : geometry.points();\n  appendDpi(points, dpi);\n  let def = null;\n\n  if (type === 'rect' || type === 'bounds') {\n    def = pointsToRect(points);\n    def.type = type;\n  } else if (type === 'circle') {\n    def = pointsToCircle(points, geometry.r);\n    def.type = type;\n  } else if (type === 'line') {\n    def = pointsToLine(points);\n    def.type = type;\n  } else if (type === 'polygon' || type === 'polyline') {\n    const path = pointsToPath(points, type === 'polygon');\n    def = {\n      type: 'path',\n      d: path\n    };\n  }\n\n  return def;\n}\n\n/**\n * @ignore\n * @returns {object} Returns a node definition of the collider\n */\nfunction colliderToShape(node, dpi) {\n  if (node.collider) {\n    const mvm = node.modelViewMatrix;\n    const isCollection = node.colliderType === 'collection';\n\n    if (isCollection) {\n      const children = node.collider.geometries.map((geometry) => geometryToDef(geometry, dpi, mvm));\n\n      return {\n        type: 'container',\n        children\n      };\n    }\n\n    return geometryToDef(node.collider, dpi, mvm);\n  }\n\n  return null;\n}\n\n/**\n * Read-only object representing a node on the scene.\n */\nclass SceneNode {\n  constructor(node) {\n    this._bounds = (includeTransform = true) => {\n      const {\n        x, y, width, height\n      } = node.boundingRect ? node.boundingRect(includeTransform) : {\n        x: 0, y: 0, width: 0, height: 0\n      };\n      return {\n        x, y, width, height\n      };\n    };\n    this._attrs = node.attrs;\n    this._type = node.type;\n    this._data = node.data;\n    this._dpi = node.stage ? node.stage.dpi : 1;\n    this._collider = () => colliderToShape(node, this._dpi);\n    this._desc = node.desc;\n    this._tag = node.tag;\n    this._children = () => node.children.map((n) => new SceneNode(n));\n    this._parent = () => (node.parent ? new SceneNode(node.parent) : null);\n\n    this._cache = {\n      elementBoundingRect: null\n    };\n    this._getElementBoundingRect = () => {\n      if (!this._cache.elementBoundingRect && this.element) {\n        this._cache.elementBoundingRect = this.element.getBoundingClientRect();\n      }\n      return this._cache.elementBoundingRect || { left: 0, top: 0 };\n    };\n  }\n\n  /**\n   * Get child nodes\n   * @type {SceneNode[]}\n   */\n  get children() {\n    return this._children();\n  }\n\n  /**\n   * Get parent node\n   * @type {SceneNode}\n   */\n  get parent() {\n    return this._parent();\n  }\n\n  /**\n   * Node type\n   * @type {string}\n   */\n  get type() {\n    return this._type;\n  }\n\n  /**\n   * Get the associated data\n   * @type {any}\n   */\n  get data() {\n    return this._data;\n  }\n\n  /**\n   * Node attributes\n   * @type {object}\n   */\n  get attrs() {\n    return this._attrs;\n  }\n\n  /**\n   * Element the scene is attached to\n   * @type {HTMLElement}\n   * @private\n   */\n  set element(e) {\n    this._cache.elementBoundingRect = null;\n    this._element = e;\n  }\n\n  /**\n   * Element the scene is attached to\n   * @type {HTMLElement}\n   */\n  get element() {\n    return this._element;\n  }\n\n  /**\n  * Key of the component this shape belongs to\n  * @type {string}\n  * @private\n  */\n  set key(k) {\n    this._key = k;\n  }\n\n  /**\n  * Key of the component this shape belongs to\n  * @type {string}\n  */\n  get key() {\n    return this._key;\n  }\n\n  /**\n   * Bounding rectangle of the node. After any transform has been applied, if any, but excluding scaling transform related to devicePixelRatio.\n   * Origin is in the top-left corner of the scene element.\n   * @type {rect}\n   */\n  get bounds() {\n    const bounds = this._bounds();\n    bounds.x /= this._dpi;\n    bounds.y /= this._dpi;\n    bounds.width /= this._dpi;\n    bounds.height /= this._dpi;\n    return bounds;\n  }\n\n  /**\n   * Bounding rectangle of the node withing it's local coordinate system.\n   * Origin is in the top-left corner of the scene element.\n   * @type {rect}\n   */\n  get localBounds() {\n    const bounds = this._bounds(false);\n    return bounds;\n  }\n\n  /**\n   * Bounding rectangle of the node, relative a target.\n   *\n   * If target is an HTMLElement, the bounds are relative to the HTMLElement.\n   * Any other target type will return the bounds relative to the viewport of the browser.\n   *\n   * @param {HTMLElement|any} target\n   * @param {boolean} includeTransform - Whether to include any applied transforms on the node\n   * @returns {rect}\n   * @example\n   *\n   * node.boundsRelativeTo($('div'));\n   * node.boundsRelativeTo('viewport');\n   */\n  boundsRelativeTo(target, includeTransform = true) {\n    const type = typeof target;\n    const bounds = includeTransform ? this.bounds : this.localBounds;\n    const selfRect = this._getElementBoundingRect();\n    let dx = selfRect.left;\n    let dy = selfRect.top;\n\n    if (type === 'object' && target !== null && typeof target.getBoundingClientRect === 'function') {\n      const { left = 0, top = 0 } = target.getBoundingClientRect();\n      dx -= left;\n      dy -= top;\n    }\n\n    bounds.x += dx;\n    bounds.y += dy;\n\n    return bounds;\n  }\n\n  /**\n   * Collider of the node. Transform on the node has been applied to the collider shape, if any, but excluding scaling transform related to devicePixelRatio.\n   * Origin is in the top-left corner of the scene element.\n   *\n   * If node has no collider, null is returned.\n   * @type {line|rect|circle|path}\n   */\n  get collider() {\n    return this._collider();\n  }\n\n  /**\n   * Node description\n   * @type {object}\n   */\n  get desc() {\n    return this._desc;\n  }\n\n  /**\n   * Node tag\n   * @type {string}\n   */\n  get tag() {\n    return this._tag;\n  }\n}\n\nfunction create(...a) {\n  return new SceneNode(...a);\n}\n\nexport {\n  create as default,\n  SceneNode\n};\n","import createSceneNode from './scene-node';\n\nexport class Collision {\n  constructor(node) {\n    this._node = createSceneNode(node);\n    this._parent = null;\n    this._input = null;\n  }\n\n  get node() {\n    return this._node;\n  }\n\n  set parent(p) {\n    this._parent = p;\n  }\n\n  get parent() {\n    return this._parent;\n  }\n\n  set input(i) {\n    this._input = i;\n  }\n\n  get input() {\n    return this._input;\n  }\n}\n\nexport default function create(...a) {\n  return new Collision(...a);\n}\n","import createCollision from './collision';\nimport { scalarMultiply } from '../math/vector';\nimport { create as createPolygon } from '../geometry/polygon';\nimport {\n  lineToPoints,\n  rectToPoints,\n  getShapeType\n} from '../geometry/util';\n\nfunction appendParentNode(node, collision) {\n  const p = node.parent;\n\n  if (p && p.type !== 'stage') {\n    collision.parent = createCollision(p);\n\n    const pp = p.parent;\n    if (pp && pp.type !== 'stage') {\n      appendParentNode(pp, collision.parent);\n    }\n  }\n}\n\nfunction appendInputShape(shape, collisions) {\n  for (let i = 0, len = collisions.length; i < len; i++) {\n    collisions[i].input = shape;\n  }\n}\n\nfunction resolveFrontChildCollision(node, type, input) {\n  const num = node.descendants.length;\n\n  for (let i = num - 1; i >= 0; i--) {\n    const desc = node.descendants[i];\n    if (desc.collider === null) {\n      continue;\n    }\n\n    if (desc.collider[type](input)) {\n      const collision = createCollision(desc);\n\n      appendParentNode(desc, collision);\n\n      return collision;\n    }\n  }\n  return null;\n}\n\nfunction resolveGeometryCollision(node, type, input) {\n  if (node.collider[type](input)) {\n    const c = createCollision(node);\n\n    appendParentNode(node, c);\n\n    return c;\n  }\n\n  return null;\n}\n\nfunction inverseTransform(node, input) {\n  let transformedInput = {};\n  if (node.modelViewMatrix) {\n    if (Array.isArray(input)) { // Rect or Line\n      transformedInput = node.inverseModelViewMatrix.transformPoints(input);\n    } else if (!isNaN(input.r)) { // Circle\n      const p = { x: input.cx, y: input.cy };\n      ({ x: transformedInput.cx, y: transformedInput.cy } = node.inverseModelViewMatrix.transformPoint(p));\n      transformedInput.r = input.r;\n    } else if (Array.isArray(input.vertices)) { // Polygon\n      transformedInput.vertices = node.inverseModelViewMatrix.transformPoints(input.vertices);\n    } else { // Point\n      transformedInput = node.inverseModelViewMatrix.transformPoint(input);\n    }\n  } else {\n    transformedInput = input;\n  }\n\n  if (Array.isArray(transformedInput.vertices)) {\n    transformedInput = createPolygon(transformedInput); // TODO Shouldn't have to do this here, currently its beacause a collision algorithm optimization, i.e. caching of polygon bounds\n  }\n\n  return transformedInput;\n}\n\nfunction resolveCollision(node, intersectionType, input) {\n  if (node.colliderType === null) {\n    return null;\n  }\n\n  const transformedInput = inverseTransform(node, input);\n\n  if (node.colliderType === 'frontChild') {\n    return resolveFrontChildCollision(node, intersectionType, transformedInput);\n  }\n\n  return resolveGeometryCollision(node, intersectionType, transformedInput);\n}\n\nfunction findAllCollisions(nodes, intersectionType, ary, input) {\n  const num = nodes.length;\n  for (let i = 0; i < num; i++) {\n    const node = nodes[i];\n\n    const collision = resolveCollision(node, intersectionType, input);\n\n    if (collision) { ary.push(collision); }\n\n    // Only traverse children if no match is found on parent and it doesnt have any custom collider\n    if (node.children && !collision && !node.collider) {\n      findAllCollisions(node.children, intersectionType, ary, input);\n    }\n  }\n}\n\nfunction hasCollision(nodes, intersectionType, input) {\n  const num = nodes.length;\n  for (let i = 0; i < num; i++) {\n    const node = nodes[i];\n\n    const collision = resolveCollision(node, intersectionType, input);\n\n    if (collision !== null) { return true; }\n\n    if (node.children && !node.collider) {\n      return hasCollision(node.children, intersectionType, input);\n    }\n  }\n  return false;\n}\n\nfunction resolveShape(shape, ratio = 1) {\n  const type = getShapeType(shape);\n  let _shape = {};\n\n  switch (type) {\n    case 'circle':\n      _shape.cx = shape.cx * ratio;\n      _shape.cy = shape.cy * ratio;\n      _shape.r = shape.r;\n      return ['intersectsCircle', _shape];\n    case 'rect':\n      _shape = rectToPoints(shape).map((p) => scalarMultiply(p, ratio));\n      return ['intersectsRect', _shape];\n    case 'line':\n      _shape = lineToPoints(shape).map((p) => scalarMultiply(p, ratio));\n      return ['intersectsLine', _shape];\n    case 'point':\n      _shape = scalarMultiply(shape, ratio);\n      return ['containsPoint', _shape];\n    case 'polygon':\n      _shape.vertices = shape.vertices.map((vertex) => scalarMultiply(vertex, ratio));\n      return ['intersectsPolygon', _shape];\n    default:\n      return [];\n  }\n}\n\nexport function resolveCollionsOnNode(node, shape) {\n  const [intersectionType, _shape] = resolveShape(shape, node.dpi);\n  const collisions = [];\n\n  if (intersectionType) {\n    findAllCollisions([node], intersectionType, collisions, _shape);\n    appendInputShape(shape, collisions);\n  }\n  return collisions;\n}\n\nexport function hasCollisionOnNode(node, shape) {\n  const [intersectionType, _shape] = resolveShape(shape, node.dpi);\n\n  return hasCollision([node], intersectionType, _shape);\n}\n","import extend from 'extend';\nimport Node from '../node';\nimport { create as geometry } from '../../geometry';\nimport { create as geometryCollection } from '../../geometry/geometry-collection';\nimport Matrix from '../../math/matrix';\nimport resolveTransform from '../transform-resolver';\nimport nodeSelector from '../node-selector';\nimport createSceneNode from '../scene-node';\nimport { resolveCollionsOnNode, hasCollisionOnNode } from '../collision-resolver';\nimport { assignMappedAttribute } from '../attributes';\n\n/**\n * @typedef {object} node-def\n * @property {string} type\n * @property {string|gradient-def|pattern-def} [fill] - {@link https://www.w3.org/TR/fill-stroke-3/#fill-shorthand}\n * @property {string|gradient-def|pattern-def} [stroke] - {@link https://www.w3.org/TR/fill-stroke-3/#propdef-stroke}\n * @property {number} [strokeWidth] - {@link https://www.w3.org/TR/fill-stroke-3/#propdef-stroke-width}\n * @property {string|number[]} [strokeDasharray] - {@link https://www.w3.org/TR/fill-stroke-3/#propdef-stroke-dasharray}\n * @property {number} [opacity] - {@link https://www.w3.org/TR/css-color-4/#propdef-opacity}\n * @property {string} [transform] - {@link https://www.w3.org/TR/SVG/coords.html#TransformAttribute}\n * @property {object} [data] - Data object, may contain any properties\n * @property {object} [desc] - Meta-data object, may contain any properties\n * @property {string} [tag] - White-space seperated list of tags\n * @property {string} [id] - Unique identifier of the node\n * @property {object} [collider]\n */\n\nclass DisplayObject extends Node {\n  constructor(type) {\n    super(type);\n    this._stage = null;\n    this._collider = {\n      type: null,\n      definition: null,\n      fn: null\n    };\n    this._attrs = {};\n    this._node = null;\n  }\n\n  set(v = {}) {\n    this.node = v;\n\n    const {\n      data,\n      desc,\n      tag,\n      strokeReference,\n      fillReference\n    } = v;\n\n    assignMappedAttribute(this.attrs, v);\n\n    if (typeof data !== 'undefined') {\n      this.data = data;\n    }\n\n    if (typeof desc === 'object') {\n      this.desc = extend(true, {}, desc);\n    }\n\n    if (typeof tag === 'string') {\n      this.tag = tag;\n    }\n\n    if (typeof strokeReference === 'string') {\n      this.strokeReference = strokeReference;\n    }\n\n    if (typeof fillReference === 'string') {\n      this.fillReference = fillReference;\n    }\n  }\n\n  findShapes(selector) {\n    return nodeSelector.find(selector, this).map((node) => createSceneNode(node));\n  }\n\n  getItemsFrom(shape) {\n    return resolveCollionsOnNode(this, shape);\n  }\n\n  containsPoint(p) {\n    return hasCollisionOnNode(this, p);\n  }\n\n  intersectsLine(line) {\n    return hasCollisionOnNode(this, line);\n  }\n\n  intersectsRect(rect) {\n    return hasCollisionOnNode(this, rect);\n  }\n\n  intersectsCircle(circle) {\n    return hasCollisionOnNode(this, circle);\n  }\n\n  intersectsPolygon(polygon) {\n    return hasCollisionOnNode(this, polygon);\n  }\n\n  resolveLocalTransform(m = new Matrix()) {\n    if (typeof this.attrs.transform !== 'undefined') { resolveTransform(this.attrs.transform, m); }\n    this.modelViewMatrix = m.clone();\n  }\n\n  resolveGlobalTransform(m = new Matrix()) {\n    const a = this.ancestors;\n\n    if (a.length > 0) {\n      for (let i = a.length - 1; i >= 0; i--) {\n        a[i].resolveLocalTransform(m);\n        m = a[i].modelViewMatrix;\n      }\n    }\n\n    this.resolveLocalTransform(m);\n  }\n\n  /**\n   * Returns the value of attribute a.\n   * @private\n   * @param a\n   * @returns {*} The value of attribute a.\n   */\n  attr(a) {\n    return this.attrs[a];\n  }\n\n  equals(d) {\n    const attrs = this.attrs;\n    const attrKeys = Object.keys(attrs);\n    const dAttrs = d.attrs;\n    const dAttrKeys = Object.keys(dAttrs);\n    if (attrKeys.length !== dAttrKeys.length) {\n      return false;\n    }\n    for (let i = 0; i < attrKeys.length; i++) {\n      const key = attrKeys[i];\n      if (!Object.hasOwnProperty.call(dAttrs, key)) {\n        return false;\n      }\n      if (attrs[key] !== dAttrs[key]) {\n        return false;\n      }\n    }\n\n    return super.equals(d);\n  }\n\n  toJSON() {\n    const json = super.toJSON();\n    json.attrs = this.attrs;\n    return json;\n  }\n\n  get attrs() {\n    return this._attrs;\n  }\n\n  get stage() {\n    if (this._parent && !this._stage) { // lazy evaluation\n      this._stage = this._parent.stage;\n    } else if (!this._parent && this._stage !== this) {\n      this._stage = null;\n    }\n    return this._stage;\n  }\n\n  set modelViewMatrix(m) {\n    this._mvm = m;\n    this._imvm = null;\n  }\n\n  get modelViewMatrix() {\n    return this._mvm;\n  }\n\n  get inverseModelViewMatrix() {\n    this._imvm = this._imvm ? this._imvm : this._mvm.clone().invert();\n    return this._imvm;\n  }\n\n  set node(n) {\n    this._node = n;\n  }\n\n  get node() {\n    return this._node;\n  }\n\n  set collider(definition) {\n    const type = Array.isArray(definition) ? 'collection' : (definition && definition.type);\n    if (typeof type !== 'string') {\n      // Non string type definition resets the collider\n      this._collider.type = null;\n      this._collider.definition = null;\n      this._collider.fn = null;\n      return;\n    }\n\n    // Check if a collider of the same type is already defined, if so, do an update\n    if (this._collider !== null && this._collider.type === type && this._collider.fn !== null) {\n      this._collider.fn.set(definition);\n      this._collider.definition = definition;\n      return;\n    }\n\n    // Store the definition so that it can be lazy evaluated\n    this._collider.type = type;\n    this._collider.definition = definition;\n  }\n\n  get collider() {\n    // Resolve geometry function from cache\n    if (this._collider.fn !== null) {\n      return this._collider.fn;\n    }\n\n    // Resolve geometry function and store it in cache\n    switch (this._collider.type) {\n      case 'collection':\n        this._collider.fn = geometryCollection(this._collider.definition);\n        break;\n      case 'frontChild': // TODO Deprecate\n        // Front child is not resolved by a function on this node, but instead on one of its child nodes\n        return true;\n      case 'bounds':\n        this._collider.fn = geometry('rect', this.boundingRect());\n        break;\n      case 'line':\n      case 'rect':\n      case 'circle':\n      case 'polygon':\n      case 'polyline':\n        this._collider.fn = geometry(this._collider.type, this._collider.definition);\n        break;\n      default:\n        return null;\n    }\n\n    return this._collider.fn;\n  }\n\n  get colliderType() {\n    return this._collider.type;\n  }\n}\n\nexport default DisplayObject;\n","import Node from './node';\n\nclass NodeContainer extends Node {\n  addChild(c) {\n    if (!c || !(c instanceof Node)) {\n      throw new TypeError(`Expecting a Node as argument, but got ${c}`);\n    }\n\n    if (c === this) {\n      throw new Error('Can not add itself as child!');\n    }\n\n    if (c._children && c._children.length && this.ancestors.indexOf(c) >= 0) {\n      throw new Error('Can not add an ancestor as child!');\n    }\n\n    if (c._parent && c._parent !== this) {\n      c._parent.removeChild(c);\n    }\n\n    this._children.push(c);\n    c._parent = this;\n    c._ancestors = null;\n\n    return this;\n  }\n\n  addChildren(children) {\n    let i,\n      num = children ? children.length : 0;\n    for (i = 0; i < num; i++) {\n      this.addChild(children[i]);\n    }\n    return this;\n  }\n\n  /**\n   * Removes given child node from this node.\n   * @private\n   * @param {Node} c\n   * @returns {Node} This object, for chaining purposes.\n   */\n  removeChild(c) {\n    const indx = this._children.indexOf(c);\n    if (indx >= 0) {\n      this._children.splice(indx, 1);\n      c._parent = null;\n      c._ancestors = null;\n    }\n    return this;\n  }\n\n  removeChildren(children) {\n    let i,\n      num;\n    if (!this._children) {\n      return this;\n    }\n    if (children) {\n      num = children.length;\n      for (i = 0; i < num; i++) {\n        this.removeChild(children[i]);\n      }\n    } else {\n      while (this._children.length) {\n        this.removeChild(this._children[0]);\n      }\n    }\n    return this;\n  }\n}\n\nexport default NodeContainer;\n","import extend from 'extend';\nimport DisplayObject from './display-object';\nimport NodeContainer from '../node-container';\n\n/**\n * @extends node-def\n * @typedef {object} node--container-def\n * @property {node-def[]} children - Array of child nodes\n */\n\nconst NC = NodeContainer.prototype;\n\nexport default class Container extends DisplayObject {\n  constructor(s = {}) {\n    const { type = 'container' } = s;\n    super(type);\n    this.set(s);\n  }\n\n  set(v = {}) {\n    super.set(v);\n\n    const { collider } = v;\n    const opts = extend({\n      type: null\n    }, collider);\n\n    this.collider = opts;\n    this.__boundingRect = { true: null, false: null };\n    this.__bounds = { true: null, false: null };\n  }\n\n  appendChildRect(child, includeTransform) {\n    if (typeof child.bounds !== 'undefined') {\n      const rect = this.__boundingRect[includeTransform] || {};\n      const [p0, , p2] = child.bounds(includeTransform);\n      const { x: xMin, y: yMin } = p0;\n      const { x: xMax, y: yMax } = p2;\n\n      const _xMax = isNaN(rect.width) ? xMax : Math.max(xMax, rect.width + rect.x);\n      const _yMax = isNaN(rect.height) ? yMax : Math.max(yMax, rect.height + rect.y);\n\n      rect.x = isNaN(rect.x) ? xMin : Math.min(xMin, rect.x);\n      rect.y = isNaN(rect.y) ? yMin : Math.min(yMin, rect.y);\n      rect.width = _xMax - rect.x;\n      rect.height = _yMax - rect.y;\n\n      this.__boundingRect[includeTransform] = rect;\n    }\n  }\n\n  boundingRect(includeTransform = false) {\n    if (this.__boundingRect[includeTransform] !== null) {\n      return this.__boundingRect[includeTransform];\n    }\n\n    const num = this.children.length;\n\n    for (let i = 0; i < num; i++) {\n      this.appendChildRect(this.children[i], includeTransform);\n    }\n\n    this.__boundingRect[includeTransform] = extend({\n      x: 0, y: 0, width: 0, height: 0\n    }, this.__boundingRect[includeTransform]);\n\n    return this.__boundingRect[includeTransform];\n  }\n\n  bounds(includeTransform = false) {\n    if (this.__bounds[includeTransform] !== null) {\n      return this.__bounds[includeTransform];\n    }\n    const rect = this.boundingRect(includeTransform);\n\n    this.__bounds[includeTransform] = [\n      { x: rect.x, y: rect.y },\n      { x: rect.x + rect.width, y: rect.y },\n      { x: rect.x + rect.width, y: rect.y + rect.height },\n      { x: rect.x, y: rect.y + rect.height }\n    ];\n    return this.__bounds[includeTransform];\n  }\n\n  addChild(c) {\n    const r = NC.addChild.call(this, c);\n\n    if (this._collider && this._collider.type === 'bounds') {\n      this.appendChildRect(c, true);\n      const opts = extend({\n        type: 'bounds', x: 0, y: 0, width: 0, height: 0\n      }, this.__boundingRect.true);\n      this.collider = opts;\n    }\n\n    return r;\n  }\n\n  addChildren(children) {\n    const r = NC.addChildren.call(this, children);\n    const num = children.length;\n\n    if (this._collider && this._collider.type === 'bounds' && num > 0) {\n      for (let i = 0; i < num; i++) {\n        this.appendChildRect(children[i], true);\n      }\n      const opts = extend({\n        type: 'bounds', x: 0, y: 0, width: 0, height: 0\n      }, this.__boundingRect.true);\n      this.collider = opts;\n    }\n\n    return r;\n  }\n\n  removeChild(c) {\n    c._stage = null;\n    let desc = c.descendants,\n      num = desc ? desc.length : 0,\n      i;\n    // remove reference to stage from all descendants\n    for (i = 0; i < num; i++) {\n      desc[i]._stage = null;\n    }\n\n    NC.removeChild.call(this, c);\n\n    if (this._collider && this._collider.type === 'bounds') {\n      this.__boundingRect = { true: null, false: null };\n      this.__bounds = { true: null, false: null };\n      const opts = extend(this.boundingRect(true), { type: 'bounds' });\n      this.collider = opts;\n    }\n\n    return this;\n  }\n\n  removeChildren(children) {\n    NC.removeChildren.call(this, children);\n\n    if (this._collider && this._collider.type === 'bounds') {\n      this.__boundingRect = { true: null, false: null };\n      this.__bounds = { true: null, false: null };\n      const opts = extend(this.boundingRect(true), { type: 'bounds' });\n      this.collider = opts;\n    }\n\n    return this;\n  }\n}\n\nexport function create(...s) {\n  return new Container(...s);\n}\n","import Container from './container';\n\nexport default class Stage extends Container {\n  constructor(dpi) {\n    super('stage');\n    this._stage = this;\n    this._dpiRatio = dpi || 1;\n  }\n\n  get dpi() {\n    return this._dpiRatio;\n  }\n}\n\nexport function create(...a) {\n  return new Stage(...a);\n}\n","import DisplayObject from './display-object';\nimport NodeContainer from '../node-container';\n\n/**\n * @typedef {object} gradient-def\n * @property {string} type\n * @property {object[]} stops\n * @property {string} [stops[].type=linearGradient] - radialGradient|linearGradient\n * @property {string} stops[].color - {@link https://www.w3.org/TR/SVG/types.html#DataTypeColor}\n * @property {string} [stops[].opacity=1] - {@link https://www.w3.org/TR/css-color-4/#propdef-opacity}\n * @property {number} stops[].offset - {@link https://www.w3.org/TR/SVG/pservers.html#StopElementOffsetAttribute}\n * @property {number} [degree] - Gradient rotation angle\n */\n\n/**\n * @typedef {object} node--gradient-item-def\n * @property {string} id - Gradient identifier\n * @property {number} x1 - {@link https://www.w3.org/TR/SVG/pservers.html#LinearGradientElementX1Attribute}\n * @property {number} y1 - {@link https://www.w3.org/TR/SVG/pservers.html#LinearGradientElementY1Attribute}\n * @property {number} x2 - {@link https://www.w3.org/TR/SVG/pservers.html#LinearGradientElementX2Attribute}\n * @property {number} y2 - {@link https://www.w3.org/TR/SVG/pservers.html#LinearGradientElementY2Attribute}\n * @property {number} offset - {@link https://www.w3.org/TR/SVG/pservers.html#StopElementOffsetAttribute}\n * @property {object} style - {@link https://www.w3.org/TR/SVG/styling.html#StyleAttribute}\n */\n\nconst NC = NodeContainer.prototype;\n\nconst allowedAttrs = [\n  'x1',\n  'x2',\n  'y1',\n  'y2',\n  'id',\n  'offset',\n  'style'\n];\n\nexport default class GradientItem extends DisplayObject {\n  constructor(s = {}) {\n    const { type = 'container' } = s;\n    super(type);\n    this.set(s);\n    this._boundingRect = {};\n  }\n\n  set(v = {}) {\n    super.set(v);\n\n    const attrs = this.attrs;\n\n    let attrKey = '';\n\n    for (let i = 0, len = allowedAttrs.length; i !== len; i++) {\n      attrKey = allowedAttrs[i];\n\n      if (typeof v[attrKey] !== 'undefined') {\n        attrs[attrKey] = v[attrKey];\n      }\n    }\n  }\n\n  addChild(c) {\n    const r = NC.addChild.call(this, c);\n\n    return r;\n  }\n\n  addChildren(children) {\n    const r = NC.addChildren.call(this, children);\n\n    return r;\n  }\n\n  removeChild(c) {\n    c._stage = null;\n    let desc = c.descendants,\n      num = desc ? desc.length : 0,\n      i;\n    // remove reference to stage from all descendants\n    for (i = 0; i < num; i++) {\n      desc[i]._stage = null;\n    }\n\n    NC.removeChild.call(this, c);\n\n    return this;\n  }\n\n  removeChildren(children) {\n    NC.removeChildren.call(this, children);\n\n    return this;\n  }\n}\n\nexport function create(...s) {\n  return new GradientItem(...s);\n}\n","import DisplayObject from './display-object';\nimport NodeContainer from '../node-container';\n\n/**\n * @experimental\n * @typedef {object} pattern-def\n * @property {'pattern'} type\n * @property {string} fill\n * @property {number} width\n * @property {number} height\n * @property {object[]} shapes\n * @example\n * Stripe pattern\n * ```js\n * {\n *   type: 'pattern',\n *   fill: 'red',\n *   width: 4,\n *   height: 4,\n *   shapes: [\n *     { type: 'rect', x: 3, y: 0, width: 1, height: 1 },\n *     { type: 'rect', x: 2, y: 1, width: 1, height: 1 },\n *     { type: 'rect', x: 1, y: 2, width: 1, height: 1 },\n *     { type: 'rect', x: 0, y: 3, width: 1, height: 1 },\n *   ]\n * }\n * ```\n */\n\nconst NC = NodeContainer.prototype;\n\nconst allowedAttrs = [\n  'patternUnits',\n  'x',\n  'y',\n  'width',\n  'height',\n  'id'\n];\n\nexport default class PatternItem extends DisplayObject {\n  constructor(s = {}) {\n    const { type = 'container' } = s;\n    super(type);\n    this.set(s);\n    this._boundingRect = {};\n  }\n\n  set(v = {}) {\n    super.set(v);\n\n    const attrs = this.attrs;\n\n    let attrKey = '';\n\n    for (let i = 0, len = allowedAttrs.length; i !== len; i++) {\n      attrKey = allowedAttrs[i];\n\n      if (typeof v[attrKey] !== 'undefined') {\n        attrs[attrKey] = v[attrKey];\n      }\n    }\n  }\n\n  addChild(c) {\n    const r = NC.addChild.call(this, c);\n\n    return r;\n  }\n\n  addChildren(children) {\n    const r = NC.addChildren.call(this, children);\n\n    return r;\n  }\n\n  removeChild(c) {\n    c._stage = null;\n    let desc = c.descendants,\n      num = desc ? desc.length : 0,\n      i;\n    // remove reference to stage from all descendants\n    for (i = 0; i < num; i++) {\n      desc[i]._stage = null;\n    }\n\n    NC.removeChild.call(this, c);\n\n    return this;\n  }\n\n  removeChildren(children) {\n    NC.removeChildren.call(this, children);\n\n    return this;\n  }\n}\n\nexport function create(...s) {\n  return new PatternItem(...s);\n}\n","import extend from 'extend';\nimport DisplayObject from './display-object';\nimport {\n  rectToPoints,\n  getMinMax\n} from '../../geometry/util';\n\n/**\n * @extends node-def\n * @typedef {object} node--rect-def\n * @property {number} x - {@link https://www.w3.org/TR/SVG/shapes.html#RectElementXAttribute}\n * @property {number} y - {@link https://www.w3.org/TR/SVG/shapes.html#RectElementYAttribute}\n * @property {number} width - {@link https://www.w3.org/TR/SVG/shapes.html#RectElementWidthAttribute}\n * @property {number} height- {@link https://www.w3.org/TR/SVG/shapes.html#RectElementHeightAttribute}\n */\n\nexport default class Rect extends DisplayObject {\n  constructor(...s) {\n    super('rect');\n    this.set(...s);\n  }\n\n  set(v = {}) {\n    const {\n      x = 0,\n      y = 0,\n      width = 0,\n      height = 0,\n      rx = 0,\n      ry = 0,\n      collider\n    } = v;\n    const opts = extend({\n      type: 'rect', x, y, width, height\n    }, collider);\n\n    super.set(v);\n\n    if (width >= 0) {\n      this.attrs.x = x;\n      this.attrs.width = width;\n    } else {\n      this.attrs.x = x + width;\n      this.attrs.width = -width;\n    }\n\n    if (height >= 0) {\n      this.attrs.y = y;\n      this.attrs.height = height;\n    } else {\n      this.attrs.y = y + height;\n      this.attrs.height = -height;\n    }\n\n    if (rx > 0) { this.attrs.rx = rx; }\n    if (ry > 0) { this.attrs.ry = ry; }\n\n    this.collider = opts;\n    this.__boundingRect = { true: null, false: null };\n    this.__bounds = { true: null, false: null };\n  }\n\n  boundingRect(includeTransform = false) {\n    if (this.__boundingRect[includeTransform] !== null) {\n      return this.__boundingRect[includeTransform];\n    }\n    const p = rectToPoints(this.attrs);\n    const pt = includeTransform && this.modelViewMatrix ? this.modelViewMatrix.transformPoints(p) : p;\n    const [xMin, yMin, xMax, yMax] = getMinMax(pt);\n\n    this.__boundingRect[includeTransform] = {\n      x: xMin,\n      y: yMin,\n      width: xMax - xMin,\n      height: yMax - yMin\n    };\n\n    return this.__boundingRect[includeTransform];\n  }\n\n  bounds(includeTransform = false) {\n    if (this.__bounds[includeTransform] !== null) {\n      return this.__bounds[includeTransform];\n    }\n    const rect = this.boundingRect(includeTransform);\n\n    this.__bounds[includeTransform] = [\n      { x: rect.x, y: rect.y },\n      { x: rect.x + rect.width, y: rect.y },\n      { x: rect.x + rect.width, y: rect.y + rect.height },\n      { x: rect.x, y: rect.y + rect.height }\n    ];\n\n    return this.__bounds[includeTransform];\n  }\n}\n\nexport function create(...s) {\n  return new Rect(...s);\n}\n","import extend from 'extend';\nimport DisplayObject from './display-object';\nimport { getMinMax } from '../../geometry/util';\n\n/**\n * @extends node-def\n * @typedef {object} node--circle-def\n * @property {number} cx - {@link https://www.w3.org/TR/SVG/shapes.html#CircleElementCXAttribute}\n * @property {number} cy - {@link https://www.w3.org/TR/SVG/shapes.html#CircleElementCYAttribute}\n * @property {number} r - {@link https://www.w3.org/TR/SVG/shapes.html#CircleElementRAttribute}\n */\n\nexport default class Circle extends DisplayObject {\n  constructor(...s) {\n    super('circle');\n    this.set(...s);\n  }\n\n  set(v = {}) {\n    const {\n      cx = 0, cy = 0, r = 0, collider\n    } = v;\n    const opts = extend({\n      type: 'circle', cx, cy, r\n    }, collider);\n\n    super.set(v);\n\n    this.attrs.cx = cx;\n    this.attrs.cy = cy;\n    this.attrs.r = r;\n\n    this.collider = opts;\n    this.__boundingRect = { true: null, false: null };\n    this.__bounds = { true: null, false: null };\n  }\n\n  boundingRect(includeTransform = false) {\n    if (this.__boundingRect[includeTransform] !== null) {\n      return this.__boundingRect[includeTransform];\n    }\n    // TODO Handle Circle bounds correctly for a circle transformed to an non axis aligned ellipse/circle\n    // Current solution only rotate the bounds, giving a larger boundingRect if rotated\n    const p = this.bounds(includeTransform);\n\n    this.__boundingRect[includeTransform] = {\n      x: p[0].x,\n      y: p[0].y,\n      width: p[2].x - p[0].x,\n      height: p[2].y - p[0].y\n    };\n    return this.__boundingRect[includeTransform];\n  }\n\n  bounds(includeTransform = false) {\n    if (this.__bounds[includeTransform] !== null) {\n      return this.__bounds[includeTransform];\n    }\n    // TODO Handle Circle bounds correctly for a circle transformed to an non axis aligned ellipse/circle\n    const {\n      cx, cy, r: rX, r: rY\n    } = this.attrs;\n    const x = cx - rX;\n    const y = cy - rY;\n    let w = rX * 2;\n    let h = rY * 2;\n    let p = [\n      { x, y },\n      { x: x + w, y },\n      { x: x + w, y: y + h },\n      { x, y: y + h }\n    ];\n\n    if (includeTransform && this.modelViewMatrix) {\n      p = this.modelViewMatrix.transformPoints(p);\n      const [xMin, yMin, xMax, yMax] = getMinMax(p);\n      w = xMax - xMin;\n      h = yMax - yMin;\n\n      this.__bounds[includeTransform] = [\n        { x: xMin, y: yMin },\n        { x: xMin + w, y: yMin },\n        { x: xMin + w, y: yMin + h },\n        { x: xMin, y: yMin + h }\n      ];\n    } else {\n      this.__bounds[includeTransform] = p;\n    }\n\n    return this.__bounds[includeTransform];\n  }\n}\n\nexport function create(...s) {\n  return new Circle(...s);\n}\n","import extend from 'extend';\nimport DisplayObject from './display-object';\nimport {\n  lineToPoints,\n  getMinMax\n} from '../../geometry/util';\n\n/**\n * @extends node-def\n * @typedef {object} node--line-def\n * @property {number} x1 - {@link https://www.w3.org/TR/SVG/shapes.html#LineElementX1Attribute}\n * @property {number} y1 - {@link https://www.w3.org/TR/SVG/shapes.html#LineElementY1Attribute}\n * @property {number} x2 - {@link https://www.w3.org/TR/SVG/shapes.html#LineElementX2Attribute}\n * @property {number} y2 - {@link https://www.w3.org/TR/SVG/shapes.html#LineElementY2Attribute}\n */\n\nexport default class Line extends DisplayObject {\n  constructor(...s) {\n    super('line');\n    this.set(...s);\n  }\n\n  set(v = {}) {\n    const {\n      x1 = 0, y1 = 0, x2 = 0, y2 = 0, collider\n    } = v;\n    super.set(v);\n    this.attrs.x1 = x1;\n    this.attrs.y1 = y1;\n    this.attrs.x2 = x2;\n    this.attrs.y2 = y2;\n\n    const defaultCollider = {\n      type: 'line',\n      x1,\n      y1,\n      x2,\n      y2\n    };\n    this.collider = extend(defaultCollider, collider);\n    this.__boundingRect = { true: null, false: null };\n    this.__bounds = { true: null, false: null };\n  }\n\n  boundingRect(includeTransform = false) {\n    if (this.__boundingRect[includeTransform] !== null) {\n      return this.__boundingRect[includeTransform];\n    }\n    let p = lineToPoints(this.attrs);\n\n    if (includeTransform && this.modelViewMatrix) {\n      p = this.modelViewMatrix.transformPoints(p);\n    }\n\n    const [xMin, yMin, xMax, yMax] = getMinMax(p);\n    const hasSize = xMin !== xMax || yMin !== yMax;\n\n    this.__boundingRect[includeTransform] = {\n      x: xMin,\n      y: yMin,\n      width: hasSize ? Math.max(1, xMax - xMin) : 0,\n      height: hasSize ? Math.max(1, yMax - yMin) : 0\n    };\n    return this.__boundingRect[includeTransform];\n  }\n\n  bounds(includeTransform = false) {\n    if (this.__bounds[includeTransform] !== null) {\n      return this.__bounds[includeTransform];\n    }\n    const rect = this.boundingRect(includeTransform);\n    this.__bounds[includeTransform] = [\n      { x: rect.x, y: rect.y },\n      { x: rect.x + rect.width, y: rect.y },\n      { x: rect.x + rect.width, y: rect.y + rect.height },\n      { x: rect.x, y: rect.y + rect.height }\n    ];\n    return this.__bounds[includeTransform];\n  }\n}\n\nexport function create(...s) {\n  return new Line(...s);\n}\n","const PI_2 = Math.PI / 2;\n\nfunction lineAngle(p0, p1) {\n  const t = Math.atan2(p1.y - p0.y, p1.x - p0.x);\n  return t < 0 ? t + Math.PI * 2 : t;\n}\n\n// TODO Find a more accurate method to find the open and closed points\nfunction rotatePoint(p, angle, radius) {\n  return {\n    x: p.x + (Math.cos(angle) * radius),\n    y: p.y + (Math.sin(angle) * radius)\n  };\n}\n\nexport default function polylineToPolygonCollider(points, radius, opts = {}) {\n  const open = [];\n  const close = [];\n\n  // TODO handle case if points.length === 2\n\n  if (opts.forceOrientation === 'h') {\n    const start = points[0].x < points[1].x ? -1 : 1;\n    const end = points[points.length - 1].x > points[points.length - 2].x ? 1 : -1;\n\n    points.unshift({ x: points[0].x + start, y: points[0].y });\n    points.push({ x: points[points.length - 1].x + end, y: points[points.length - 1].y });\n  } else if (opts.forceOrientation === 'v') {\n    const start = points[0].y < points[1].y ? -1 : 1;\n    const end = points[points.length - 1].y > points[points.length - 2].y ? 1 : -1;\n\n    points.unshift({ x: points[0].x, y: points[0].y + start });\n    points.push({ x: points[points.length - 1].x, y: points[points.length - 1].y + end });\n  }\n\n  const len = points.length - 1;\n  for (let i = 1; i < len; i++) {\n    const prev = points[i - 1];\n    const curr = points[i];\n    const next = points[i + 1];\n    const currToPrev = lineAngle(curr, prev);\n    const currToNext = lineAngle(curr, next);\n    const openAngle = (currToPrev + currToNext) / 2;\n    const closeAngle = openAngle + Math.PI;\n    const maxAngle = Math.max(openAngle, closeAngle);\n    const minAngle = Math.min(openAngle, closeAngle);\n    const openClose = currToPrev > currToNext;\n\n    if (i === 1) {\n      const prevToCurr = lineAngle(prev, curr);\n      open.push(rotatePoint(prev, prevToCurr - PI_2, radius));\n      close.unshift(rotatePoint(prev, prevToCurr + PI_2, radius));\n    }\n\n    const opened = openClose ? maxAngle : minAngle;\n    const closed = openClose ? minAngle : maxAngle;\n\n    open.push(rotatePoint(curr, opened, radius));\n    close.unshift(rotatePoint(curr, closed, radius));\n\n    if (i === len - 1) {\n      const nextToCurr = lineAngle(next, curr);\n      open.push(rotatePoint(next, nextToCurr + PI_2, radius));\n      close.unshift(rotatePoint(next, nextToCurr - PI_2, radius));\n    }\n  }\n\n  return {\n    type: 'polygon',\n    vertices: [\n      ...open,\n      ...close\n    ]\n  };\n}\n","export default function flatten2d(ary) {\n  const newAry = [];\n  let a;\n  let len = ary.length;\n  for (let i = 0; i < len; i++) {\n    a = ary[i];\n    for (let k = 0; k < a.length; k++) {\n      newAry.push(a[k]);\n    }\n  }\n\n  return newAry;\n}\n","import extend from 'extend';\nimport DisplayObject from './display-object';\nimport { getMinMax } from '../../geometry/util';\nimport pathToSegments from '../parse-path-d';\nimport polylineToPolygonCollider from '../polyline-to-polygon-collider';\nimport flatten from '../../utils/flatten-array';\n\nconst EPSILON = 1e-12;\n\n/**\n * @extends node-def\n * @typedef {object} node--path-def\n * @property {string} d - {@link https://www.w3.org/TR/SVG/paths.html#DAttribute}\n */\n\nfunction isClosed(points) {\n  if (points.length < 2) {\n    return false;\n  }\n  const p0 = points[0];\n  const p1 = points[points.length - 1];\n\n  return Math.abs(p0.x - p1.x) < EPSILON && Math.abs(p0.y - p1.y) < EPSILON;\n}\n\nexport default class Path extends DisplayObject {\n  constructor(...s) {\n    super('path');\n    this.set(...s);\n  }\n\n  set(v = {}) {\n    super.set(v);\n    this.segments = [];\n    this.points = [];\n    this.attrs.d = v.d;\n\n    if (Array.isArray(v.collider) || (typeof v.collider === 'object' && typeof v.collider.type !== 'undefined')) {\n      this.collider = v.collider;\n    } else if (v.d) {\n      this.segments = pathToSegments(v.d);\n      this.segments.forEach((segment) => {\n        if (segment.length <= 1) {\n          // Omit empty and single point segments\n        } else if (isClosed(segment)) {\n          this.collider = extend({\n            type: 'polygon',\n            vertices: segment\n          }, v.collider);\n        } else if (typeof v.collider === 'object' && v.collider.visual) {\n          const size = this.attrs['stroke-width'] / 2;\n          this.collider = polylineToPolygonCollider(segment, size, v.collider);\n        } else {\n          this.collider = extend({\n            type: 'polyline',\n            points: segment\n          }, v.collider);\n        }\n      });\n    }\n\n    this.__boundingRect = { true: null, false: null };\n    this.__bounds = { true: null, false: null };\n  }\n\n  boundingRect(includeTransform = false) {\n    if (this.__boundingRect[includeTransform] !== null) {\n      return this.__boundingRect[includeTransform];\n    }\n\n    if (!this.points.length) {\n      this.segments = this.segments.length ? this.segments : pathToSegments(this.attrs.d);\n      this.points = flatten(this.segments);\n    }\n\n    const pt = includeTransform && this.modelViewMatrix ? this.modelViewMatrix.transformPoints(this.points) : this.points;\n    const [xMin, yMin, xMax, yMax] = getMinMax(pt);\n\n    this.__boundingRect[includeTransform] = {\n      x: xMin || 0,\n      y: yMin || 0,\n      width: (xMax - xMin) || 0,\n      height: (yMax - yMin) || 0\n    };\n\n    return this.__boundingRect[includeTransform];\n  }\n\n  bounds(includeTransform = false) {\n    if (this.__bounds[includeTransform] !== null) {\n      return this.__bounds[includeTransform];\n    }\n    const rect = this.boundingRect(includeTransform);\n\n    this.__bounds[includeTransform] = [\n      { x: rect.x, y: rect.y },\n      { x: rect.x + rect.width, y: rect.y },\n      { x: rect.x + rect.width, y: rect.y + rect.height },\n      { x: rect.x, y: rect.y + rect.height }\n    ];\n    return this.__bounds[includeTransform];\n  }\n}\n\nexport function create(...s) {\n  return new Path(...s);\n}\n","import extend from 'extend';\nimport DisplayObject from './display-object';\nimport {\n  rectToPoints,\n  getMinMax\n} from '../../geometry/util';\n\nfunction hasData({ data, _boundingRect, _textBoundsFn }) {\n  return typeof data !== 'undefined' && data !== null && (_boundingRect || _textBoundsFn);\n}\n\n/**\n * @extends node-def\n * @typedef {object} node--text-def\n * @property {string} text\n * @property {number} x - {@link https://www.w3.org/TR/SVG/text.html#TextElementXAttribute}\n * @property {number} y - {@link https://www.w3.org/TR/SVG/text.html#TextElementYAttribute}\n * @property {number} [dx] - {@link https://www.w3.org/TR/SVG/text.html#TextElementDXAttribute}\n * @property {number} [dy] - {@link https://www.w3.org/TR/SVG/text.html#TextElementDYAttribute}\n * @property {string} [fontSize] - {@link https://www.w3.org/TR/SVG/text.html#FontPropertiesUsedBySVG}\n * @property {string} [fontFamily] - {@link https://www.w3.org/TR/SVG/text.html#FontPropertiesUsedBySVG}\n * @property {rect} [boundingRect] - Explicitly set the bounding rectangle of the node. Has predence over textBoundsFn\n * @property {function} [textBoundsFn] - Implicitly set the bounding rectangle of the node, the function must return an object with x, y, width and height attributes\n * @property {string} [baseline] - Alias for dominantBaseline\n * @property {string} [dominantBaseline] - {@link https://www.w3.org/TR/SVG/text.html#BaselineAlignmentProperties}\n * @property {string} [anchor] - Alias for textAnchor\n * @property {string} [textAnchor] - {@link https://www.w3.org/TR/SVG/text.html#TextAnchorProperty}\n * @property {string} [wordBreak] - Word-break option\n * @property {number} [maxWidth] - Maximum allowed text width\n * @property {number} [maxHeight] - Maximum allowed text height. If both maxLines and maxHeight are set, the property that results in the fewest number of lines is used\n * @property {number} [maxLines] - Maximum number of lines allowed\n * @property {number} [lineHeight=1.2] - Line height\n */\n\nexport default class Text extends DisplayObject {\n  constructor(...s) {\n    super('text');\n    this.set(...s);\n  }\n\n  set(v = {}) {\n    const {\n      x = 0,\n      y = 0,\n      dx = 0,\n      dy = 0,\n      textBoundsFn,\n      text,\n      title,\n      collider,\n      boundingRect,\n      ellipsed\n    } = v;\n\n    super.set(v);\n    this.attrs.x = x;\n    this.attrs.y = y;\n    this.attrs.dx = dx;\n    this.attrs.dy = dy;\n    this.attrs.text = text;\n    if (typeof title !== 'undefined') {\n      this.attrs.title = String(title);\n    }\n    if (typeof boundingRect === 'object') {\n      this._textBoundsFn = () => boundingRect;\n    } else if (typeof textBoundsFn === 'function') {\n      this._textBoundsFn = textBoundsFn;\n    }\n\n    if (typeof ellipsed === 'string') {\n      this.ellipsed = ellipsed;\n    }\n\n    this.collider = extend({ type: hasData(this) ? 'bounds' : null }, collider);\n\n    this.__boundingRect = { true: null, false: null };\n    this.__bounds = { true: null, false: null };\n  }\n\n  boundingRect(includeTransform = false) {\n    if (this.__boundingRect[includeTransform] !== null) {\n      return this.__boundingRect[includeTransform];\n    }\n\n    let rect;\n    if (typeof this._textBoundsFn === 'function') {\n      rect = this._textBoundsFn(this.attrs);\n    } else {\n      return {\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0\n      };\n    }\n\n    const p = rectToPoints(rect);\n    const pt = includeTransform && this.modelViewMatrix ? this.modelViewMatrix.transformPoints(p) : p;\n    const [xMin, yMin, xMax, yMax] = getMinMax(pt);\n\n    this.__boundingRect[includeTransform] = {\n      x: xMin,\n      y: yMin,\n      width: xMax - xMin,\n      height: yMax - yMin\n    };\n\n    return this.__boundingRect[includeTransform];\n  }\n\n  bounds(includeTransform = false) {\n    if (this.__bounds[includeTransform] !== null) {\n      return this.__bounds[includeTransform];\n    }\n    const rect = this.boundingRect(includeTransform);\n\n    this.__bounds[includeTransform] = [\n      { x: rect.x, y: rect.y },\n      { x: rect.x + rect.width, y: rect.y },\n      { x: rect.x + rect.width, y: rect.y + rect.height },\n      { x: rect.x, y: rect.y + rect.height }\n    ];\n    return this.__bounds[includeTransform];\n  }\n}\n\nexport function create(...s) {\n  return new Text(...s);\n}\n","import { create as stage } from './stage';\nimport { create as container } from './container';\nimport { create as gradientItem } from './gradient-item';\nimport { create as patternItem } from './pattern-item';\nimport { create as rect } from './rect';\nimport { create as circle } from './circle';\nimport { create as line } from './line';\nimport { create as path } from './path';\nimport { create as text } from './text';\nimport registry from '../../utils/registry';\n\nconst reg = registry();\n\nreg.add('rect', rect);\nreg.add('circle', circle);\nreg.add('text', text);\nreg.add('line', line);\nreg.add('path', path);\nreg.add('stage', stage);\nreg.add('container', container);\nreg.add('defs', container);\nreg.add('linearGradient', gradientItem);\nreg.add('radialGradient', gradientItem);\nreg.add('stop', gradientItem);\nreg.add('pattern', patternItem);\n\nexport function create(type, input) { // eslint-disable-line import/prefer-default-export\n  return reg.get(type)(input);\n}\n","import extend from 'extend';\n\n/**\n * Creates a context. Input an array of strings that should be inherited by the context.\n * @private\n *\n * @param  {Array}  [whitelist=[]]  An array of whitelisted string keys to inherit\n * @return {Function}               A context function\n */\nfunction contextFactory(whitelist = []) {\n  const states = [{}];\n\n  /**\n   * Returns the current context as an object. The object is mutable.\n   * @private\n   *\n   * @return {Object}   Current context\n   */\n  function context() {\n    // Returns the current context, the last in the stack.\n    const item = states[states.length - 1];\n    return item;\n  }\n\n  /**\n   * Call context.save() to save the current context and move down the stack.\n   *\n   * @param  {Object} [item={}]   Optional item to save.\n   * @return {Object}             The current context, just as context()\n   */\n  context.save = function save(item = {}) {\n    const current = context();\n    const obj = {};\n    let key = '';\n\n    // Only inherit whitelisted properties\n    for (let i = 0; i < whitelist.length; i++) {\n      key = whitelist[i];\n      if (typeof current[key] !== 'undefined') { obj[key] = current[key]; }\n    }\n\n    // Extend the new object with the saved item\n    extend(obj, item);\n\n    // Push it to the stack\n    states.push(obj);\n\n    // Return the new current context\n    return context();\n  };\n\n  /**\n   * Restore the previous context. Returns the context.\n   *\n   * @return {Undefined}   Returns nothing\n   */\n  context.restore = function restore() {\n    // Remove the last element from the stack\n    states.splice(states.length - 1, 1);\n  };\n\n  return context;\n}\n\nexport { contextFactory as default };\n","import { create } from './display-objects';\nimport Matrix from '../math/matrix';\nimport resolveTransform from './transform-resolver';\nimport contextFactory from './context';\n\nconst styleContext = contextFactory([\n  'stroke',\n  'fill',\n  'strokeWidth',\n  'opacity',\n  'fontFamily',\n  'fontSize',\n  'baseline'\n]);\n\nfunction doEvent(state, listeners) {\n  if (!Array.isArray(listeners)) {\n    return;\n  }\n\n  for (let i = 0, len = listeners.length; i < len; i++) {\n    listeners[i](state);\n  }\n}\n\nfunction updateState(state, index, nodes) {\n  state.node = nodes[index];\n  state.index = index;\n}\n\nfunction traverse(items, parent, matrix, on) {\n  let disabled = false;\n  const state = {\n    siblings: items,\n    node: null,\n    index: 0\n  };\n  for (let i = 0, len = items.length; i < len; i++) {\n    updateState(state, i, items);\n    doEvent(state, on.create);\n\n    disabled = typeof state.node.disabled === 'function' ? state.node.disabled() : state.node.disabled;\n    if (disabled) {\n      continue;\n    }\n\n    // Save the current style context to be able to inherit styles\n    state.node = styleContext.save(state.node);\n\n    const displayNode = create(state.node.type, state.node);\n    if (displayNode) {\n      if (state.node.transform) {\n        matrix.save();\n        resolveTransform(state.node.transform, matrix);\n      }\n\n      if (!matrix.isIdentity()) {\n        displayNode.modelViewMatrix = matrix.clone();\n      }\n\n      parent.addChild(displayNode);\n      if (state.node.children) {\n        traverse(state.node.children, displayNode, matrix, on);\n      }\n\n      if (state.node.transform) {\n        matrix.restore();\n      }\n    }\n\n    // Revert to previous style context\n    styleContext.restore();\n  }\n}\n\nexport default function scene({\n  items,\n  stage,\n  dpi,\n  on = {}\n}) {\n  if (!stage) {\n    stage = create('stage', dpi);\n  }\n\n  traverse(items, stage, new Matrix(), on);\n\n  return stage;\n}\n","import { degreesToPoints } from '../../../core/math/angles';\n\n/**\n * Get or create a gradient\n * @ignore\n * @param  {Object} g        Canvas 2d context\n * @param  {Object} node    Current node (for width/height properties)\n * @param  {Object} gradient The gradient properties\n * @return {Object}          A canvas compatible radial or linear gradient object\n */\nexport default function createCanvasGradient(g, node, gradient) {\n  const { orientation, degree, stops = [] } = gradient;\n\n  let newGradient = null;\n\n  if (orientation === 'radial') {\n    const bounds = node.boundingRect();\n\n    newGradient = g.createRadialGradient(\n      bounds.x + (bounds.width / 2),\n      bounds.y + (bounds.height / 2),\n      1e-5,\n      bounds.x + (bounds.width / 2),\n      bounds.y + (bounds.height / 2),\n      (Math.max(bounds.width, bounds.height) / 2)\n    );\n  } else {\n    const points = degreesToPoints(degree);\n    ['x1', 'x2', 'y1', 'y2'].forEach((c) => {\n      if (c in gradient) {\n        points[c] = gradient[c];\n      }\n    });\n\n    const bounds = node.boundingRect();\n\n    newGradient = g.createLinearGradient(\n      bounds.x + (points.x1 * bounds.width),\n      bounds.y + (points.y1 * bounds.height),\n      bounds.x + (points.x2 * bounds.width),\n      bounds.y + (points.y2 * bounds.height)\n    );\n  }\n\n  for (let i = 0, len = stops.length; i < len; i++) {\n    let stop = stops[i];\n    newGradient.addColorStop(stop.offset, stop.color);\n  }\n\n  return newGradient;\n}\n","function getPattern(pattern, dummyCanvas, ctx) {\n  dummyCanvas.width = pattern.width;\n  dummyCanvas.height = pattern.height;\n  ctx.save();\n  ctx.fillStyle = pattern.fill;\n\n  pattern.shapes.forEach((s) => {\n    switch (s.type) {\n      case 'rect':\n        ctx.rect(s.x, s.y, s.width, s.height);\n        break;\n      default:\n        break;\n    }\n  });\n  ctx.fill();\n  ctx.restore();\n  return ctx.createPattern(dummyCanvas, 'repeat');\n}\n\nexport default function patternizer(document) {\n  const dummyCanvas = document.createElement('canvas');\n  const ctx = dummyCanvas.getContext('2d');\n\n  let cache = {};\n\n  return {\n    create(pattern) {\n      const key = pattern.key;\n      if (key) {\n        cache[key] = cache[key] || getPattern(pattern, dummyCanvas, ctx);\n        return cache[key];\n      }\n      return getPattern(pattern, dummyCanvas, ctx);\n    },\n    clear() {\n      cache = {};\n    }\n  };\n}\n","/**\n * @typedef {object} renderer-container-def\n * @property {number} [x] - x-coordinate\n * @property {number} [y] - y-coordinate\n * @property {number} [width] - Width\n * @property {number} [height] - Height\n * @property {object} [scaleRatio]\n * @property {number} [scaleRatio.x] - Scale ratio on x-axis\n * @property {number} [scaleRatio.y] - Scale ratio on y-axis\n * @property {object} [margin]\n * @property {number} [margin.left] - Left margin\n * @property {number} [margin.top] - Top margin\n */\n\n/**\n * Create the renderer box\n * @private\n * @param {renderer-container-def} [opts]\n * @returns {renderer-container-def} A svg renderer instance\n */\nexport default function createRendererBox({\n  x, y, width, height, scaleRatio, margin, edgeBleed\n} = {}) {\n  const box = {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0,\n    scaleRatio: {\n      x: 1,\n      y: 1\n    },\n    margin: {\n      left: 0,\n      top: 0\n    },\n    edgeBleed: {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0,\n      bool: false\n    }\n  };\n\n  box.x = isNaN(x) ? box.x : x;\n  box.y = isNaN(y) ? box.y : y;\n  box.width = isNaN(width) ? box.width : width;\n  box.height = isNaN(height) ? box.height : height;\n  if (typeof scaleRatio !== 'undefined') {\n    box.scaleRatio.x = isNaN(scaleRatio.x) ? box.scaleRatio.x : scaleRatio.x;\n    box.scaleRatio.y = isNaN(scaleRatio.y) ? box.scaleRatio.y : scaleRatio.y;\n  }\n\n  if (typeof margin !== 'undefined') {\n    box.margin.left = isNaN(margin.left) ? 0 : margin.left;\n    box.margin.top = isNaN(margin.top) ? 0 : margin.top;\n  }\n\n  if (typeof edgeBleed === 'object') {\n    ['left', 'right', 'top', 'bottom'].forEach((prop) => {\n      if (!isNaN(edgeBleed[prop]) && edgeBleed[prop] > 0) {\n        box.edgeBleed[prop] = edgeBleed[prop];\n        box.edgeBleed.bool = true;\n      }\n    });\n  }\n\n  box.computedPhysical = {\n    x: Math.round(box.margin.left + ((box.x - box.edgeBleed.left) * box.scaleRatio.x)),\n    y: Math.round(box.margin.top + ((box.y - box.edgeBleed.top) * box.scaleRatio.y)),\n    width: Math.round((box.width + box.edgeBleed.left + box.edgeBleed.right) * box.scaleRatio.x),\n    height: Math.round((box.height + box.edgeBleed.top + box.edgeBleed.bottom) * box.scaleRatio.y)\n  };\n\n  return box;\n}\n","import {\n  measureText,\n  textBounds\n} from '../text-manipulation';\n\n/**\n * Base renderer factory\n * @private\n */\nfunction create() {\n  /**\n * @interface\n * @alias renderer\n */\n  const renderer = {\n    /**\n   * Get the element this renderer is attached to\n   * @returns {HTMLElement}\n   */\n    element: () => {},\n\n    /**\n     * Get the root element of the renderer\n     * @returns {HTMLElement}\n     */\n    root: () => {},\n\n    /**\n    * @param {HTMLElement} element - Element to attach renderer to\n    * @returns {HTMLElement} Root element of the renderer\n    */\n    appendTo: () => {},\n\n    /**\n     * @param {node-def[]} nodes - Nodes to render\n     * @returns {boolean} True if the nodes where rendered, otherwise false\n     */\n    render: () => false,\n\n    /**\n     * Get nodes renderer at area\n     * @param {point|circle|rect|line|polygon} geometry - Get nodes that intersects with geometry\n     * @returns {SceneNode[]}\n     */\n    itemsAt: () => [],\n\n    /**\n     * Get all nodes matching the provided selector\n     * @param {string} selector CSS selector [type, attribute, universal, class]\n     * @returns {SceneNode[]} Array of objects containing matching nodes\n     */\n    findShapes: () => [],\n\n    /**\n     * Clear all child elements from the renderer root element\n     * @returns {renderer} The renderer instance\n     */\n    clear: () => {},\n\n    /**\n     * Remove the renderer root element from its parent element\n     */\n    destory: () => {},\n\n    /**\n     * Set or Get the size definition of the renderer container.\n     * @param {renderer-container-def} [opts] - Size definition\n     * @returns {renderer-container-def} The current size definition\n     */\n    size: () => {},\n\n    /**\n     * @function\n     * @param {object} opts\n     * @param {string} opts.text - Text to measure\n     * @param {string} opts.fontSize - {@link https://www.w3.org/TR/SVG/text.html#FontPropertiesUsedBySVG}\n     * @param {string} opts.fontFamily - {@link https://www.w3.org/TR/SVG/text.html#FontPropertiesUsedBySVG}\n     * @returns {object} Width and height of text\n     * @example\n     * measureText({\n     *  text: 'my text',\n     *  fontSize: '12px',\n     *  fontFamily: 'Arial'\n     * }); // returns { width: 20, height: 12 }\n     */\n    measureText,\n\n    /**\n     * Calculates the bounding rectangle of a text node. Including any potential line breaks.\n     * @function\n     * @param {node--text-def} node\n     * @return {rect} The bounding rectangle\n     */\n    textBounds,\n\n    setKey: (key) => {\n      renderer.element().setAttribute('data-key', key);\n    }\n  };\n\n  return renderer;\n}\n\nexport { create as default };\n","function hasData(data) {\n  return typeof data !== 'undefined' && data !== null;\n}\n\nexport default function injectTextBoundsFn(renderer) {\n  return ({ node }) => {\n    if (node.type === 'text' && hasData(node.data) && !node.textBoundsFn) {\n      node.textBoundsFn = renderer.textBounds;\n    }\n  };\n}\n","import sceneFactory from '../../../core/scene-graph/scene';\nimport registry from '../../../core/utils/registry';\nimport { onLineBreak } from '../../text-manipulation';\nimport createCanvasGradient from './canvas-gradient';\nimport patternizer from './canvas-pattern';\nimport createRendererBox from '../renderer-box';\nimport create from '../index';\nimport injectTextBoundsFn from '../../text-manipulation/inject-textbounds';\n\nconst reg = registry();\n\nfunction toLineDash(p) {\n  if (Array.isArray(p)) {\n    return p;\n  }\n  if (typeof p === 'string') {\n    if (p.indexOf(',') !== -1) {\n      return p.split(',');\n    }\n    return p.split(' ');\n  }\n  return [];\n}\n\nfunction dpiScale(g) {\n  const dpr = typeof window === 'undefined' ? 1 : window.devicePixelRatio || 1;\n  const backingStorePixelRatio = g.webkitBackingStorePixelRatio\n    || g.mozBackingStorePixelRatio\n    || g.msBackingStorePixelRatio\n    || g.oBackingStorePixelRatio\n    || g.backingStorePixelRatio || 1;\n  return dpr / backingStorePixelRatio;\n}\n\nfunction resolveMatrix(p, g) {\n  g.setTransform(p[0][0], p[1][0], p[0][1], p[1][1], p[0][2], p[1][2]);\n}\n\nfunction applyContext(g, s, shapeToCanvasMap, computed = {}) {\n  const computedKeys = Object.keys(computed);\n\n  for (let i = 0, len = shapeToCanvasMap.length; i < len; i++) {\n    let cmd = shapeToCanvasMap[i];\n\n    const shapeCmd = cmd[0];\n    const canvasCmd = cmd[1];\n    const convertCmd = cmd[2];\n\n    if ((shapeCmd in s.attrs && !(canvasCmd in computed)) && g[canvasCmd] !== s.attrs[shapeCmd]) {\n      const val = convertCmd ? convertCmd(s.attrs[shapeCmd]) : s.attrs[shapeCmd];\n      if (typeof g[canvasCmd] === 'function') {\n        g[canvasCmd](val);\n      } else {\n        g[canvasCmd] = val;\n      }\n    }\n  }\n\n  for (let i = 0, len = computedKeys.length; i < len; i++) {\n    const key = computedKeys[i];\n    g[key] = computed[key];\n  }\n}\n\nfunction renderShapes(shapes, g, shapeToCanvasMap, deps) {\n  for (let i = 0, len = shapes.length; i < len; i++) {\n    let shape = shapes[i];\n    let computed = {};\n    g.save();\n\n\n    if (shape.attrs && (shape.attrs.fill || shape.attrs.stroke)) {\n      if (shape.attrs.fill && typeof shape.attrs.fill === 'object' && shape.attrs.fill.type === 'gradient') {\n        computed.fillStyle = createCanvasGradient(g, shape, shape.attrs.fill);\n      } else if (shape.attrs.fill && typeof shape.attrs.fill === 'object' && shape.attrs.fill.type === 'pattern') {\n        computed.fillStyle = deps.patterns.create(shape.attrs.fill);\n      }\n\n      if (shape.attrs.stroke && typeof shape.attrs.stroke === 'object' && shape.attrs.stroke.type === 'gradient') {\n        computed.strokeStyle = createCanvasGradient(g, shape, shape.attrs.stroke);\n      } else if (shape.attrs.stroke && typeof shape.attrs.stroke === 'object' && shape.attrs.stroke.type === 'pattern') {\n        computed.strokeStyle = deps.patterns.create(shape.attrs.stroke);\n      }\n    }\n\n    applyContext(g, shape, shapeToCanvasMap, computed);\n\n    if (shape.modelViewMatrix) {\n      resolveMatrix(shape.modelViewMatrix.elements, g);\n    }\n\n    if (reg.has(shape.type)) {\n      reg.get(shape.type)(shape.attrs, {\n        g,\n        doFill: 'fill' in shape.attrs && shape.attrs.fill !== 'none',\n        doStroke: 'stroke' in shape.attrs && shape.attrs['stroke-width'] !== 0,\n        ellipsed: shape.ellipsed\n      });\n    }\n    if (shape.children) {\n      renderShapes(shape.children, g, shapeToCanvasMap, deps);\n    }\n    g.restore();\n  }\n}\n\n/**\n * Create a new canvas renderer\n * @typedef {function} canvasRendererFactory\n * @param {function} sceneFn - Scene factory\n * @returns {renderer} A canvas renderer instance\n */\nexport function renderer(sceneFn = sceneFactory) {\n  let el;\n  let scene;\n  let hasChangedRect = false;\n  let rect = createRendererBox();\n  const shapeToCanvasMap = [\n    ['fill', 'fillStyle'],\n    ['stroke', 'strokeStyle'],\n    ['opacity', 'globalAlpha'],\n    ['globalAlpha', 'globalAlpha'],\n    ['stroke-width', 'lineWidth'],\n    ['stroke-linejoin', 'lineJoin'],\n    ['stroke-dasharray', 'setLineDash', toLineDash]\n  ];\n\n  let patterns;\n\n  const canvasRenderer = create();\n\n  canvasRenderer.element = () => el;\n\n  canvasRenderer.root = () => el;\n\n  canvasRenderer.appendTo = (element) => {\n    if (!el) {\n      el = element.ownerDocument.createElement('canvas');\n      el.style.position = 'absolute';\n      el.style['-webkit-font-smoothing'] = 'antialiased';\n      el.style['-moz-osx-font-smoothing'] = 'antialiased';\n      el.style.pointerEvents = 'none';\n    }\n\n    element.appendChild(el);\n\n    return el;\n  };\n\n  canvasRenderer.render = (shapes) => {\n    if (!el) {\n      return false;\n    }\n    if (!patterns) {\n      patterns = patternizer(el.ownerDocument);\n    }\n\n    const g = el.getContext('2d');\n    const dpiRatio = dpiScale(g);\n    const scaleX = rect.scaleRatio.x;\n    const scaleY = rect.scaleRatio.y;\n\n    if (hasChangedRect) {\n      el.style.left = `${rect.computedPhysical.x}px`;\n      el.style.top = `${rect.computedPhysical.y}px`;\n      el.style.width = `${rect.computedPhysical.width}px`;\n      el.style.height = `${rect.computedPhysical.height}px`;\n      el.width = Math.round(rect.computedPhysical.width * dpiRatio);\n      el.height = Math.round(rect.computedPhysical.height * dpiRatio);\n    }\n\n    const sceneContainer = {\n      type: 'container',\n      children: shapes,\n      transform: rect.edgeBleed.bool ? `translate(${rect.edgeBleed.left * dpiRatio * scaleX}, ${rect.edgeBleed.top * dpiRatio * scaleY})` : ''\n    };\n\n    if (dpiRatio !== 1 || scaleX !== 1 || scaleY !== 1) {\n      sceneContainer.transform += `scale(${dpiRatio * scaleX}, ${dpiRatio * scaleY})`;\n    }\n\n    const newScene = sceneFn({\n      items: [sceneContainer],\n      dpi: dpiRatio,\n      on: {\n        create: [\n          onLineBreak(canvasRenderer.measureText),\n          injectTextBoundsFn(canvasRenderer)\n        ]\n      }\n    });\n    const hasChangedScene = scene ? !newScene.equals(scene) : true;\n\n    patterns.clear();\n\n    const doRender = hasChangedRect || hasChangedScene;\n    if (doRender) {\n      canvasRenderer.clear();\n      renderShapes(newScene.children, g, shapeToCanvasMap, {\n        patterns\n      });\n    }\n\n    hasChangedRect = false;\n    scene = newScene;\n    return doRender;\n  };\n\n  canvasRenderer.itemsAt = (input) => (scene ? scene.getItemsFrom(input) : []);\n\n  canvasRenderer.findShapes = (selector) => (scene ? scene.findShapes(selector) : []);\n\n  canvasRenderer.clear = () => {\n    if (el) {\n      el.width = el.width; // eslint-disable-line\n    }\n    scene = null;\n\n    return canvasRenderer;\n  };\n\n  canvasRenderer.size = (opts) => {\n    if (opts) {\n      const newRect = createRendererBox(opts);\n\n      if (JSON.stringify(rect) !== JSON.stringify(newRect)) {\n        hasChangedRect = true;\n        rect = newRect;\n      }\n    }\n\n    return rect;\n  };\n\n  canvasRenderer.destroy = () => {\n    if (el) {\n      if (el.parentElement) {\n        el.parentElement.removeChild(el);\n      }\n      el = null;\n    }\n    scene = null;\n  };\n\n  return canvasRenderer;\n}\n\nexport function register(type, renderFn) {\n  reg.add(type, renderFn);\n}\n","function clampRadius(max, value) {\n  return Math.max(0, Math.min(max, value));\n}\n\n/**\n * Implementation details follow rx/ry restrictions from https://svgwg.org/svg2-draft/geometry.html#RX\n *\n * Using Quadratic Bézier curve it's not possible accurately represent a circle or ellipse but should for the case of a rounded rectangle be sufficent.\n * @private\n */\nfunction quadraticRoundedRect(g, x, y, width, height, rx, ry) {\n  rx = clampRadius(width / 2, rx > 0 ? rx : ry);\n  ry = clampRadius(height / 2, ry > 0 ? ry : rx);\n\n  g.moveTo(x, y + ry);\n  g.lineTo(x, y + height - ry);\n  g.quadraticCurveTo(x, y + height, x + rx, y + height);\n  g.lineTo(x + width - rx, y + height);\n  g.quadraticCurveTo(x + width, y + height, x + width, y + height - ry);\n  g.lineTo(x + width, y + ry);\n  g.quadraticCurveTo(x + width, y, x + width - rx, y);\n  g.lineTo(x + rx, y);\n  g.quadraticCurveTo(x, y, x, y + ry);\n}\n\nexport default function render(rect, { g, doFill, doStroke }) {\n  g.beginPath();\n\n  if (rect.rx > 0 || rect.ry > 0) {\n    quadraticRoundedRect(g, rect.x, rect.y, rect.width, rect.height, rect.rx, rect.ry);\n  } else {\n    g.rect(rect.x, rect.y, rect.width, rect.height);\n  }\n\n  if (doFill) {\n    g.fill();\n  }\n  if (doStroke) {\n    g.stroke();\n  }\n}\n","export default function render(circle, { g, doFill, doStroke }) {\n  g.beginPath();\n  g.moveTo(circle.cx + circle.r, circle.cy);\n  g.arc(circle.cx, circle.cy, circle.r, 0, Math.PI * 2, false);\n  if (doFill) {\n    g.fill();\n  }\n  if (doStroke) {\n    g.stroke();\n  }\n}\n","export default function render(line, { g, doStroke }) {\n  g.beginPath();\n  g.moveTo(line.x1, line.y1);\n  g.lineTo(line.x2, line.y2);\n  if (doStroke) {\n    g.stroke();\n  }\n}\n","\n/* eslint no-misleading-character-class: 0 */\n// Source: https://en.wikipedia.org/wiki/Bi-directional_text and http://www.unicode.org/Public/6.0.0/ucd/UnicodeData.txt\n// 3 types of strong direction characters: L (strong left-to-right), R(strong right-to-left, Hebrew) and AL(strong right-to-left, Arabic language)\nconst rangesOfLChars = '[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02B8\\u02BB-\\u02C1\\u02D0-\\u02D1\\u02E0-\\u02E4\\u02EE\\u0370-\\u0373\\u0376-\\u037D\\u0386\\u0388-\\u03F5\\u03F7-\\u0482\\u048A-\\u0589\\u0903-\\u0939\\u093B\\u093D-\\u0940\\u0949-\\u094C\\u094E-\\u0950\\u0958-\\u0961\\u0964-\\u097F\\u0982-\\u09B9\\u09BD-\\u09C0\\u09C7-\\u09CC\\u09CE-\\u09E1\\u09E6-\\u09F1\\u09F4-\\u09FA\\u0A03-\\u0A39\\u0A3E-\\u0A40\\u0A59-\\u0A6F\\u0A72-\\u0A74\\u0A83-\\u0AB9\\u0ABD-\\u0AC0\\u0AC9-\\u0ACC\\u0AD0-\\u0AE1\\u0AE6-\\u0AEF\\u0B02-\\u0B39\\u0B3D-\\u0B3E\\u0B40\\u0B47-\\u0B4C\\u0B57-\\u0B61\\u0B66-\\u0B77\\u0B83-\\u0BBF\\u0BC1-\\u0BCC\\u0BD0-\\u0BF2\\u0C01-\\u0C3D\\u0C41-\\u0C44\\u0C58-\\u0C61\\u0C66-\\u0C6F\\u0C7F-\\u0CB9\\u0CBD-\\u0CCB\\u0CD5-\\u0CE1\\u0CE6-\\u0D40\\u0D46-\\u0D4C\\u0D4E-\\u0D61\\u0D66-\\u0DC6\\u0DCF-\\u0DD1\\u0DD8-\\u0E30\\u0E32-\\u0E33\\u0E40-\\u0E46\\u0E4F-\\u0EB0\\u0EB2-\\u0EB3\\u0EBD-\\u0EC6\\u0ED0-\\u0F17\\u0F1A-\\u0F34\\u0F36\\u0F38\\u0F3E-\\u0F6C\\u0F7F\\u0F85\\u0F88-\\u0F8C\\u0FBE-\\u0FC5\\u0FC7-\\u102C\\u1031\\u1038\\u103B-\\u103C\\u103F-\\u1057\\u105A-\\u105D\\u1061-\\u1070\\u1075-\\u1081\\u1083-\\u1084\\u1087-\\u108C\\u108E-\\u109C\\u109E-\\u135A\\u1360-\\u138F\\u13A0-\\u13F4\\u1401-\\u167F\\u1681-\\u169A\\u16A0-\\u1711\\u1720-\\u1731\\u1735-\\u1751\\u1760-\\u1770\\u1780-\\u17B6\\u17BE-\\u17C5\\u17C7-\\u17C8\\u17D4-\\u17DA\\u17DC\\u17E0-\\u17E9\\u1810-\\u18A8\\u18AA-\\u191C\\u1923-\\u1926\\u1929-\\u1931\\u1933-\\u1938\\u1946-\\u19DA\\u1A00-\\u1A16\\u1A19-\\u1A55\\u1A57\\u1A61\\u1A63-\\u1A64\\u1A6D-\\u1A72\\u1A80-\\u1AAD\\u1B04-\\u1B33\\u1B35\\u1B3B\\u1B3D-\\u1B41\\u1B43-\\u1B6A\\u1B74-\\u1B7C\\u1B82-\\u1BA1\\u1BA6-\\u1BA7\\u1BAA-\\u1BE5\\u1BE7\\u1BEA-\\u1BEC\\u1BEE\\u1BF2-\\u1C2B\\u1C34-\\u1C35\\u1C3B-\\u1C7F\\u1CD3\\u1CE1\\u1CE9-\\u1CEC\\u1CEE-\\u1DBF\\u1E00-\\u1FBC\\u1FBE\\u1FC2-\\u1FCC\\u1FD0-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FFC\\u200E\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E-\\u214F\\u2160-\\u2188\\u2336-\\u237A\\u2395\\u249C-\\u24E9\\u26AC\\u2800-\\u28FF\\u2C00-\\u2CE4\\u2CEB-\\u2CEE\\u2D00-\\u2D70\\u2D80-\\u2DDE\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u31BA\\u31F0-\\u321C\\u3220-\\u324F\\u3260-\\u327B\\u327F-\\u32B0\\u32C0-\\u32CB\\u32D0-\\u3376\\u337B-\\u33DD\\u33E0-\\u33FE\\u3400-\\u4DB5\\u4E00-\\uA48C\\uA4D0-\\uA60C\\uA610-\\uA66E\\uA680-\\uA6EF\\uA6F2-\\uA6F7\\uA722-\\uA787\\uA789-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA824\\uA827\\uA830-\\uA837\\uA840-\\uA873\\uA880-\\uA8C3\\uA8CE-\\uA8D9\\uA8F2-\\uA925\\uA92E-\\uA946\\uA952-\\uA97C\\uA983-\\uA9B2\\uA9B4-\\uA9B5\\uA9BA-\\uA9BB\\uA9BD-\\uAA28\\uAA2F-\\uAA30\\uAA33-\\uAA34\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA4D-\\uAAAF\\uAAB1\\uAAB5-\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2-\\uABE4\\uABE6-\\uABE7\\uABE9-\\uABEC\\uABF0-\\uFB17\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFDC]';\nconst rangesOfRChars = '[\\u05BE\\u05C0\\u05C3\\u05C6\\u05D0-\\u05F4\\u07C0-\\u07EA\\u07F4-\\u07F5\\u07FA-\\u0815\\u081A\\u0824\\u0828\\u0830-\\u0858\\u085E\\u200F\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB4F]';\nconst rangesOfALChars = '[\\u0608\\u060B\\u060D\\u061B-\\u064A\\u066D-\\u066F\\u0671-\\u06D5\\u06E5-\\u06E6\\u06EE-\\u06EF\\u06FA-\\u070D\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\uFB50-\\uFD3D\\uFD50-\\uFDFC\\uFE70-\\uFEFC]';\n// let rangesOfNChars = '[\\u0009-\\u000D\\u001C-\\u0022\\u0026-\\u002A\\u003B-\\u0040\\u005B-\\u0060\\u007B-\\u007E\\u0085\\u00A1\\u00A6-\\u00A9\\u00AB-\\u00AC\\u00AE-\\u00AF\\u00B4\\u00B6-\\u00B8\\u00BB-\\u00BF\\u00D7\\u00F7\\u02B9-\\u02BA\\u02C2-\\u02CF\\u02D2-\\u02DF\\u02E5-\\u02ED\\u02EF-\\u02FF\\u0374-\\u0375\\u037E-\\u0385\\u0387\\u03F6\\u058A\\u0606-\\u0607\\u060E-\\u060F\\u06DE\\u06E9\\u07F6-\\u07F9\\u0BF3-\\u0BF8\\u0BFA\\u0C78-\\u0C7E\\u0F3A-\\u0F3D\\u1390-\\u1399\\u1400\\u1680\\u169B-\\u169C\\u17F0-\\u180A\\u180E\\u1940-\\u1945\\u19DE-\\u19FF\\u1FBD\\u1FBF-\\u1FC1\\u1FCD-\\u1FCF\\u1FDD-\\u1FDF\\u1FED-\\u1FEF\\u1FFD-\\u200A\\u2010-\\u2029\\u2035-\\u2043\\u2045-\\u205F\\u207C-\\u207E\\u208C-\\u208E\\u2100-\\u2101\\u2103-\\u2106\\u2108-\\u2109\\u2114\\u2116-\\u2118\\u211E-\\u2123\\u2125\\u2127\\u2129\\u213A-\\u213B\\u2140-\\u2144\\u214A-\\u214D\\u2150-\\u215F\\u2189-\\u2211\\u2214-\\u2335\\u237B-\\u2394\\u2396-\\u2487\\u24EA-\\u26AB\\u26AD-\\u27FF\\u2900-\\u2B59\\u2CE5-\\u2CEA\\u2CF9-\\u2CFF\\u2E00-\\u3004\\u3008-\\u3020\\u3030\\u3036-\\u3037\\u303D-\\u303F\\u309B-\\u309C\\u30A0\\u30FB\\u31C0-\\u31E3\\u321D-\\u321E\\u3250-\\u325F\\u327C-\\u327E\\u32B1-\\u32BF\\u32CC-\\u32CF\\u3377-\\u337A\\u33DE-\\u33DF\\u33FF\\u4DC0-\\u4DFF\\uA490-\\uA4C6\\uA60D-\\uA60F\\uA673\\uA67E-\\uA67F\\uA700-\\uA721\\uA788\\uA828-\\uA82B\\uA874-\\uA877\\uFD3E-\\uFD3F\\uFDFD\\uFE10-\\uFE19\\uFE30-\\uFE4F\\uFE51\\uFE54\\uFE56-\\uFE5E\\uFE60-\\uFE61\\uFE64-\\uFE68\\uFE6B\\uFF01-\\uFF02\\uFF06-\\uFF0A\\uFF1B-\\uFF20\\uFF3B-\\uFF40\\uFF5B-\\uFF65\\uFFE2-\\uFFE4\\uFFE8-\\uFFFD]';\nconst rangesOfLRgExp = new RegExp(rangesOfLChars);\nconst rangesOfRRgExp = new RegExp(rangesOfRChars);\nconst rangesOfALRgExp = new RegExp(rangesOfALChars);\n// let rangesOfNRgExp = new RegExp(rangesOfNChars);\n// let lrm = String.fromCharCode(8206); // left-to-right marker\n// let rlm = String.fromCharCode(8207); // right-to-left marker\n\nfunction isLtrChar(c) {\n  return rangesOfLRgExp.test(c);\n}\n\nfunction isRtlChar(c) {\n  return rangesOfRRgExp.test(c) || rangesOfALRgExp.test(c);\n}\n\nexport function detectTextDirection(s) {\n  let n = s ? s.length : 0,\n    i,\n    c;\n  for (i = 0; i < n; i++) {\n    c = s[i];\n    if (isLtrChar(c)) {\n      return 'ltr';\n    }\n    if (isRtlChar(c)) {\n      return 'rtl';\n    }\n  }\n  return 'ltr';\n}\n\nconst textAnchorRTLMap = {\n  start: 'end',\n  end: 'start',\n  center: 'center',\n  middle: 'middle'\n};\n\n/* let flippedTextAnchor = true;\nlet detected = false;\nexport function detectRtlSvgSupport(ns, ownerDoc) {\n  if (!detected) {\n    const body = ownerDoc.body;\n    if (body) {\n      const rtlTestSVG = ownerDoc.createElementNS(ns, 'svg');\n      const textNode = ownerDoc.createElementNS(ns, 'text');\n      const group = ownerDoc.createElementNS(ns, 'g');\n\n      rtlTestSVG.setAttribute('xmlns', ns);\n      rtlTestSVG.setAttribute('style', 'position: absolute; width: 100px; height: 100px; top: -100px; left: 0px');\n\n      textNode.setAttribute('text-anchor', 'start');\n      textNode.setAttribute('direction', 'rtl');\n      textNode.setAttribute('font-size', '14px');\n      textNode.setAttribute('x', 50);\n      textNode.setAttribute('y', 50);\n      textNode.textContent = 'ثعبان';\n\n      group.appendChild(textNode);\n      rtlTestSVG.appendChild(group);\n      body.appendChild(rtlTestSVG);\n\n      flippedTextAnchor = textNode.getBoundingClientRect().left < 50;\n      body.removeChild(rtlTestSVG);\n    }\n  }\n  detected = true;\n} */\n\nexport function flipTextAnchor(value, dir) {\n  if (dir === 'rtl') {\n    return textAnchorRTLMap[value];\n  }\n  return value;\n}\n","import { ellipsText, measureText } from '../../../text-manipulation';\nimport baselineHeuristic from '../../../text-manipulation/baseline-heuristic';\nimport { detectTextDirection, flipTextAnchor } from '../../../../core/utils/rtl-util';\n\nexport default function render(t, { g, ellipsed }) {\n  const text = ellipsed || ellipsText(t, measureText);\n  g.font = `${t['font-size']} ${t['font-family']}`;\n\n  const dir = detectTextDirection(t.text);\n  if (g.canvas.dir !== dir) {\n    g.canvas.dir = dir;\n  }\n  const textAnchor = t['text-anchor'] === 'middle' ? 'center' : t['text-anchor'];\n  const textAlign = flipTextAnchor(textAnchor, g.canvas.dir);\n  if (textAlign && g.textAlign !== textAlign) {\n    g.textAlign = textAlign;\n  }\n\n  const bdy = baselineHeuristic(t);\n\n  g.fillText(text, t.x + t.dx, t.y + t.dy + bdy);\n}\n","export default function render(path, { g, doStroke, doFill }) {\n  const p = new Path2D(path.d);\n  if (doFill) {\n    g.fill(p);\n  }\n  if (doStroke) {\n    g.stroke(p);\n  }\n}\n","import { renderer, register } from './canvas-renderer';\nimport rect from './shapes/rect';\nimport circle from './shapes/circle';\nimport line from './shapes/line';\nimport text from './shapes/text';\nimport path from './shapes/path';\n\nregister('rect', rect);\nregister('circle', circle);\nregister('line', line);\nregister('path', path);\nregister('text', text);\n\nexport default renderer;\n\nexport function rendererComponent(picasso) {\n  picasso.renderer('canvas', renderer);\n}\n","function diff(from, to) {\n  const added = [];\n  let items;\n  const removed = [];\n  const updatedNew = [];\n  const updatedOld = [];\n  let fromIds;\n  let toIds;\n  const idMapper = (a) => a.id;\n  const nodeMapper = (node, i) => {\n    let id;\n    if (typeof node === 'object') {\n      if ('id' in node) {\n        id = node.id;\n      } else {\n        id = i;\n      }\n    } else {\n      id = node;\n    }\n    return {\n      content: node,\n      id: `${id}__${node.type || ''}`\n    };\n  };\n\n  if (!from.isTree) {\n    from = from.map(nodeMapper);\n  }\n\n  to = to.map(nodeMapper);\n\n  fromIds = from.map(idMapper);\n  toIds = to.map(idMapper);\n  // TODO - handle duplicate values\n\n  // added = to.filter( v => fromIds.indexOf( v.id ) < 0 );\n  // updatedNew = to.filter( v => fromIds.indexOf( v.id ) >= 0 );\n  // removed = from.filter( v => toIds.indexOf( v.id ) < 0 );\n  // updatedOld = from.filter( v => toIds.indexOf( v.id ) >= 0 );\n\n  for (let i = 0, len = to.length; i < len; i++) {\n    const idx = fromIds.indexOf(to[i].id);\n    if (idx === -1) {\n      added.push(to[i]);\n    } else {\n      updatedNew.push(to[i]);\n    }\n  }\n\n  for (let i = 0, len = from.length; i < len; i++) {\n    const idx = toIds.indexOf(from[i].id);\n    if (idx === -1) {\n      removed.push(from[i]);\n    } else {\n      updatedOld.push(from[i]);\n    }\n  }\n\n  for (let i = 0, len = added.length; i < len; i++) {\n    if (added[i].content.children) {\n      added[i].diff = diff([], added[i].content.children);\n      added[i].children = added[i].diff.updatedNew.concat(added[i].diff.added);\n      added[i].children.isTree = true;\n    }\n  }\n\n  for (let i = 0, len = updatedNew.length; i < len; i++) {\n    updatedNew[i].diff = diff(updatedOld[i].children || [], updatedNew[i].content.children || []);\n    updatedNew[i].object = updatedOld[i].object;\n    updatedNew[i].children = updatedNew[i].diff.items;\n  }\n\n  items = updatedNew.concat(added);\n\n  added.isTree = true;\n  removed.isTree = true;\n  updatedNew.isTree = true;\n  updatedOld.isTree = true;\n  items.isTree = true;\n\n  return {\n    added,\n    updatedNew,\n    updatedOld,\n    removed,\n    items\n  };\n}\n\nfunction createNodes(nodes, parent, create) {\n  for (let i = 0, len = nodes.length; i < len; i++) {\n    nodes[i].object = create(nodes[i].content.type, parent);\n  }\n}\n\nfunction destroyNodes(nodes, destroy) {\n  for (let i = 0, len = nodes.length; i < len; i++) {\n    if (nodes[i].object !== null && typeof nodes[i].object !== 'undefined') {\n      destroy(nodes[i].object);\n      nodes[i].object = null;\n    }\n  }\n}\n\nfunction updateNodes(nodes, creator, maintainer, destroyer) {\n  let item;\n  for (let i = 0, len = nodes.length; i < len; i++) {\n    item = nodes[i];\n    if (item.object !== null && typeof item.object !== 'undefined') {\n      maintainer(item.object, item.content);\n      if (item.diff) {\n        createNodes(item.diff.added, item.object, creator);\n        destroyNodes(item.diff.removed, destroyer);\n        updateNodes(item.diff.items, creator, maintainer, destroyer);\n      }\n    }\n  }\n}\n\nfunction createTree(oldItems, newItems, root, creator, maintainer, destroyer) {\n  const d = diff(oldItems, newItems);\n\n  createNodes(d.added, root, creator);\n  destroyNodes(d.removed, destroyer);\n  updateNodes(d.items, creator, maintainer, destroyer);\n\n  return d.items;\n}\n\nexport {\n  diff,\n  createTree,\n  destroyNodes,\n  createNodes,\n  updateNodes\n};\n","import { ellipsText, measureText } from '../../text-manipulation';\nimport baselineHeuristic from '../../text-manipulation/baseline-heuristic';\nimport { detectTextDirection, flipTextAnchor } from '../../../core/utils/rtl-util';\n\nconst svgNs = 'http://www.w3.org/2000/svg';\n\nconst creator = (type, parent) => {\n  if (!type || typeof type !== 'string') {\n    throw new Error(`Invalid type: ${type}`);\n  }\n\n  const el = parent.ownerDocument.createElementNS(svgNs, type === 'container' ? 'g' : type);\n\n  parent.appendChild(el);\n  return el;\n};\n\nconst destroyer = (el) => {\n  if (el.parentNode) {\n    el.parentNode.removeChild(el);\n  }\n};\n\nconst maintainer = (element, item) => {\n  for (const attr in item.attrs) {\n    if (attr === 'stroke' && item.strokeReference) {\n      element.setAttribute('stroke', item.strokeReference);\n    } else if (attr === 'fill' && item.fillReference) {\n      element.setAttribute('fill', item.fillReference);\n    } else if (attr === 'text') {\n      element.setAttribute('style', 'white-space: pre');\n      element.textContent = item.ellipsed || ellipsText(item.attrs, measureText);\n      const dir = detectTextDirection(item.attrs.text);\n      if (dir === 'rtl') {\n        element.setAttribute('direction', 'rtl');\n        element.setAttribute('dir', 'rtl');\n        element.setAttribute('text-anchor', flipTextAnchor(element.getAttribute('text-anchor'), dir));\n      }\n    } else if (item.type === 'text' && (attr === 'dy' || attr === 'dominant-baseline')) {\n      const dy = +element.getAttribute(attr) || 0;\n      let val = 0;\n      if (attr === 'dominant-baseline') {\n        val = baselineHeuristic(item.attrs);\n      } else {\n        val = item.attrs[attr];\n      }\n      element.setAttribute('dy', val + dy);\n    } else if (item.type === 'text' && attr === 'title' && item.attrs.title) {\n      const t = element.ownerDocument.createElementNS(svgNs, 'title');\n      t.textContent = item.attrs.title;\n      element.appendChild(t);\n    } else {\n      element.setAttribute(attr, item.attrs[attr]);\n    }\n  }\n\n  if (typeof item.data === 'string' || typeof item.data === 'number' || typeof item.data === 'boolean') {\n    element.setAttribute('data', item.data);\n  } else if (typeof item.data === 'object' && item.data !== null) {\n    for (const d in item.data) {\n      if (typeof item.data[d] === 'string' || typeof item.data[d] === 'number' || typeof item.data[d] === 'boolean') {\n        element.setAttribute(`data-${d}`, item.data[d]);\n      }\n    }\n  }\n};\n\nexport {\n  svgNs,\n  creator,\n  maintainer,\n  destroyer\n};\n","import { createTree } from '../node-tree';\nimport { creator, maintainer, destroyer } from './svg-nodes';\n\nclass TreeItemRenderer {\n  /**\n   * Constructor\n   * @private\n   * @param  {TreeCreator} treeCreator - Function used to create the DOM tree..\n   * @param  {SVGCreator} nodeCreator - Function used to create nodes.\n   * @param  {SVGMaintainer} nodeMaintainer - Function used to update nodes.\n   * @param  {SVGDestroyer} nodeDestroyer - Function used to destroy nodes.\n   */\n  constructor(treeCreator, nodeCreator, nodeMaintainer, nodeDestroyer) {\n    this.create = treeCreator;\n    this.nodeCreator = nodeCreator;\n    this.nodeMaintainer = nodeMaintainer;\n    this.nodeDestroyer = nodeDestroyer;\n  }\n\n  render(newItems, root) {\n    return this.create([], newItems, root, this.nodeCreator, this.nodeMaintainer, this.nodeDestroyer);\n  }\n}\n\nfunction tree() {\n  return new TreeItemRenderer(createTree, creator, maintainer, destroyer);\n}\n\nexport {\n  TreeItemRenderer as default,\n  tree\n};\n\n/**\n * Create an SVGElement and attach to parent.\n * @private\n * @callback SVGCreator\n * @param {String} type - The type of element to create.\n * @param {SVGElement} parent - The parent element to append the new element to.\n * @return {SVGElement} The created element\n */\n\n/**\n * Update the element with content from item.\n * @private\n * @callback SVGMaintainer\n * @param {SVGElement} el - The element to update\n * @param {Object} item - The object to use as input for the update\n */\n\n/**\n * Detach element from its parent.\n * @private\n * @callback SVGDestroyer\n * @param {SVGElement} el - Element to destroy.\n */\n\n/**\n * Create, update and destroy nodes.\n * @private\n * @callback TreeCreator\n * @param {Object[]} existing - The existing items in the tree.\n * @param {Object[]} active - The new items to create the tree from.\n * @param {SVGCreator} creator - Function used to create nodes.\n * @param {SVGMaintainer} maintainer - Function used to update nodes.\n * @param {SVGDestroyer} destroyer - Function used to destroy nodes.\n */\n","/* eslint import/prefer-default-export: 0 */\n\n/**\n * Hash an object\n * Modified version of Java's HashCode function\n * Source: {@link http://werxltd.com/wp/2010/05/13/javascript-implementation-of-javas-string-hashcode-method/}\n * @ignore\n *\n * @param  {Object} item Item to hash\n * @return {String}      Unique hash id\n */\nexport function hashObject(item) {\n  let hash = 0;\n  let i;\n  let chr;\n  let len;\n\n  item = JSON.stringify(item);\n\n  if (item.length === 0) {\n    return hash;\n  }\n\n  for (i = 0, len = item.length; i < len; i++) {\n    chr = item.charCodeAt(i);\n    hash = ((hash << 5) - hash) + chr;\n    hash &= hash; // Convert to 32bit integer\n  }\n\n  return hash;\n}\n","import { degreesToPoints } from '../../../core/math/angles';\nimport { hashObject } from '../../../core/utils/crypto';\n\nexport default function gradienter(bucket, hasher = hashObject) {\n  let cache = {};\n  let uid = Date.now();\n\n  const p = {\n    getOrCreateGradient(item = {}, attr = 'fill', url = '') {\n      let gradientHash = hasher(item[attr]);\n      let gradientId = `picasso-gradient-${uid}-${gradientHash}`;\n\n      if (!cache[gradientHash]) {\n        let { orientation, degree, stops = [] } = item[attr];\n        let gradient = {};\n\n        if (degree === undefined) {\n          degree = 90;\n        }\n\n        // Default to linear\n        if (orientation === 'radial') {\n          gradient.type = 'radialGradient';\n        } else {\n          gradient = degreesToPoints(degree);\n          ['x1', 'x2', 'y1', 'y2'].forEach((c) => {\n            if (c in item[attr]) {\n              gradient[c] = item[attr][c];\n            }\n          });\n          gradient.type = 'linearGradient';\n        }\n\n        gradient.id = gradientId;\n        gradient.children = stops.map(({ offset, color, opacity }) => ({\n          type: 'stop',\n          offset: `${offset * 100}%`,\n          style: `stop-color:${color};stop-opacity:${typeof opacity !== 'undefined' ? opacity : 1}`\n        }));\n\n        bucket.push(gradient);\n        cache[gradientHash] = gradientId;\n      }\n\n      return `url('${url}#${gradientId}')`;\n    },\n    onCreate(state) {\n      let url = '';\n      if (typeof window !== 'undefined') {\n        url = window.location.href.split('#')[0];\n      }\n\n      const item = state.node;\n      if (item.fill && typeof item.fill === 'object' && item.fill.type === 'gradient') {\n        item.fillReference = p.getOrCreateGradient(item, 'fill', url);\n      }\n\n      if (item.stroke && typeof item.stroke === 'object' && item.stroke.type === 'gradient') {\n        item.strokeReference = p.getOrCreateGradient(item, 'stroke', url);\n      }\n    },\n    clear() {\n      cache = {};\n    }\n  };\n\n  return p;\n}\n","import { hashObject } from '../../../core/utils/crypto';\n\nexport default function patternizer(bucket, hasher = hashObject) {\n  let cache = {};\n  let uid = Date.now();\n  const p = {\n    onCreate(state) {\n      let inputs = {};\n\n      if (state.node && typeof state.node.fill === 'object' && state.node.fill.type === 'pattern' && state.node.fill.shapes) {\n        inputs.fill = state.node.fill;\n      }\n      if (state.node && typeof state.node.stroke === 'object' && state.node.stroke.type === 'pattern' && state.node.stroke.shapes) {\n        inputs.stroke = state.node.stroke;\n      }\n\n      Object.keys(inputs).forEach((key) => {\n        let url = '';\n        const input = inputs[key];\n        const patternHash = hasher(input);\n        const pnid = `picasso-pattern-${uid}-${patternHash}`;\n\n        if (typeof window !== 'undefined') {\n          url = window.location.href.split('#')[0];\n        }\n\n        if (!cache[patternHash]) {\n          const pn = {\n            patternUnits: 'userSpaceOnUse',\n            x: 0,\n            y: 0,\n            width: input.width,\n            height: input.height,\n            type: 'pattern',\n            id: pnid,\n            children: [],\n            fill: input.fill\n          };\n\n          input.shapes.forEach((s) => {\n            pn.children.push(s);\n          });\n\n          bucket.push(pn);\n          cache[patternHash] = true;\n        }\n\n        state.node[`${key}Reference`] = `url('${url}#${pnid}')`;\n      });\n    },\n    clear() {\n      cache = {};\n    }\n  };\n\n  return p;\n}\n","import { tree as treeFactory } from './svg-tree';\nimport { svgNs } from './svg-nodes';\nimport sceneFactory from '../../../core/scene-graph/scene';\nimport { onLineBreak } from '../../text-manipulation';\n// import {\n//   resetGradients,\n//   onGradient,\n//   createDefsNode\n// } from './svg-gradient';\n\nimport gradienter from './svg-gradient';\nimport patternizer from './svg-pattern';\n\nimport createRendererBox from '../renderer-box';\nimport create from '../index';\nimport injectTextBoundsFn from '../../text-manipulation/inject-textbounds';\n\n/**\n * Create a new svg renderer\n * @typedef {function} svgRendererFactory\n * @param {function} treeFactory - Node tree factory\n * @param {string} ns - Namespace definition\n * @param {function} sceneFn - Scene factory\n * @returns {renderer} A svg renderer instance\n */\nexport default function renderer(treeFn = treeFactory, ns = svgNs, sceneFn = sceneFactory) {\n  const tree = treeFn();\n  let el;\n  let group;\n  let hasChangedRect = false;\n  let rect = createRendererBox();\n  let scene;\n\n  const svg = create();\n\n  const defs = {\n    type: 'defs',\n    children: []\n  };\n  const patterns = patternizer(defs.children);\n  const gradients = gradienter(defs.children);\n\n  svg.element = () => el;\n\n  svg.root = () => group;\n\n  svg.appendTo = (element) => {\n    if (!el) {\n      el = element.ownerDocument.createElementNS(ns, 'svg');\n      el.style.position = 'absolute';\n      el.style['-webkit-font-smoothing'] = 'antialiased';\n      el.style['-moz-osx-font-smoothing'] = 'antialiased';\n      el.style.pointerEvents = 'none';\n      el.setAttribute('xmlns', ns);\n      group = element.ownerDocument.createElementNS(ns, 'g');\n      group.style.pointerEvents = 'auto';\n      el.appendChild(group);\n    }\n\n    element.appendChild(el);\n\n    return el;\n  };\n\n  svg.render = (nodes) => {\n    if (!el) {\n      return false;\n    }\n\n    const scaleX = rect.scaleRatio.x;\n    const scaleY = rect.scaleRatio.y;\n\n    if (hasChangedRect) {\n      el.style.left = `${rect.computedPhysical.x}px`;\n      el.style.top = `${rect.computedPhysical.y}px`;\n      el.setAttribute('width', rect.computedPhysical.width);\n      el.setAttribute('height', rect.computedPhysical.height);\n    }\n\n    gradients.clear();\n    patterns.clear();\n    defs.children.length = 0;\n\n    const sceneContainer = {\n      type: 'container',\n      children: Array.isArray(nodes) ? [...nodes, defs] : nodes,\n      transform: rect.edgeBleed.bool ? `translate(${rect.edgeBleed.left * scaleX}, ${rect.edgeBleed.top * scaleY})` : ''\n    };\n\n    if (scaleX !== 1 || scaleY !== 1) {\n      sceneContainer.transform += `scale(${scaleX}, ${scaleY})`;\n    }\n\n    const newScene = sceneFn({\n      items: [sceneContainer],\n      on: {\n        create: [\n          (state) => {\n            state.node.fillReference = undefined;\n            state.node.strokeReference = undefined;\n          },\n          gradients.onCreate,\n          patterns.onCreate,\n          onLineBreak(svg.measureText),\n          injectTextBoundsFn(svg)\n        ]\n      }\n    });\n    const hasChangedScene = scene ? !newScene.equals(scene) : true;\n\n    const doRender = hasChangedRect || hasChangedScene;\n    if (doRender) {\n      svg.clear();\n      tree.render(newScene.children, group);\n    }\n\n    hasChangedRect = false;\n    scene = newScene;\n    return doRender;\n  };\n\n  svg.itemsAt = (input) => (scene ? scene.getItemsFrom(input) : []);\n\n  svg.findShapes = (selector) => (scene ? scene.findShapes(selector) : []);\n\n  svg.clear = () => {\n    if (!group) {\n      return svg;\n    }\n    scene = null;\n    const g = group.cloneNode(false);\n    el.replaceChild(g, group);\n    group = g;\n    return svg;\n  };\n\n  svg.destroy = () => {\n    // parentElement is not supported in IE11 for SVGElement.\n    if (el && el.parentNode) {\n      el.parentNode.removeChild(el);\n    }\n    el = null;\n    group = null;\n  };\n\n  svg.size = (opts) => {\n    if (opts) {\n      const newRect = createRendererBox(opts);\n\n      if (JSON.stringify(rect) !== JSON.stringify(newRect)) {\n        hasChangedRect = true;\n        rect = newRect;\n      }\n    }\n\n    return rect;\n  };\n\n  return svg;\n}\n\nexport function rendererComponent(picasso) {\n  picasso.renderer('svg', renderer);\n}\n","var VNode = function VNode() {};\n\nvar options = {};\n\nvar stack = [];\n\nvar EMPTY_CHILDREN = [];\n\nfunction h(nodeName, attributes) {\n\tvar children = EMPTY_CHILDREN,\n\t    lastSimple,\n\t    child,\n\t    simple,\n\t    i;\n\tfor (i = arguments.length; i-- > 2;) {\n\t\tstack.push(arguments[i]);\n\t}\n\tif (attributes && attributes.children != null) {\n\t\tif (!stack.length) stack.push(attributes.children);\n\t\tdelete attributes.children;\n\t}\n\twhile (stack.length) {\n\t\tif ((child = stack.pop()) && child.pop !== undefined) {\n\t\t\tfor (i = child.length; i--;) {\n\t\t\t\tstack.push(child[i]);\n\t\t\t}\n\t\t} else {\n\t\t\tif (typeof child === 'boolean') child = null;\n\n\t\t\tif (simple = typeof nodeName !== 'function') {\n\t\t\t\tif (child == null) child = '';else if (typeof child === 'number') child = String(child);else if (typeof child !== 'string') simple = false;\n\t\t\t}\n\n\t\t\tif (simple && lastSimple) {\n\t\t\t\tchildren[children.length - 1] += child;\n\t\t\t} else if (children === EMPTY_CHILDREN) {\n\t\t\t\tchildren = [child];\n\t\t\t} else {\n\t\t\t\tchildren.push(child);\n\t\t\t}\n\n\t\t\tlastSimple = simple;\n\t\t}\n\t}\n\n\tvar p = new VNode();\n\tp.nodeName = nodeName;\n\tp.children = children;\n\tp.attributes = attributes == null ? undefined : attributes;\n\tp.key = attributes == null ? undefined : attributes.key;\n\n\tif (options.vnode !== undefined) options.vnode(p);\n\n\treturn p;\n}\n\nfunction extend(obj, props) {\n  for (var i in props) {\n    obj[i] = props[i];\n  }return obj;\n}\n\nfunction applyRef(ref, value) {\n  if (ref) {\n    if (typeof ref == 'function') ref(value);else ref.current = value;\n  }\n}\n\nvar defer = typeof Promise == 'function' ? Promise.resolve().then.bind(Promise.resolve()) : setTimeout;\n\nfunction cloneElement(vnode, props) {\n  return h(vnode.nodeName, extend(extend({}, vnode.attributes), props), arguments.length > 2 ? [].slice.call(arguments, 2) : vnode.children);\n}\n\nvar IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;\n\nvar items = [];\n\nfunction enqueueRender(component) {\n\tif (!component._dirty && (component._dirty = true) && items.push(component) == 1) {\n\t\t(options.debounceRendering || defer)(rerender);\n\t}\n}\n\nfunction rerender() {\n\tvar p;\n\twhile (p = items.pop()) {\n\t\tif (p._dirty) renderComponent(p);\n\t}\n}\n\nfunction isSameNodeType(node, vnode, hydrating) {\n\tif (typeof vnode === 'string' || typeof vnode === 'number') {\n\t\treturn node.splitText !== undefined;\n\t}\n\tif (typeof vnode.nodeName === 'string') {\n\t\treturn !node._componentConstructor && isNamedNode(node, vnode.nodeName);\n\t}\n\treturn hydrating || node._componentConstructor === vnode.nodeName;\n}\n\nfunction isNamedNode(node, nodeName) {\n\treturn node.normalizedNodeName === nodeName || node.nodeName.toLowerCase() === nodeName.toLowerCase();\n}\n\nfunction getNodeProps(vnode) {\n\tvar props = extend({}, vnode.attributes);\n\tprops.children = vnode.children;\n\n\tvar defaultProps = vnode.nodeName.defaultProps;\n\tif (defaultProps !== undefined) {\n\t\tfor (var i in defaultProps) {\n\t\t\tif (props[i] === undefined) {\n\t\t\t\tprops[i] = defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn props;\n}\n\nfunction createNode(nodeName, isSvg) {\n\tvar node = isSvg ? document.createElementNS('http://www.w3.org/2000/svg', nodeName) : document.createElement(nodeName);\n\tnode.normalizedNodeName = nodeName;\n\treturn node;\n}\n\nfunction removeNode(node) {\n\tvar parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\nfunction setAccessor(node, name, old, value, isSvg) {\n\tif (name === 'className') name = 'class';\n\n\tif (name === 'key') {} else if (name === 'ref') {\n\t\tapplyRef(old, null);\n\t\tapplyRef(value, node);\n\t} else if (name === 'class' && !isSvg) {\n\t\tnode.className = value || '';\n\t} else if (name === 'style') {\n\t\tif (!value || typeof value === 'string' || typeof old === 'string') {\n\t\t\tnode.style.cssText = value || '';\n\t\t}\n\t\tif (value && typeof value === 'object') {\n\t\t\tif (typeof old !== 'string') {\n\t\t\t\tfor (var i in old) {\n\t\t\t\t\tif (!(i in value)) node.style[i] = '';\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var i in value) {\n\t\t\t\tnode.style[i] = typeof value[i] === 'number' && IS_NON_DIMENSIONAL.test(i) === false ? value[i] + 'px' : value[i];\n\t\t\t}\n\t\t}\n\t} else if (name === 'dangerouslySetInnerHTML') {\n\t\tif (value) node.innerHTML = value.__html || '';\n\t} else if (name[0] == 'o' && name[1] == 'n') {\n\t\tvar useCapture = name !== (name = name.replace(/Capture$/, ''));\n\t\tname = name.toLowerCase().substring(2);\n\t\tif (value) {\n\t\t\tif (!old) node.addEventListener(name, eventProxy, useCapture);\n\t\t} else {\n\t\t\tnode.removeEventListener(name, eventProxy, useCapture);\n\t\t}\n\t\t(node._listeners || (node._listeners = {}))[name] = value;\n\t} else if (name !== 'list' && name !== 'type' && !isSvg && name in node) {\n\t\ttry {\n\t\t\tnode[name] = value == null ? '' : value;\n\t\t} catch (e) {}\n\t\tif ((value == null || value === false) && name != 'spellcheck') node.removeAttribute(name);\n\t} else {\n\t\tvar ns = isSvg && name !== (name = name.replace(/^xlink:?/, ''));\n\n\t\tif (value == null || value === false) {\n\t\t\tif (ns) node.removeAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase());else node.removeAttribute(name);\n\t\t} else if (typeof value !== 'function') {\n\t\t\tif (ns) node.setAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase(), value);else node.setAttribute(name, value);\n\t\t}\n\t}\n}\n\nfunction eventProxy(e) {\n\treturn this._listeners[e.type](options.event && options.event(e) || e);\n}\n\nvar mounts = [];\n\nvar diffLevel = 0;\n\nvar isSvgMode = false;\n\nvar hydrating = false;\n\nfunction flushMounts() {\n\tvar c;\n\twhile (c = mounts.shift()) {\n\t\tif (options.afterMount) options.afterMount(c);\n\t\tif (c.componentDidMount) c.componentDidMount();\n\t}\n}\n\nfunction diff(dom, vnode, context, mountAll, parent, componentRoot) {\n\tif (!diffLevel++) {\n\t\tisSvgMode = parent != null && parent.ownerSVGElement !== undefined;\n\n\t\thydrating = dom != null && !('__preactattr_' in dom);\n\t}\n\n\tvar ret = idiff(dom, vnode, context, mountAll, componentRoot);\n\n\tif (parent && ret.parentNode !== parent) parent.appendChild(ret);\n\n\tif (! --diffLevel) {\n\t\thydrating = false;\n\n\t\tif (!componentRoot) flushMounts();\n\t}\n\n\treturn ret;\n}\n\nfunction idiff(dom, vnode, context, mountAll, componentRoot) {\n\tvar out = dom,\n\t    prevSvgMode = isSvgMode;\n\n\tif (vnode == null || typeof vnode === 'boolean') vnode = '';\n\n\tif (typeof vnode === 'string' || typeof vnode === 'number') {\n\t\tif (dom && dom.splitText !== undefined && dom.parentNode && (!dom._component || componentRoot)) {\n\t\t\tif (dom.nodeValue != vnode) {\n\t\t\t\tdom.nodeValue = vnode;\n\t\t\t}\n\t\t} else {\n\t\t\tout = document.createTextNode(vnode);\n\t\t\tif (dom) {\n\t\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\t\t\t\trecollectNodeTree(dom, true);\n\t\t\t}\n\t\t}\n\n\t\tout['__preactattr_'] = true;\n\n\t\treturn out;\n\t}\n\n\tvar vnodeName = vnode.nodeName;\n\tif (typeof vnodeName === 'function') {\n\t\treturn buildComponentFromVNode(dom, vnode, context, mountAll);\n\t}\n\n\tisSvgMode = vnodeName === 'svg' ? true : vnodeName === 'foreignObject' ? false : isSvgMode;\n\n\tvnodeName = String(vnodeName);\n\tif (!dom || !isNamedNode(dom, vnodeName)) {\n\t\tout = createNode(vnodeName, isSvgMode);\n\n\t\tif (dom) {\n\t\t\twhile (dom.firstChild) {\n\t\t\t\tout.appendChild(dom.firstChild);\n\t\t\t}\n\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\n\t\t\trecollectNodeTree(dom, true);\n\t\t}\n\t}\n\n\tvar fc = out.firstChild,\n\t    props = out['__preactattr_'],\n\t    vchildren = vnode.children;\n\n\tif (props == null) {\n\t\tprops = out['__preactattr_'] = {};\n\t\tfor (var a = out.attributes, i = a.length; i--;) {\n\t\t\tprops[a[i].name] = a[i].value;\n\t\t}\n\t}\n\n\tif (!hydrating && vchildren && vchildren.length === 1 && typeof vchildren[0] === 'string' && fc != null && fc.splitText !== undefined && fc.nextSibling == null) {\n\t\tif (fc.nodeValue != vchildren[0]) {\n\t\t\tfc.nodeValue = vchildren[0];\n\t\t}\n\t} else if (vchildren && vchildren.length || fc != null) {\n\t\t\tinnerDiffNode(out, vchildren, context, mountAll, hydrating || props.dangerouslySetInnerHTML != null);\n\t\t}\n\n\tdiffAttributes(out, vnode.attributes, props);\n\n\tisSvgMode = prevSvgMode;\n\n\treturn out;\n}\n\nfunction innerDiffNode(dom, vchildren, context, mountAll, isHydrating) {\n\tvar originalChildren = dom.childNodes,\n\t    children = [],\n\t    keyed = {},\n\t    keyedLen = 0,\n\t    min = 0,\n\t    len = originalChildren.length,\n\t    childrenLen = 0,\n\t    vlen = vchildren ? vchildren.length : 0,\n\t    j,\n\t    c,\n\t    f,\n\t    vchild,\n\t    child;\n\n\tif (len !== 0) {\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tvar _child = originalChildren[i],\n\t\t\t    props = _child['__preactattr_'],\n\t\t\t    key = vlen && props ? _child._component ? _child._component.__key : props.key : null;\n\t\t\tif (key != null) {\n\t\t\t\tkeyedLen++;\n\t\t\t\tkeyed[key] = _child;\n\t\t\t} else if (props || (_child.splitText !== undefined ? isHydrating ? _child.nodeValue.trim() : true : isHydrating)) {\n\t\t\t\tchildren[childrenLen++] = _child;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (vlen !== 0) {\n\t\tfor (var i = 0; i < vlen; i++) {\n\t\t\tvchild = vchildren[i];\n\t\t\tchild = null;\n\n\t\t\tvar key = vchild.key;\n\t\t\tif (key != null) {\n\t\t\t\tif (keyedLen && keyed[key] !== undefined) {\n\t\t\t\t\tchild = keyed[key];\n\t\t\t\t\tkeyed[key] = undefined;\n\t\t\t\t\tkeyedLen--;\n\t\t\t\t}\n\t\t\t} else if (min < childrenLen) {\n\t\t\t\t\tfor (j = min; j < childrenLen; j++) {\n\t\t\t\t\t\tif (children[j] !== undefined && isSameNodeType(c = children[j], vchild, isHydrating)) {\n\t\t\t\t\t\t\tchild = c;\n\t\t\t\t\t\t\tchildren[j] = undefined;\n\t\t\t\t\t\t\tif (j === childrenLen - 1) childrenLen--;\n\t\t\t\t\t\t\tif (j === min) min++;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\tchild = idiff(child, vchild, context, mountAll);\n\n\t\t\tf = originalChildren[i];\n\t\t\tif (child && child !== dom && child !== f) {\n\t\t\t\tif (f == null) {\n\t\t\t\t\tdom.appendChild(child);\n\t\t\t\t} else if (child === f.nextSibling) {\n\t\t\t\t\tremoveNode(f);\n\t\t\t\t} else {\n\t\t\t\t\tdom.insertBefore(child, f);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tif (keyedLen) {\n\t\tfor (var i in keyed) {\n\t\t\tif (keyed[i] !== undefined) recollectNodeTree(keyed[i], false);\n\t\t}\n\t}\n\n\twhile (min <= childrenLen) {\n\t\tif ((child = children[childrenLen--]) !== undefined) recollectNodeTree(child, false);\n\t}\n}\n\nfunction recollectNodeTree(node, unmountOnly) {\n\tvar component = node._component;\n\tif (component) {\n\t\tunmountComponent(component);\n\t} else {\n\t\tif (node['__preactattr_'] != null) applyRef(node['__preactattr_'].ref, null);\n\n\t\tif (unmountOnly === false || node['__preactattr_'] == null) {\n\t\t\tremoveNode(node);\n\t\t}\n\n\t\tremoveChildren(node);\n\t}\n}\n\nfunction removeChildren(node) {\n\tnode = node.lastChild;\n\twhile (node) {\n\t\tvar next = node.previousSibling;\n\t\trecollectNodeTree(node, true);\n\t\tnode = next;\n\t}\n}\n\nfunction diffAttributes(dom, attrs, old) {\n\tvar name;\n\n\tfor (name in old) {\n\t\tif (!(attrs && attrs[name] != null) && old[name] != null) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = undefined, isSvgMode);\n\t\t}\n\t}\n\n\tfor (name in attrs) {\n\t\tif (name !== 'children' && name !== 'innerHTML' && (!(name in old) || attrs[name] !== (name === 'value' || name === 'checked' ? dom[name] : old[name]))) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = attrs[name], isSvgMode);\n\t\t}\n\t}\n}\n\nvar recyclerComponents = [];\n\nfunction createComponent(Ctor, props, context) {\n\tvar inst,\n\t    i = recyclerComponents.length;\n\n\tif (Ctor.prototype && Ctor.prototype.render) {\n\t\tinst = new Ctor(props, context);\n\t\tComponent.call(inst, props, context);\n\t} else {\n\t\tinst = new Component(props, context);\n\t\tinst.constructor = Ctor;\n\t\tinst.render = doRender;\n\t}\n\n\twhile (i--) {\n\t\tif (recyclerComponents[i].constructor === Ctor) {\n\t\t\tinst.nextBase = recyclerComponents[i].nextBase;\n\t\t\trecyclerComponents.splice(i, 1);\n\t\t\treturn inst;\n\t\t}\n\t}\n\n\treturn inst;\n}\n\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n\nfunction setComponentProps(component, props, renderMode, context, mountAll) {\n\tif (component._disable) return;\n\tcomponent._disable = true;\n\n\tcomponent.__ref = props.ref;\n\tcomponent.__key = props.key;\n\tdelete props.ref;\n\tdelete props.key;\n\n\tif (typeof component.constructor.getDerivedStateFromProps === 'undefined') {\n\t\tif (!component.base || mountAll) {\n\t\t\tif (component.componentWillMount) component.componentWillMount();\n\t\t} else if (component.componentWillReceiveProps) {\n\t\t\tcomponent.componentWillReceiveProps(props, context);\n\t\t}\n\t}\n\n\tif (context && context !== component.context) {\n\t\tif (!component.prevContext) component.prevContext = component.context;\n\t\tcomponent.context = context;\n\t}\n\n\tif (!component.prevProps) component.prevProps = component.props;\n\tcomponent.props = props;\n\n\tcomponent._disable = false;\n\n\tif (renderMode !== 0) {\n\t\tif (renderMode === 1 || options.syncComponentUpdates !== false || !component.base) {\n\t\t\trenderComponent(component, 1, mountAll);\n\t\t} else {\n\t\t\tenqueueRender(component);\n\t\t}\n\t}\n\n\tapplyRef(component.__ref, component);\n}\n\nfunction renderComponent(component, renderMode, mountAll, isChild) {\n\tif (component._disable) return;\n\n\tvar props = component.props,\n\t    state = component.state,\n\t    context = component.context,\n\t    previousProps = component.prevProps || props,\n\t    previousState = component.prevState || state,\n\t    previousContext = component.prevContext || context,\n\t    isUpdate = component.base,\n\t    nextBase = component.nextBase,\n\t    initialBase = isUpdate || nextBase,\n\t    initialChildComponent = component._component,\n\t    skip = false,\n\t    snapshot = previousContext,\n\t    rendered,\n\t    inst,\n\t    cbase;\n\n\tif (component.constructor.getDerivedStateFromProps) {\n\t\tstate = extend(extend({}, state), component.constructor.getDerivedStateFromProps(props, state));\n\t\tcomponent.state = state;\n\t}\n\n\tif (isUpdate) {\n\t\tcomponent.props = previousProps;\n\t\tcomponent.state = previousState;\n\t\tcomponent.context = previousContext;\n\t\tif (renderMode !== 2 && component.shouldComponentUpdate && component.shouldComponentUpdate(props, state, context) === false) {\n\t\t\tskip = true;\n\t\t} else if (component.componentWillUpdate) {\n\t\t\tcomponent.componentWillUpdate(props, state, context);\n\t\t}\n\t\tcomponent.props = props;\n\t\tcomponent.state = state;\n\t\tcomponent.context = context;\n\t}\n\n\tcomponent.prevProps = component.prevState = component.prevContext = component.nextBase = null;\n\tcomponent._dirty = false;\n\n\tif (!skip) {\n\t\trendered = component.render(props, state, context);\n\n\t\tif (component.getChildContext) {\n\t\t\tcontext = extend(extend({}, context), component.getChildContext());\n\t\t}\n\n\t\tif (isUpdate && component.getSnapshotBeforeUpdate) {\n\t\t\tsnapshot = component.getSnapshotBeforeUpdate(previousProps, previousState);\n\t\t}\n\n\t\tvar childComponent = rendered && rendered.nodeName,\n\t\t    toUnmount,\n\t\t    base;\n\n\t\tif (typeof childComponent === 'function') {\n\n\t\t\tvar childProps = getNodeProps(rendered);\n\t\t\tinst = initialChildComponent;\n\n\t\t\tif (inst && inst.constructor === childComponent && childProps.key == inst.__key) {\n\t\t\t\tsetComponentProps(inst, childProps, 1, context, false);\n\t\t\t} else {\n\t\t\t\ttoUnmount = inst;\n\n\t\t\t\tcomponent._component = inst = createComponent(childComponent, childProps, context);\n\t\t\t\tinst.nextBase = inst.nextBase || nextBase;\n\t\t\t\tinst._parentComponent = component;\n\t\t\t\tsetComponentProps(inst, childProps, 0, context, false);\n\t\t\t\trenderComponent(inst, 1, mountAll, true);\n\t\t\t}\n\n\t\t\tbase = inst.base;\n\t\t} else {\n\t\t\tcbase = initialBase;\n\n\t\t\ttoUnmount = initialChildComponent;\n\t\t\tif (toUnmount) {\n\t\t\t\tcbase = component._component = null;\n\t\t\t}\n\n\t\t\tif (initialBase || renderMode === 1) {\n\t\t\t\tif (cbase) cbase._component = null;\n\t\t\t\tbase = diff(cbase, rendered, context, mountAll || !isUpdate, initialBase && initialBase.parentNode, true);\n\t\t\t}\n\t\t}\n\n\t\tif (initialBase && base !== initialBase && inst !== initialChildComponent) {\n\t\t\tvar baseParent = initialBase.parentNode;\n\t\t\tif (baseParent && base !== baseParent) {\n\t\t\t\tbaseParent.replaceChild(base, initialBase);\n\n\t\t\t\tif (!toUnmount) {\n\t\t\t\t\tinitialBase._component = null;\n\t\t\t\t\trecollectNodeTree(initialBase, false);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (toUnmount) {\n\t\t\tunmountComponent(toUnmount);\n\t\t}\n\n\t\tcomponent.base = base;\n\t\tif (base && !isChild) {\n\t\t\tvar componentRef = component,\n\t\t\t    t = component;\n\t\t\twhile (t = t._parentComponent) {\n\t\t\t\t(componentRef = t).base = base;\n\t\t\t}\n\t\t\tbase._component = componentRef;\n\t\t\tbase._componentConstructor = componentRef.constructor;\n\t\t}\n\t}\n\n\tif (!isUpdate || mountAll) {\n\t\tmounts.push(component);\n\t} else if (!skip) {\n\n\t\tif (component.componentDidUpdate) {\n\t\t\tcomponent.componentDidUpdate(previousProps, previousState, snapshot);\n\t\t}\n\t\tif (options.afterUpdate) options.afterUpdate(component);\n\t}\n\n\twhile (component._renderCallbacks.length) {\n\t\tcomponent._renderCallbacks.pop().call(component);\n\t}if (!diffLevel && !isChild) flushMounts();\n}\n\nfunction buildComponentFromVNode(dom, vnode, context, mountAll) {\n\tvar c = dom && dom._component,\n\t    originalComponent = c,\n\t    oldDom = dom,\n\t    isDirectOwner = c && dom._componentConstructor === vnode.nodeName,\n\t    isOwner = isDirectOwner,\n\t    props = getNodeProps(vnode);\n\twhile (c && !isOwner && (c = c._parentComponent)) {\n\t\tisOwner = c.constructor === vnode.nodeName;\n\t}\n\n\tif (c && isOwner && (!mountAll || c._component)) {\n\t\tsetComponentProps(c, props, 3, context, mountAll);\n\t\tdom = c.base;\n\t} else {\n\t\tif (originalComponent && !isDirectOwner) {\n\t\t\tunmountComponent(originalComponent);\n\t\t\tdom = oldDom = null;\n\t\t}\n\n\t\tc = createComponent(vnode.nodeName, props, context);\n\t\tif (dom && !c.nextBase) {\n\t\t\tc.nextBase = dom;\n\n\t\t\toldDom = null;\n\t\t}\n\t\tsetComponentProps(c, props, 1, context, mountAll);\n\t\tdom = c.base;\n\n\t\tif (oldDom && dom !== oldDom) {\n\t\t\toldDom._component = null;\n\t\t\trecollectNodeTree(oldDom, false);\n\t\t}\n\t}\n\n\treturn dom;\n}\n\nfunction unmountComponent(component) {\n\tif (options.beforeUnmount) options.beforeUnmount(component);\n\n\tvar base = component.base;\n\n\tcomponent._disable = true;\n\n\tif (component.componentWillUnmount) component.componentWillUnmount();\n\n\tcomponent.base = null;\n\n\tvar inner = component._component;\n\tif (inner) {\n\t\tunmountComponent(inner);\n\t} else if (base) {\n\t\tif (base['__preactattr_'] != null) applyRef(base['__preactattr_'].ref, null);\n\n\t\tcomponent.nextBase = base;\n\n\t\tremoveNode(base);\n\t\trecyclerComponents.push(component);\n\n\t\tremoveChildren(base);\n\t}\n\n\tapplyRef(component.__ref, null);\n}\n\nfunction Component(props, context) {\n\tthis._dirty = true;\n\n\tthis.context = context;\n\n\tthis.props = props;\n\n\tthis.state = this.state || {};\n\n\tthis._renderCallbacks = [];\n}\n\nextend(Component.prototype, {\n\tsetState: function setState(state, callback) {\n\t\tif (!this.prevState) this.prevState = this.state;\n\t\tthis.state = extend(extend({}, this.state), typeof state === 'function' ? state(this.state, this.props) : state);\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t},\n\tforceUpdate: function forceUpdate(callback) {\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\trenderComponent(this, 2);\n\t},\n\trender: function render() {}\n});\n\nfunction render(vnode, parent, merge) {\n  return diff(merge, vnode, {}, false, parent, false);\n}\n\nfunction createRef() {\n\treturn {};\n}\n\nvar preact = {\n\th: h,\n\tcreateElement: h,\n\tcloneElement: cloneElement,\n\tcreateRef: createRef,\n\tComponent: Component,\n\trender: render,\n\trerender: rerender,\n\toptions: options\n};\n\nexport default preact;\nexport { h, h as createElement, cloneElement, createRef, Component, render, rerender, options };\n//# sourceMappingURL=preact.mjs.map\n","import { h, render } from 'preact';\nimport createRendererBox from '../renderer-box';\nimport create from '../index';\n\nexport default function renderer(opts = {}) {\n  const {\n    createElement = document.createElement.bind(document)\n  } = opts;\n\n  let el;\n  let rect = createRendererBox();\n  let dNode;\n\n  const dom = create();\n\n  dom.element = () => el;\n\n  dom.root = () => el;\n\n  dom.appendTo = (element) => {\n    if (!el) {\n      el = createElement('div');\n      el.style.position = 'absolute';\n      el.style['-webkit-font-smoothing'] = 'antialiased';\n      el.style['-moz-osx-font-smoothing'] = 'antialiased';\n      el.style.pointerEvents = 'none';\n    }\n\n    element.appendChild(el);\n\n    return el;\n  };\n\n  dom.render = (nodes) => {\n    if (!el) {\n      return false;\n    }\n\n    el.style.left = `${rect.computedPhysical.x}px`;\n    el.style.top = `${rect.computedPhysical.y}px`;\n    el.style.width = `${rect.computedPhysical.width}px`;\n    el.style.height = `${rect.computedPhysical.height}px`;\n\n    let vNode;\n    if (Array.isArray(nodes)) {\n      vNode = <div>{nodes}</div>;\n    } else {\n      vNode = nodes;\n    }\n\n    dNode = render(vNode, el, dNode);\n\n    return true;\n  };\n\n  dom.renderArgs = [h]; // Arguments to render functions using the DOM renderer\n\n  dom.clear = () => {\n    if (el) {\n      let first = el.firstChild;\n\n      while (first) {\n        el.removeChild(first);\n        first = el.firstChild;\n      }\n      dNode = null;\n    }\n\n    return dom;\n  };\n\n  dom.destroy = () => {\n    if (el && el.parentElement) {\n      el.parentElement.removeChild(el);\n    }\n    el = null;\n    dNode = null;\n  };\n\n  dom.size = (inner) => {\n    if (inner) {\n      rect = createRendererBox(inner);\n    }\n    return rect;\n  };\n\n  return dom;\n}\n","import renderer from './dom-renderer';\n\nexport default renderer;\n\nexport function rendererComponent(picasso) {\n  picasso.renderer('dom', renderer);\n}\n","import { rendererComponent as canvas } from '../web/renderer/canvas-renderer';\nimport { rendererComponent as svg } from '../web/renderer/svg-renderer/svg-renderer';\nimport { rendererComponent as dom } from '../web/renderer/dom-renderer';\n\nexport default [\n  svg,\n  canvas,\n  dom\n];\n","export default [];\n","const LOG_LEVEL = {\n  OFF: 0,\n  ERROR: 1,\n  WARN: 2,\n  INFO: 3,\n  DEBUG: 4\n};\n\nconst loggerFn = ({\n  level = LOG_LEVEL.OFF,\n  pipe = console\n} = {}) => {\n  let currentlevel = level;\n\n  const LOG_FN = {\n    [LOG_LEVEL.OFF]: () => {},\n    [LOG_LEVEL.ERROR]: (...args) => pipe.error(...args),\n    [LOG_LEVEL.WARN]: (...args) => pipe.warn(...args),\n    [LOG_LEVEL.INFO]: (...args) => pipe.info(...args),\n    [LOG_LEVEL.DEBUG]: (...args) => pipe.log(...args)\n  };\n\n  const log = (lev, ...args) => {\n    if (!lev || currentlevel < lev) { return; }\n\n    (LOG_FN[lev] || LOG_FN[LOG_LEVEL.DEBUG])(...args);\n  };\n\n  /**\n   * @typedef {object} logger\n   * @private\n   */\n\n  return /** @lends logger */ {\n    /**\n     * Log a message\n     * @param {number} lev - The log level\n     * @param {...any} args\n     * @kind function\n     */\n    log,\n\n    /**\n     * Log an error message\n     * @param {...any} args\n     */\n    error: (...args) => log(LOG_LEVEL.ERROR, ...args),\n\n    /**\n     * Log a warning message\n     * @param {...any} args\n     */\n    warn: (...args) => log(LOG_LEVEL.WARN, ...args),\n\n    /**\n     * Log an info message\n     * @param {...any} args\n     */\n    info: (...args) => log(LOG_LEVEL.INFO, ...args),\n\n    /**\n     * Log a debug message\n     * @param {...any} args\n     */\n    debug: (...args) => log(LOG_LEVEL.DEBUG, ...args),\n\n    /**\n     * Set the current log level\n     * @param {number} lev - The log level\n     */\n    level: (lev) => {\n      if (typeof lev === 'number') {\n        currentlevel = lev;\n      }\n      return currentlevel;\n    },\n\n    LOG_LEVEL\n  };\n};\n\nexport { loggerFn as default };\n","const palettes = [\n  {\n    key: 'categorical',\n    colors: [\n      ['#a54343', '#d76c6c', '#ec983d', '#ecc43d', '#f9ec86', '#cbe989', '#70ba6e', '#578b60', '#79d69f', '#26a0a7', '#138185', '#65d3da'] // breeze colors\n    ]\n  },\n  {\n    key: 'diverging',\n    colors: [\n      ['#3d52a1', '#3a89c9', '#77b7e5', '#b4ddf7', '#e6f5fe', '#ffe3aa', '#f9bd7e', '#ed875e', '#d24d3e', '#ae1c3e']\n    ]\n  },\n  {\n    key: 'sequential',\n    colors: [\n      ['rgb(180,221,212)', 'rgb(34, 83, 90)']\n    ]\n  }\n];\n\n/* eslint quote-props: 0 */\nconst style = {\n  // -- FOUNDATION --\n  // fonts\n  '$font-family': \"'Source Sans Pro', Arial, sans-serif\",\n  '$font-size': '12px',\n  '$line-height': '16px',\n  '$font-size--l': '16px',\n\n  // base grays\n  '$gray-100': '#ffffff',\n  '$gray-98': '#f9f9f9',\n  '$gray-95': '#f2f2f2',\n  '$gray-90': '#e6e6e6',\n  '$gray-35': '#595959',\n  '$gray-30': '#4d4d4d',\n  '$gray-25': '#404040',\n  '$gray-20': '#333333',\n\n  // borders\n  '$border-95': 'rgba(255, 255, 255, 0.05)',\n  '$border-90': 'rgba(255, 255, 255, 0.1)',\n  '$border-80': 'rgba(255, 255, 255, 0.2)',\n  '$border-20': 'rgba(0, 0, 0, 0.2)',\n  '$border-10': 'rgba(0, 0, 0, 0.1)',\n  '$border-5': 'rgba(0, 0, 0, 0.05)',\n\n  // primary colors\n  '$primary-blue': '#3F8AB3',\n  '$primary-green': '#6CB33F',\n  '$primary-red': '#DC423F',\n  '$primary-orange': '#EF960F',\n\n  // spacing\n  '$spacing--s': 4,\n  '$spacing': 8,\n  '$spacing--l': 12,\n  // -------------------------\n\n  // -- ALIASES --\n  '$font-color': '$gray-35',\n  '$font-color--inverted': '$gray-90',\n  '$guide-color': '$gray-90',\n  '$guide-color--inverted': '$gray-35',\n  '$border': '$border-80',\n  '$border--inverted': '$border-10',\n  // -------------------------\n\n  // -- MIXINS --\n  // data points\n  '$shape': { // data shape\n    fill: '$primary-blue',\n    strokeWidth: 1,\n    stroke: '$border'\n  },\n\n  '$shape-outline': { // data shape which usually does not have a fill, e.g. the line in a linechart\n    stroke: '$primary-blue',\n    strokeWidth: 2\n  },\n\n  '$shape-guide': { // lines that somehow belongs to a data shape, e.g. whiskers in a boxplot\n    stroke: '$guide-color',\n    strokeWidth: 1\n  },\n\n  '$shape-guide--inverted': {\n    '@extend': '$shape-guide',\n    stroke: '$guide-color--inverted'\n  },\n\n  '$label': {\n    fontSize: '$font-size',\n    fontFamily: '$font-family',\n    fill: '$font-color'\n  },\n\n  '$label--inverted': {\n    '$extend': '$label',\n    fill: '$font-color--inverted'\n  },\n\n  // user interface\n  '$label-overlay': { // e.g. selection range bubble\n    fontSize: '$font-size--l',\n    fontFamily: '$font-family',\n    fill: '$gray-100', // background fill\n    color: '$font-color',\n    stroke: '$guide-color--inverted',\n    strokeWidth: 1,\n    borderRadius: 4\n  },\n\n  '$title': {\n    '@extend': '$label',\n    fontSize: '$font-size--l'\n  },\n\n  '$guide-line': {\n    strokeWidth: 1,\n    stroke: '$guide-color'\n  },\n\n  '$guide-line--minor': {\n    strokeWidth: 1,\n    stroke: '$gray-95' // needs alias\n  },\n\n  '$padding--s': {\n    left: '$spacing--s',\n    right: '$spacing--s',\n    top: '$spacing--s',\n    bottom: '$spacing--s'\n  },\n\n  '$padding': {\n    left: '$spacing',\n    right: '$spacing',\n    top: '$spacing',\n    bottom: '$spacing'\n  },\n\n  '$selection-area-target': {\n    fill: '$primary-green',\n    strokeWidth: 0,\n    opacity: 0.2\n  }\n};\n\nexport {\n  style,\n  palettes\n};\n","import 'path2d-polyfill';\nimport extend from 'extend';\nimport about from './about';\n\nimport {\n  chart,\n  renderer\n} from './core';\n\n\nimport {\n  components,\n  scales,\n  renderers\n} from './api';\n\nimport componentRegistry from './core/component';\nimport dataRegistry from './core/data';\nimport formatterRegistry from './core/formatter';\nimport interactionRegistry from './core/interaction';\nimport scaleRegistry from './core/chart/scales';\nimport { symbolRegistry } from './core/symbols';\n\nimport loggerFn from './core/utils/logger';\nimport registry from './core/utils/registry';\n\nimport { style, palettes } from './core/theme/light';\n\nfunction usePlugin(plugin, options = {}, api) {\n  plugin(api, options);\n}\n\nfunction pic(config = {}, registries = {}) {\n  const logger = loggerFn(config.logger);\n\n  /**\n   * @lends picassojs\n   */\n  const regis = {\n    // -- registries --\n    /**\n     * Component registry\n     * @type {registry}\n     */\n    component: registry(registries.component, 'component', logger),\n    /**\n     * Data registry\n     * @type {registry}\n     */\n    data: registry(registries.data, 'data', logger),\n    /**\n     * Formatter registry\n     * @type {registry}\n     */\n    formatter: registry(registries.formatter, 'formatter', logger),\n    /**\n     * Interaction registry\n     * @type {registry}\n     */\n    interaction: registry(registries.interaction, 'interaction', logger),\n    /**\n     * Renderer registry\n     * @type {registry}\n     */\n    renderer: renderer(registries.renderer, 'renderer', logger),\n    /**\n     * Scale registry\n     * @type {registry}\n     */\n    scale: registry(registries.scale, 'scale', logger),\n    /**\n     * Symbol registry\n     * @type {registry}\n     * @private\n     */\n    symbol: registry(registries.symbol, 'symbol', logger),\n    // -- misc --\n    /**\n     * log some some stuff\n     * @type {logger}\n     * @private\n     */\n    logger\n  };\n\n  if (config.renderer && config.renderer.prio) {\n    regis.renderer.default(config.renderer.prio[0]);\n  }\n\n  /**\n   * picasso.js entry point\n   * @experimental\n   * @entry\n   * @alias picassojs\n   * @param {object} cfg\n   * @param {object} cfg.renderer\n   * @param {Array<string>} cfg.renderer.prio\n   * @param {object} cfg.logger\n   * @param {number} cfg.logger.level\n   * @param {object} cfg.style\n   * @param {Array<object>} cfg.palettes\n   * @returns {picassojs}\n   */\n  function picassojs(cfg = {}) {\n    let cc = {\n      palettes: config.palettes.concat(cfg.palettes || []),\n      style: extend({}, config.style, cfg.style),\n      logger: cfg.logger || config.logger,\n      renderer: cfg.renderer || config.renderer\n    };\n    return pic(cc, regis);\n  }\n\n  /**\n   * @callback picassojs~plugin\n   * @param {picassojs~registries} registries\n   * @param {object} options\n   */\n\n  /**\n   * @param {picassojs~plugin} plugin\n   * @param {object} [options]\n   */\n  picassojs.use = (plugin, options = {}) => usePlugin(plugin, options, regis);\n\n  /**\n   * @param {chart-definition} definition\n   * @returns {chart}\n   */\n  picassojs.chart = (definition) => chart(definition, {\n    registries: regis,\n    logger,\n    style: config.style,\n    palettes: config.palettes\n  });\n  picassojs.config = () => config;\n\n  Object.keys(regis).forEach((key) => {\n    picassojs[key] = regis[key];\n  });\n\n  /**\n   * picasso.js version\n   * @type {string}\n   */\n  picassojs.version = about.version;\n\n  return picassojs;\n}\n\nconst p = pic({\n  renderer: {\n    prio: ['svg', 'canvas']\n  },\n  logger: {\n    level: 0\n  },\n  style,\n  palettes\n}, {\n  component: componentRegistry,\n  data: dataRegistry,\n  formatter: formatterRegistry,\n  interaction: interactionRegistry,\n  renderer: renderer(),\n  scale: scaleRegistry,\n  symbol: symbolRegistry\n});\n\ncomponents.forEach(p.use);\nrenderers.forEach(p.use);\nscales.forEach(p.use);\n\nexport { p as default };\n"],"names":["ARG_LENGTH","a","c","h","l","m","q","s","t","v","z","SEGMENT_PATTERN","NUMBER","parseValues","args","numbers","match","map","Number","parse","path","data","p","String","trim","replace","_","command","type","toLowerCase","theArgs","theCommand","length","push","concat","splice","parsePath","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","Array","isArray","arr2","iter","Symbol","iterator","toString","call","from","supportsSvgPathArgument","window","canvas","document","createElement","g","getContext","Path2D","strokeStyle","lineWidth","stroke","imgData","getImageData","rotatePoint","point","angle","nx","x","Math","cos","y","sin","ny","translatePoint","dx","dy","scalePoint","polyFillPath2D","CanvasRenderingContext2D","segments","_this$segments","apply","value","addPath","_this$segments2","moveTo","lineTo","arc","r","start","end","ccw","arcTo","x1","y1","x2","y2","ellipse","rx","ry","closePath","bezierCurveTo","cp1x","cp1y","cp2x","cp2y","quadraticCurveTo","cpx","cpy","rect","width","height","cFill","fill","cStroke","buildPath","endAngle","startAngle","largeArcFlag","sweepFlag","endPoint","midPoint","lambda","t1","t2","w","pathType","centerPoint","qcpx","qcpy","startPoint","currentPoint","beginPath","PI","sqrt","atan2","save","translate","rotate","scale","restore","undefined","_len","arguments","_key","fillRule","path2dPolyfill","src","src_2","version","dockConfig","settings","callbackContext","dock","displayOrder","prioOrder","preferredSize","minimumLayoutMode","show","computePreferredSize","inner","outer","val","roundRect","floor","resolveContainerRects","containerRect","logicalContainerRect","size","isNaN","logicalSize","align","min","max","preserveAspectRatio","resolveSettings","center","minWidthRatio","minHeightRatio","minWidth","minHeight","extend","isNumber","notNumber","getMinMax","points","num","xMin","NaN","xMax","yMin","yMax","lineToPoints","line","rectToPoints","pointsToRect","pointsToCircle","cx","cy","pointsToLine","getShapeType","shape","vertices","expandRect","createRect","margin","cacheSize","reducedRect","layoutRect","cachedSize","config","comp","relevantSize","ceil","edgeBleed","validateReduceRect","minReduceWidth","minReduceHeight","reduceDocRect","addEdgeBleed","currentEdgeBleed","left","right","top","bottom","reduceEdgeBleed","reducedRectRightBoundary","reducedRectBottomBoundary","reduceSingleLayoutRect","newReduceRect","newEdgeBleed","isValid","filterReferencedDocks","visible","hidden","referencedDocks","isAllHidden","every","refDock","some","reduceLayoutRect","sortedComponents","slice","sort","b","filteredUnsortedComps","filter","indexOf","computeRect","scaleRatio","appendScaleRatio","outerRect","xLessThenY","minRatio","area","spread","boundingBox","rects","positionComponents","translation","vRect","hRect","referencedComponents","referenceArray","elementOrder","diff","forEach","d","refs","ref","computed","resize","checkShowSettings","strategySettings","dockSettings","layoutModes","validateComponent","component","Error","filterComponents","components","layout","test","split","dockLayout","initialSettings","docker","order","settingsFn","detectTouchSupport","e","navigator","maxTouchPoints","isTouchEvent","changedTouches","isValidTapEvent","eventInfo","isTouch","ee","dt","Date","now","time","abs","clientX","clientY","button","multiTouch","datasets","dataSources","types","logger","sets","warn","datasetFactory","dataset","fn","keys","epsilon","pi","tau","pointX","pointY","orderNone","offsetNone","none","registryFactory","parentRegistry","registerName","defaultValue","reg","parent","get","has","default","add","remove","getKeys","getValues","deflt","registry","ret","register","identity","formatter","pattern","thousand","decimal","locale","d3format","format","localeFn","formatLocale","reset","thousands","grouping","currency","formatFn","patternFn","interval","day","timeMonday","timeDay","timeYear","timeSunday","timeThursday","defaultLocale","timeFormatLocale","dateTime","date","periods","days","shortDays","months","shortMonths","parsePattern","formatterRegistry","d3NumberFormatter","d3TimeFormatter","getFormatter","f","formatterFn","accessors","id","source","title","tags","values","label","field","raw","items","OFFSETS","diverging","stackOffsetDiverging","stackOffsetNone","silhouette","stackOffsetSilhouette","expand","stackOffsetExpand","wiggle","stackOffsetWiggle","ORDERS","ascending","stackOrderAscending","insideout","stackOrderInsideOut","stackOrderNone","reverse","stackOrderReverse","stacked","ds","stackIds","stackFn","stackKey","valueFn","startProp","endProp","offset","valueRef","maxStackCount","valueFields","sourceField","ff","sid","matrix","d3Stack","stack","series","serie","range","item","stackedFields","dSource","fieldFn","join","fields","extract","dataConfig","opts","extracted","collection","labelFn","groupBy","mapTo","hierarchy","root","extractionsConfigs","sourceFields","cfg","amend","obj","create","extractor","collections","k","coll","filtered","options","deps","extractData","formatterType","formattersConfig","formatters","def","all","t0","constant","rgb","colorRgb","number","array","object","bisect","formatDecimal","re","formatSpecifier","FormatSpecifier","prefixExponent","formatRounded","formatPrefixAuto","prefixes","formatGroup","formatNumerals","formatTypes","formatTrim","exponent","formatPrefix","linear","applyFormat","clamp","isObject","minorTicksGenerator","count","ticks","appendMinorTicks","majorTicks","minorCount","looseDistanceBasedGenerator","distance","unitDivider","step","round","ticksFormatted","tick","position","isMinor","tightDistanceBasedGenerator","n","nice","ticksByCount","ticksByValue","ary","isObj","forceTicksAtBounds","ticksP","lastTick","generateContinuousTicks","minorTicks","copy","tickGen","tight","forceBounds","generateDiscreteTicks","domain","dataItems","labels","bandwidth","defaultSettings","context","stngs","DEFAULT_SETTINGS","include","invert","DEFAULT_TICKS_SETTINGS","DEFAULT_MINORTICKS_SETTINGS","fieldMin","fieldMax","minValues","maxValues","mini","maxi","initNormScale","normScale","scaleLinear","resources","d3Scale","d3ScaleLinear","ctx","stgns","tickCache","rangeRound","cachedTicks","fnCachedTicks","clearTicksCache","fnClearTicks","input","tickFormat","interpolate","func","classify","valueRange","samplePos","lastVal","calIntervalPos","calSamplePos","sampleColValue","pop","cop","norm","normInvert","padding","paddingInner","paddingOuter","maxPxStep","scaleBand","band","d3ScaleBand","domainToDataMapping","augmentScaleBand","datum","domainValue","trackBy","pxScale","sizeRelativeToStep","newBand","arg","depth","keyGen","node","ancestors","flattenTree","rootNode","ticksDepth","expando","eachAfter","leaves","isBranch","children","leftEdge","rightEdge","spill","scaleHierarchicalBand","bandInstance","bandScale","hBand","strVal","bw","isLeaf","leafCount","stepSize","orgPxScale","minAccessor","maxAccessor","minmax","definedMin","definedMax","arrMin","numericFilter","arrMax","generateDomain","len","part","scaleSequentialColor","interpolateRgb","isDomain","isRange","DEFAULT_COLORS","theme","palette","getBreaks","generateRange","colors","seq","sequential","generateNiceDomain","numPoints","lin","shift","scaleThresholdColor","scaleThreshold","ordinal","scaleOrdinal","unknown","DEFAULT_EXPLICIT_SETTINGS","override","scaleCategorical","explicit","un","explicitDomain","explicitRange","numCopies","index","idx","scaleRegistry","threshold","categorical","getTypeFromMeta","deduceScaleTypeFromData","dataSourceConfig","scalesConfig","scales","mixin","EventEmitter","init","scrollApi","viewSize","move","newStart","emit","update","triggerUpdate","getState","createOrUpdate","oldApi","builder","oldScrollApis","scrollApis","hasOwnProperty","getOrCreateScrollApi","lessThanOrEqual","limit","lessThan","boundaries","after","contains","minCondition","maxCondition","rangeCollection","configure","includeMax","includeMin","i0","i1","before","set","clear","containsValue","containsRange","toggle","ranges","valueCollection","vc","DEFAULT_RANGE_CONFIG","changedMap","changed","vi","collectUnique","filteredSet","createValueCollection","addedMap","removedMap","added","removed","fs","setKeys","addedKeys","removedKeys","old","current","changedValues","filterFn","vCollection","oldMap","vcKeys","createValueCollectionFn","fsKeys","applyAliases","aliases","its","intercept","handlers","reduce","interceptor","toCamelCase","$1","toUpperCase","toSnakeCase","updateRange","action","interceptors","rc","rangeConfig","inter","sources","rangeValues","brush","activated","addValues","removeValues","toggleValues","setValues","addRanges","setRanges","removeRanges","toggleRanges","state","links","ls","_state","updateValues","updateRanges","attr","link","isActive","brushes","hasChanged","result","addValue","removeValue","addAndRemoveValues","addItems","removeItems","addIts","removeIts","toggleValue","toggled","addRange","removeRange","setRange","toggleRange","containsRangeValue","containsMappedData","mode","status","bool","name","ic","removeInterceptor","removeAllInterceptors","toRemove","interceptorHandlers","handler","addKeyAlias","alias","removeKeyAlias","nodeId","text","tween","renderer","ticker","toBeUpdated","entered","nodes","ips","exited","updated","stages","tweener","ids","interpolateObject","opacity","easing","easeCubic","duration","tweens","easeElasticOut","started","requestAnimationFrame","currentStage","stop","currentNodes","tweenedNodes","ip","render","cancelAnimationFrame","GLOBAL_DEFAULTS","fontFamily","fontSize","color","backgroundColor","strokeWidth","$fill","REF_RX","isPrimitive","normalizeSettings","defaults","chart","composition","defs","vType","defaultType","resolveForItem","normalized","fallbackData","normalizedProp","exists","hasExplicitDataProp","hasImplicitDataProp","propData","updateScaleSize","o","scaleWithSize","externals","cache","resolve","scaled","res","resolved","reduceToLeafNodes","styler","style","brusher","dataProps","active","inactive","styleProps","activeNodes","globalActivation","getNodes","nodeData","globalChanged","__style","activeIdx","original","onStart","onEnd","onUpdate","externalUpdate","on","cleanUp","removeListener","brushDataPoints","dataPoints","trigger","rangeBrush","actionFn","valueBrush","dataPoint","it","contexts","brushFromSceneNodes","resolveEvent","collisions","brushCollisions","propagation","touchSingleContactPoint","singleContactPoint","resolveCollisions","element","getBoundingClientRect","touchRadius","itemsAt","resolveAction","resolveTapEvent","resolveOverEvent","mappedAttributes","strokeLinejoin","baseline","dominantBaseline","anchor","textAnchor","maxWidth","transform","strokeDasharray","assignMappedAttribute","sourceValue","mappedKey","circle","pointsToPath","close","diamond","generateCrossPoints","barWidth","innerLeft","innerTop","cross","angleToPoints","segment","diagonal","op","toRadians","degreesToPoints","v1","v2","sub","scalarMultiply","distanceX","distanceY","sqrDistance","pow","dot","projectOnto","radians","origin","saltire","adjustedSize","asin","centroid","square","DIRECTION_TO_ANGLE","up","down","triangle","directionAngle","direction","halfSize","pp","createRectCollider","isVertical","collider","star","outerRadius","drawPoints","innerRadius","pAngle","innerRadians","iy","ix","nPolygon","radius","sides","bar","halfWidth","parentReg","applyOpts","isReservedProperty","prop","prepareContext","definition","require","mediatorSettings","mediator","registries","resolver","_DO_NOT_USE_getInfo","symbol","isVisible","bind","req","eventName","createDockDefinition","getLayoutProperty","propName","setUpEmitter","emitter","event","eventListeners","listener","tearDownEmitter","componentFactory","container","settingsResolver","brushArgs","brushTriggers","tap","over","brushStylers","definitionContext","instanceContext","createCallback","method","defaultMethod","canBeValue","cb","inDefinition","inConfig","returnValue","created","beforeMount","mounted","beforeUnmount","beforeUpdate","beforeRender","beforeDestroy","destroyed","addBrushStylers","consume","brushStyler","addBrushTriggers","rendString","rend","dockConfigCallbackContext","createDockConfig","appendComponentMeta","dataCollection","newSize","computedPhysical","computedOuter","computedInner","getRect","getRenderArgs","renderArgs","hide","unmount","currentTween","bs","animations","enabled","setKey","destroy","updateNodes","createSymbolFactory","getBrushedShapes","brushCtx","shapes","sceneNodes","findShapes","selector","shapesAt","brushFromShapes","mount","appendTo","onBrushTap","globalPropagation","toggleBrushing","onBrushOver","EPSILON","closestPointToLine","startToPoint","startToEnd","pointOnLine","isPointOnLine","rectContainsRect","lineHasNoLength","rectHasNoSize","circleHasNoSize","toFewEdges","polygon","edges","testCirclePoint","sqrDist","testCircleRect","rX","rY","rcX","rcY","dX","dY","testCircleLine","p1","p2","dist","testCircleCircle","circle1","circle2","testCirclePolygon","testPolygonPoint","edge","testRectPoint","boundingRect","even","rayStart","testLineLine","testPolygonLine","testPolygonRect","testRectLine","p3","p4","testRectRect","rect1","rect2","rectEdges","line1","line2","dx1","dy1","dx2","dy2","dx3","dy3","ub","uat","ubt","ua","testLinePoint","VARIABLE_RX","EXTEND","throwCyclical","references","extendFrom","pext","themeFn","palettes","pals","internalStyle","setPalettes","pal","sizes","getPalette","styleResolver","setStyle","addComponentDelta","containerBounds","componentBounds","deltaShape","moveToPosition","el","additionalEl","additionalElements","Boolean","insertBefore","ae","appendChild","orderComponents","visibleComponents","elToIdx","numElements","ordered","chartFn","listeners","mediatorFactory","currentComponents","currentScales","currentFormatters","currentScrollApis","currentInteractions","stopBrushing","createComponent","compSettings","componentDefinition","compInstance","hasKey","findComponent","componentInstance","findComponentIndexByKey","currComp","getElementRect","vcomponents","layoutComponents","layoutSettings","strategy","createDockLayout","_data","_settings","partialData","scroll","datasources","dataCollections","scaleCollection","formatterCollection","buildScroll","setInteractions","interactions","newKeys","cit","intSettings","intDefinition","interaction","componentsFromPoint","br","tp","addDefaultEventListeners","addEventListener","onTapDown","touches","comps","disableTriggers","preventDefault","brushEventList","removeDefaultEventListeners","removeEventListener","innerHTML","newProps","excludeFromUpdate","visibleOrder","updateWith","toUpdate","toRender","toRenderOrUpdate","getAffectedShapes","compKeys","stopPropagation","iKey","compShapes","brushFn","instances","off","rendererRegistry","prio","componentRegistry","findField","query","filters","numeric","unfilteredReducers","sum","reducers","first","last","avg","normalizeProperties","dataProperties","main","mainField","pConfig","reduceLabel","getPropsInfo","collectItems","collect","trackedItems","propsArr","mainFormatter","propsFormatters","track","itemData","tracker","trackType","trackId","trackedItem","datumExtract","propCfg","cell","cfgs","sourceKey","mapped","mainCell","exclude","propCell","storeTracked","createFields","headers","content","rowFn","row","flds","fieldValues","fv","numericValues","isMeasure","dsv","rows","row0","row1","delimiter","guesses","parseData","dd","util","normalizeConfig","dataRegistry","native","nativeEvents","itKey","isOn","setDefaultSettings","newSettings","events","enable","addEvents","removeAddedEvents","cap","resolveDiff","minPx","maxPx","high","low","highModified","lowModified","wantedDiff","actualDiff","startModifier","actualLow","oob","boxCenter","rendWidth","rendHeight","flipXY","calcwidth","calcheight","box","boxWidth","boxPadding","minHeightPx","major","verticalLine","to","horizontalLine","getBoxWidth","maxMajorWidth","maxWidthPx","minWidthPx","sign","buildShapes","output","majorItems","majorSettings","minorProps","minor","numMinorProps","nonOobKeys","minorItem","isLowerOutOfBounds","isHigherOutOfBounds","isOutOfBounds","numKeys","numNonOobKeys","addBox","boxShapesHelper","addLine","addMedian","median","med","addWhisker","whisker","whiskerWidth","addOutOfBounds","addMarkerList","checkOutOfBounds","MAX_VALUE","majorItem","majorVal","majorEndVal","binStart","binEnd","majorEnd","j","complexResolver","orientation","majorResolved","minorSettings","defaultMinorSettings","minorResolved","ext","ki","DEFAULT_DATA_SETTINGS","dataKeys","picasso","DEFAULT_ERROR_SETTINGS","errorShape","SIZE_LIMITS","maxRelExtent","minRelExtent","maxRelDiscrete","minRelDiscrete","getPxSpaceFromScale","space","isBandwidth","getPointSizeLimits","limits","xSpacePx","ySpacePx","maxSizePx","minSizePx","maxGlobal","minGlobal","createDisplayPoints","pointSize","shapeFn","shapeSpec","sizeLimits","pointMarker","pointMarkerComponent","cornerRadius","offsetSlice","vx","vy","vlen","createDisplayPies","arcData","slices","arcGen","or","ir","desc","share","arcValue","pieComponent","padAngle","arcValues","pieGen","pie","sortValues","crispifierFactory","crispMap","append","condition","conditionAppend","self","toAppend","crispItem","doAppend","rounded","multiple","crispifier","Transposer","coordinate","isFinite","firstChar","substring","storage","newItem","crisp","objectKeys","kl","nkey","evaluateKey","nval","transposeCoordinate","crispify","processItem","rest","transposer","lineGen","gridLineComponent","blueprint","lines","addTicks","dir","gridLine","directionMarker","directionTriangle","oobManager","oobKeys","charAt","xPadding","yPadding","indicator","refLabelDefaultSettings","background","alignmentToNumber","createLineWithLabel","doesNotCollide","measuredValue","valueString","scaleData","measureText","measuredLabel","measured","labelPadding","vAlign","calcWidth","calcHeight","rectWidth","rectHeight","curItem","createOobData","filterUndefinedValue","refLineComponent","x0","y0","refLine","appendStyle","struct","buildOpts","buildLine","innerRect","checkText","clampEnds","tilted","leftBoundary","rightBoundary","textWidth","textRect","leftTextBoundary","rightTextBoundary","topBoundary","bottomBoundary","textHeight","maxHeight","topTextBoundary","bottomTextBoundary","appendPadding","appendTilting","paddingEnd","bandwidthCollider","tickCenter","widthClip","heightClip","boundsCollider","tiltedCollider","startAnchor","em","sp","rotateVector","leftPoint","rightPoint","orderedPoints","appendCollider","layered","appendBounds","textBounds","buildNode","adjustForEnds","tickSize","isMajorTick","isVerticalLabelOverlapping","isHorizontalLabelOverlapping","activeMode","d1","d2","shouldAutoTilt","measure","glyphCount","maxGlyphCount","magicSizeRatioMultipler","tiltThreshold","ellipsCharSize","maxLabelWidth","minBandwidth","prev","curr","Infinity","isTiltedLabelOverlapping","bleedSize","absAngle","reciprocal","distanceBetweenLabels","isToLarge","horizontal","getClampedValue","maxValue","minValue","modifier","getSize","isDiscrete","maxLengthPx","minLengthPx","filterOverlapping","toLargeSize","sizeFromTextRect","tiltAngle","tickMeasures","labelSizes","textSize","extendLeft","labelWidth","adjustByPosition","pos","maxEdgeBleed","bleedDir","PADDING","tickDistance","getLeftEdgeWidth","nextWidth","leftEdgeBleed","minDubble","getRightEdgeWidth","prevWidth","rightEdgeBleed","getHorizontalWidth","next","tickSpacing","spacing","paddingStart","tickMinorSpacing","labelsSpacing","calcActualTextRect","tickBuilder","buildTick","tickBandwidth","labelBuilder","resolveTickOpts","buildLabel","layeredLabelBuilder","padding2","layer","filterOverlappingLabels","isOverlapping","discreteCalcMaxTextRect","textMetrics","continuousCalcMaxTextRect","getHorizontalContinuousWidth","getStepSizeFn","nodeBuilder","resolveLabelRect","continuous","discrete","build","majorTickNodes","maxSize","labelNodes","DEFAULT_DISCRETE_SETTINGS","DEFAULT_CONTINUOUS_SETTINGS","calcRequiredSize","getLabelSize","labelSize","minorTicksSize","alignTransform","resolveAlign","vertical","resolveLocalSettings","defaultStgns","localStgns","defaultDock","updateActiveMode","isHorizontal","axisComponent","concreteNodeBuilder","setState","reqSize","extendedInner","finalOuter","axis","parseTitle","titles","getTextAnchor","generateTitle","definitionSettings","paddingLeft","paddingRight","rotation","textComponent","_scrollbar","lengthAttr","currentMove","scrollState","startOffset","startScroll","swipe","scrollPoint","scrollMove","scrollStart","scrollCenter","getLocalPos","scrollbarComponent","panStart","startPos","deltaX","deltaY","panMove","panEnd","panCancel","thumbColor","_rect","thumbStart","thumbRange","pointerEvents","class","scrollbar","TARGET_SIZE","VERTICAL","HORIZONTAL","borderHit","isAlignStart","alignStart","alignEnd","alignStyle","targetRect","bubbles","onmouseover","srcElement","onmouseout","cursor","buildBubble","otherValue","rangeIdx","isOutside","placement","outside","bubbleDock","inEdit","edit","bubbleIdx","bubbleStyle","borderRadius","bubble","border","textAlign","overflow","textOverflow","whiteSpace","currentBorderColor","onkeyup","newValue","parseFloat","onEditConfirmed","onEditCanceled","buildArea","buildRange","els","vStart","vEnd","targetOffset","hasScale","targetFillRect","targetSize","targetStart","targetEnd","targetHeight","targetTop","targetArea","valStart","valEnd","isStartVisible","isEndVisible","getMoveDelta","posDelta","limitHigh","negDelta","limitLow","delta","rangelimits","areaLimits","findActive","rs","activeRange","startArea","elementFromPoint","tempState","relX","relY","cssCoord","coord","relStart","hasAttribute","parseInt","getAttribute","multi","pxStart","pxEnd","fauxBrushInstance","brushInstance","endArea","rel","moveArea","sourceData","ordRS","oldValues","findValues","addedValues","removedValues","setEditedRanges","startValue","endValue","limitMin","limitMax","findClosest","minDist","halfBandwidth","findClosestLabel","rangesOverlap","r1","r2","rangesValues","scaleRange","startIdx","endIdx","resolveNodeBounds","targetNodes","bounds","resolveTarget","targets","targetFillNodes","fillSelector","fillBounds","brushRangeComponent","rangeStart","rangeMove","rangeEnd","rangeClear","bubbleStart","renderRanges","editable","brushFactory","valueRanges","observeBrush","observe","sourcedFromThisComponent","srcEvent","ed","JSON","stringify","stopImmediatePropagation","wrapper","parentNode","inputEl","querySelector","focus","select","shapesFromRange","brushRange","shapeAt","brushFromShape","newShapes","getBubbleLabel","labelShape","s0","s1","bounds0","bounds1","compConfig","c0","c1","brushAreaDirectionalComponent","areaStart","areaMove","areaEnd","areaClear","getFormat","rangeBrushComponent","FILL","OPACITY","otherSize","setup","teardown","rangeComponent","getPoint","rendererBounds","eventOffsetX","eventOffsetY","withinThreshold","snapIndicator","appendToPath","setSnapIndictor","showSnapIndicator","setStartPoint","getComponentDelta","chartBounds","doLineBrush","lineBrushShape","componentDelta","brushConfig","doPolygonBrush","initPath","initSnapIndicator","initStartPoint","getBrushConfig","endBrush","resetState","brushLassoComponent","lasso","lassoStart","lassoEnd","lassoMove","lassoCancel","cancel","shouldSnap","lassoBrush","lassoBrushComponent","binaryLeftSearch","labelBounds","side","extractBounds","findLeft","renderLabels","getTextBounds","getNodeBounds","localBounds","doNotUse","labelIndex","labelNode","leftStartLabel","leftStartNode","labelRightBoundary","cbContext","isValidText","toBackground","backgroundBounds","isTextWidthInRectWidth","isTextHeightInRectHeight","isGoodPlacement","fitsHorizontally","fitWidth","fitHeight","isTextInRect","placeSegmentInSegment","majorSegmentPosition","majorSegmentSize","minorSegmentSize","majorSegmentCenter","minorSegmentCenter","minorSegmentPosition","placeTextInRect","baseLineOffset","justify","limitBounds","view","minY","maxY","minX","maxX","pad","getBarRect","findBestPlacement","placementSettings","barRect","largest","testBounds","dimension","approxTextBounds","rotated","PADDING_OFFSET","placeInBars","collectiveOrientation","findPlacement","placer","postFilter","postFilterContext","lblStngs","placements","texts","labelSettings","measurements","bestPlacement","linkData","isRotated","filteredLabels","backgrounds","lb","precalculate","labelStruct","hasHorizontalDirection","lblStng","bars","labelSetting","LABEL_OVERLAP_THRESHOLD_X","normalize","PI2","getTopLeftBounds","getLineCircleIntersection","D","sqrtD","getRectFromCircleIntersection","lineOffset","section","intersection","getHorizontalInsideSliceRect","store","middle","insideLabelBounds","getHorizontalIntoSliceRect","startLine","endLine","getRotatedInsideSliceRect","tan","minReqWidth","getRotatedOusideSliceRect","minR","outOfSpace","q1maxY","q2minY","q3minY","q4maxY","adjustBounds","LINE_PADDING","LIMIT","updateContext","getHorizontalOusideSliceRect","placeTextOnPoint","getSliceRect","sliceRect","sortNodes","q1","q2","q3","q4","sortFn","middleA","middleB","reverseSortFn","metrics","topLeftBounds","LINEBREAK_REGEX","WHITESPACE_REGEX","HYPHEN_REGEX","NO_BREAK","MANDATORY","BREAK_ALLOWED","includesLineBreak","search","includesWhiteSpace","hyphenationAllowed","resolveBreakOpportunity","chunk","chunks","mandatory","noBreakAllowed","cleanEmptyChunks","stringTokenizer","string","separator","mandatoryBreakIdentifiers","noBreakAllowedIdentifiers","suppressIdentifier","hyphenationIdentifiers","isNotDone","peek","peekAt","textMeasure","opportunity","breakOpportunity","suppress","hyphenation","done","jumpToPosition","HYPHENS_CHAR","ELLIPSIS_CHAR","BASE","PAD","BUMP","DEFAULT_FONT_HEIGHT","DEFAULT_LINE_HEIGHT","TEXT_REGEX","isValidFontSize","fontSizeToHeight","fontSizeToLineHeight","lineHeight","resolveMaxAllowedLines","maxLines","computedLineHeight","initState","hyphens","char","newLine","appendToLine","token","insertHyphenAndJump","startIndex","pairToken","breakSequence","charTokenIterator","charToken","breakAll","reduced","breakWord","generateLineNodes","halfLead","currentY","_lineBreak","shouldLineBreak","wrappedMeasureText","resolveLineBreakAlgorithm","WORDBREAK","wordBreak","onLineBreak","wordBreakFn","tm","ellipsText","reduceIndex","reduceText","substr","baselineHeuristic","textNode","heightCache","widthCache","contextCache","setContext","setFont","font","measureTextWidth","measureTextHeight","calcTextBounds","attrs","measureFn","calWidth","lineBreakFn","resolvedLineBreaks","nodeCopy","widestLine","LINE_HEIGHT","CIRCLE_FACTOR","wiggleWidth","getRectFromCircle","getSliceBounds","getBounds","rowSettings","totalHeight","labelCount","wiggleHeight","maxYDistToCenter","ellipsed","labelsComponent","strategies","scrollOffset","navigation","disabled","shapeSettings","symbols","wiggleSymbol","createRenderItem","globalMetrics","createSymbol","displayObject","symbolItem","meta","rtl","labelRect","maxLabelBounds","maxSymbolSize","wiggled","maxItemBounds","getItemsToRender","viewRect","itemized","parallels","legendItems","renderItems","fixedHeight","fixedWidth","rowHeight","columnWidth","renderItem","itemize","sourceItems","sourceSymbols","sourceLabels","maxLabelHeight","extent","property","parallelize","availableExtent","availableSpread","extentProperty","extentInPx","numNeeded","spreadProperty","numAllowed","numInput","legend","onScroll","api","getContentOverflow","offsetProperty","hasContentOverflow","getNextSize","getPrevSize","hasNext","hasPrev","classString","classMap","className","DIR","btn","nav","attrsMerged","itemRenderer","isRtl","buttonSize","display","navigationRenderer","titleRenderer","isPreliminary","paddedRect","availableExtentForItems","availableSpreadForItems","navigationSize","navigationSpread","tempLayout","contentItems","views","renderElement","panstart","contentOverflow","panmove","panend","itemRendererFactory","navigationRendererFactory","titleRendererFactory","categoricalLegend","applyAlignJustify","cmd","generateStopNodes","fillScale","majorScale","stops","createTitleNode","isTickLeft","isTickTop","requiredWidth","tag","createLegendRectNode","requiredHeight","degree","createTickNodes","legendNode","rangeSelectorRect","textBoundsFn","resolveAnchor","valid","resolveTickAnchor","dockAnchorMap","resolveTitleAnchor","initRect","getTicks","titleStgns","tickValues","tickAnchor","titleTextMetrics","titleTextBounds","mw","fnPos","legendDef","prefSize","paddings","tHeight","tWidth","titleNode","stopNodes","rectNode","tickNodes","targetNode","sequentialLegend","legendSeq","CURVES","curveStep","stepAfter","curveStepAfter","stepBefore","curveStepBefore","curveLinear","basis","curveBasis","cardinal","curveCardinal","tension","catmullRom","curveCatmullRom","monotonex","curveMonotoneX","monotoney","curveMonotoneY","natural","curveNatural","SETTINGS","coordinates","layerId","connect","layers","curve","createDisplayLayer","generator","createDisplayLayers","missingMinor0","layerStngs","lineObj","layerObj","areaObj","areaGenerator","defined","lineGenerator","secondaryLineGenerator","temp","minor0","dummy","filteredPoints","consumableData","injectDummy","layerIds","numLines","lid","lastItem","lastOrderIdx","metaLayers","layersData","layersResolved","linesResolved","areasResolved","areas","calculateVisibleLayers","visibleLayers","pData","lineMarkerComponent","sortable","getLocalPoint","localX","localY","localToChartPoint","doEndBrush","toRect","p0","doAreaBrush","areaCancel","areaBrush","dataCtx","resolveClasses","tooltip","tooltipClass","contentClass","arrow","arrowClass","resolveContent","classes","tooltipDefaultStyle","tooltipNode","computedTooltipStyle","computedArrowStyle","dispatcherState","pending","debounced","cancelled","rejected","fulfilled","timeSpanDispatcher","defaultDuration","defaultDelay","actionId","fulfilledId","invoke","delay","clearTimeout","setTimeout","getDockTransform","getDockOffset","getComputedArrowStyle","borderWidth","isInsideArea","calcOffset","offsetX","offsetY","alignToBounds","pointer","elmWidth","elmHeight","targetBounds","getNodeBoundsRelativeToTarget","docks","dockTransforms","innerWidth","innerHeight","dockOffsets","dockOrder","alignToPoint","results","edgeMargin","alignToPointer","alignToSlice","getComponentBoundsFromNode","componentSize","STRATEGIES","propCtx","plcm","setActive","removeActive","cancelActive","isEqual","beforeShow","afterShow","beforeHide","onHide","afterHide","DEFAULT_STYLE","borderStyle","borderTopColor","borderLeftColor","borderRightColor","borderBottomColor","toPoint","targetElement","prevent","dispatcher","fNodes","invokeRenderer","instanceId","listenerCtx","tooltipElm","pseudoElement","visibility","addTooltip","debugColliderDef","useOuterRect","draw","colliders","PI_X2","arcToCenter","endX","endY","startX","startY","sweepAngle","radiusRatio","rad","hdx","hdy","x1d","y1d","rxry","rxy1d","ryx1d","den","frac","cxd","cyd","mx","my","ux","uy","flatness","cp1","cp2","mid","td","t3","toPoints","m0","m1","m2","q0","toCubic","cp","cubicToPoints","removeDuplicates","arcToPoints","resAngle","deltaAngle","pathToPoints","commands","cubicCurveToPoints","quadCurveToPoints","debugPathToPointsDef","circles","pathToSegments","debugCollider","createDebugCollider","debugPathToPoints","createDebugPathToPoints","boxComponent","pointComponent","lineComponent","brushAreaComponent","tooltipComponent","Node","_parent","_children","_ancestors","removeChild","nChildren","equals","ch","toJSON","descendants","GeoRect","GeoCircle","minRadius","vector","GeoLine","tolerance","vectors","zeroSize","v0","GeoPolygon","_bounds","_boundingRect","intersects","pointsAreNotEqual","GeoPolyline","_points","testLine","polyline","GeometryCollection","geometries","geo","geoInstance","factory","containsPoint","intersectsLine","intersectsRect","intersectsCircle","intersectsPolygon","Matrix","_elements","_stack","mt","multiply","elements","radianAngle","determinant","vec","transformRegEx","parseTransform","exec","argsStr","resolveRotateCmd","resolveScaleCmd","resolveTranslateCmd","resolveMatrixCmd","resolveTransform","transforms","SELECTOR_MAPS","universal","FILTERS","objects","operator","attribute","attributeValue","tokenize","groups","info","validSelector","group","selectorMapsIterator","find","groupResults","tokens","gi","glen","levels","hasRemainder","selected","ancestor","ni","nlen","appendDpi","dpi","geometryToDef","geometry","mvm","transformPoints","colliderToShape","modelViewMatrix","isCollection","colliderType","SceneNode","includeTransform","_attrs","_type","_dpi","stage","_collider","_desc","_tag","_cache","elementBoundingRect","_getElementBoundingRect","selfRect","_element","Collision","_node","createSceneNode","_input","appendParentNode","collision","createCollision","appendInputShape","resolveFrontChildCollision","resolveGeometryCollision","inverseTransform","transformedInput","inverseModelViewMatrix","transformPoint","createPolygon","resolveCollision","intersectionType","findAllCollisions","hasCollision","resolveShape","ratio","_shape","vertex","resolveCollionsOnNode","hasCollisionOnNode","DisplayObject","_stage","strokeReference","fillReference","nodeSelector","clone","resolveLocalTransform","attrKeys","dAttrs","dAttrKeys","json","_mvm","_imvm","geometryCollection","NodeContainer","addChild","indx","NC","Container","__boundingRect","true","false","__bounds","child","_xMax","_yMax","appendChildRect","addChildren","removeChildren","Stage","_dpiRatio","allowedAttrs","GradientItem","attrKey","PatternItem","Rect","pt","Circle","Line","defaultCollider","hasSize","PI_2","lineAngle","polylineToPolygonCollider","open","forceOrientation","unshift","currToPrev","currToNext","openAngle","closeAngle","maxAngle","minAngle","openClose","prevToCurr","opened","closed","nextToCurr","flatten2d","newAry","isClosed","Path","visual","flatten","hasData","_textBoundsFn","Text","gradientItem","patternItem","contextFactory","whitelist","states","styleContext","doEvent","updateState","traverse","siblings","displayNode","isIdentity","scene","createCanvasGradient","gradient","newGradient","createRadialGradient","createLinearGradient","addColorStop","getPattern","dummyCanvas","fillStyle","createPattern","patternizer","createRendererBox","destory","setAttribute","injectTextBoundsFn","toLineDash","dpiScale","dpr","devicePixelRatio","backingStorePixelRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","resolveMatrix","setTransform","applyContext","shapeToCanvasMap","computedKeys","shapeCmd","canvasCmd","convertCmd","renderShapes","patterns","doFill","doStroke","sceneFn","sceneFactory","hasChangedRect","canvasRenderer","ownerDocument","dpiRatio","scaleX","scaleY","sceneContainer","newScene","hasChangedScene","doRender","getItemsFrom","newRect","parentElement","renderFn","clampRadius","quadraticRoundedRect","rangesOfLChars","rangesOfRChars","rangesOfALChars","rangesOfLRgExp","RegExp","rangesOfRRgExp","rangesOfALRgExp","isLtrChar","isRtlChar","detectTextDirection","textAnchorRTLMap","flipTextAnchor","bdy","fillText","rendererComponent","updatedNew","updatedOld","fromIds","toIds","idMapper","nodeMapper","isTree","createNodes","destroyNodes","creator","maintainer","destroyer","createTree","oldItems","newItems","svgNs","createElementNS","textContent","TreeItemRenderer","treeCreator","nodeCreator","nodeMaintainer","nodeDestroyer","tree","hashObject","hash","chr","charCodeAt","gradienter","bucket","hasher","uid","getOrCreateGradient","url","gradientHash","gradientId","onCreate","location","href","inputs","patternHash","pnid","pn","patternUnits","treeFn","treeFactory","ns","svg","gradients","cloneNode","replaceChild","dNode","dom","vNode","firstChild","LOG_LEVEL","OFF","ERROR","WARN","INFO","DEBUG","loggerFn","level","pipe","console","currentlevel","LOG_FN","error","log","lev","debug","usePlugin","plugin","pic","regis","picassojs","cc","use","about","interactionRegistry","symbolRegistry","renderers"],"mappings":";;;;;;;AAAA,IAAIA,UAAU,GAAG;EACfC,CAAC,EAAE,CADY;EAEfC,CAAC,EAAE,CAFY;EAGfC,CAAC,EAAE,CAHY;EAIfC,CAAC,EAAE,CAJY;EAKfC,CAAC,EAAE,CALY;EAMfC,CAAC,EAAE,CANY;EAOfC,CAAC,EAAE,CAPY;EAQfC,CAAC,EAAE,CARY;EASfC,CAAC,EAAE,CATY;EAUfC,CAAC,EAAE;CAVL;AAYA,IAAIC,eAAe,GAAG,kCAAtB;AACA,IAAIC,MAAM,GAAG,mCAAb;;AAEA,SAASC,WAAT,CAAqBC,IAArB,EAA2B;MACrBC,OAAO,GAAGD,IAAI,CAACE,KAAL,CAAWJ,MAAX,CAAd;SACOG,OAAO,GAAGA,OAAO,CAACE,GAAR,CAAYC,MAAZ,CAAH,GAAyB,EAAvC;;;;;;;;;;;;;;;AAeF,SAASC,KAAT,CAAeC,IAAf,EAAqB;MACfC,IAAI,GAAG,EAAX;MACIC,CAAC,GAAGC,MAAM,CAACH,IAAD,CAAN,CAAaI,IAAb,EAAR,CAFmB;;MAIfF,CAAC,CAAC,CAAD,CAAD,KAAS,GAAT,IAAgBA,CAAC,CAAC,CAAD,CAAD,KAAS,GAA7B,EAAkC;WACzBD,IAAP;;;EAGFC,CAAC,CAACG,OAAF,CAAUd,eAAV,EAA2B,UAAUe,CAAV,EAAaC,OAAb,EAAsBb,IAAtB,EAA4B;QACjDc,IAAI,GAAGD,OAAO,CAACE,WAAR,EAAX;QACIC,OAAO,GAAGjB,WAAW,CAACC,IAAD,CAAzB;QACIiB,UAAU,GAAGJ,OAAjB,CAHqD;;QAKjDC,IAAI,KAAK,GAAT,IAAgBE,OAAO,CAACE,MAAR,GAAiB,CAArC,EAAwC;MACtCX,IAAI,CAACY,IAAL,CAAU,CAACF,UAAD,EAAaG,MAAb,CAAoBJ,OAAO,CAACK,MAAR,CAAe,CAAf,EAAkB,CAAlB,CAApB,CAAV;MACAP,IAAI,GAAG,GAAP;MACAG,UAAU,GAAGA,UAAU,KAAK,GAAf,GAAqB,GAArB,GAA2B,GAAxC;KARmD;;;QAYjDD,OAAO,CAACE,MAAR,GAAiBhC,UAAU,CAAC4B,IAAD,CAA/B,EAAuC;aAC9B,EAAP;;;IAGFP,IAAI,CAACY,IAAL,CAAU,CAACF,UAAD,EAAaG,MAAb,CAAoBJ,OAAO,CAACK,MAAR,CAAe,CAAf,EAAkBnC,UAAU,CAAC4B,IAAD,CAA5B,CAApB,CAAV,EAhBqD;;;;;WAqB9CE,OAAO,CAACE,MAAR,IAAkBhC,UAAU,CAAC4B,IAAD,CAA5B,IAAsCE,OAAO,CAACE,MAA9C,IAAwDhC,UAAU,CAAC4B,IAAD,CAAzE,EAAiF;MAC/EP,IAAI,CAACY,IAAL,CAAU,CAACF,UAAD,EAAaG,MAAb,CAAoBJ,OAAO,CAACK,MAAR,CAAe,CAAf,EAAkBnC,UAAU,CAAC4B,IAAD,CAA5B,CAApB,CAAV;;;WAGK,EAAP;GAzBF;SA2BOP,IAAP;;;AAGF,IAAIe,SAAS,GAAGjB,KAAhB;;AAEA,SAASkB,eAAT,CAAyBC,QAAzB,EAAmCC,WAAnC,EAAgD;MAC1C,EAAED,QAAQ,YAAYC,WAAtB,CAAJ,EAAwC;UAChC,IAAIC,SAAJ,CAAc,mCAAd,CAAN;;;;AAIJ,SAASC,iBAAT,CAA2BC,MAA3B,EAAmCC,KAAnC,EAA0C;OACnC,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,KAAK,CAACX,MAA1B,EAAkCY,CAAC,EAAnC,EAAuC;QACjCC,UAAU,GAAGF,KAAK,CAACC,CAAD,CAAtB;IACAC,UAAU,CAACC,UAAX,GAAwBD,UAAU,CAACC,UAAX,IAAyB,KAAjD;IACAD,UAAU,CAACE,YAAX,GAA0B,IAA1B;QACI,WAAWF,UAAf,EAA2BA,UAAU,CAACG,QAAX,GAAsB,IAAtB;IAC3BC,MAAM,CAACC,cAAP,CAAsBR,MAAtB,EAA8BG,UAAU,CAACM,GAAzC,EAA8CN,UAA9C;;;;AAIJ,SAASO,YAAT,CAAsBb,WAAtB,EAAmCc,UAAnC,EAA+CC,WAA/C,EAA4D;MACtDD,UAAJ,EAAgBZ,iBAAiB,CAACF,WAAW,CAACgB,SAAb,EAAwBF,UAAxB,CAAjB;MACZC,WAAJ,EAAiBb,iBAAiB,CAACF,WAAD,EAAce,WAAd,CAAjB;SACVf,WAAP;;;AAGF,SAASiB,kBAAT,CAA4BC,GAA5B,EAAiC;SACxBC,kBAAkB,CAACD,GAAD,CAAlB,IAA2BE,gBAAgB,CAACF,GAAD,CAA3C,IAAoDG,kBAAkB,EAA7E;;;AAGF,SAASF,kBAAT,CAA4BD,GAA5B,EAAiC;MAC3BI,KAAK,CAACC,OAAN,CAAcL,GAAd,CAAJ,EAAwB;SACjB,IAAIb,CAAC,GAAG,CAAR,EAAWmB,IAAI,GAAG,IAAIF,KAAJ,CAAUJ,GAAG,CAACzB,MAAd,CAAvB,EAA8CY,CAAC,GAAGa,GAAG,CAACzB,MAAtD,EAA8DY,CAAC,EAA/D;MAAmEmB,IAAI,CAACnB,CAAD,CAAJ,GAAUa,GAAG,CAACb,CAAD,CAAb;;;WAE5DmB,IAAP;;;;AAIJ,SAASJ,gBAAT,CAA0BK,IAA1B,EAAgC;MAC1BC,MAAM,CAACC,QAAP,IAAmBjB,MAAM,CAACe,IAAD,CAAzB,IAAmCf,MAAM,CAACM,SAAP,CAAiBY,QAAjB,CAA0BC,IAA1B,CAA+BJ,IAA/B,MAAyC,oBAAhF,EAAsG,OAAOH,KAAK,CAACQ,IAAN,CAAWL,IAAX,CAAP;;;AAGxG,SAASJ,kBAAT,GAA8B;QACtB,IAAIpB,SAAJ,CAAc,iDAAd,CAAN;;;;;;;;AAQF,SAAS8B,uBAAT,CAAiCC,MAAjC,EAAyC;MACnCC,MAAM,GAAGD,MAAM,CAACE,QAAP,CAAgBC,aAAhB,CAA8B,QAA9B,CAAb;MACIC,CAAC,GAAGH,MAAM,CAACI,UAAP,CAAkB,IAAlB,CAAR;MACItD,CAAC,GAAG,IAAIiD,MAAM,CAACM,MAAX,CAAkB,WAAlB,CAAR;EACAF,CAAC,CAACG,WAAF,GAAgB,KAAhB;EACAH,CAAC,CAACI,SAAF,GAAc,CAAd;EACAJ,CAAC,CAACK,MAAF,CAAS1D,CAAT;MACI2D,OAAO,GAAGN,CAAC,CAACO,YAAF,CAAe,CAAf,EAAkB,CAAlB,EAAqB,CAArB,EAAwB,CAAxB,CAAd;SACOD,OAAO,CAAC5D,IAAR,CAAa,CAAb,MAAoB,GAA3B,CARuC;;;AAWzC,SAAS8D,WAAT,CAAqBC,KAArB,EAA4BC,KAA5B,EAAmC;MAC7BC,EAAE,GAAGF,KAAK,CAACG,CAAN,GAAUC,IAAI,CAACC,GAAL,CAASJ,KAAT,CAAV,GAA4BD,KAAK,CAACM,CAAN,GAAUF,IAAI,CAACG,GAAL,CAASN,KAAT,CAA/C;MACIO,EAAE,GAAGR,KAAK,CAACM,CAAN,GAAUF,IAAI,CAACC,GAAL,CAASJ,KAAT,CAAV,GAA4BD,KAAK,CAACG,CAAN,GAAUC,IAAI,CAACG,GAAL,CAASN,KAAT,CAA/C;EACAD,KAAK,CAACG,CAAN,GAAUD,EAAV;EACAF,KAAK,CAACM,CAAN,GAAUE,EAAV;;;AAGF,SAASC,cAAT,CAAwBT,KAAxB,EAA+BU,EAA/B,EAAmCC,EAAnC,EAAuC;EACrCX,KAAK,CAACG,CAAN,IAAWO,EAAX;EACAV,KAAK,CAACM,CAAN,IAAWK,EAAX;;;AAGF,SAASC,UAAT,CAAoBZ,KAApB,EAA2B7E,CAA3B,EAA8B;EAC5B6E,KAAK,CAACG,CAAN,IAAWhF,CAAX;EACA6E,KAAK,CAACM,CAAN,IAAWnF,CAAX;;;AAGF,SAAS0F,cAAT,CAAwB1B,MAAxB,EAAgC;MAC1B,OAAOA,MAAP,KAAkB,WAAlB,IAAiC,CAACA,MAAM,CAAC2B,wBAA7C,EAAuE;;;;MAInE3B,MAAM,CAACM,MAAP,IAAiBP,uBAAuB,CAACC,MAAD,CAA5C,EAAsD;;;;;;;;;;;MAWlDM,MAAM;;cAEE;aACDA,MAAT,CAAgBzD,IAAhB,EAAsB;MACpBiB,eAAe,CAAC,IAAD,EAAOwC,MAAP,CAAf;;WAEKsB,QAAL,GAAgB,EAAhB;;UAEI/E,IAAI,IAAIA,IAAI,YAAYyD,MAA5B,EAAoC;YAC9BuB,cAAJ;;SAECA,cAAc,GAAG,KAAKD,QAAvB,EAAiClE,IAAjC,CAAsCoE,KAAtC,CAA4CD,cAA5C,EAA4D5C,kBAAkB,CAACpC,IAAI,CAAC+E,QAAN,CAA9E;OAHF,MAIO,IAAI/E,IAAJ,EAAU;aACV+E,QAAL,GAAgB/D,SAAS,CAAChB,IAAD,CAAzB;;;;IAIJgC,YAAY,CAACyB,MAAD,EAAS,CAAC;MACpB1B,GAAG,EAAE,SADe;MAEpBmD,KAAK,EAAE,SAASC,OAAT,CAAiBnF,IAAjB,EAAuB;YACxBA,IAAI,IAAIA,IAAI,YAAYyD,MAA5B,EAAoC;cAC9B2B,eAAJ;;WAECA,eAAe,GAAG,KAAKL,QAAxB,EAAkClE,IAAlC,CAAuCoE,KAAvC,CAA6CG,eAA7C,EAA8DhD,kBAAkB,CAACpC,IAAI,CAAC+E,QAAN,CAAhF;;;KANe,EASlB;MACDhD,GAAG,EAAE,QADJ;MAEDmD,KAAK,EAAE,SAASG,MAAT,CAAgBlB,CAAhB,EAAmBG,CAAnB,EAAsB;aACtBS,QAAL,CAAclE,IAAd,CAAmB,CAAC,GAAD,EAAMsD,CAAN,EAASG,CAAT,CAAnB;;KAZiB,EAclB;MACDvC,GAAG,EAAE,QADJ;MAEDmD,KAAK,EAAE,SAASI,MAAT,CAAgBnB,CAAhB,EAAmBG,CAAnB,EAAsB;aACtBS,QAAL,CAAclE,IAAd,CAAmB,CAAC,GAAD,EAAMsD,CAAN,EAASG,CAAT,CAAnB;;KAjBiB,EAmBlB;MACDvC,GAAG,EAAE,KADJ;MAEDmD,KAAK,EAAE,SAASK,GAAT,CAAapB,CAAb,EAAgBG,CAAhB,EAAmBkB,CAAnB,EAAsBC,KAAtB,EAA6BC,GAA7B,EAAkCC,GAAlC,EAAuC;aACvCZ,QAAL,CAAclE,IAAd,CAAmB,CAAC,IAAD,EAAOsD,CAAP,EAAUG,CAAV,EAAakB,CAAb,EAAgBC,KAAhB,EAAuBC,GAAvB,EAA4B,CAAC,CAACC,GAA9B,CAAnB;;KAtBiB,EAwBlB;MACD5D,GAAG,EAAE,OADJ;MAEDmD,KAAK,EAAE,SAASU,KAAT,CAAeC,EAAf,EAAmBC,EAAnB,EAAuBC,EAAvB,EAA2BC,EAA3B,EAA+BR,CAA/B,EAAkC;aAClCT,QAAL,CAAclE,IAAd,CAAmB,CAAC,IAAD,EAAOgF,EAAP,EAAWC,EAAX,EAAeC,EAAf,EAAmBC,EAAnB,EAAuBR,CAAvB,CAAnB;;KA3BiB,EA6BlB;MACDzD,GAAG,EAAE,SADJ;MAEDmD,KAAK,EAAE,SAASe,OAAT,CAAiB9B,CAAjB,EAAoBG,CAApB,EAAuB4B,EAAvB,EAA2BC,EAA3B,EAA+BlC,KAA/B,EAAsCwB,KAAtC,EAA6CC,GAA7C,EAAkDC,GAAlD,EAAuD;aACvDZ,QAAL,CAAclE,IAAd,CAAmB,CAAC,GAAD,EAAMsD,CAAN,EAASG,CAAT,EAAY4B,EAAZ,EAAgBC,EAAhB,EAAoBlC,KAApB,EAA2BwB,KAA3B,EAAkCC,GAAlC,EAAuC,CAAC,CAACC,GAAzC,CAAnB;;KAhCiB,EAkClB;MACD5D,GAAG,EAAE,WADJ;MAEDmD,KAAK,EAAE,SAASkB,SAAT,GAAqB;aACrBrB,QAAL,CAAclE,IAAd,CAAmB,CAAC,GAAD,CAAnB;;KArCiB,EAuClB;MACDkB,GAAG,EAAE,eADJ;MAEDmD,KAAK,EAAE,SAASmB,aAAT,CAAuBC,IAAvB,EAA6BC,IAA7B,EAAmCC,IAAnC,EAAyCC,IAAzC,EAA+CtC,CAA/C,EAAkDG,CAAlD,EAAqD;aACrDS,QAAL,CAAclE,IAAd,CAAmB,CAAC,GAAD,EAAMyF,IAAN,EAAYC,IAAZ,EAAkBC,IAAlB,EAAwBC,IAAxB,EAA8BtC,CAA9B,EAAiCG,CAAjC,CAAnB;;KA1CiB,EA4ClB;MACDvC,GAAG,EAAE,kBADJ;MAEDmD,KAAK,EAAE,SAASwB,gBAAT,CAA0BC,GAA1B,EAA+BC,GAA/B,EAAoCzC,CAApC,EAAuCG,CAAvC,EAA0C;aAC1CS,QAAL,CAAclE,IAAd,CAAmB,CAAC,GAAD,EAAM8F,GAAN,EAAWC,GAAX,EAAgBzC,CAAhB,EAAmBG,CAAnB,CAAnB;;KA/CiB,EAiDlB;MACDvC,GAAG,EAAE,MADJ;MAEDmD,KAAK,EAAE,SAAS2B,IAAT,CAAc1C,CAAd,EAAiBG,CAAjB,EAAoBwC,KAApB,EAA2BC,MAA3B,EAAmC;aACnChC,QAAL,CAAclE,IAAd,CAAmB,CAAC,GAAD,EAAMsD,CAAN,EAASG,CAAT,EAAYwC,KAAZ,EAAmBC,MAAnB,CAAnB;;KApDiB,CAAT,CAAZ;;WAwDOtD,MAAP;GAvEF,EAFA;;MA4EIuD,KAAK,GAAG7D,MAAM,CAAC2B,wBAAP,CAAgC3C,SAAhC,CAA0C8E,IAAtD;MACIC,OAAO,GAAG/D,MAAM,CAAC2B,wBAAP,CAAgC3C,SAAhC,CAA0CyB,MAAxD;;WAESuD,SAAT,CAAmB/D,MAAnB,EAA2B2B,QAA3B,EAAqC;QAC/BqC,QAAJ;QACIC,UAAJ;QACIC,YAAJ;QACIC,SAAJ;QACIC,QAAJ;QACIC,QAAJ;QACIxD,KAAJ;QACIyD,MAAJ;QACIC,EAAJ;QACIC,EAAJ;QACIzD,CAAJ;QACI0B,EAAJ;QACIvB,CAAJ;QACIwB,EAAJ;QACIN,CAAJ;QACIU,EAAJ;QACIC,EAAJ;QACI0B,CAAJ;QACI9I,CAAJ;QACI+I,QAAJ;QACIC,WAAJ;QACIpB,GAAJ;QACIC,GAAJ;QACIoB,IAAJ;QACIC,IAAJ;QACItC,GAAJ;QACIuC,UAAU,GAAG;MACf/D,CAAC,EAAE,CADY;MAEfG,CAAC,EAAE;KAFL;QAII6D,YAAY,GAAG;MACjBhE,CAAC,EAAE,CADc;MAEjBG,CAAC,EAAE;KAFL;IAIAlB,MAAM,CAACgF,SAAP;;SAEK,IAAI5G,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGuD,QAAQ,CAACnE,MAA7B,EAAqC,EAAEY,CAAvC,EAA0C;UACpCrC,CAAC,GAAG4F,QAAQ,CAACvD,CAAD,CAAhB;MACAsG,QAAQ,GAAG3I,CAAC,CAAC,CAAD,CAAZ,CAFwC;;UAIpC2I,QAAQ,KAAK,GAAb,IAAoBA,QAAQ,KAAK,GAAjC,IAAwCA,QAAQ,KAAK,GAArD,IAA4DA,QAAQ,KAAK,GAA7E,EAAkF;QAChFnB,GAAG,GAAG,IAAN;QACAC,GAAG,GAAG,IAAN;;;UAGEkB,QAAQ,KAAK,GAAb,IAAoBA,QAAQ,KAAK,GAAjC,IAAwCA,QAAQ,KAAK,GAArD,IAA4DA,QAAQ,KAAK,GAA7E,EAAkF;QAChFE,IAAI,GAAG,IAAP;QACAC,IAAI,GAAG,IAAP;;;cAGMH,QAAR;aACO,GAAL;aACK,GAAL;cACMA,QAAQ,KAAK,GAAjB,EAAsB;YACpB3D,CAAC,IAAIhF,CAAC,CAAC,CAAD,CAAN;YACAmF,CAAC,IAAInF,CAAC,CAAC,CAAD,CAAN;WAFF,MAGO;YACLgF,CAAC,GAAGhF,CAAC,CAAC,CAAD,CAAL;YACAmF,CAAC,GAAGnF,CAAC,CAAC,CAAD,CAAL;;;cAGE2I,QAAQ,KAAK,GAAb,IAAoB,CAACI,UAAzB,EAAqC;YACnCA,UAAU,GAAG;cACX/D,CAAC,EAAEA,CADQ;cAEXG,CAAC,EAAEA;aAFL;;;UAMFlB,MAAM,CAACiC,MAAP,CAAclB,CAAd,EAAiBG,CAAjB;;;aAGG,GAAL;UACEH,CAAC,IAAIhF,CAAC,CAAC,CAAD,CAAN;UACAmF,CAAC,IAAInF,CAAC,CAAC,CAAD,CAAN;UACAiE,MAAM,CAACkC,MAAP,CAAcnB,CAAd,EAAiBG,CAAjB;;;aAGG,GAAL;UACEH,CAAC,GAAGhF,CAAC,CAAC,CAAD,CAAL;UACAmF,CAAC,GAAGnF,CAAC,CAAC,CAAD,CAAL;UACAiE,MAAM,CAACkC,MAAP,CAAcnB,CAAd,EAAiBG,CAAjB;;;aAGG,GAAL;UACEH,CAAC,GAAGhF,CAAC,CAAC,CAAD,CAAL;UACAiE,MAAM,CAACkC,MAAP,CAAcnB,CAAd,EAAiBG,CAAjB;;;aAGG,GAAL;UACEH,CAAC,IAAIhF,CAAC,CAAC,CAAD,CAAN;UACAiE,MAAM,CAACkC,MAAP,CAAcnB,CAAd,EAAiBG,CAAjB;;;aAGG,GAAL;UACEA,CAAC,GAAGnF,CAAC,CAAC,CAAD,CAAL;UACAiE,MAAM,CAACkC,MAAP,CAAcnB,CAAd,EAAiBG,CAAjB;;;aAGG,GAAL;UACEA,CAAC,IAAInF,CAAC,CAAC,CAAD,CAAN;UACAiE,MAAM,CAACkC,MAAP,CAAcnB,CAAd,EAAiBG,CAAjB;;;aAGG,GAAL;aACK,GAAL;cACMwD,QAAQ,KAAK,GAAjB,EAAsB;YACpB3D,CAAC,IAAIhF,CAAC,CAAC,CAAD,CAAN;YACAmF,CAAC,IAAInF,CAAC,CAAC,CAAD,CAAN;WAFF,MAGO;YACLgF,CAAC,GAAGhF,CAAC,CAAC,CAAD,CAAL;YACAmF,CAAC,GAAGnF,CAAC,CAAC,CAAD,CAAL;;;UAGF+G,EAAE,GAAG/G,CAAC,CAAC,CAAD,CAAN,CATF;;UAWEgH,EAAE,GAAGhH,CAAC,CAAC,CAAD,CAAN,CAXF;;UAaE8E,KAAK,GAAG9E,CAAC,CAAC,CAAD,CAAD,GAAOiF,IAAI,CAACiE,EAAZ,GAAiB,GAAzB;UACAf,YAAY,GAAG,CAAC,CAACnI,CAAC,CAAC,CAAD,CAAlB;UACAoI,SAAS,GAAG,CAAC,CAACpI,CAAC,CAAC,CAAD,CAAf;UACAqI,QAAQ,GAAG;YACTrD,CAAC,EAAEA,CADM;YAETG,CAAC,EAAEA;WAFL,CAhBF;;UAqBEmD,QAAQ,GAAG;YACTtD,CAAC,EAAE,CAACgE,YAAY,CAAChE,CAAb,GAAiBqD,QAAQ,CAACrD,CAA3B,IAAgC,CAD1B;YAETG,CAAC,EAAE,CAAC6D,YAAY,CAAC7D,CAAb,GAAiBkD,QAAQ,CAAClD,CAA3B,IAAgC;WAFrC;UAIAP,WAAW,CAAC0D,QAAD,EAAW,CAACxD,KAAZ,CAAX,CAzBF;;UA2BEyD,MAAM,GAAGD,QAAQ,CAACtD,CAAT,GAAasD,QAAQ,CAACtD,CAAtB,IAA2B+B,EAAE,GAAGA,EAAhC,IAAsCuB,QAAQ,CAACnD,CAAT,GAAamD,QAAQ,CAACnD,CAAtB,IAA2B6B,EAAE,GAAGA,EAAhC,CAA/C;;cAEIuB,MAAM,GAAG,CAAb,EAAgB;YACdA,MAAM,GAAGtD,IAAI,CAACkE,IAAL,CAAUZ,MAAV,CAAT;YACAxB,EAAE,IAAIwB,MAAN;YACAvB,EAAE,IAAIuB,MAAN;;;UAGFK,WAAW,GAAG;YACZ5D,CAAC,EAAE+B,EAAE,GAAGuB,QAAQ,CAACnD,CAAd,GAAkB6B,EADT;YAEZ7B,CAAC,EAAE,EAAE6B,EAAE,GAAGsB,QAAQ,CAACtD,CAAhB,IAAqB+B;WAF1B;UAIAyB,EAAE,GAAGzB,EAAE,GAAGA,EAAL,GAAUC,EAAV,GAAeA,EAApB;UACAyB,EAAE,GAAG1B,EAAE,GAAGA,EAAL,GAAUuB,QAAQ,CAACnD,CAAnB,GAAuBmD,QAAQ,CAACnD,CAAhC,GAAoC6B,EAAE,GAAGA,EAAL,GAAUsB,QAAQ,CAACtD,CAAnB,GAAuBsD,QAAQ,CAACtD,CAAzE;;cAEIoD,SAAS,KAAKD,YAAlB,EAAgC;YAC9B1C,UAAU,CAACmD,WAAD,EAAc3D,IAAI,CAACkE,IAAL,CAAU,CAACX,EAAE,GAAGC,EAAN,IAAYA,EAAtB,KAA6B,CAA3C,CAAV;WADF,MAEO;YACLhD,UAAU,CAACmD,WAAD,EAAc,CAAC3D,IAAI,CAACkE,IAAL,CAAU,CAACX,EAAE,GAAGC,EAAN,IAAYA,EAAtB,CAAD,IAA8B,CAA5C,CAAV;;;UAGFP,UAAU,GAAGjD,IAAI,CAACmE,KAAL,CAAW,CAACd,QAAQ,CAACnD,CAAT,GAAayD,WAAW,CAACzD,CAA1B,IAA+B6B,EAA1C,EAA8C,CAACsB,QAAQ,CAACtD,CAAT,GAAa4D,WAAW,CAAC5D,CAA1B,IAA+B+B,EAA7E,CAAb;UACAkB,QAAQ,GAAGhD,IAAI,CAACmE,KAAL,CAAW,EAAEd,QAAQ,CAACnD,CAAT,GAAayD,WAAW,CAACzD,CAA3B,IAAgC6B,EAA3C,EAA+C,EAAEsB,QAAQ,CAACtD,CAAT,GAAa4D,WAAW,CAAC5D,CAA3B,IAAgC+B,EAA/E,CAAX;UACAnC,WAAW,CAACgE,WAAD,EAAc9D,KAAd,CAAX;UACAQ,cAAc,CAACsD,WAAD,EAAc,CAACP,QAAQ,CAACrD,CAAT,GAAagE,YAAY,CAAChE,CAA3B,IAAgC,CAA9C,EAAiD,CAACqD,QAAQ,CAAClD,CAAT,GAAa6D,YAAY,CAAC7D,CAA3B,IAAgC,CAAjF,CAAd;UACAlB,MAAM,CAACoF,IAAP;UACApF,MAAM,CAACqF,SAAP,CAAiBV,WAAW,CAAC5D,CAA7B,EAAgC4D,WAAW,CAACzD,CAA5C;UACAlB,MAAM,CAACsF,MAAP,CAAczE,KAAd;UACAb,MAAM,CAACuF,KAAP,CAAazC,EAAb,EAAiBC,EAAjB;UACA/C,MAAM,CAACmC,GAAP,CAAW,CAAX,EAAc,CAAd,EAAiB,CAAjB,EAAoB8B,UAApB,EAAgCD,QAAhC,EAA0C,CAACG,SAA3C;UACAnE,MAAM,CAACwF,OAAP;;;aAGG,GAAL;UACEjC,GAAG,GAAGxH,CAAC,CAAC,CAAD,CAAP,CADF;;UAGEyH,GAAG,GAAGzH,CAAC,CAAC,CAAD,CAAP;UACAgF,CAAC,GAAGhF,CAAC,CAAC,CAAD,CAAL;UACAmF,CAAC,GAAGnF,CAAC,CAAC,CAAD,CAAL;UACAiE,MAAM,CAACiD,aAAP,CAAqBlH,CAAC,CAAC,CAAD,CAAtB,EAA2BA,CAAC,CAAC,CAAD,CAA5B,EAAiCwH,GAAjC,EAAsCC,GAAtC,EAA2CzC,CAA3C,EAA8CG,CAA9C;;;aAGG,GAAL;UACElB,MAAM,CAACiD,aAAP,CAAqBlH,CAAC,CAAC,CAAD,CAAD,GAAOgF,CAA5B,EAA+BhF,CAAC,CAAC,CAAD,CAAD,GAAOmF,CAAtC,EAAyCnF,CAAC,CAAC,CAAD,CAAD,GAAOgF,CAAhD,EAAmDhF,CAAC,CAAC,CAAD,CAAD,GAAOmF,CAA1D,EAA6DnF,CAAC,CAAC,CAAD,CAAD,GAAOgF,CAApE,EAAuEhF,CAAC,CAAC,CAAD,CAAD,GAAOmF,CAA9E;UACAqC,GAAG,GAAGxH,CAAC,CAAC,CAAD,CAAD,GAAOgF,CAAb,CAFF;;UAIEyC,GAAG,GAAGzH,CAAC,CAAC,CAAD,CAAD,GAAOmF,CAAb;UACAH,CAAC,IAAIhF,CAAC,CAAC,CAAD,CAAN;UACAmF,CAAC,IAAInF,CAAC,CAAC,CAAD,CAAN;;;aAGG,GAAL;cACMwH,GAAG,KAAK,IAAR,IAAgBA,GAAG,KAAK,IAA5B,EAAkC;YAChCA,GAAG,GAAGxC,CAAN;YACAyC,GAAG,GAAGtC,CAAN;;;UAGFlB,MAAM,CAACiD,aAAP,CAAqB,IAAIlC,CAAJ,GAAQwC,GAA7B,EAAkC,IAAIrC,CAAJ,GAAQsC,GAA1C,EAA+CzH,CAAC,CAAC,CAAD,CAAhD,EAAqDA,CAAC,CAAC,CAAD,CAAtD,EAA2DA,CAAC,CAAC,CAAD,CAA5D,EAAiEA,CAAC,CAAC,CAAD,CAAlE;UACAwH,GAAG,GAAGxH,CAAC,CAAC,CAAD,CAAP,CAPF;;UASEyH,GAAG,GAAGzH,CAAC,CAAC,CAAD,CAAP;UACAgF,CAAC,GAAGhF,CAAC,CAAC,CAAD,CAAL;UACAmF,CAAC,GAAGnF,CAAC,CAAC,CAAD,CAAL;;;aAGG,GAAL;cACMwH,GAAG,KAAK,IAAR,IAAgBA,GAAG,KAAK,IAA5B,EAAkC;YAChCA,GAAG,GAAGxC,CAAN;YACAyC,GAAG,GAAGtC,CAAN;;;UAGFlB,MAAM,CAACiD,aAAP,CAAqB,IAAIlC,CAAJ,GAAQwC,GAA7B,EAAkC,IAAIrC,CAAJ,GAAQsC,GAA1C,EAA+CzH,CAAC,CAAC,CAAD,CAAD,GAAOgF,CAAtD,EAAyDhF,CAAC,CAAC,CAAD,CAAD,GAAOmF,CAAhE,EAAmEnF,CAAC,CAAC,CAAD,CAAD,GAAOgF,CAA1E,EAA6EhF,CAAC,CAAC,CAAD,CAAD,GAAOmF,CAApF;UACAqC,GAAG,GAAGxH,CAAC,CAAC,CAAD,CAAD,GAAOgF,CAAb,CAPF;;UASEyC,GAAG,GAAGzH,CAAC,CAAC,CAAD,CAAD,GAAOmF,CAAb;UACAH,CAAC,IAAIhF,CAAC,CAAC,CAAD,CAAN;UACAmF,CAAC,IAAInF,CAAC,CAAC,CAAD,CAAN;;;aAGG,GAAL;UACE6I,IAAI,GAAG7I,CAAC,CAAC,CAAD,CAAR,CADF;;UAGE8I,IAAI,GAAG9I,CAAC,CAAC,CAAD,CAAR;UACAgF,CAAC,GAAGhF,CAAC,CAAC,CAAD,CAAL;UACAmF,CAAC,GAAGnF,CAAC,CAAC,CAAD,CAAL;UACAiE,MAAM,CAACsD,gBAAP,CAAwBsB,IAAxB,EAA8BC,IAA9B,EAAoC9D,CAApC,EAAuCG,CAAvC;;;aAGG,GAAL;UACE0D,IAAI,GAAG7I,CAAC,CAAC,CAAD,CAAD,GAAOgF,CAAd,CADF;;UAGE8D,IAAI,GAAG9I,CAAC,CAAC,CAAD,CAAD,GAAOmF,CAAd;UACAH,CAAC,IAAIhF,CAAC,CAAC,CAAD,CAAN;UACAmF,CAAC,IAAInF,CAAC,CAAC,CAAD,CAAN;UACAiE,MAAM,CAACsD,gBAAP,CAAwBsB,IAAxB,EAA8BC,IAA9B,EAAoC9D,CAApC,EAAuCG,CAAvC;;;aAGG,GAAL;cACM0D,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAK,IAA9B,EAAoC;YAClCA,IAAI,GAAG7D,CAAP;YACA8D,IAAI,GAAG3D,CAAP;;;UAGF0D,IAAI,GAAG,IAAI7D,CAAJ,GAAQ6D,IAAf,CANF;;UAQEC,IAAI,GAAG,IAAI3D,CAAJ,GAAQ2D,IAAf;UACA9D,CAAC,GAAGhF,CAAC,CAAC,CAAD,CAAL;UACAmF,CAAC,GAAGnF,CAAC,CAAC,CAAD,CAAL;UACAiE,MAAM,CAACsD,gBAAP,CAAwBsB,IAAxB,EAA8BC,IAA9B,EAAoC9D,CAApC,EAAuCG,CAAvC;;;aAGG,GAAL;cACM0D,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAK,IAA9B,EAAoC;YAClCA,IAAI,GAAG7D,CAAP;YACA8D,IAAI,GAAG3D,CAAP;;;UAGF0D,IAAI,GAAG,IAAI7D,CAAJ,GAAQ6D,IAAf,CANF;;UAQEC,IAAI,GAAG,IAAI3D,CAAJ,GAAQ2D,IAAf;UACA9D,CAAC,IAAIhF,CAAC,CAAC,CAAD,CAAN;UACAmF,CAAC,IAAInF,CAAC,CAAC,CAAD,CAAN;UACAiE,MAAM,CAACsD,gBAAP,CAAwBsB,IAAxB,EAA8BC,IAA9B,EAAoC9D,CAApC,EAAuCG,CAAvC;;;aAGG,GAAL;aACK,GAAL;UACEH,CAAC,GAAG+D,UAAU,CAAC/D,CAAf;UACAG,CAAC,GAAG4D,UAAU,CAAC5D,CAAf;UACA4D,UAAU,GAAGW,SAAb;UACAzF,MAAM,CAACgD,SAAP;;;aAGG,IAAL;;UAEEjC,CAAC,GAAGhF,CAAC,CAAC,CAAD,CAAL;UACAmF,CAAC,GAAGnF,CAAC,CAAC,CAAD,CAAL;UACAqG,CAAC,GAAGrG,CAAC,CAAC,CAAD,CAAL;UACAkI,UAAU,GAAGlI,CAAC,CAAC,CAAD,CAAd;UACAiI,QAAQ,GAAGjI,CAAC,CAAC,CAAD,CAAZ;UACAwG,GAAG,GAAGxG,CAAC,CAAC,CAAD,CAAP;UACAiE,MAAM,CAACmC,GAAP,CAAWpB,CAAX,EAAcG,CAAd,EAAiBkB,CAAjB,EAAoB6B,UAApB,EAAgCD,QAAhC,EAA0CzB,GAA1C;;;aAGG,IAAL;;UAEEE,EAAE,GAAG1G,CAAC,CAAC,CAAD,CAAN;UACA2G,EAAE,GAAG3G,CAAC,CAAC,CAAD,CAAN;UACAgF,CAAC,GAAGhF,CAAC,CAAC,CAAD,CAAL;UACAmF,CAAC,GAAGnF,CAAC,CAAC,CAAD,CAAL;UACAqG,CAAC,GAAGrG,CAAC,CAAC,CAAD,CAAL;UACAiE,MAAM,CAACwC,KAAP,CAAaC,EAAb,EAAiBC,EAAjB,EAAqB3B,CAArB,EAAwBG,CAAxB,EAA2BkB,CAA3B;;;aAGG,GAAL;;UAEErB,CAAC,GAAGhF,CAAC,CAAC,CAAD,CAAL;UACAmF,CAAC,GAAGnF,CAAC,CAAC,CAAD,CAAL;UACA+G,EAAE,GAAG/G,CAAC,CAAC,CAAD,CAAN;UACAgH,EAAE,GAAGhH,CAAC,CAAC,CAAD,CAAN;UACA8E,KAAK,GAAG9E,CAAC,CAAC,CAAD,CAAT;UACAkI,UAAU,GAAGlI,CAAC,CAAC,CAAD,CAAd;UACAiI,QAAQ,GAAGjI,CAAC,CAAC,CAAD,CAAZ;UACAwG,GAAG,GAAGxG,CAAC,CAAC,CAAD,CAAP;UACAiE,MAAM,CAACoF,IAAP;UACApF,MAAM,CAACqF,SAAP,CAAiBtE,CAAjB,EAAoBG,CAApB;UACAlB,MAAM,CAACsF,MAAP,CAAczE,KAAd;UACAb,MAAM,CAACuF,KAAP,CAAazC,EAAb,EAAiBC,EAAjB;UACA/C,MAAM,CAACmC,GAAP,CAAW,CAAX,EAAc,CAAd,EAAiB,CAAjB,EAAoB8B,UAApB,EAAgCD,QAAhC,EAA0CzB,GAA1C;UACAvC,MAAM,CAACwF,OAAP;;;aAGG,GAAL;;UAEEzE,CAAC,GAAGhF,CAAC,CAAC,CAAD,CAAL;UACAmF,CAAC,GAAGnF,CAAC,CAAC,CAAD,CAAL;UACA0I,CAAC,GAAG1I,CAAC,CAAC,CAAD,CAAL;UACAJ,CAAC,GAAGI,CAAC,CAAC,CAAD,CAAL;UACA+I,UAAU,GAAG;YACX/D,CAAC,EAAEA,CADQ;YAEXG,CAAC,EAAEA;WAFL;UAIAlB,MAAM,CAACyD,IAAP,CAAY1C,CAAZ,EAAeG,CAAf,EAAkBuD,CAAlB,EAAqB9I,CAArB;;;gBAvQJ;;;;MA8QAoJ,YAAY,CAAChE,CAAb,GAAiBA,CAAjB;MACAgE,YAAY,CAAC7D,CAAb,GAAiBA,CAAjB;;;;EAIJnB,MAAM,CAAC2B,wBAAP,CAAgC3C,SAAhC,CAA0C8E,IAA1C,GAAiD,SAASA,IAAT,GAAgB;SAC1D,IAAI6B,IAAI,GAAGC,SAAS,CAACnI,MAArB,EAA6BlB,IAAI,GAAG,IAAI+C,KAAJ,CAAUqG,IAAV,CAApC,EAAqDE,IAAI,GAAG,CAAjE,EAAoEA,IAAI,GAAGF,IAA3E,EAAiFE,IAAI,EAArF,EAAyF;MACvFtJ,IAAI,CAACsJ,IAAD,CAAJ,GAAaD,SAAS,CAACC,IAAD,CAAtB;;;QAGEC,QAAQ,GAAG,SAAf;;QAEIvJ,IAAI,CAACkB,MAAL,KAAgB,CAAhB,IAAqBlB,IAAI,CAACkB,MAAL,KAAgB,CAAhB,IAAqB,OAAOlB,IAAI,CAAC,CAAD,CAAX,KAAmB,QAAjE,EAA2E;MACzEsH,KAAK,CAAC/B,KAAN,CAAY,IAAZ,EAAkBvF,IAAlB;;;;QAIEqJ,SAAS,CAACnI,MAAV,KAAqB,CAAzB,EAA4B;MAC1BqI,QAAQ,GAAGvJ,IAAI,CAAC,CAAD,CAAf;;;QAGEM,IAAI,GAAGN,IAAI,CAAC,CAAD,CAAf;IACAyH,SAAS,CAAC,IAAD,EAAOnH,IAAI,CAAC+E,QAAZ,CAAT;IACAiC,KAAK,CAAChE,IAAN,CAAW,IAAX,EAAiBiG,QAAjB;GAlBF;;EAqBA9F,MAAM,CAAC2B,wBAAP,CAAgC3C,SAAhC,CAA0CyB,MAA1C,GAAmD,SAASA,MAAT,CAAgB5D,IAAhB,EAAsB;QACnE,CAACA,IAAL,EAAW;MACTkH,OAAO,CAAClE,IAAR,CAAa,IAAb;;;;IAIFmE,SAAS,CAAC,IAAD,EAAOnH,IAAI,CAAC+E,QAAZ,CAAT;IACAmC,OAAO,CAAClE,IAAR,CAAa,IAAb;GAPF;;EAUAG,MAAM,CAACM,MAAP,GAAgBA,MAAhB;;;AAGF,IAAIyF,cAAc,GAAGrE,cAArB;;AAEA,IAAI,OAAO1B,MAAP,KAAkB,WAAtB,EAAmC;EACjC+F,cAAc,CAAC/F,MAAD,CAAd;;;AAGF,IAAIgG,GAAG,GAAG;EACRD,cAAc,EAAEA,cADR;EAERlI,SAAS,EAAEA;CAFb;AAIA,AACA,IAAIoI,KAAK,GAAGD,GAAG,CAACnI,SAAhB;;ACnmBA,IAAI,MAAM,GAAG,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC;AAC7C,IAAI,KAAK,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC;AACtC,IAAI,cAAc,GAAG,MAAM,CAAC,cAAc,CAAC;AAC3C,IAAI,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC;;AAE3C,IAAI,OAAO,GAAG,SAAS,OAAO,CAAC,GAAG,EAAE;CACnC,IAAI,OAAO,KAAK,CAAC,OAAO,KAAK,UAAU,EAAE;EACxC,OAAO,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;EAC1B;;CAED,OAAO,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,gBAAgB,CAAC;CAC5C,CAAC;;AAEF,IAAI,aAAa,GAAG,SAAS,aAAa,CAAC,GAAG,EAAE;CAC/C,IAAI,CAAC,GAAG,IAAI,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,iBAAiB,EAAE;EAClD,OAAO,KAAK,CAAC;EACb;;CAED,IAAI,iBAAiB,GAAG,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,aAAa,CAAC,CAAC;CACxD,IAAI,gBAAgB,GAAG,GAAG,CAAC,WAAW,IAAI,GAAG,CAAC,WAAW,CAAC,SAAS,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,SAAS,EAAE,eAAe,CAAC,CAAC;;CAE/H,IAAI,GAAG,CAAC,WAAW,IAAI,CAAC,iBAAiB,IAAI,CAAC,gBAAgB,EAAE;EAC/D,OAAO,KAAK,CAAC;EACb;;;;CAID,IAAI,GAAG,CAAC;CACR,KAAK,GAAG,IAAI,GAAG,EAAE,QAAQ;;CAEzB,OAAO,OAAO,GAAG,KAAK,WAAW,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;CAC3D,CAAC;;;AAGF,IAAI,WAAW,GAAG,SAAS,WAAW,CAAC,MAAM,EAAE,OAAO,EAAE;CACvD,IAAI,cAAc,IAAI,OAAO,CAAC,IAAI,KAAK,WAAW,EAAE;EACnD,cAAc,CAAC,MAAM,EAAE,OAAO,CAAC,IAAI,EAAE;GACpC,UAAU,EAAE,IAAI;GAChB,YAAY,EAAE,IAAI;GAClB,KAAK,EAAE,OAAO,CAAC,QAAQ;GACvB,QAAQ,EAAE,IAAI;GACd,CAAC,CAAC;EACH,MAAM;EACN,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC;EACxC;CACD,CAAC;;;AAGF,IAAI,WAAW,GAAG,SAAS,WAAW,CAAC,GAAG,EAAE,IAAI,EAAE;CACjD,IAAI,IAAI,KAAK,WAAW,EAAE;EACzB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,EAAE;GAC5B,OAAO,KAAK,CAAC,CAAC;GACd,MAAM,IAAI,IAAI,EAAE;;;GAGhB,OAAO,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC,KAAK,CAAC;GAC7B;EACD;;CAED,OAAO,GAAG,CAAC,IAAI,CAAC,CAAC;CACjB,CAAC;;AAEF,UAAc,GAAG,SAAS,MAAM,GAAG;CAClC,IAAI,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,WAAW,EAAE,KAAK,CAAC;CACjD,IAAI,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;CAC1B,IAAI,CAAC,GAAG,CAAC,CAAC;CACV,IAAI,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC;CAC9B,IAAI,IAAI,GAAG,KAAK,CAAC;;;CAGjB,IAAI,OAAO,MAAM,KAAK,SAAS,EAAE;EAChC,IAAI,GAAG,MAAM,CAAC;EACd,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;;EAE5B,CAAC,GAAG,CAAC,CAAC;EACN;CACD,IAAI,MAAM,IAAI,IAAI,KAAK,OAAO,MAAM,KAAK,QAAQ,IAAI,OAAO,MAAM,KAAK,UAAU,CAAC,EAAE;EACnF,MAAM,GAAG,EAAE,CAAC;EACZ;;CAED,OAAO,CAAC,GAAG,MAAM,EAAE,EAAE,CAAC,EAAE;EACvB,OAAO,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;;EAEvB,IAAI,OAAO,IAAI,IAAI,EAAE;;GAEpB,KAAK,IAAI,IAAI,OAAO,EAAE;IACrB,GAAG,GAAG,WAAW,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;IAChC,IAAI,GAAG,WAAW,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;;;IAGlC,IAAI,MAAM,KAAK,IAAI,EAAE;;KAEpB,IAAI,IAAI,IAAI,IAAI,KAAK,aAAa,CAAC,IAAI,CAAC,KAAK,WAAW,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE;MAC3E,IAAI,WAAW,EAAE;OAChB,WAAW,GAAG,KAAK,CAAC;OACpB,KAAK,GAAG,GAAG,IAAI,OAAO,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,EAAE,CAAC;OACvC,MAAM;OACN,KAAK,GAAG,GAAG,IAAI,aAAa,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,EAAE,CAAC;OAC7C;;;MAGD,WAAW,CAAC,MAAM,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;;;MAGzE,MAAM,IAAI,OAAO,IAAI,KAAK,WAAW,EAAE;MACvC,WAAW,CAAC,MAAM,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;MACpD;KACD;IACD;GACD;EACD;;;CAGD,OAAO,MAAM,CAAC;CACd,CAAC;;ACpHF,YAAe;EAAEqI,OAAO,EAAE;CAA1B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;AAeA,SAASC,UAAT,GAAyD;MAArCC,QAAqC,uEAA1B,EAA0B;MAAtBC,eAAsB,uEAAJ,EAAI;;uBAQnDD,QARmD,CAErDE,IAFqD;MAErDA,KAFqD,+BAE9C,QAF8C;8BAQnDF,QARmD,CAGrDG,YAHqD;MAGrDA,aAHqD,sCAGtC,CAHsC;4BAQnDH,QARmD,CAIrDI,SAJqD;MAIrDA,UAJqD,oCAIzC,CAJyC;8BAQnDJ,QARmD,CAKrDK,aALqD;MAKrDA,aALqD,sCAKrC,CALqC;MAMrDC,kBANqD,GAQnDN,QARmD,CAMrDM,iBANqD;uBAQnDN,QARmD,CAOrDO,IAPqD;MAOrDA,KAPqD,+BAO9C,IAP8C;;;EAWvDL,KAAI,GAAGA,KAAI,IAAI,QAAf;;;;;SAKO;;;;;;;;;;;;;;;;;;;IAoBLM,oBApBK,sCAoBkC;UAAhBC,KAAgB,QAAhBA,KAAgB;UAATC,KAAS,QAATA,KAAS;;UACjC,OAAOL,aAAP,KAAyB,UAA7B,EAAyC;eAChCA,aAAa,CAAC;UAAEI,KAAK,EAALA,KAAF;UAASC,KAAK,EAALA,KAAT;UAAgBR,IAAI,EAAE,KAAKA,IAAL;SAAvB,EAAsCD,eAAtC,CAApB;;;aAEKI,aAAP;KAxBG;;;;;;;;;IAkCLH,IAlCK,gBAkCAS,GAlCA,EAkCK;UACJ,OAAOA,GAAP,KAAe,WAAnB,EAAgC;QAC9BT,KAAI,GAAGS,GAAP;eACO,IAAP;;;aAEK,OAAOT,KAAP,KAAgB,UAAhB,GAA6BA,KAAI,CAACD,eAAD,CAAjC,GAAqDC,KAA5D;KAvCG;;;;;;;;;;;;;;;;;;IA0DLC,YA1DK,wBA0DQQ,GA1DR,EA0Da;UACZ,OAAOA,GAAP,KAAe,WAAnB,EAAgC;QAC9BR,aAAY,GAAGQ,GAAf;eACO,IAAP;;;aAEK,OAAOR,aAAP,KAAwB,UAAxB,GAAqCA,aAAY,CAACF,eAAD,CAAjD,GAAqEE,aAA5E;KA/DG;;;;;;;;;;;;IA4ELC,SA5EK,qBA4EKO,GA5EL,EA4EU;UACT,OAAOA,GAAP,KAAe,WAAnB,EAAgC;QAC9BP,UAAS,GAAGO,GAAZ;eACO,IAAP;;;aAEK,OAAOP,UAAP,KAAqB,UAArB,GAAkCA,UAAS,CAACH,eAAD,CAA3C,GAA+DG,UAAtE;KAjFG;;;;;;;;;;IA4FLE,iBA5FK,6BA4FaK,GA5Fb,EA4FkB;UACjB,OAAOA,GAAP,KAAe,WAAnB,EAAgC;QAC9BL,kBAAiB,GAAGK,GAApB;eACO,IAAP;;;aAEK,OAAOL,kBAAP,KAA6B,UAA7B,GAA0CA,kBAAiB,CAACL,eAAD,CAA3D,GAA+EK,kBAAtF;KAjGG;;;;;;;IAyGLC,IAzGK,gBAyGAI,GAzGA,EAyGK;UACJ,OAAOA,GAAP,KAAe,WAAnB,EAAgC;QAC9BJ,KAAI,GAAGI,GAAP;eACO,IAAP;;;aAEK,OAAOJ,KAAP,KAAgB,UAAhB,GAA6BA,KAAI,CAACN,eAAD,CAAjC,GAAqDM,KAA5D;;GA9GJ;;;AC7BF,SAASK,SAAT,CAAmBtD,IAAnB,EAAyB;EACvBA,IAAI,CAAC1C,CAAL,GAASC,IAAI,CAACgG,KAAL,CAAWvD,IAAI,CAAC1C,CAAhB,CAAT;EACA0C,IAAI,CAACvC,CAAL,GAASF,IAAI,CAACgG,KAAL,CAAWvD,IAAI,CAACvC,CAAhB,CAAT;EACAuC,IAAI,CAACC,KAAL,GAAa1C,IAAI,CAACgG,KAAL,CAAWvD,IAAI,CAACC,KAAhB,CAAb;EACAD,IAAI,CAACE,MAAL,GAAc3C,IAAI,CAACgG,KAAL,CAAWvD,IAAI,CAACE,MAAhB,CAAd;;;AAGF,AAAO,SAASsD,qBAAT,CAA+BxD,IAA/B,EAAqC0C,QAArC,EAA+C;MAC9Ce,aAAa,GAAG;IACpBnG,CAAC,EAAE,CADiB;IAEpBG,CAAC,EAAE,CAFiB;IAGpBwC,KAAK,EAAE,CAHa;IAIpBC,MAAM,EAAE;GAJV;MAMMwD,oBAAoB,GAAG;IAC3BpG,CAAC,EAAE,CADwB;IAE3BG,CAAC,EAAE,CAFwB;IAG3BwC,KAAK,EAAE,CAHoB;IAI3BC,MAAM,EAAE;GAJV,CAPoD;;EAepDuD,aAAa,CAACxD,KAAd,GAAsBD,IAAI,CAACC,KAAL,IAAc,CAApC;EACAwD,aAAa,CAACvD,MAAd,GAAuBF,IAAI,CAACE,MAAL,IAAe,CAAtC;;MACI,OAAOwC,QAAQ,CAACiB,IAAhB,KAAyB,WAA7B,EAA0C;IACxCF,aAAa,CAACxD,KAAd,GAAsB2D,KAAK,CAAClB,QAAQ,CAACiB,IAAT,CAAc1D,KAAf,CAAL,GAClBwD,aAAa,CAACxD,KADI,GAElByC,QAAQ,CAACiB,IAAT,CAAc1D,KAFlB;IAGAwD,aAAa,CAACvD,MAAd,GAAuB0D,KAAK,CAAClB,QAAQ,CAACiB,IAAT,CAAczD,MAAf,CAAL,GACnBuD,aAAa,CAACvD,MADK,GAEnBwC,QAAQ,CAACiB,IAAT,CAAczD,MAFlB;;;MAKE,OAAOwC,QAAQ,CAACmB,WAAhB,KAAgC,WAApC,EAAiD;IAC/CH,oBAAoB,CAACzD,KAArB,GAA6B2D,KAAK,CAAClB,QAAQ,CAACmB,WAAT,CAAqB5D,KAAtB,CAAL,GACzBwD,aAAa,CAACxD,KADW,GAEzByC,QAAQ,CAACmB,WAAT,CAAqB5D,KAFzB;IAGAyD,oBAAoB,CAACxD,MAArB,GAA8B0D,KAAK,CAAClB,QAAQ,CAACmB,WAAT,CAAqB3D,MAAtB,CAAL,GAC1BuD,aAAa,CAACvD,MADY,GAE1BwC,QAAQ,CAACmB,WAAT,CAAqB3D,MAFzB;IAGAwD,oBAAoB,CAACI,KAArB,GAA6BF,KAAK,CAAClB,QAAQ,CAACmB,WAAT,CAAqBC,KAAtB,CAAL,GACzB,GADyB,GAEzBvG,IAAI,CAACwG,GAAL,CAASxG,IAAI,CAACyG,GAAL,CAAStB,QAAQ,CAACmB,WAAT,CAAqBC,KAA9B,EAAqC,CAArC,CAAT,EAAkD,CAAlD,CAFJ;IAGAJ,oBAAoB,CAACO,mBAArB,GAA2CvB,QAAQ,CAACmB,WAAT,CAAqBI,mBAAhE;GAVF,MAWO;IACLP,oBAAoB,CAACzD,KAArB,GAA6BwD,aAAa,CAACxD,KAA3C;IACAyD,oBAAoB,CAACxD,MAArB,GAA8BuD,aAAa,CAACvD,MAA5C;IACAwD,oBAAoB,CAACO,mBAArB,GAA2C,KAA3C;;;EAGFX,SAAS,CAACI,oBAAD,CAAT;EACAJ,SAAS,CAACG,aAAD,CAAT;SAEO;IAAEC,oBAAoB,EAApBA,oBAAF;IAAwBD,aAAa,EAAbA;GAA/B;;AAGF,AAAO,SAASS,eAAT,CAAyB5L,CAAzB,EAA4B;MAC3BoK,QAAQ,GAAG;IACfyB,MAAM,EAAE;MACNC,aAAa,EAAE,GADT;MAENC,cAAc,EAAE,GAFV;MAGNC,QAAQ,EAAE,CAHJ;MAINC,SAAS,EAAE;;GALf;EASAC,MAAM,CAAC,IAAD,EAAO9B,QAAP,EAAiBpK,CAAjB,CAAN;EAEAoK,QAAQ,CAACyB,MAAT,CAAgBC,aAAhB,GAAgC7G,IAAI,CAACwG,GAAL,CAC9BxG,IAAI,CAACyG,GAAL,CAAStB,QAAQ,CAACyB,MAAT,CAAgBC,aAAzB,EAAwC,CAAxC,CAD8B,EAE9B,CAF8B,CAAhC,CAZiC;;EAgBjC1B,QAAQ,CAACyB,MAAT,CAAgBE,cAAhB,GAAiC9G,IAAI,CAACwG,GAAL,CAC/BxG,IAAI,CAACyG,GAAL,CAAStB,QAAQ,CAACyB,MAAT,CAAgBE,cAAzB,EAAyC,CAAzC,CAD+B,EAE/B,CAF+B,CAAjC,CAhBiC;;EAoBjC3B,QAAQ,CAACyB,MAAT,CAAgBG,QAAhB,GAA2B/G,IAAI,CAACyG,GAAL,CAAStB,QAAQ,CAACyB,MAAT,CAAgBG,QAAzB,EAAmC,CAAnC,CAA3B,CApBiC;;EAqBjC5B,QAAQ,CAACyB,MAAT,CAAgBI,SAAhB,GAA4BhH,IAAI,CAACyG,GAAL,CAAStB,QAAQ,CAACyB,MAAT,CAAgBI,SAAzB,EAAoC,CAApC,CAA5B,CArBiC;;SAuB1B7B,QAAP;;;ACjFK,SAAS+B,QAAT,CAAkBjM,CAAlB,EAAqB;SACnB,OAAOA,CAAP,KAAa,QAAb,IAAyB,CAACoL,KAAK,CAACpL,CAAD,CAAtC;;AAGF,AAAO,SAASkM,SAAT,CAAmBrG,KAAnB,EAA0B;SACxB,OAAOA,KAAP,KAAiB,QAAjB,IAA6BuF,KAAK,CAACvF,KAAD,CAAzC;;;ACHK,SAASsG,SAAT,CAAmBC,MAAnB,EAA2B;MAC1BC,GAAG,GAAGD,MAAM,CAAC7K,MAAnB;MACI+K,IAAI,GAAGC,GAAX;MACIC,IAAI,GAAGD,GAAX;MACIE,IAAI,GAAGF,GAAX;MACIG,IAAI,GAAGH,GAAX;;OAEK,IAAIpK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkK,GAApB,EAAyBlK,CAAC,EAA1B,EAA8B;IAC5BmK,IAAI,GAAGlB,KAAK,CAACkB,IAAD,CAAL,GAAcF,MAAM,CAACjK,CAAD,CAAN,CAAU2C,CAAxB,GAA4BC,IAAI,CAACwG,GAAL,CAASe,IAAT,EAAeF,MAAM,CAACjK,CAAD,CAAN,CAAU2C,CAAzB,CAAnC;IACA0H,IAAI,GAAGpB,KAAK,CAACoB,IAAD,CAAL,GAAcJ,MAAM,CAACjK,CAAD,CAAN,CAAU2C,CAAxB,GAA4BC,IAAI,CAACyG,GAAL,CAASgB,IAAT,EAAeJ,MAAM,CAACjK,CAAD,CAAN,CAAU2C,CAAzB,CAAnC;IACA2H,IAAI,GAAGrB,KAAK,CAACqB,IAAD,CAAL,GAAcL,MAAM,CAACjK,CAAD,CAAN,CAAU8C,CAAxB,GAA4BF,IAAI,CAACwG,GAAL,CAASkB,IAAT,EAAeL,MAAM,CAACjK,CAAD,CAAN,CAAU8C,CAAzB,CAAnC;IACAyH,IAAI,GAAGtB,KAAK,CAACsB,IAAD,CAAL,GAAcN,MAAM,CAACjK,CAAD,CAAN,CAAU8C,CAAxB,GAA4BF,IAAI,CAACyG,GAAL,CAASkB,IAAT,EAAeN,MAAM,CAACjK,CAAD,CAAN,CAAU8C,CAAzB,CAAnC;;;SAEK,CAACqH,IAAD,EAAOG,IAAP,EAAaD,IAAb,EAAmBE,IAAnB,CAAP;;;;;;;;AAQF,AAAO,SAASC,YAAT,CAAsBC,IAAtB,EAA4B;MAC3BpG,EAAE,GAAGoG,IAAI,CAACpG,EAAL,IAAW,CAAtB;MACMC,EAAE,GAAGmG,IAAI,CAACnG,EAAL,IAAW,CAAtB;MACMC,EAAE,GAAGkG,IAAI,CAAClG,EAAL,IAAW,CAAtB;MACMC,EAAE,GAAGiG,IAAI,CAACjG,EAAL,IAAW,CAAtB;SACO,CAAC;IAAE7B,CAAC,EAAE0B,EAAL;IAASvB,CAAC,EAAEwB;GAAb,EAAmB;IAAE3B,CAAC,EAAE4B,EAAL;IAASzB,CAAC,EAAE0B;GAA/B,CAAP;;;;;;;;AAQF,AAAO,SAASkG,YAAT,CAAsBrF,IAAtB,EAA4B;SAC1B,CACL;IAAE1C,CAAC,EAAE0C,IAAI,CAAC1C,CAAV;IAAaG,CAAC,EAAEuC,IAAI,CAACvC;GADhB,EAEL;IAAEH,CAAC,EAAE0C,IAAI,CAAC1C,CAAL,GAAS0C,IAAI,CAACC,KAAnB;IAA0BxC,CAAC,EAAEuC,IAAI,CAACvC;GAF7B,EAGL;IAAEH,CAAC,EAAE0C,IAAI,CAAC1C,CAAL,GAAS0C,IAAI,CAACC,KAAnB;IAA0BxC,CAAC,EAAEuC,IAAI,CAACvC,CAAL,GAASuC,IAAI,CAACE;GAHtC,EAIL;IAAE5C,CAAC,EAAE0C,IAAI,CAAC1C,CAAV;IAAaG,CAAC,EAAEuC,IAAI,CAACvC,CAAL,GAASuC,IAAI,CAACE;GAJzB,CAAP;;AAQF,AAAO,SAASoF,YAAT,CAAsBV,MAAtB,EAA8B;mBACFD,SAAS,CAACC,MAAD,CADP;;MAC5BE,IAD4B;MACtBG,IADsB;MAChBD,IADgB;MACVE,IADU;;SAG5B;IACL5H,CAAC,EAAEwH,IADE;IAELrH,CAAC,EAAEwH,IAFE;IAGLhF,KAAK,EAAE+E,IAAI,GAAGF,IAHT;IAIL5E,MAAM,EAAEgF,IAAI,GAAGD;GAJjB;;AAQF,AAAO,SAASM,cAAT,CAAwBX,MAAxB,EAAgCjG,CAAhC,EAAmC;SACjC;IACL6G,EAAE,EAAEZ,MAAM,CAAC,CAAD,CAAN,CAAUtH,CADT;IAELmI,EAAE,EAAEb,MAAM,CAAC,CAAD,CAAN,CAAUnH,CAFT;IAGLkB,CAAC,EAADA;GAHF;;AAOF,AAAO,SAAS+G,YAAT,CAAsBd,MAAtB,EAA8B;SAC5B;IACL5F,EAAE,EAAE4F,MAAM,CAAC,CAAD,CAAN,CAAUtH,CADT;IAEL2B,EAAE,EAAE2F,MAAM,CAAC,CAAD,CAAN,CAAUnH,CAFT;IAGLyB,EAAE,EAAE0F,MAAM,CAAC,CAAD,CAAN,CAAUtH,CAHT;IAIL6B,EAAE,EAAEyF,MAAM,CAAC,CAAD,CAAN,CAAUnH;GAJhB;;AAQF,AAQA;;;;;;AAKA,AAAO,SAASkI,YAAT,CAAsBC,KAAtB,EAA6B;aAO9BA,KAAK,IAAI,EAPqB;MAEhCtI,CAFgC,QAEhCA,CAFgC;MAE7BG,CAF6B,QAE7BA,CAF6B;MAGhCwC,KAHgC,QAGhCA,KAHgC;MAGzBC,MAHyB,QAGzBA,MAHyB;MAIhClB,EAJgC,QAIhCA,EAJgC;MAI5BE,EAJ4B,QAI5BA,EAJ4B;MAIxBD,EAJwB,QAIxBA,EAJwB;MAIpBE,EAJoB,QAIpBA,EAJoB;MAKhCqG,EALgC,QAKhCA,EALgC;MAK5BC,EAL4B,QAK5BA,EAL4B;MAKxB9G,CALwB,QAKxBA,CALwB;MAMhCkH,QANgC,QAMhCA,QANgC;;MAS9BpB,QAAQ,CAACe,EAAD,CAAR,IAAgBf,QAAQ,CAACgB,EAAD,CAAxB,IAAgChB,QAAQ,CAAC9F,CAAD,CAA5C,EAAiD;WACxC,QAAP;;;MAEE8F,QAAQ,CAACzF,EAAD,CAAR,IAAgByF,QAAQ,CAACvF,EAAD,CAAxB,IAAgCuF,QAAQ,CAACxF,EAAD,CAAxC,IAAgDwF,QAAQ,CAACtF,EAAD,CAA5D,EAAkE;WACzD,MAAP;;;MAEEsF,QAAQ,CAACnH,CAAD,CAAR,IAAemH,QAAQ,CAAChH,CAAD,CAAvB,IAA8BgH,QAAQ,CAACxE,KAAD,CAAtC,IAAiDwE,QAAQ,CAACvE,MAAD,CAA7D,EAAuE;WAC9D,MAAP;;;MAEEuE,QAAQ,CAACnH,CAAD,CAAR,IAAemH,QAAQ,CAAChH,CAAD,CAA3B,EAAgC;WACvB,OAAP;;;MAEE7B,KAAK,CAACC,OAAN,CAAcgK,QAAd,CAAJ,EAA6B;WACpB,SAAP;;;SAEK,IAAP;;AAGF,AAAO,SAASC,UAAT,CAAoBnC,IAApB,EAA0B3D,IAA1B,EAAgC;SAC9B;IACL1C,CAAC,EAAE0C,IAAI,CAAC1C,CAAL,GAASqG,IADP;IAELlG,CAAC,EAAEuC,IAAI,CAACvC,CAAL,GAASkG,IAFP;IAGL1D,KAAK,EAAED,IAAI,CAACC,KAAL,GAAa0D,IAHf;IAILzD,MAAM,EAAEF,IAAI,CAACE,MAAL,GAAcyD;GAJxB;;;AClHa,SAASoC,UAAT,CAAoBzI,CAApB,EAAuBG,CAAvB,EAA0BwC,KAA1B,EAAiCC,MAAjC,EAAyC8F,MAAzC,EAAiD;SACvD;IACL1I,CAAC,EAAEsG,KAAK,CAACtG,CAAD,CAAL,GAAW,CAAX,GAAeA,CADb;IAELG,CAAC,EAAEmG,KAAK,CAACtG,CAAD,CAAL,GAAW,CAAX,GAAeG,CAFb;IAGLwC,KAAK,EAAE2D,KAAK,CAACtG,CAAD,CAAL,GAAW,CAAX,GAAe2C,KAHjB;IAILC,MAAM,EAAE0D,KAAK,CAACtG,CAAD,CAAL,GAAW,CAAX,GAAe4C,MAJlB;IAKL8F,MAAM,EAAEpC,KAAK,CAACoC,MAAD,CAAL,GAAgB,CAAhB,GAAoBA;GAL9B;;;ACKF,SAASC,SAAT,CAAmBhO,CAAnB,EAAsBiO,WAAtB,EAAmCC,UAAnC,EAA+C;MACzC,OAAOlO,CAAC,CAACmO,UAAT,KAAwB,WAA5B,EAAyC;QACjCxD,IAAI,GAAG3K,CAAC,CAACoO,MAAF,CAASzD,IAAT,EAAb;QACIe,IAAI,GAAG1L,CAAC,CAACqO,IAAF,CAAOvD,aAAP,CAAqB;MAAEI,KAAK,EAAE+C,WAAT;MAAsB9C,KAAK,EAAE+C,UAA7B;MAAyCvD,IAAI,EAAJA;KAA9D,CAAX,CAFuC;;QAInC,CAACgB,KAAK,CAACD,IAAD,CAAV,EAAkB;MAChBA,IAAI,GAAG;QAAE1D,KAAK,EAAE0D,IAAT;QAAezD,MAAM,EAAEyD;OAA9B;KADF,MAEO,IAAIA,IAAI,IAAI,CAACC,KAAK,CAACD,IAAI,CAACA,IAAN,CAAlB,EAA+B;MACpCA,IAAI,CAAC1D,KAAL,GAAa0D,IAAI,CAACA,IAAlB;MACAA,IAAI,CAACzD,MAAL,GAAcyD,IAAI,CAACA,IAAnB;;;QAGE4C,YAAJ;;QACI3D,IAAI,KAAK,KAAT,IAAkBA,IAAI,KAAK,QAA/B,EAAyC;MACvC2D,YAAY,GAAG5C,IAAI,CAACzD,MAApB;KADF,MAEO,IAAI0C,IAAI,KAAK,OAAT,IAAoBA,IAAI,KAAK,MAAjC,EAAyC;MAC9C2D,YAAY,GAAG5C,IAAI,CAAC1D,KAApB;KADK,MAEA;MACLsG,YAAY,GAAGhJ,IAAI,CAACyG,GAAL,CAASL,IAAI,CAAC1D,KAAd,EAAqB0D,IAAI,CAACzD,MAA1B,CAAf;;;IAEFjI,CAAC,CAACmO,UAAF,GAAe7I,IAAI,CAACiJ,IAAL,CAAUD,YAAV,CAAf;IACAtO,CAAC,CAACwO,SAAF,GAAc9C,IAAI,CAAC8C,SAAL,IAAkB,CAAhC;;;SAEKxO,CAAC,CAACmO,UAAT;;;AAGF,SAASM,kBAAT,CAA4B1G,IAA5B,EAAkCkG,WAAlC,EAA+CxD,QAA/C,EAAyD;;MAEjDiE,cAAc,GAAGpJ,IAAI,CAACwG,GAAL,CAASrB,QAAQ,CAACyB,MAAT,CAAgBG,QAAzB,EAAmCtE,IAAI,CAACC,KAAxC,KAClB1C,IAAI,CAACyG,GAAL,CAAShE,IAAI,CAACC,KAAL,GAAayC,QAAQ,CAACyB,MAAT,CAAgBC,aAAtC,EAAqD,CAArD,CADL;MAEMwC,eAAe,GAAGrJ,IAAI,CAACwG,GAAL,CAASrB,QAAQ,CAACyB,MAAT,CAAgBI,SAAzB,EAAoCvE,IAAI,CAACE,MAAzC,KACnB3C,IAAI,CAACyG,GAAL,CAAShE,IAAI,CAACE,MAAL,GAAcwC,QAAQ,CAACyB,MAAT,CAAgBE,cAAvC,EAAuD,CAAvD,CADL;SAEO6B,WAAW,CAACjG,KAAZ,IAAqB0G,cAArB,IAAuCT,WAAW,CAAChG,MAAZ,IAAsB0G,eAApE;;;AAGF,SAASC,aAAT,CAAuBX,WAAvB,EAAoCjO,CAApC,EAAuC;UAC7BA,CAAC,CAACoO,MAAF,CAASzD,IAAT,EAAR;SACO,KAAL;MACEsD,WAAW,CAACzI,CAAZ,IAAiBxF,CAAC,CAACmO,UAAnB;MACAF,WAAW,CAAChG,MAAZ,IAAsBjI,CAAC,CAACmO,UAAxB;;;SAEG,QAAL;MACEF,WAAW,CAAChG,MAAZ,IAAsBjI,CAAC,CAACmO,UAAxB;;;SAEG,MAAL;MACEF,WAAW,CAAC5I,CAAZ,IAAiBrF,CAAC,CAACmO,UAAnB;MACAF,WAAW,CAACjG,KAAZ,IAAqBhI,CAAC,CAACmO,UAAvB;;;SAEG,OAAL;MACEF,WAAW,CAACjG,KAAZ,IAAqBhI,CAAC,CAACmO,UAAvB;;;;;;;AAMN,SAASU,YAAT,CAAsBC,gBAAtB,EAAwC9O,CAAxC,EAA2C;MACnCwO,SAAS,GAAGxO,CAAC,CAACwO,SAApB;;MACI,CAACA,SAAL,EAAgB;;;;EAGhBM,gBAAgB,CAACC,IAAjB,GAAwBzJ,IAAI,CAACyG,GAAL,CAAS+C,gBAAgB,CAACC,IAA1B,EAAgCP,SAAS,CAACO,IAAV,IAAkB,CAAlD,CAAxB;EACAD,gBAAgB,CAACE,KAAjB,GAAyB1J,IAAI,CAACyG,GAAL,CAAS+C,gBAAgB,CAACE,KAA1B,EAAiCR,SAAS,CAACQ,KAAV,IAAmB,CAApD,CAAzB;EACAF,gBAAgB,CAACG,GAAjB,GAAuB3J,IAAI,CAACyG,GAAL,CAAS+C,gBAAgB,CAACG,GAA1B,EAA+BT,SAAS,CAACS,GAAV,IAAiB,CAAhD,CAAvB;EACAH,gBAAgB,CAACI,MAAjB,GAA0B5J,IAAI,CAACyG,GAAL,CAAS+C,gBAAgB,CAACI,MAA1B,EAAkCV,SAAS,CAACU,MAAV,IAAoB,CAAtD,CAA1B;;;AAGF,SAASC,eAAT,CAAyBjB,UAAzB,EAAqCD,WAArC,EAAkDO,SAAlD,EAA6D;MACvDP,WAAW,CAAC5I,CAAZ,GAAgBmJ,SAAS,CAACO,IAA9B,EAAoC;IAClCd,WAAW,CAACjG,KAAZ,IAAqBwG,SAAS,CAACO,IAAV,GAAiBd,WAAW,CAAC5I,CAAlD;IACA4I,WAAW,CAAC5I,CAAZ,GAAgBmJ,SAAS,CAACO,IAA1B;;;MAEIK,wBAAwB,GAAGlB,UAAU,CAAClG,KAAX,IAAoBiG,WAAW,CAAC5I,CAAZ,GAAgB4I,WAAW,CAACjG,KAAhD,CAAjC;;MACIoH,wBAAwB,GAAGZ,SAAS,CAACQ,KAAzC,EAAgD;IAC9Cf,WAAW,CAACjG,KAAZ,IAAqBwG,SAAS,CAACQ,KAAV,GAAkBI,wBAAvC;;;MAEEnB,WAAW,CAACzI,CAAZ,GAAgBgJ,SAAS,CAACS,GAA9B,EAAmC;IACjChB,WAAW,CAAChG,MAAZ,IAAsBuG,SAAS,CAACS,GAAV,GAAgBhB,WAAW,CAACzI,CAAlD;IACAyI,WAAW,CAACzI,CAAZ,GAAgBgJ,SAAS,CAACS,GAA1B;;;MAEII,yBAAyB,GAAGnB,UAAU,CAACjG,MAAX,IAAqBgG,WAAW,CAACzI,CAAZ,GAAgByI,WAAW,CAAChG,MAAjD,CAAlC;;MACIoH,yBAAyB,GAAGb,SAAS,CAACU,MAA1C,EAAkD;IAChDjB,WAAW,CAAChG,MAAZ,IAAsBuG,SAAS,CAACU,MAAV,GAAmBG,yBAAzC;;;;AAIJ,SAASC,sBAAT,CAAgCpB,UAAhC,EAA4CD,WAA5C,EAAyDO,SAAzD,EAAoExO,CAApE,EAAuEyK,QAAvE,EAAiF;MACzE8E,aAAa,GAAGhD,MAAM,CAAC,EAAD,EAAK0B,WAAL,CAA5B;MACMuB,YAAY,GAAGjD,MAAM,CAAC,EAAD,EAAKiC,SAAL,CAA3B;EACAI,aAAa,CAACW,aAAD,EAAgBvP,CAAhB,CAAb;EACA6O,YAAY,CAACW,YAAD,EAAexP,CAAf,CAAZ;EACAmP,eAAe,CAACjB,UAAD,EAAaqB,aAAb,EAA4BC,YAA5B,CAAf;MAEMC,OAAO,GAAGhB,kBAAkB,CAACP,UAAD,EAAaqB,aAAb,EAA4B9E,QAA5B,CAAlC;;MACI,CAACgF,OAAL,EAAc;WACL,KAAP;;;EAGFb,aAAa,CAACX,WAAD,EAAcjO,CAAd,CAAb;EACA6O,YAAY,CAACL,SAAD,EAAYxO,CAAZ,CAAZ;SACO,IAAP;;;;;;;;;;;;;;;;;;;;;;;;AAuBF,SAAS0P,qBAAT,CAA+BC,OAA/B,EAAwCC,MAAxC,EAAgD;MAC1CA,MAAM,CAAC9N,MAAP,KAAkB,CAAtB,EAAyB;;;;OAIpB,IAAIY,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGiN,OAAO,CAAC7N,MAA5B,EAAoC,EAAEY,CAAtC,EAAyC;QACnCnC,CAAC,GAAGoP,OAAO,CAACjN,CAAD,CAAf;;QACInC,CAAC,CAACsP,eAAF,CAAkB/N,MAAtB,EAA8B;UACtBgO,WAAW,GAAGvP,CAAC,CAACsP,eAAF,CAAkBE,KAAlB,CAAwB,UAACC,OAAD;eAAaJ,MAAM,CAACK,IAAP,CAAY,UAAChQ,CAAD;iBAAOA,CAAC,CAACgD,GAAF,KAAU+M,OAAjB;SAAZ,CAAb;OAAxB,CAApB;;UACIF,WAAJ,EAAiB;QACfF,MAAM,CAAC7N,IAAP,CAAY4N,OAAO,CAAC1N,MAAR,CAAeS,CAAf,EAAkB,CAAlB,EAAqB,CAArB,CAAZ;;;;;;AAMR,SAASwN,gBAAT,OAEG;MADDhC,UACC,QADDA,UACC;MADWyB,OACX,QADWA,OACX;MADoBC,MACpB,QADoBA,MACpB;MAD4BnF,QAC5B,QAD4BA,QAC5B;MACKwD,WAAW,GAAGH,UAAU,CAACI,UAAU,CAAC7I,CAAZ,EAAe6I,UAAU,CAAC1I,CAA1B,EAA6B0I,UAAU,CAAClG,KAAxC,EAA+CkG,UAAU,CAACjG,MAA1D,CAA9B;MACMuG,SAAS,GAAG;IAChBO,IAAI,EAAE,CADU;IAEhBC,KAAK,EAAE,CAFS;IAGhBC,GAAG,EAAE,CAHW;IAIhBC,MAAM,EAAE;GAJV;MAOMiB,gBAAgB,GAAGR,OAAO,CAACS,KAAR,EAAzB;EACAD,gBAAgB,CAACE,IAAjB,CAAsB,UAACtQ,CAAD,EAAIuQ,CAAJ;WAAUvQ,CAAC,CAACqO,MAAF,CAASvD,SAAT,KAAuByF,CAAC,CAAClC,MAAF,CAASvD,SAAT,EAAjC;GAAtB,EAVC;;OAYI,IAAInI,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGyN,gBAAgB,CAACrO,MAArC,EAA6C,EAAEY,CAA/C,EAAkD;QAC1C1C,CAAC,GAAGmQ,gBAAgB,CAACzN,CAAD,CAA1B;IACAsL,SAAS,CAAChO,CAAD,EAAIiO,WAAJ,EAAiBC,UAAjB,CAAT;;QAEI,CAACoB,sBAAsB,CAACpB,UAAD,EAAaD,WAAb,EAA0BO,SAA1B,EAAqCxO,CAArC,EAAwCyK,QAAxC,CAA3B,EAA8E;MAC5EmF,MAAM,CAAC7N,IAAP,CAAYoO,gBAAgB,CAAClO,MAAjB,CAAwBS,CAAxB,EAA2B,CAA3B,EAA8B,CAA9B,CAAZ;QACEA,CAAF;;;;EAIJgN,qBAAqB,CAACC,OAAD,EAAUC,MAAV,CAArB;MAEMW,qBAAqB,GAAGZ,OAAO,CAACa,MAAR,CAAe,UAACxQ,CAAD;WAAOmQ,gBAAgB,CAACM,OAAjB,CAAyBzQ,CAAzB,MAAgC,CAAC,CAAxC;GAAf,CAA9B;EACA2P,OAAO,CAAC7N,MAAR,GAAiB,CAAjB;EACA6N,OAAO,CAAC5N,IAAR,OAAA4N,OAAO,uBAASY,qBAAT,EAAP;EACApB,eAAe,CAACjB,UAAD,EAAaD,WAAb,EAA0BO,SAA1B,CAAf;SACOP,WAAP;;;AAGF,SAASyC,WAAT,CAAqB3I,IAArB,EAA2B;SAClB;IACL1C,CAAC,EAAE0C,IAAI,CAACgG,MAAL,CAAYgB,IAAZ,GAAmBhH,IAAI,CAAC1C,CAAL,GAAS0C,IAAI,CAAC4I,UAAL,CAAgBtL,CAD1C;IAELG,CAAC,EAAEuC,IAAI,CAACgG,MAAL,CAAYkB,GAAZ,GAAkBlH,IAAI,CAACvC,CAAL,GAASuC,IAAI,CAAC4I,UAAL,CAAgBnL,CAFzC;IAGLwC,KAAK,EAAED,IAAI,CAACC,KAAL,GAAaD,IAAI,CAAC4I,UAAL,CAAgBtL,CAH/B;IAIL4C,MAAM,EAAEF,IAAI,CAACE,MAAL,GAAcF,IAAI,CAAC4I,UAAL,CAAgBnL;GAJxC;;;AAQF,SAASoL,gBAAT,CAA0B7I,IAA1B,EAAgC8I,SAAhC,EAA2C3C,UAA3C,EAAuD1C,aAAvD,EAAsE;MAC9DmF,UAAU,GAAG;IACjBtL,CAAC,EAAEmG,aAAa,CAACxD,KAAd,GAAsBkG,UAAU,CAAClG,KADnB;IAEjBxC,CAAC,EAAEgG,aAAa,CAACvD,MAAd,GAAuBiG,UAAU,CAACjG;GAFvC;MAIM8F,MAAM,GAAG;IACbgB,IAAI,EAAE,CADO;IAEbE,GAAG,EAAE;GAFP;;MAKIf,UAAU,CAAClC,mBAAf,EAAoC;QAC5B8E,UAAU,GAAGH,UAAU,CAACtL,CAAX,GAAesL,UAAU,CAACnL,CAA7C,CADkC;;QAG5BuL,QAAQ,GAAGzL,IAAI,CAACwG,GAAL,CAAS6E,UAAU,CAACtL,CAApB,EAAuBsL,UAAU,CAACnL,CAAlC,CAAjB;IACAmL,UAAU,CAACtL,CAAX,GAAe0L,QAAf;IACAJ,UAAU,CAACnL,CAAX,GAAeuL,QAAf;QACMC,IAAI,GAAGF,UAAU,GAAG,QAAH,GAAc,OAArC;QACMG,MAAM,GAAG,CAACzF,aAAa,CAACwF,IAAD,CAAb,GAAsB9C,UAAU,CAAC8C,IAAD,CAAV,GAAmBL,UAAU,CAACtL,CAArD,IAA0D6I,UAAU,CAACrC,KAApF;IACAkC,MAAM,CAACgB,IAAP,GAAc+B,UAAU,GAAG,CAAH,GAAOG,MAA/B;IACAlD,MAAM,CAACkB,GAAP,GAAa6B,UAAU,GAAGG,MAAH,GAAY,CAAnC;;;EAGFlJ,IAAI,CAAC4I,UAAL,GAAkBA,UAAlB;EACA5I,IAAI,CAACgG,MAAL,GAAcA,MAAd;EACA8C,SAAS,CAACF,UAAV,GAAuBA,UAAvB;EACAE,SAAS,CAAC9C,MAAV,GAAmBA,MAAnB;EACAG,UAAU,CAACyC,UAAX,GAAwBA,UAAxB;EACAzC,UAAU,CAACH,MAAX,GAAoBA,MAApB;;;AAGF,SAASmD,WAAT,CAAqBC,KAArB,EAA4B;;;MACpBxE,MAAM,GAAG,aAAG3K,MAAH,mCAAamP,KAAK,CAACpQ,GAAN,CAAUqM,YAAV,CAAb,EAAf;;SACOC,YAAY,CAACV,MAAD,CAAnB;;;AAGF,SAASyE,kBAAT,QAEG;MADDzB,OACC,SADDA,OACC;MADQzB,UACR,SADQA,UACR;MADoBD,WACpB,SADoBA,WACpB;MADiCzC,aACjC,SADiCA,aACjC;MADgD6F,WAChD,SADgDA,WAChD;MACKC,KAAK,GAAGxD,UAAU,CAACG,WAAW,CAAC5I,CAAb,EAAgB4I,WAAW,CAACzI,CAA5B,EAA+ByI,WAAW,CAACjG,KAA3C,EAAkDiG,WAAW,CAAChG,MAA9D,CAAxB;MACMsJ,KAAK,GAAGzD,UAAU,CAACG,WAAW,CAAC5I,CAAb,EAAgB4I,WAAW,CAACzI,CAA5B,EAA+ByI,WAAW,CAACjG,KAA3C,EAAkDiG,WAAW,CAAChG,MAA9D,CAAxB;MAEMuJ,oBAAoB,GAAG,EAA7B;MACMC,cAAc,GAAG9B,OAAO,CAACS,KAAR,EAAvB;MACMsB,YAAY,GAAGD,cAAc,CAACrB,KAAf,GAAuBC,IAAvB,CAA4B,UAACtQ,CAAD,EAAIuQ,CAAJ;WAAUvQ,CAAC,CAACqO,MAAF,CAASxD,YAAT,KAA0B0F,CAAC,CAAClC,MAAF,CAASxD,YAAT,EAApC;GAA5B,CAArB;EACA+E,OAAO,CACJU,IADH,CACQ,UAACtQ,CAAD,EAAIuQ,CAAJ,EAAU;QACVA,CAAC,CAACT,eAAF,CAAkB/N,MAAlB,GAA2B,CAA/B,EAAkC;aACzB,CAAC,CAAR;;;QAEE/B,CAAC,CAAC8P,eAAF,CAAkB/N,MAAlB,GAA2B,CAA/B,EAAkC;aACzB,CAAP;;;QAEI6P,IAAI,GAAG5R,CAAC,CAACqO,MAAF,CAASxD,YAAT,KAA0B0F,CAAC,CAAClC,MAAF,CAASxD,YAAT,EAAvC;;QACI+G,IAAI,KAAK,CAAb,EAAgB;aACPF,cAAc,CAAChB,OAAf,CAAuB1Q,CAAvB,IAA4B0R,cAAc,CAAChB,OAAf,CAAuBH,CAAvB,CAAnC;;;WAEKqB,IAAP;GAZJ,EAcGC,OAdH,CAcW,UAAC5R,CAAD,EAAO;QACV6Q,SAAS,GAAG,EAAhB;QACI9I,IAAI,GAAG,EAAX;QACM8J,CAAC,GAAG7R,CAAC,CAACoO,MAAF,CAASzD,IAAT,EAAV;;YACQkH,CAAR;WACO,KAAL;QACEhB,SAAS,CAAC5I,MAAV,GAAmBF,IAAI,CAACE,MAAL,GAAcjI,CAAC,CAACmO,UAAnC;QACA0C,SAAS,CAAC7I,KAAV,GAAkBkG,UAAU,CAAClG,KAA7B;QACAD,IAAI,CAACC,KAAL,GAAasJ,KAAK,CAACtJ,KAAnB;QACA6I,SAAS,CAACxL,CAAV,GAAc6I,UAAU,CAAC7I,CAAzB;QACA0C,IAAI,CAAC1C,CAAL,GAASiM,KAAK,CAACjM,CAAf;QACAwL,SAAS,CAACrL,CAAV,GAAcuC,IAAI,CAACvC,CAAL,GAAS8L,KAAK,CAAC9L,CAAN,GAAUxF,CAAC,CAACmO,UAAnC;QAEAmD,KAAK,CAAC9L,CAAN,IAAWxF,CAAC,CAACmO,UAAb;QACAmD,KAAK,CAACrJ,MAAN,IAAgBjI,CAAC,CAACmO,UAAlB;;;WAEG,QAAL;QACE0C,SAAS,CAACxL,CAAV,GAAc6I,UAAU,CAAC7I,CAAzB;QACA0C,IAAI,CAAC1C,CAAL,GAASiM,KAAK,CAACjM,CAAf;QACAwL,SAAS,CAACrL,CAAV,GAAcuC,IAAI,CAACvC,CAAL,GAAS8L,KAAK,CAAC9L,CAAN,GAAU8L,KAAK,CAACrJ,MAAvC;QACA4I,SAAS,CAAC7I,KAAV,GAAkBkG,UAAU,CAAClG,KAA7B;QACAD,IAAI,CAACC,KAAL,GAAasJ,KAAK,CAACtJ,KAAnB;QACA6I,SAAS,CAAC5I,MAAV,GAAmBF,IAAI,CAACE,MAAL,GAAcjI,CAAC,CAACmO,UAAnC;QAEAmD,KAAK,CAACrJ,MAAN,IAAgBjI,CAAC,CAACmO,UAAlB;;;WAEG,MAAL;QACE0C,SAAS,CAACxL,CAAV,GAAc0C,IAAI,CAAC1C,CAAL,GAASkM,KAAK,CAAClM,CAAN,GAAUrF,CAAC,CAACmO,UAAnC;QACA0C,SAAS,CAACrL,CAAV,GAAc0I,UAAU,CAAC1I,CAAzB;QACAuC,IAAI,CAACvC,CAAL,GAAS+L,KAAK,CAAC/L,CAAf;QACAqL,SAAS,CAAC7I,KAAV,GAAkBD,IAAI,CAACC,KAAL,GAAahI,CAAC,CAACmO,UAAjC;QACA0C,SAAS,CAAC5I,MAAV,GAAmBiG,UAAU,CAACjG,MAA9B;QACAF,IAAI,CAACE,MAAL,GAAcsJ,KAAK,CAACtJ,MAApB;QAEAsJ,KAAK,CAAClM,CAAN,IAAWrF,CAAC,CAACmO,UAAb;QACAoD,KAAK,CAACvJ,KAAN,IAAehI,CAAC,CAACmO,UAAjB;;;WAEG,OAAL;QACE0C,SAAS,CAACxL,CAAV,GAAc0C,IAAI,CAAC1C,CAAL,GAASkM,KAAK,CAAClM,CAAN,GAAUkM,KAAK,CAACvJ,KAAvC;QACA6I,SAAS,CAACrL,CAAV,GAAc0I,UAAU,CAAC1I,CAAzB;QACAuC,IAAI,CAACvC,CAAL,GAAS+L,KAAK,CAAC/L,CAAf;QACAqL,SAAS,CAAC7I,KAAV,GAAkBD,IAAI,CAACC,KAAL,GAAahI,CAAC,CAACmO,UAAjC;QACA0C,SAAS,CAAC5I,MAAV,GAAmBiG,UAAU,CAACjG,MAA9B;QACAF,IAAI,CAACE,MAAL,GAAcsJ,KAAK,CAACtJ,MAApB;QAEAsJ,KAAK,CAACvJ,KAAN,IAAehI,CAAC,CAACmO,UAAjB;;;WAEG,QAAL;QACE0C,SAAS,CAACxL,CAAV,GAAc0C,IAAI,CAAC1C,CAAL,GAAS4I,WAAW,CAAC5I,CAAnC;QACAwL,SAAS,CAACrL,CAAV,GAAcuC,IAAI,CAACvC,CAAL,GAASyI,WAAW,CAACzI,CAAnC;QACAqL,SAAS,CAAC7I,KAAV,GAAkBD,IAAI,CAACC,KAAL,GAAaiG,WAAW,CAACjG,KAA3C;QACA6I,SAAS,CAAC5I,MAAV,GAAmBF,IAAI,CAACE,MAAL,GAAcgG,WAAW,CAAChG,MAA7C;;;;YAGIjI,CAAC,CAAC6P,eAAF,CAAkB/N,MAAlB,GAA2B,CAA/B,EAAkC;cAC1BgQ,IAAI,GAAG9R,CAAC,CAAC6P,eAAF,CACV9O,GADU,CACN,UAACgR,GAAD;mBAASP,oBAAoB,CAACO,GAAD,CAA7B;WADM,EAEVvB,MAFU,CAEH,UAACuB,GAAD;mBAAS,CAAC,CAACA,GAAX;WAFG,CAAb;;cAGID,IAAI,CAAChQ,MAAL,GAAc,CAAlB,EAAqB;YACnB+O,SAAS,GAAGK,WAAW,CAACY,IAAI,CAAC/Q,GAAL,CAAS,UAACgR,GAAD;qBAASA,GAAG,CAAClB,SAAb;aAAT,CAAD,CAAvB;YACA9I,IAAI,GAAGmJ,WAAW,CAACY,IAAI,CAAC/Q,GAAL,CAAS,UAACgR,GAAD;qBAASA,GAAG,CAACrL,CAAb;aAAT,CAAD,CAAlB;;;;;;;QAKJ1G,CAAC,CAACiD,GAAN,EAAW;MACTuO,oBAAoB,CAACxR,CAAC,CAACiD,GAAH,CAApB,GAA8B;;QAE5ByD,CAAC,EAAEqB,IAFyB;QAG5B8I,SAAS,EAATA;OAHF;;;IAMFD,gBAAgB,CAAC7I,IAAD,EAAO8I,SAAP,EAAkB3C,UAAlB,EAA8B1C,aAA9B,CAAhB;IACAzD,IAAI,CAACyG,SAAL,GAAiBxO,CAAC,CAACwO,SAAnB;IACAzG,IAAI,CAACiK,QAAL,GAAgBtB,WAAW,CAAC3I,IAAD,CAA3B;IACA8I,SAAS,CAACrC,SAAV,GAAsBxO,CAAC,CAACwO,SAAxB;IACAqC,SAAS,CAACmB,QAAV,GAAqBtB,WAAW,CAACG,SAAD,CAAhC;IACA9I,IAAI,CAAC1C,CAAL,IAAUgM,WAAW,CAAChM,CAAtB;IACA0C,IAAI,CAACvC,CAAL,IAAU6L,WAAW,CAAC7L,CAAtB;IACAqL,SAAS,CAACxL,CAAV,IAAegM,WAAW,CAAChM,CAA3B;IACAwL,SAAS,CAACrL,CAAV,IAAe6L,WAAW,CAAC7L,CAA3B;IACAxF,CAAC,CAACqO,IAAF,CAAO4D,MAAP,CAAclK,IAAd,EAAoB8I,SAApB;IACA7Q,CAAC,CAACmO,UAAF,GAAepE,SAAf;IACA/J,CAAC,CAACwO,SAAF,GAAczE,SAAd;GAjGJ;SAmGO4F,OAAO,CAAC5O,GAAR,CAAY,UAACf,CAAD;WAAO0R,YAAY,CAACjB,OAAb,CAAqBzQ,CAArB,CAAP;GAAZ,CAAP;;;AAGF,SAASkS,iBAAT,CAA2BC,gBAA3B,EAA6CC,YAA7C,EAA2D3G,oBAA3D,EAAiF;MACzE4G,WAAW,GAAGF,gBAAgB,CAACE,WAAjB,IAAgC,EAApD;MACMtH,iBAAiB,GAAGqH,YAAY,CAACrH,iBAAb,EAA1B;MACIC,IAAI,GAAGoH,YAAY,CAACpH,IAAb,EAAX;;MACIA,IAAI,IAAI,QAAOD,iBAAP,MAA6B,QAAzC,EAAmD;IACjDC,IAAI,GAAGqH,WAAW,CAACtH,iBAAiB,CAAC/C,KAAnB,CAAX,IACFqK,WAAW,CAACtH,iBAAiB,CAAC9C,MAAnB,CADT,IAEFwD,oBAAoB,CAACzD,KAArB,IAA8BqK,WAAW,CAACtH,iBAAiB,CAAC/C,KAAnB,CAAX,CAAqCA,KAFjE,IAGFyD,oBAAoB,CAACxD,MAArB,IAA+BoK,WAAW,CAACtH,iBAAiB,CAAC9C,MAAnB,CAAX,CAAsCA,MAH1E;GADF,MAKO,IAAI+C,IAAI,IAAID,iBAAiB,KAAKhB,SAAlC,EAA6C;IAClDiB,IAAI,GAAGqH,WAAW,CAACtH,iBAAD,CAAX,IACFU,oBAAoB,CAACzD,KAArB,IAA8BqK,WAAW,CAACtH,iBAAD,CAAX,CAA+B/C,KAD3D,IAEFyD,oBAAoB,CAACxD,MAArB,IAA+BoK,WAAW,CAACtH,iBAAD,CAAX,CAA+B9C,MAFnE;;;SAIK+C,IAAP;;;AAGF,SAASsH,iBAAT,CAA2BC,SAA3B,EAAsC;MAChC,CAACA,SAAS,CAAC9H,QAAX,IAAuB,CAAC8H,SAAS,CAAC9H,QAAtC,EAAgD;UACxC,IAAI+H,KAAJ,CAAU,4BAAV,CAAN;;;MAEE,CAACD,SAAS,CAACN,MAAX,IAAqB,OAAOM,SAAS,CAACN,MAAjB,KAA4B,UAArD,EAAiE;UACzD,IAAIO,KAAJ,CAAU,sCAAV,CAAN;;;MAEE,CAACD,SAAS,CAAC/H,UAAX,IAAyB,CAAC+H,SAAS,CAACzH,aAAxC,EAAuD;UAC/C,IAAI0H,KAAJ,CAAU,6CAAV,CAAN;;;;AAIJ,SAASC,gBAAT,CAA0BC,UAA1B,EAAsCjI,QAAtC,EAAgD1C,IAAhD,EAAsD;MAC9C4H,OAAO,GAAG,EAAhB;MACMC,MAAM,GAAG,EAAf,CAFoD;;OAI/C,IAAIlN,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgQ,UAAU,CAAC5Q,MAA/B,EAAuC,EAAEY,CAAzC,EAA4C;QACpC2L,IAAI,GAAGqE,UAAU,CAAChQ,CAAD,CAAvB;IACA4P,iBAAiB,CAACjE,IAAD,CAAjB,CAF0C;;QAItCD,MAAM,SAAV;;QACIC,IAAI,CAACjM,QAAT,EAAmB;MACjBgM,MAAM,GAAGC,IAAI,CAACjM,QAAL,CAAcoI,UAAd,EAAT;KADF,MAEO;MACL4D,MAAM,GAAG5D,UAAU,CAAC6D,IAAI,CAAC5D,QAAL,CAAckI,MAAf,CAAnB;;;QAEI1P,GAAG,GAAGoL,IAAI,CAAC5D,QAAL,CAAcxH,GAA1B;QACM4O,CAAC,GAAGzD,MAAM,CAACzD,IAAP,EAAV;QACMkF,eAAe,GAAG,IAAI+C,IAAJ,CAASf,CAAT,IAAcA,CAAC,CAACgB,KAAF,CAAQ,GAAR,EAAa9R,GAAb,CAAiB,UAACV,CAAD;aAAOA,CAAC,CAACkB,OAAF,CAAU,OAAV,EAAmB,EAAnB,CAAP;KAAjB,CAAd,GAAgE,EAAxF;;QACI2Q,iBAAiB,CAACzH,QAAD,EAAW2D,MAAX,EAAmBrG,IAAnB,CAArB,EAA+C;MAC7C4H,OAAO,CAAC5N,IAAR,CAAa;QACXsM,IAAI,EAAJA,IADW;QAEXpL,GAAG,EAAHA,GAFW;QAGXmL,MAAM,EAANA,MAHW;QAIXyB,eAAe,EAAfA;OAJF;KADF,MAOO;MACLD,MAAM,CAAC7N,IAAP,CAAY;QACVsM,IAAI,EAAJA,IADU;QAEVpL,GAAG,EAAHA,GAFU;QAGVmL,MAAM,EAANA,MAHU;QAIVyB,eAAe,EAAfA;OAJF;;;;SAQG,CAACF,OAAD,EAAUC,MAAV,CAAP;;;;;;;;;;;;;;;;;;AAiBF,SAASkD,UAAT,CAAoBC,eAApB,EAAqC;MAC/BtI,QAAQ,GAAGwB,eAAe,CAAC8G,eAAD,CAA9B;MAEMC,MAAM,GAAG,EAAf;;EAEAA,MAAM,CAACL,MAAP,GAAgB,SAASA,MAAT,CAAgB5K,IAAhB,EAAuC;QAAjB2K,UAAiB,uEAAJ,EAAI;;QACjD,CAAC3K,IAAD,IAAS4D,KAAK,CAAC5D,IAAI,CAAC1C,CAAN,CAAd,IAA0BsG,KAAK,CAAC5D,IAAI,CAACvC,CAAN,CAA/B,IAA2CmG,KAAK,CAAC5D,IAAI,CAACC,KAAN,CAAhD,IAAgE2D,KAAK,CAAC5D,IAAI,CAACE,MAAN,CAAzE,EAAwF;YAChF,IAAIuK,KAAJ,CAAU,cAAV,CAAN;;;QAEE,CAACE,UAAU,CAAC5Q,MAAhB,EAAwB;aACf;QAAE6N,OAAO,EAAE,EAAX;QAAeC,MAAM,EAAE;OAA9B;;;gCAG8CrE,qBAAqB,CAACxD,IAAD,EAAO0C,QAAP,CARhB;QAQ7CgB,oBAR6C,yBAQ7CA,oBAR6C;QAQvBD,aARuB,yBAQvBA,aARuB;;4BAU3BiH,gBAAgB,CAACC,UAAD,EAAajI,QAAb,EAAuBgB,oBAAvB,CAVW;;QAU9CkE,OAV8C;QAUrCC,MAVqC;;QAY/C3B,WAAW,GAAGiC,gBAAgB,CAAC;MACnChC,UAAU,EAAEzC,oBADuB;MAEnCkE,OAAO,EAAPA,OAFmC;MAGnCC,MAAM,EAANA,MAHmC;MAInCnF,QAAQ,EAARA;KAJkC,CAApC;QAOM4G,WAAW,GAAG;MAAEhM,CAAC,EAAE0C,IAAI,CAAC1C,CAAV;MAAaG,CAAC,EAAEuC,IAAI,CAACvC;KAAzC;QAEMyN,KAAK,GAAG7B,kBAAkB,CAAC;MAC/BzB,OAAO,EAAPA,OAD+B;MAE/BzB,UAAU,EAAEzC,oBAFmB;MAG/BwC,WAAW,EAAXA,WAH+B;MAI/BzC,aAAa,EAAbA,aAJ+B;MAK/B6F,WAAW,EAAXA;KAL8B,CAAhC;IAOAzB,MAAM,CAACgC,OAAP,CAAe,UAAC5R,CAAD,EAAO;MACpBA,CAAC,CAACqO,IAAF,CAAOsB,OAAP,GAAiB,KAAjB,CADoB;;UAGdjJ,CAAC,GAAGoH,UAAU,EAApB;MACA9N,CAAC,CAACqO,IAAF,CAAO4D,MAAP,CAAcvL,CAAd,EAAiBA,CAAjB;KAJF;WAMO;MAAEiJ,OAAO,EAAEA,OAAO,CAAC5O,GAAR,CAAY,UAACR,CAAD;eAAOA,CAAC,CAAC8N,IAAT;OAAZ,CAAX;MAAuCuB,MAAM,EAAEA,MAAM,CAAC7O,GAAP,CAAW,UAACd,CAAD;eAAOA,CAAC,CAACoO,IAAT;OAAX,CAA/C;MAA0E4E,KAAK,EAALA;KAAjF;GAlCF;;EAqCAD,MAAM,CAACvI,QAAP,GAAkB,SAASyI,UAAT,CAAoB7S,CAApB,EAAuB;IACvCoK,QAAQ,GAAGwB,eAAe,CAAC5L,CAAD,CAA1B;GADF;;SAIO2S,MAAP;;;ACzcF;AAEA,AAOO,SAASG,kBAAT,CAA4BC,CAA5B,EAA+B;MAC/B,kBAAkBA,CAAlB,IAAuB,gBAAgBA,CAAxC,IAA8CC,SAAS,CAACC,cAAV,GAA2B,CAA7E,EAAgF;WACvE,IAAP;;;SAEK,KAAP;;AAGF,AAAO,SAASC,YAAT,CAAsBH,CAAtB,EAAyB;SACvB,CAAC,CAACA,CAAC,CAACI,cAAX;;AAGF,AAAO,SAASC,eAAT,CAAyBL,CAAzB,EAA4BM,SAA5B,EAAuC;MACtCC,OAAO,GAAGJ,YAAY,CAACH,CAAD,CAA5B;MACMQ,EAAE,GAAGD,OAAO,GAAGP,CAAC,CAACI,cAAF,CAAiB,CAAjB,CAAH,GAAyBJ,CAA3C;MACMS,EAAE,GAAGC,IAAI,CAACC,GAAL,KAAaL,SAAS,CAACM,IAAlC;MACMpO,EAAE,GAAG+F,KAAK,CAAC+H,SAAS,CAACrO,CAAX,CAAL,GAAqB,CAArB,GAAyBC,IAAI,CAAC2O,GAAL,CAASL,EAAE,CAACM,OAAH,GAAaR,SAAS,CAACrO,CAAhC,CAApC;MACMQ,EAAE,GAAG8F,KAAK,CAAC+H,SAAS,CAAClO,CAAX,CAAL,GAAqB,CAArB,GAAyBF,IAAI,CAAC2O,GAAL,CAASL,EAAE,CAACO,OAAH,GAAaT,SAAS,CAAClO,CAAhC,CAApC;SAEO,CAAC4N,CAAC,CAACgB,MAAF,KAAa,CAAb,IAAkBT,OAAnB,KACF,CAACD,SAAS,CAACW,UADT,IAEFzO,EAAE,IAAI,EAFJ,IAGFC,EAAE,IAAI,EAHJ,IAIFgO,EAAE,IAAI,GAJX;;;AC3BF;;;;;;;;AAQA,AAAe,SAASS,QAAT,CAAkBC,WAAlB,QAAkD;MAAjBC,KAAiB,QAAjBA,KAAiB;MAAVC,MAAU,QAAVA,MAAU;MACzDtT,IAAI,GAAG,EAAb;MAEMuT,IAAI,GAAG,EAAb;;MACI,CAAC/Q,KAAK,CAACC,OAAN,CAAc2Q,WAAd,CAAL,EAAiC;IAC/BE,MAAM,CAACE,IAAP,CAAY,0CAAZ;IACAD,IAAI,CAAC3S,IAAL,CAAUwS,WAAV;GAFF,MAGO;IACLG,IAAI,CAAC3S,IAAL,OAAA2S,IAAI,uBAASH,WAAT,EAAJ;;;EAGFG,IAAI,CAAC9C,OAAL,CAAa,UAACC,CAAD,EAAInP,CAAJ,EAAU;QACjBkS,cAAc,GAAGJ,KAAK,CAAC3C,CAAC,CAACnQ,IAAH,CAA1B;;QACIkT,cAAJ,EAAoB;UACd3R,GAAG,GAAG4O,CAAC,CAAC5O,GAAZ;;UACI,OAAO4O,CAAC,CAAC5O,GAAT,KAAiB,WAArB,EAAkC;QAChCwR,MAAM,CAACE,IAAP,iDAAqDjS,CAArD;QACAO,GAAG,GAAGP,CAAN;;;UAEEmS,OAAO,GAAGD,cAAc,CAAC;QAC3B3R,GAAG,EAAHA,GAD2B;QAE3B9B,IAAI,EAAE0Q,CAAC,CAAC1Q,IAFmB;QAG3BiN,MAAM,EAAEyD,CAAC,CAACzD;OAHgB,CAA5B;MAKAjN,IAAI,CAAC8B,GAAD,CAAJ,GAAY4R,OAAZ;;GAbJ;;;;;;;;MAuBMC,EAAE,GAAG,SAALA,EAAK,CAAC7R,GAAD,EAAS;QACdA,GAAJ,EAAS;aACA9B,IAAI,CAAC8B,GAAD,CAAX;;;WAEK9B,IAAI,CAAC4B,MAAM,CAACgS,IAAP,CAAY5T,IAAZ,EAAkB,CAAlB,CAAD,CAAX;GAJF;;SAMO2T,EAAP;;;;;;;;;AChDF,IAAI,EAAE,GAAG,IAAI,CAAC,EAAE;IACZ,GAAG,GAAG,CAAC,GAAG,EAAE;IACZ,OAAO,GAAG,IAAI;IACd,UAAU,GAAG,GAAG,GAAG,OAAO,CAAC;;AAE/B,SAAS,IAAI,GAAG;EACd,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG;EACnB,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC;EAC3B,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC;CACb;;AAED,SAAS,IAAI,GAAG;EACd,OAAO,IAAI,IAAI,CAAC;CACjB;;AAED,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,GAAG;EAChC,WAAW,EAAE,IAAI;EACjB,MAAM,EAAE,SAAS,CAAC,EAAE,CAAC,EAAE;IACrB,IAAI,CAAC,CAAC,IAAI,GAAG,IAAI,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,IAAI,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;GAC/E;EACD,SAAS,EAAE,WAAW;IACpB,IAAI,IAAI,CAAC,GAAG,KAAK,IAAI,EAAE;MACrB,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;MACzC,IAAI,CAAC,CAAC,IAAI,GAAG,CAAC;KACf;GACF;EACD,MAAM,EAAE,SAAS,CAAC,EAAE,CAAC,EAAE;IACrB,IAAI,CAAC,CAAC,IAAI,GAAG,IAAI,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,IAAI,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;GACzD;EACD,gBAAgB,EAAE,SAAS,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE;IACvC,IAAI,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,EAAE,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC,GAAG,GAAG,IAAI,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,IAAI,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;GACrF;EACD,aAAa,EAAE,SAAS,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE;IAC5C,IAAI,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,EAAE,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC,GAAG,GAAG,IAAI,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,IAAI,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;GACjH;EACD,KAAK,EAAE,SAAS,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE;IACjC,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;IAC/C,IAAI,EAAE,GAAG,IAAI,CAAC,GAAG;QACb,EAAE,GAAG,IAAI,CAAC,GAAG;QACb,GAAG,GAAG,EAAE,GAAG,EAAE;QACb,GAAG,GAAG,EAAE,GAAG,EAAE;QACb,GAAG,GAAG,EAAE,GAAG,EAAE;QACb,GAAG,GAAG,EAAE,GAAG,EAAE;QACb,KAAK,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;;;IAGlC,IAAI,CAAC,GAAG,CAAC,EAAE,MAAM,IAAI,KAAK,CAAC,mBAAmB,GAAG,CAAC,CAAC,CAAC;;;IAGpD,IAAI,IAAI,CAAC,GAAG,KAAK,IAAI,EAAE;MACrB,IAAI,CAAC,CAAC,IAAI,GAAG,IAAI,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC,GAAG,GAAG,IAAI,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC,CAAC;KACzD;;;SAGI,IAAI,EAAE,KAAK,GAAG,OAAO,CAAC,CAAC,CAAC;;;;;SAKxB,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC,EAAE;MAC3D,IAAI,CAAC,CAAC,IAAI,GAAG,IAAI,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC,GAAG,GAAG,IAAI,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC,CAAC;KACzD;;;SAGI;MACH,IAAI,GAAG,GAAG,EAAE,GAAG,EAAE;UACb,GAAG,GAAG,EAAE,GAAG,EAAE;UACb,KAAK,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;UAC7B,KAAK,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;UAC7B,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;UACtB,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;UACtB,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,KAAK,GAAG,KAAK,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;UACjF,GAAG,GAAG,CAAC,GAAG,GAAG;UACb,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;;;MAGlB,IAAI,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,OAAO,EAAE;QAC/B,IAAI,CAAC,CAAC,IAAI,GAAG,IAAI,EAAE,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,EAAE,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;OAC3D;;MAED,IAAI,CAAC,CAAC,IAAI,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,OAAO,IAAI,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,GAAG,GAAG,IAAI,IAAI,CAAC,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,IAAI,CAAC,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;KAC5I;GACF;EACD,GAAG,EAAE,SAAS,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE;IAClC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;IACvB,IAAI,EAAE,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC;QACrB,EAAE,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC;QACrB,EAAE,GAAG,CAAC,GAAG,EAAE;QACX,EAAE,GAAG,CAAC,GAAG,EAAE;QACX,EAAE,GAAG,CAAC,GAAG,GAAG;QACZ,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;;;IAGjC,IAAI,CAAC,GAAG,CAAC,EAAE,MAAM,IAAI,KAAK,CAAC,mBAAmB,GAAG,CAAC,CAAC,CAAC;;;IAGpD,IAAI,IAAI,CAAC,GAAG,KAAK,IAAI,EAAE;MACrB,IAAI,CAAC,CAAC,IAAI,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC;KAC/B;;;SAGI,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC,GAAG,OAAO,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC,GAAG,OAAO,EAAE;MAC/E,IAAI,CAAC,CAAC,IAAI,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC;KAC/B;;;IAGD,IAAI,CAAC,CAAC,EAAE,OAAO;;;IAGf,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,GAAG,CAAC;;;IAGhC,IAAI,EAAE,GAAG,UAAU,EAAE;MACnB,IAAI,CAAC,CAAC,IAAI,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,OAAO,GAAG,EAAE,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,OAAO,GAAG,EAAE,GAAG,GAAG,IAAI,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC,GAAG,GAAG,IAAI,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC,CAAC;KACjK;;;SAGI,IAAI,EAAE,GAAG,OAAO,EAAE;MACrB,IAAI,CAAC,CAAC,IAAI,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,KAAK,IAAI,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,IAAI,IAAI,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,GAAG,GAAG,IAAI,IAAI,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;KACpJ;GACF;EACD,IAAI,EAAE,SAAS,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE;IACzB,IAAI,CAAC,CAAC,IAAI,GAAG,IAAI,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,IAAI,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;GAC5H;EACD,QAAQ,EAAE,WAAW;IACnB,OAAO,IAAI,CAAC,CAAC,CAAC;GACf;CACF,CAAC;;AC/Ha,iBAAQ,CAAC,CAAC,EAAE;EACzB,OAAO,SAAS,QAAQ,GAAG;IACzB,OAAO,CAAC,CAAC;GACV,CAAC;CACH;;ACJM,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;AAC1B,AAAO,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;AAC9B,AAAO,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;AAC1B,AAAO,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;AAC1B,AAAO,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;AAC1B,AAAO,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;AAC1B,AAAO,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;;AAE5B,AAAO,IAAIE,SAAO,GAAG,KAAK,CAAC;AAC3B,AAAO,IAAIC,IAAE,GAAG,IAAI,CAAC,EAAE,CAAC;AACxB,AAAO,IAAI,MAAM,GAAGA,IAAE,GAAG,CAAC,CAAC;AAC3B,AAAO,IAAIC,KAAG,GAAG,CAAC,GAAGD,IAAE,CAAC;;AAExB,AAAO,SAAS,IAAI,CAAC,CAAC,EAAE;EACtB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAGA,IAAE,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;CAC/C;;AAED,AAAO,SAAS,IAAI,CAAC,CAAC,EAAE;EACtB,OAAO,CAAC,IAAI,CAAC,GAAG,MAAM,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;CAC3D;;ACfD,SAAS,cAAc,CAAC,CAAC,EAAE;EACzB,OAAO,CAAC,CAAC,WAAW,CAAC;CACtB;;AAED,SAAS,cAAc,CAAC,CAAC,EAAE;EACzB,OAAO,CAAC,CAAC,WAAW,CAAC;CACtB;;AAED,SAAS,aAAa,CAAC,CAAC,EAAE;EACxB,OAAO,CAAC,CAAC,UAAU,CAAC;CACrB;;AAED,SAAS,WAAW,CAAC,CAAC,EAAE;EACtB,OAAO,CAAC,CAAC,QAAQ,CAAC;CACnB;;AAED,SAAS,WAAW,CAAC,CAAC,EAAE;EACtB,OAAO,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC;CACxB;;AAED,SAAS,SAAS,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;EACjD,IAAI,GAAG,GAAG,EAAE,GAAG,EAAE,EAAE,GAAG,GAAG,EAAE,GAAG,EAAE;MAC5B,GAAG,GAAG,EAAE,GAAG,EAAE,EAAE,GAAG,GAAG,EAAE,GAAG,EAAE;MAC5B,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;EAC9B,IAAI,CAAC,GAAG,CAAC,GAAGD,SAAO,EAAE,OAAO;EAC5B,CAAC,GAAG,CAAC,GAAG,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,GAAG,IAAI,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,CAAC;EAC5C,OAAO,CAAC,EAAE,GAAG,CAAC,GAAG,GAAG,EAAE,EAAE,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC;CACrC;;;;AAID,SAAS,cAAc,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;EAClD,IAAI,GAAG,GAAG,EAAE,GAAG,EAAE;MACb,GAAG,GAAG,EAAE,GAAG,EAAE;MACb,EAAE,GAAG,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC,EAAE,IAAI,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;MAClD,EAAE,GAAG,EAAE,GAAG,GAAG;MACb,EAAE,GAAG,CAAC,EAAE,GAAG,GAAG;MACd,GAAG,GAAG,EAAE,GAAG,EAAE;MACb,GAAG,GAAG,EAAE,GAAG,EAAE;MACb,GAAG,GAAG,EAAE,GAAG,EAAE;MACb,GAAG,GAAG,EAAE,GAAG,EAAE;MACb,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC;MACrB,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC;MACrB,EAAE,GAAG,GAAG,GAAG,GAAG;MACd,EAAE,GAAG,GAAG,GAAG,GAAG;MACd,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;MACtB,CAAC,GAAG,EAAE,GAAG,EAAE;MACX,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;MACzB,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;MACxD,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,IAAI,EAAE;MAC5B,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,IAAI,EAAE;MAC7B,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,IAAI,EAAE;MAC5B,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,IAAI,EAAE;MAC7B,GAAG,GAAG,GAAG,GAAG,GAAG;MACf,GAAG,GAAG,GAAG,GAAG,GAAG;MACf,GAAG,GAAG,GAAG,GAAG,GAAG;MACf,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;;;;EAIpB,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,CAAC;;EAExE,OAAO;IACL,EAAE,EAAE,GAAG;IACP,EAAE,EAAE,GAAG;IACP,GAAG,EAAE,CAAC,EAAE;IACR,GAAG,EAAE,CAAC,EAAE;IACR,GAAG,EAAE,GAAG,IAAI,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;IACvB,GAAG,EAAE,GAAG,IAAI,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;GACxB,CAAC;CACH;;AAED,AAAe,YAAQ,GAAG;EACxB,IAAI,WAAW,GAAG,cAAc;MAC5B,WAAW,GAAG,cAAc;MAC5B,YAAY,GAAG,QAAQ,CAAC,CAAC,CAAC;MAC1B,SAAS,GAAG,IAAI;MAChB,UAAU,GAAG,aAAa;MAC1B,QAAQ,GAAG,WAAW;MACtB,QAAQ,GAAG,WAAW;MACtB,OAAO,GAAG,IAAI,CAAC;;EAEnB,SAAS,GAAG,GAAG;IACb,IAAI,MAAM;QACN,CAAC;QACD,EAAE,GAAG,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC;QACxC,EAAE,GAAG,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC;QACxC,EAAE,GAAG,UAAU,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,GAAG,MAAM;QAC/C,EAAE,GAAG,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,GAAG,MAAM;QAC7C,EAAE,GAAG,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC;QACjB,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;;IAEjB,IAAI,CAAC,OAAO,EAAE,OAAO,GAAG,MAAM,GAAG,IAAI,EAAE,CAAC;;;IAGxC,IAAI,EAAE,GAAG,EAAE,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;;;IAGrC,IAAI,EAAE,EAAE,GAAGA,SAAO,CAAC,EAAE,OAAO,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;;;SAGrC,IAAI,EAAE,GAAGE,KAAG,GAAGF,SAAO,EAAE;MAC3B,OAAO,CAAC,MAAM,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;MAC3C,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC;MACnC,IAAI,EAAE,GAAGA,SAAO,EAAE;QAChB,OAAO,CAAC,MAAM,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;QAC3C,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;OACnC;KACF;;;SAGI;MACH,IAAI,GAAG,GAAG,EAAE;UACR,GAAG,GAAG,EAAE;UACR,GAAG,GAAG,EAAE;UACR,GAAG,GAAG,EAAE;UACR,GAAG,GAAG,EAAE;UACR,GAAG,GAAG,EAAE;UACR,EAAE,GAAG,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,GAAG,CAAC;UACxC,EAAE,GAAG,CAAC,EAAE,GAAGA,SAAO,MAAM,SAAS,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,GAAG,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;UAChG,EAAE,GAAG,GAAG,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;UAChE,GAAG,GAAG,EAAE;UACR,GAAG,GAAG,EAAE;UACR,EAAE;UACF,EAAE,CAAC;;;MAGP,IAAI,EAAE,GAAGA,SAAO,EAAE;QAChB,IAAI,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC;YAC5B,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;QACjC,IAAI,CAAC,GAAG,IAAI,EAAE,GAAG,CAAC,IAAIA,SAAO,EAAE,EAAE,KAAK,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,GAAG,IAAI,EAAE,EAAE,GAAG,IAAI,EAAE,CAAC;aACpE,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;QACxC,IAAI,CAAC,GAAG,IAAI,EAAE,GAAG,CAAC,IAAIA,SAAO,EAAE,EAAE,KAAK,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,GAAG,IAAI,EAAE,EAAE,GAAG,IAAI,EAAE,CAAC;aACpE,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;OACzC;;MAED,IAAI,GAAG,GAAG,EAAE,GAAG,GAAG,CAAC,GAAG,CAAC;UACnB,GAAG,GAAG,EAAE,GAAG,GAAG,CAAC,GAAG,CAAC;UACnB,GAAG,GAAG,EAAE,GAAG,GAAG,CAAC,GAAG,CAAC;UACnB,GAAG,GAAG,EAAE,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;;;MAGxB,IAAI,EAAE,GAAGA,SAAO,EAAE;QAChB,IAAI,GAAG,GAAG,EAAE,GAAG,GAAG,CAAC,GAAG,CAAC;YACnB,GAAG,GAAG,EAAE,GAAG,GAAG,CAAC,GAAG,CAAC;YACnB,GAAG,GAAG,EAAE,GAAG,GAAG,CAAC,GAAG,CAAC;YACnB,GAAG,GAAG,EAAE,GAAG,GAAG,CAAC,GAAG,CAAC;YACnB,EAAE,CAAC;;;QAGP,IAAI,EAAE,GAAGC,IAAE,KAAK,EAAE,GAAG,SAAS,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,EAAE;UACvE,IAAI,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC;cAChB,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC;cAChB,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC;cAChB,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC;cAChB,EAAE,GAAG,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,KAAK,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,GAAG,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;cACjG,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;UAC7C,GAAG,GAAG,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;UACpC,GAAG,GAAG,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;SACrC;OACF;;;MAGD,IAAI,EAAE,GAAG,GAAGD,SAAO,CAAC,EAAE,OAAO,CAAC,MAAM,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;;;WAG1C,IAAI,GAAG,GAAGA,SAAO,EAAE;QACtB,EAAE,GAAG,cAAc,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,CAAC,CAAC;QACrD,EAAE,GAAG,cAAc,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,CAAC,CAAC;;QAErD,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC;;;QAG/C,IAAI,GAAG,GAAG,EAAE,EAAE,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,GAAG,EAAE,KAAK,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,KAAK,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;;;aAG3F;UACH,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,GAAG,EAAE,KAAK,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,KAAK,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;UAClF,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,EAAE,KAAK,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;UACzG,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,GAAG,EAAE,KAAK,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,KAAK,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;SACnF;OACF;;;WAGI,OAAO,CAAC,MAAM,CAAC,GAAG,EAAE,GAAG,CAAC,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;;;;MAIpE,IAAI,EAAE,EAAE,GAAGA,SAAO,CAAC,IAAI,EAAE,GAAG,GAAGA,SAAO,CAAC,EAAE,OAAO,CAAC,MAAM,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;;;WAG7D,IAAI,GAAG,GAAGA,SAAO,EAAE;QACtB,EAAE,GAAG,cAAc,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;QACtD,EAAE,GAAG,cAAc,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;;QAEtD,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC;;;QAG/C,IAAI,GAAG,GAAG,EAAE,EAAE,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,GAAG,EAAE,KAAK,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,KAAK,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;;;aAG3F;UACH,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,GAAG,EAAE,KAAK,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,KAAK,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;UAClF,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,EAAE,KAAK,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,CAAC;UACxG,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,GAAG,EAAE,KAAK,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,KAAK,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;SACnF;OACF;;;WAGI,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC,CAAC;KAC1C;;IAED,OAAO,CAAC,SAAS,EAAE,CAAC;;IAEpB,IAAI,MAAM,EAAE,OAAO,OAAO,GAAG,IAAI,EAAE,MAAM,GAAG,EAAE,IAAI,IAAI,CAAC;GACxD;;EAED,GAAG,CAAC,QAAQ,GAAG,WAAW;IACxB,IAAI,CAAC,GAAG,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,CAAC;QACnF,CAAC,GAAG,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,CAAC,GAAGC,IAAE,GAAG,CAAC,CAAC;IAC7F,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;GACjC,CAAC;;EAEF,GAAG,CAAC,WAAW,GAAG,SAAS,CAAC,EAAE;IAC5B,OAAO,SAAS,CAAC,MAAM,IAAI,WAAW,GAAG,OAAO,CAAC,KAAK,UAAU,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,IAAI,WAAW,CAAC;GACzG,CAAC;;EAEF,GAAG,CAAC,WAAW,GAAG,SAAS,CAAC,EAAE;IAC5B,OAAO,SAAS,CAAC,MAAM,IAAI,WAAW,GAAG,OAAO,CAAC,KAAK,UAAU,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,IAAI,WAAW,CAAC;GACzG,CAAC;;EAEF,GAAG,CAAC,YAAY,GAAG,SAAS,CAAC,EAAE;IAC7B,OAAO,SAAS,CAAC,MAAM,IAAI,YAAY,GAAG,OAAO,CAAC,KAAK,UAAU,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,IAAI,YAAY,CAAC;GAC3G,CAAC;;EAEF,GAAG,CAAC,SAAS,GAAG,SAAS,CAAC,EAAE;IAC1B,OAAO,SAAS,CAAC,MAAM,IAAI,SAAS,GAAG,CAAC,IAAI,IAAI,GAAG,IAAI,GAAG,OAAO,CAAC,KAAK,UAAU,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,IAAI,SAAS,CAAC;GACxH,CAAC;;EAEF,GAAG,CAAC,UAAU,GAAG,SAAS,CAAC,EAAE;IAC3B,OAAO,SAAS,CAAC,MAAM,IAAI,UAAU,GAAG,OAAO,CAAC,KAAK,UAAU,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,IAAI,UAAU,CAAC;GACvG,CAAC;;EAEF,GAAG,CAAC,QAAQ,GAAG,SAAS,CAAC,EAAE;IACzB,OAAO,SAAS,CAAC,MAAM,IAAI,QAAQ,GAAG,OAAO,CAAC,KAAK,UAAU,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,IAAI,QAAQ,CAAC;GACnG,CAAC;;EAEF,GAAG,CAAC,QAAQ,GAAG,SAAS,CAAC,EAAE;IACzB,OAAO,SAAS,CAAC,MAAM,IAAI,QAAQ,GAAG,OAAO,CAAC,KAAK,UAAU,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,IAAI,QAAQ,CAAC;GACnG,CAAC;;EAEF,GAAG,CAAC,OAAO,GAAG,SAAS,CAAC,EAAE;IACxB,OAAO,SAAS,CAAC,MAAM,IAAI,CAAC,OAAO,GAAG,CAAC,IAAI,IAAI,GAAG,IAAI,GAAG,CAAC,GAAG,GAAG,IAAI,OAAO,CAAC;GAC7E,CAAC;;EAEF,OAAO,GAAG,CAAC;CACZ;;ACpQD,SAAS,MAAM,CAAC,OAAO,EAAE;EACvB,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;CACzB;;AAED,MAAM,CAAC,SAAS,GAAG;EACjB,SAAS,EAAE,WAAW;IACpB,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;GAChB;EACD,OAAO,EAAE,WAAW;IAClB,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC;GAClB;EACD,SAAS,EAAE,WAAW;IACpB,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;GACjB;EACD,OAAO,EAAE,WAAW;IAClB,IAAI,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,KAAK,CAAC,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC;IACrF,IAAI,CAAC,KAAK,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC;GAC7B;EACD,KAAK,EAAE,SAAS,CAAC,EAAE,CAAC,EAAE;IACpB,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;IACf,QAAQ,IAAI,CAAC,MAAM;MACjB,KAAK,CAAC,EAAE,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM;MACrG,KAAK,CAAC,EAAE,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;MACxB,SAAS,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM;KAC5C;GACF;CACF,CAAC;;AAEF,AAAe,oBAAQ,CAAC,OAAO,EAAE;EAC/B,OAAO,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC;CAC5B;;AC9BM,SAAS,CAAC,CAAC,CAAC,EAAE;EACnB,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;CACb;;AAED,AAAO,SAAS,CAAC,CAAC,CAAC,EAAE;EACnB,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;CACb;;ACDc,aAAQ,GAAG;EACxB,IAAI5P,GAAC,GAAG8P,CAAM;MACV3P,GAAC,GAAG4P,CAAM;MACV,OAAO,GAAG,QAAQ,CAAC,IAAI,CAAC;MACxB,OAAO,GAAG,IAAI;MACd,KAAK,GAAG,WAAW;MACnB,MAAM,GAAG,IAAI,CAAC;;EAElB,SAAS,IAAI,CAAC,IAAI,EAAE;IAClB,IAAI,CAAC;QACD,CAAC,GAAG,IAAI,CAAC,MAAM;QACf,CAAC;QACD,QAAQ,GAAG,KAAK;QAChB,MAAM,CAAC;;IAEX,IAAI,OAAO,IAAI,IAAI,EAAE,MAAM,GAAG,KAAK,CAAC,MAAM,GAAG,IAAI,EAAE,CAAC,CAAC;;IAErD,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,EAAE;MACvB,IAAI,EAAE,CAAC,GAAG,CAAC,IAAI,OAAO,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC,KAAK,QAAQ,EAAE;QAC1D,IAAI,QAAQ,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC,SAAS,EAAE,CAAC;aACxC,MAAM,CAAC,OAAO,EAAE,CAAC;OACvB;MACD,IAAI,QAAQ,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC/P,GAAC,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,EAAE,CAACG,GAAC,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;KAC5D;;IAED,IAAI,MAAM,EAAE,OAAO,MAAM,GAAG,IAAI,EAAE,MAAM,GAAG,EAAE,IAAI,IAAI,CAAC;GACvD;;EAED,IAAI,CAAC,CAAC,GAAG,SAAS,CAAC,EAAE;IACnB,OAAO,SAAS,CAAC,MAAM,IAAIH,GAAC,GAAG,OAAO,CAAC,KAAK,UAAU,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,IAAIA,GAAC,CAAC;GACtF,CAAC;;EAEF,IAAI,CAAC,CAAC,GAAG,SAAS,CAAC,EAAE;IACnB,OAAO,SAAS,CAAC,MAAM,IAAIG,GAAC,GAAG,OAAO,CAAC,KAAK,UAAU,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,IAAIA,GAAC,CAAC;GACtF,CAAC;;EAEF,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC,EAAE;IACzB,OAAO,SAAS,CAAC,MAAM,IAAI,OAAO,GAAG,OAAO,CAAC,KAAK,UAAU,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,IAAI,OAAO,CAAC;GACnG,CAAC;;EAEF,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC,EAAE;IACvB,OAAO,SAAS,CAAC,MAAM,IAAI,KAAK,GAAG,CAAC,EAAE,OAAO,IAAI,IAAI,KAAK,MAAM,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC,EAAE,IAAI,IAAI,KAAK,CAAC;GACnG,CAAC;;EAEF,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC,EAAE;IACzB,OAAO,SAAS,CAAC,MAAM,IAAI,CAAC,IAAI,IAAI,GAAG,OAAO,GAAG,MAAM,GAAG,IAAI,GAAG,MAAM,GAAG,KAAK,CAAC,OAAO,GAAG,CAAC,CAAC,EAAE,IAAI,IAAI,OAAO,CAAC;GAC/G,CAAC;;EAEF,OAAO,IAAI,CAAC;CACb;;AChDc,aAAQ,GAAG;EACxB,IAAI,EAAE,GAAG2P,CAAM;MACX,EAAE,GAAG,IAAI;MACT,EAAE,GAAG,QAAQ,CAAC,CAAC,CAAC;MAChB,EAAE,GAAGC,CAAM;MACX,OAAO,GAAG,QAAQ,CAAC,IAAI,CAAC;MACxB,OAAO,GAAG,IAAI;MACd,KAAK,GAAG,WAAW;MACnB,MAAM,GAAG,IAAI,CAAC;;EAElB,SAAS,IAAI,CAAC,IAAI,EAAE;IAClB,IAAI,CAAC;QACD,CAAC;QACD,CAAC;QACD,CAAC,GAAG,IAAI,CAAC,MAAM;QACf,CAAC;QACD,QAAQ,GAAG,KAAK;QAChB,MAAM;QACN,GAAG,GAAG,IAAI,KAAK,CAAC,CAAC,CAAC;QAClB,GAAG,GAAG,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC;;IAEvB,IAAI,OAAO,IAAI,IAAI,EAAE,MAAM,GAAG,KAAK,CAAC,MAAM,GAAG,IAAI,EAAE,CAAC,CAAC;;IAErD,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,EAAE;MACvB,IAAI,EAAE,CAAC,GAAG,CAAC,IAAI,OAAO,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC,KAAK,QAAQ,EAAE;QAC1D,IAAI,QAAQ,GAAG,CAAC,QAAQ,EAAE;UACxB,CAAC,GAAG,CAAC,CAAC;UACN,MAAM,CAAC,SAAS,EAAE,CAAC;UACnB,MAAM,CAAC,SAAS,EAAE,CAAC;SACpB,MAAM;UACL,MAAM,CAAC,OAAO,EAAE,CAAC;UACjB,MAAM,CAAC,SAAS,EAAE,CAAC;UACnB,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,EAAE;YAC3B,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;WAC9B;UACD,MAAM,CAAC,OAAO,EAAE,CAAC;UACjB,MAAM,CAAC,OAAO,EAAE,CAAC;SAClB;OACF;MACD,IAAI,QAAQ,EAAE;QACZ,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;QACnD,MAAM,CAAC,KAAK,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;OAC5E;KACF;;IAED,IAAI,MAAM,EAAE,OAAO,MAAM,GAAG,IAAI,EAAE,MAAM,GAAG,EAAE,IAAI,IAAI,CAAC;GACvD;;EAED,SAAS,QAAQ,GAAG;IAClB,OAAO,IAAI,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;GAC9D;;EAED,IAAI,CAAC,CAAC,GAAG,SAAS,CAAC,EAAE;IACnB,OAAO,SAAS,CAAC,MAAM,IAAI,EAAE,GAAG,OAAO,CAAC,KAAK,UAAU,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,GAAG,IAAI,EAAE,IAAI,IAAI,EAAE,CAAC;GACnG,CAAC;;EAEF,IAAI,CAAC,EAAE,GAAG,SAAS,CAAC,EAAE;IACpB,OAAO,SAAS,CAAC,MAAM,IAAI,EAAE,GAAG,OAAO,CAAC,KAAK,UAAU,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,IAAI,EAAE,CAAC;GACxF,CAAC;;EAEF,IAAI,CAAC,EAAE,GAAG,SAAS,CAAC,EAAE;IACpB,OAAO,SAAS,CAAC,MAAM,IAAI,EAAE,GAAG,CAAC,IAAI,IAAI,GAAG,IAAI,GAAG,OAAO,CAAC,KAAK,UAAU,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,IAAI,EAAE,CAAC;GAC3G,CAAC;;EAEF,IAAI,CAAC,CAAC,GAAG,SAAS,CAAC,EAAE;IACnB,OAAO,SAAS,CAAC,MAAM,IAAI,EAAE,GAAG,OAAO,CAAC,KAAK,UAAU,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,GAAG,IAAI,EAAE,IAAI,IAAI,EAAE,CAAC;GACnG,CAAC;;EAEF,IAAI,CAAC,EAAE,GAAG,SAAS,CAAC,EAAE;IACpB,OAAO,SAAS,CAAC,MAAM,IAAI,EAAE,GAAG,OAAO,CAAC,KAAK,UAAU,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,IAAI,EAAE,CAAC;GACxF,CAAC;;EAEF,IAAI,CAAC,EAAE,GAAG,SAAS,CAAC,EAAE;IACpB,OAAO,SAAS,CAAC,MAAM,IAAI,EAAE,GAAG,CAAC,IAAI,IAAI,GAAG,IAAI,GAAG,OAAO,CAAC,KAAK,UAAU,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,IAAI,EAAE,CAAC;GAC3G,CAAC;;EAEF,IAAI,CAAC,MAAM;EACX,IAAI,CAAC,MAAM,GAAG,WAAW;IACvB,OAAO,QAAQ,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;GAC/B,CAAC;;EAEF,IAAI,CAAC,MAAM,GAAG,WAAW;IACvB,OAAO,QAAQ,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;GAC/B,CAAC;;EAEF,IAAI,CAAC,MAAM,GAAG,WAAW;IACvB,OAAO,QAAQ,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;GAC/B,CAAC;;EAEF,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC,EAAE;IACzB,OAAO,SAAS,CAAC,MAAM,IAAI,OAAO,GAAG,OAAO,CAAC,KAAK,UAAU,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,IAAI,OAAO,CAAC;GACnG,CAAC;;EAEF,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC,EAAE;IACvB,OAAO,SAAS,CAAC,MAAM,IAAI,KAAK,GAAG,CAAC,EAAE,OAAO,IAAI,IAAI,KAAK,MAAM,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC,EAAE,IAAI,IAAI,KAAK,CAAC;GACnG,CAAC;;EAEF,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC,EAAE;IACzB,OAAO,SAAS,CAAC,MAAM,IAAI,CAAC,IAAI,IAAI,GAAG,OAAO,GAAG,MAAM,GAAG,IAAI,GAAG,MAAM,GAAG,KAAK,CAAC,OAAO,GAAG,CAAC,CAAC,EAAE,IAAI,IAAI,OAAO,CAAC;GAC/G,CAAC;;EAEF,OAAO,IAAI,CAAC;CACb;;AC5Gc,mBAAQ,CAAC,CAAC,EAAE,CAAC,EAAE;EAC5B,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;CAClD;;ACFc,iBAAQ,CAAC,CAAC,EAAE;EACzB,OAAO,CAAC,CAAC;CACV;;ACGc,YAAQ,GAAG;EACxB,IAAI,KAAK,GAAG,QAAQ;MAChB,UAAU,GAAG,UAAU;MACvB,IAAI,GAAG,IAAI;MACX,UAAU,GAAG,QAAQ,CAAC,CAAC,CAAC;MACxB,QAAQ,GAAG,QAAQ,CAACF,KAAG,CAAC;MACxB,QAAQ,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;;EAE3B,SAAS,GAAG,CAAC,IAAI,EAAE;IACjB,IAAI,CAAC;QACD,CAAC,GAAG,IAAI,CAAC,MAAM;QACf,CAAC;QACD,CAAC;QACD,GAAG,GAAG,CAAC;QACP,KAAK,GAAG,IAAI,KAAK,CAAC,CAAC,CAAC;QACpB,IAAI,GAAG,IAAI,KAAK,CAAC,CAAC,CAAC;QACnB,EAAE,GAAG,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC;QACvC,EAAE,GAAG,IAAI,CAAC,GAAG,CAACA,KAAG,EAAE,IAAI,CAAC,GAAG,CAAC,CAACA,KAAG,EAAE,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,GAAG,EAAE,CAAC,CAAC;QACxE,EAAE;QACF,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;QAC/D,EAAE,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;QAC1B,CAAC,CAAC;;IAEN,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;MACtB,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,EAAE;QAC3D,GAAG,IAAI,CAAC,CAAC;OACV;KACF;;;IAGD,IAAI,UAAU,IAAI,IAAI,EAAE,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,EAAE,EAAE,OAAO,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;SACvF,IAAI,IAAI,IAAI,IAAI,EAAE,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,EAAE,EAAE,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;;;IAGrF,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,GAAG,CAAC,EAAE,GAAG,CAAC,GAAG,EAAE,IAAI,GAAG,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,GAAG,EAAE,EAAE;MAClE,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC,GAAG;QACvE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC;QACb,KAAK,EAAE,CAAC;QACR,KAAK,EAAE,CAAC;QACR,UAAU,EAAE,EAAE;QACd,QAAQ,EAAE,EAAE;QACZ,QAAQ,EAAE,CAAC;OACZ,CAAC;KACH;;IAED,OAAO,IAAI,CAAC;GACb;;EAED,GAAG,CAAC,KAAK,GAAG,SAAS,CAAC,EAAE;IACtB,OAAO,SAAS,CAAC,MAAM,IAAI,KAAK,GAAG,OAAO,CAAC,KAAK,UAAU,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,IAAI,KAAK,CAAC;GAC7F,CAAC;;EAEF,GAAG,CAAC,UAAU,GAAG,SAAS,CAAC,EAAE;IAC3B,OAAO,SAAS,CAAC,MAAM,IAAI,UAAU,GAAG,CAAC,EAAE,IAAI,GAAG,IAAI,EAAE,GAAG,IAAI,UAAU,CAAC;GAC3E,CAAC;;EAEF,GAAG,CAAC,IAAI,GAAG,SAAS,CAAC,EAAE;IACrB,OAAO,SAAS,CAAC,MAAM,IAAI,IAAI,GAAG,CAAC,EAAE,UAAU,GAAG,IAAI,EAAE,GAAG,IAAI,IAAI,CAAC;GACrE,CAAC;;EAEF,GAAG,CAAC,UAAU,GAAG,SAAS,CAAC,EAAE;IAC3B,OAAO,SAAS,CAAC,MAAM,IAAI,UAAU,GAAG,OAAO,CAAC,KAAK,UAAU,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,IAAI,UAAU,CAAC;GACvG,CAAC;;EAEF,GAAG,CAAC,QAAQ,GAAG,SAAS,CAAC,EAAE;IACzB,OAAO,SAAS,CAAC,MAAM,IAAI,QAAQ,GAAG,OAAO,CAAC,KAAK,UAAU,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,IAAI,QAAQ,CAAC;GACnG,CAAC;;EAEF,GAAG,CAAC,QAAQ,GAAG,SAAS,CAAC,EAAE;IACzB,OAAO,SAAS,CAAC,MAAM,IAAI,QAAQ,GAAG,OAAO,CAAC,KAAK,UAAU,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,IAAI,QAAQ,CAAC;GACnG,CAAC;;EAEF,OAAO,GAAG,CAAC;CACZ;;AC9EM,IAAI,KAAK,GAAG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC;;ACAlC,SAAS,KAAK,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE;EAChC,IAAI,CAAC,QAAQ,CAAC,aAAa;IACzB,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC;IAC7B,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC;IAC7B,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC;IAC7B,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC;IAC7B,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC;IACjC,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC;GAClC,CAAC;CACH;;AAED,AAAO,SAAS,KAAK,CAAC,OAAO,EAAE;EAC7B,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;CACzB;;AAED,KAAK,CAAC,SAAS,GAAG;EAChB,SAAS,EAAE,WAAW;IACpB,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;GAChB;EACD,OAAO,EAAE,WAAW;IAClB,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC;GAClB;EACD,SAAS,EAAE,WAAW;IACpB,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG;IACnB,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;IAC1B,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;GACjB;EACD,OAAO,EAAE,WAAW;IAClB,QAAQ,IAAI,CAAC,MAAM;MACjB,KAAK,CAAC,EAAE,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;MACxC,KAAK,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM;KACzD;IACD,IAAI,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,KAAK,CAAC,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC;IACrF,IAAI,CAAC,KAAK,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC;GAC7B;EACD,KAAK,EAAE,SAAS,CAAC,EAAE,CAAC,EAAE;IACpB,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;IACf,QAAQ,IAAI,CAAC,MAAM;MACjB,KAAK,CAAC,EAAE,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM;MACrG,KAAK,CAAC,EAAE,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,MAAM;MAC/B,KAAK,CAAC,EAAE,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;MAC5G,SAAS,KAAK,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM;KACnC;IACD,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC;IAClC,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC;GACnC;CACF,CAAC;;AAEF,AAAe,mBAAQ,CAAC,OAAO,EAAE;EAC/B,OAAO,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC;CAC3B;;AClDM,SAAShQ,OAAK,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE;EAChC,IAAI,CAAC,QAAQ,CAAC,aAAa;IACzB,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;IAC1C,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;IAC1C,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC;IACnC,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC;IACnC,IAAI,CAAC,GAAG;IACR,IAAI,CAAC,GAAG;GACT,CAAC;CACH;;AAED,AAAO,SAAS,QAAQ,CAAC,OAAO,EAAE,OAAO,EAAE;EACzC,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;EACxB,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,OAAO,IAAI,CAAC,CAAC;CAC7B;;AAED,QAAQ,CAAC,SAAS,GAAG;EACnB,SAAS,EAAE,WAAW;IACpB,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;GAChB;EACD,OAAO,EAAE,WAAW;IAClB,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC;GAClB;EACD,SAAS,EAAE,WAAW;IACpB,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG;IAC9B,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;IACrC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;GACjB;EACD,OAAO,EAAE,WAAW;IAClB,QAAQ,IAAI,CAAC,MAAM;MACjB,KAAK,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM;MACxD,KAAK,CAAC,EAAEA,OAAK,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM;KAChD;IACD,IAAI,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,KAAK,CAAC,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC;IACrF,IAAI,CAAC,KAAK,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC;GAC7B;EACD,KAAK,EAAE,SAAS,CAAC,EAAE,CAAC,EAAE;IACpB,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;IACf,QAAQ,IAAI,CAAC,MAAM;MACjB,KAAK,CAAC,EAAE,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM;MACrG,KAAK,CAAC,EAAE,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,EAAE,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,MAAM;MAC3D,KAAK,CAAC,EAAE,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;MACxB,SAASA,OAAK,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM;KACnC;IACD,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC;IACvD,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC;GACxD;CACF,CAAC;;AAEF,oBAAe,CAAC,SAAS,MAAM,CAAC,OAAO,EAAE;;EAEvC,SAAS,QAAQ,CAAC,OAAO,EAAE;IACzB,OAAO,IAAI,QAAQ,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;GACvC;;EAED,QAAQ,CAAC,OAAO,GAAG,SAAS,OAAO,EAAE;IACnC,OAAO,MAAM,CAAC,CAAC,OAAO,CAAC,CAAC;GACzB,CAAC;;EAEF,OAAO,QAAQ,CAAC;CACjB,EAAE,CAAC,CAAC,CAAC;;ACzDC,SAASA,OAAK,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE;EAChC,IAAI,EAAE,GAAG,IAAI,CAAC,GAAG;MACb,EAAE,GAAG,IAAI,CAAC,GAAG;MACb,EAAE,GAAG,IAAI,CAAC,GAAG;MACb,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC;;EAElB,IAAI,IAAI,CAAC,MAAM,GAAG8P,SAAO,EAAE;IACzB,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,OAAO,GAAG,CAAC,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO;QACnE,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC;IACtD,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,OAAO,IAAI,CAAC,CAAC;IACtE,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,OAAO,IAAI,CAAC,CAAC;GACvE;;EAED,IAAI,IAAI,CAAC,MAAM,GAAGA,SAAO,EAAE;IACzB,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,OAAO,GAAG,CAAC,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO;QACnE,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC;IACtD,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,OAAO,GAAG,CAAC,GAAG,IAAI,CAAC,OAAO,IAAI,CAAC,CAAC;IAC/D,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,OAAO,GAAG,CAAC,GAAG,IAAI,CAAC,OAAO,IAAI,CAAC,CAAC;GAChE;;EAED,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;CACjE;;AAED,SAAS,UAAU,CAAC,OAAO,EAAE,KAAK,EAAE;EAClC,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;EACxB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;CACrB;;AAED,UAAU,CAAC,SAAS,GAAG;EACrB,SAAS,EAAE,WAAW;IACpB,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;GAChB;EACD,OAAO,EAAE,WAAW;IAClB,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC;GAClB;EACD,SAAS,EAAE,WAAW;IACpB,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG;IAC9B,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;IACrC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM;IACvC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO;IAC1C,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;GACjB;EACD,OAAO,EAAE,WAAW;IAClB,QAAQ,IAAI,CAAC,MAAM;MACjB,KAAK,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM;MACxD,KAAK,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM;KAC/C;IACD,IAAI,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,KAAK,CAAC,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC;IACrF,IAAI,CAAC,KAAK,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC;GAC7B;EACD,KAAK,EAAE,SAAS,CAAC,EAAE,CAAC,EAAE;IACpB,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;;IAEf,IAAI,IAAI,CAAC,MAAM,EAAE;MACf,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,CAAC;UAClB,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC;MACvB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;KACtF;;IAED,QAAQ,IAAI,CAAC,MAAM;MACjB,KAAK,CAAC,EAAE,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM;MACrG,KAAK,CAAC,EAAE,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,MAAM;MAC/B,KAAK,CAAC,EAAE,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;MACxB,SAAS9P,OAAK,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM;KACnC;;IAED,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;IACrD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;IACzD,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC;IACvD,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC;GACxD;CACF,CAAC;;AAEF,sBAAe,CAAC,SAAS,MAAM,CAAC,KAAK,EAAE;;EAErC,SAAS,UAAU,CAAC,OAAO,EAAE;IAC3B,OAAO,KAAK,GAAG,IAAI,UAAU,CAAC,OAAO,EAAE,KAAK,CAAC,GAAG,IAAI,QAAQ,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;GAC1E;;EAED,UAAU,CAAC,KAAK,GAAG,SAAS,KAAK,EAAE;IACjC,OAAO,MAAM,CAAC,CAAC,KAAK,CAAC,CAAC;GACvB,CAAC;;EAEF,OAAO,UAAU,CAAC;CACnB,EAAE,GAAG,CAAC,CAAC;;ACvFR,SAAS,IAAI,CAAC,CAAC,EAAE;EACf,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;CACvB;;;;;;AAMD,SAAS,MAAM,CAAC,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE;EAC5B,IAAI,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG;MACxB,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG;MAClB,EAAE,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,KAAK,EAAE,IAAI,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;MACjD,EAAE,GAAG,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,KAAK,EAAE,IAAI,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;MAC3C,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC,CAAC;EACxC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;CAC7F;;;AAGD,SAAS,MAAM,CAAC,IAAI,EAAE,CAAC,EAAE;EACvB,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;EAC5B,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;CACxD;;;;;AAKD,SAASA,OAAK,CAAC,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE;EAC3B,IAAI,EAAE,GAAG,IAAI,CAAC,GAAG;MACb,EAAE,GAAG,IAAI,CAAC,GAAG;MACb,EAAE,GAAG,IAAI,CAAC,GAAG;MACb,EAAE,GAAG,IAAI,CAAC,GAAG;MACb,EAAE,GAAG,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;EACvB,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;CACnF;;AAED,SAAS,SAAS,CAAC,OAAO,EAAE;EAC1B,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;CACzB;;AAED,SAAS,CAAC,SAAS,GAAG;EACpB,SAAS,EAAE,WAAW;IACpB,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;GAChB;EACD,OAAO,EAAE,WAAW;IAClB,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC;GAClB;EACD,SAAS,EAAE,WAAW;IACpB,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG;IACnB,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG;IACnB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;IACf,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;GACjB;EACD,OAAO,EAAE,WAAW;IAClB,QAAQ,IAAI,CAAC,MAAM;MACjB,KAAK,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM;MACxD,KAAK,CAAC,EAAEA,OAAK,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,EAAE,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM;KAC9D;IACD,IAAI,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,KAAK,CAAC,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC;IACrF,IAAI,CAAC,KAAK,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC;GAC7B;EACD,KAAK,EAAE,SAAS,CAAC,EAAE,CAAC,EAAE;IACpB,IAAI,EAAE,GAAG,GAAG,CAAC;;IAEb,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;IACf,IAAI,CAAC,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,IAAI,CAAC,GAAG,EAAE,OAAO;IAC7C,QAAQ,IAAI,CAAC,MAAM;MACjB,KAAK,CAAC,EAAE,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM;MACrG,KAAK,CAAC,EAAE,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,MAAM;MAC/B,KAAK,CAAC,EAAE,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAACA,OAAK,CAAC,IAAI,EAAE,MAAM,CAAC,IAAI,EAAE,EAAE,GAAG,MAAM,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,MAAM;MACvF,SAASA,OAAK,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,EAAE,EAAE,GAAG,MAAM,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM;KAChE;;IAED,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC;IAClC,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC;IAClC,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC;GACf;EACF;;AAED,SAAS,SAAS,CAAC,OAAO,EAAE;EAC1B,IAAI,CAAC,QAAQ,GAAG,IAAI,cAAc,CAAC,OAAO,CAAC,CAAC;CAC7C;;AAED,CAAC,SAAS,CAAC,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE,KAAK,GAAG,SAAS,CAAC,EAAE,CAAC,EAAE;EAChF,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CAC5C,CAAC;;AAEF,SAAS,cAAc,CAAC,OAAO,EAAE;EAC/B,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;CACzB;;AAED,cAAc,CAAC,SAAS,GAAG;EACzB,MAAM,EAAE,SAAS,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE;EACtD,SAAS,EAAE,WAAW,EAAE,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC,EAAE;EACpD,MAAM,EAAE,SAAS,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE;EACtD,aAAa,EAAE,SAAS,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE;CACrG,CAAC;;AAEF,AAAO,SAAS,SAAS,CAAC,OAAO,EAAE;EACjC,OAAO,IAAI,SAAS,CAAC,OAAO,CAAC,CAAC;CAC/B;;AAED,AAAO,SAAS,SAAS,CAAC,OAAO,EAAE;EACjC,OAAO,IAAI,SAAS,CAAC,OAAO,CAAC,CAAC;CAC/B;;ACvGD,SAAS,OAAO,CAAC,OAAO,EAAE;EACxB,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;CACzB;;AAED,OAAO,CAAC,SAAS,GAAG;EAClB,SAAS,EAAE,WAAW;IACpB,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;GAChB;EACD,OAAO,EAAE,WAAW;IAClB,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC;GAClB;EACD,SAAS,EAAE,WAAW;IACpB,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;IACb,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;GACd;EACD,OAAO,EAAE,WAAW;IAClB,IAAI,CAAC,GAAG,IAAI,CAAC,EAAE;QACX,CAAC,GAAG,IAAI,CAAC,EAAE;QACX,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC;;IAEjB,IAAI,CAAC,EAAE;MACL,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACjF,IAAI,CAAC,KAAK,CAAC,EAAE;QACX,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;OAClC,MAAM;QACL,IAAI,EAAE,GAAG,aAAa,CAAC,CAAC,CAAC;YACrB,EAAE,GAAG,aAAa,CAAC,CAAC,CAAC,CAAC;QAC1B,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;UAC3C,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;SACvF;OACF;KACF;;IAED,IAAI,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC;IAC3E,IAAI,CAAC,KAAK,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC;IAC5B,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC;GAC1B;EACD,KAAK,EAAE,SAAS,CAAC,EAAE,CAAC,EAAE;IACpB,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;IACjB,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;GAClB;CACF,CAAC;;;AAGF,SAAS,aAAa,CAAC,CAAC,EAAE;EACxB,IAAI,CAAC;MACD,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC;MAChB,CAAC;MACD,CAAC,GAAG,IAAI,KAAK,CAAC,CAAC,CAAC;MAChB,CAAC,GAAG,IAAI,KAAK,CAAC,CAAC,CAAC;MAChB,CAAC,GAAG,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC;EACrB,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;EAC3C,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EAC/E,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;EAC3D,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EAC7E,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EAC/B,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;EAC7D,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;EACjC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EAC3D,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;CACf;;AAED,AAAe,qBAAQ,CAAC,OAAO,EAAE;EAC/B,OAAO,IAAI,OAAO,CAAC,OAAO,CAAC,CAAC;CAC7B;;AChED,SAAS,IAAI,CAAC,OAAO,EAAE,CAAC,EAAE;EACxB,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;EACxB,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;CACb;;AAED,IAAI,CAAC,SAAS,GAAG;EACf,SAAS,EAAE,WAAW;IACpB,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;GAChB;EACD,OAAO,EAAE,WAAW;IAClB,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC;GAClB;EACD,SAAS,EAAE,WAAW;IACpB,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC;IACxB,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;GACjB;EACD,OAAO,EAAE,WAAW;IAClB,IAAI,CAAC,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,CAAC,EAAE,GAAG,CAAC,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;IAC5F,IAAI,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,KAAK,CAAC,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC;IACrF,IAAI,IAAI,CAAC,KAAK,IAAI,CAAC,EAAE,IAAI,CAAC,EAAE,GAAG,CAAC,GAAG,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,KAAK,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC;GACzE;EACD,KAAK,EAAE,SAAS,CAAC,EAAE,CAAC,EAAE;IACpB,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;IACf,QAAQ,IAAI,CAAC,MAAM;MACjB,KAAK,CAAC,EAAE,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM;MACrG,KAAK,CAAC,EAAE,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;MACxB,SAAS;QACP,IAAI,IAAI,CAAC,EAAE,IAAI,CAAC,EAAE;UAChB,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;UACjC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;SAC5B,MAAM;UACL,IAAI,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC;UAC/C,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;UAClC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;SAC7B;QACD,MAAM;OACP;KACF;IACD,IAAI,CAAC,EAAE,GAAG,CAAC,EAAE,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;GAC1B;CACF,CAAC;;AAEF,AAAe,kBAAQ,CAAC,OAAO,EAAE;EAC/B,OAAO,IAAI,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;CAC/B;;AAED,AAAO,SAAS,UAAU,CAAC,OAAO,EAAE;EAClC,OAAO,IAAI,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;CAC7B;;AAED,AAAO,SAAS,SAAS,CAAC,OAAO,EAAE;EACjC,OAAO,IAAI,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;CAC7B;;ACpDc,wBAAQ,CAAC,MAAM,EAAE,KAAK,EAAE;EACrC,IAAI,EAAE,CAAC,CAAC,GAAG,MAAM,CAAC,MAAM,IAAI,CAAC,CAAC,EAAE,OAAO;EACvC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;IAC1E,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;IAC/B,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;MACtB,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;KAC9D;GACF;CACF;;ACRc,uBAAQ,CAAC,MAAM,EAAE;EAC9B,IAAI,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,GAAG,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC;EACxC,OAAO,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;EAC1B,OAAO,CAAC,CAAC;CACV;;ACCD,SAAS,UAAU,CAAC,CAAC,EAAE,GAAG,EAAE;EAC1B,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC;CACf;;AAED,AAAe,cAAQ,GAAG;EACxB,IAAI,IAAI,GAAG,QAAQ,CAAC,EAAE,CAAC;MACnB,KAAK,GAAGmQ,cAAS;MACjB,MAAM,GAAGC,eAAU;MACnB,KAAK,GAAG,UAAU,CAAC;;EAEvB,SAAS,KAAK,CAAC,IAAI,EAAE;IACnB,IAAI,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC;QAChC,CAAC;QACD,CAAC,GAAG,IAAI,CAAC,MAAM;QACf,CAAC,GAAG,EAAE,CAAC,MAAM;QACb,EAAE,GAAG,IAAI,KAAK,CAAC,CAAC,CAAC;QACjB,EAAE,CAAC;;IAEP,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;MACtB,KAAK,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;QACtE,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;QAChD,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;OACpB;MACD,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC;KACb;;IAED,KAAK,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,KAAK,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;MACtC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC;KACrB;;IAED,MAAM,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;IACf,OAAO,EAAE,CAAC;GACX;;EAED,KAAK,CAAC,IAAI,GAAG,SAAS,CAAC,EAAE;IACvB,OAAO,SAAS,CAAC,MAAM,IAAI,IAAI,GAAG,OAAO,CAAC,KAAK,UAAU,GAAG,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,IAAI,IAAI,CAAC;GACxG,CAAC;;EAEF,KAAK,CAAC,KAAK,GAAG,SAAS,CAAC,EAAE;IACxB,OAAO,SAAS,CAAC,MAAM,IAAI,KAAK,GAAG,OAAO,CAAC,KAAK,UAAU,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,IAAI,KAAK,CAAC;GAC/F,CAAC;;EAEF,KAAK,CAAC,KAAK,GAAG,SAAS,CAAC,EAAE;IACxB,OAAO,SAAS,CAAC,MAAM,IAAI,KAAK,GAAG,CAAC,IAAI,IAAI,GAAGD,cAAS,GAAG,OAAO,CAAC,KAAK,UAAU,GAAG,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,IAAI,KAAK,CAAC;GAClI,CAAC;;EAEF,KAAK,CAAC,MAAM,GAAG,SAAS,CAAC,EAAE;IACzB,OAAO,SAAS,CAAC,MAAM,IAAI,MAAM,GAAG,CAAC,IAAI,IAAI,GAAGC,eAAU,GAAG,CAAC,EAAE,KAAK,IAAI,MAAM,CAAC;GACjF,CAAC;;EAEF,OAAO,KAAK,CAAC;CACd;;ACtDc,0BAAQ,CAAC,MAAM,EAAE,KAAK,EAAE;EACrC,IAAI,EAAE,CAAC,CAAC,GAAG,MAAM,CAAC,MAAM,IAAI,CAAC,CAAC,EAAE,OAAO;EACvC,KAAK,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;IACzD,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;IACtD,IAAI,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;GACrD;EACDC,eAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;CACrB;;ACTc,6BAAQ,CAAC,MAAM,EAAE,KAAK,EAAE;EACrC,IAAI,EAAE,CAAC,CAAC,GAAG,MAAM,CAAC,MAAM,IAAI,CAAC,CAAC,EAAE,OAAO;EACvC,KAAK,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;IAC5E,KAAK,EAAE,GAAG,EAAE,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;MACnC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE;QACnD,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE,CAAC;OAC5B,MAAM,IAAI,EAAE,GAAG,CAAC,EAAE;QACjB,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE,CAAC;OAC5B,MAAM;QACL,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;OACX;KACF;GACF;CACF;;ACXc,8BAAQ,CAAC,MAAM,EAAE,KAAK,EAAE;EACrC,IAAI,EAAE,CAAC,CAAC,GAAG,MAAM,CAAC,MAAM,IAAI,CAAC,CAAC,EAAE,OAAO;EACvC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;IACnE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;IAC7D,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;GAC/B;EACDA,eAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;CACrB;;ACPc,0BAAQ,CAAC,MAAM,EAAE,KAAK,EAAE;EACrC,IAAI,EAAE,CAAC,CAAC,GAAG,MAAM,CAAC,MAAM,IAAI,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,GAAG,CAAC,EAAE,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,MAAM,IAAI,CAAC,CAAC,EAAE,OAAO;EACtF,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;IAC3C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;MAC1C,IAAI,EAAE,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;UACrB,IAAI,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;UACpB,IAAI,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;UACxB,EAAE,GAAG,CAAC,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC;MAC3B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;QAC1B,IAAI,EAAE,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YACrB,IAAI,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;YACpB,IAAI,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;QAC7B,EAAE,IAAI,IAAI,GAAG,IAAI,CAAC;OACnB;MACD,EAAE,IAAI,IAAI,EAAE,EAAE,IAAI,EAAE,GAAG,IAAI,CAAC;KAC7B;IACD,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IACjC,IAAI,EAAE,EAAE,CAAC,IAAI,EAAE,GAAG,EAAE,CAAC;GACtB;EACD,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;EACjCA,eAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;CACrB;;ACrBc,mBAAQ,CAAC,MAAM,EAAE;EAC9B,IAAI,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;EAC7B,OAAOA,cAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;CAC1E;;AAED,SAAS,IAAI,CAAC,MAAM,EAAE;EACpB,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,QAAQ,CAAC;EACzD,OAAO,EAAE,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,EAAE,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC;EAC9D,OAAO,CAAC,CAAC;CACV;;ACTc,4BAAQ,CAAC,MAAM,EAAE;EAC9B,IAAI,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;EAC3B,OAAOA,cAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,EAAE,EAAE,OAAO,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;CACxE;;AAED,AAAO,SAAS,GAAG,CAAC,MAAM,EAAE;EAC1B,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC;EACxC,OAAO,EAAE,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;EAC9C,OAAO,CAAC,CAAC;CACV;;ACRc,4BAAQ,CAAC,MAAM,EAAE;EAC9B,IAAI,CAAC,GAAG,MAAM,CAAC,MAAM;MACjB,CAAC;MACD,CAAC;MACD,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC;MACtB,KAAK,GAAG,UAAU,CAAC,MAAM,CAAC;MAC1B,GAAG,GAAG,CAAC;MACP,MAAM,GAAG,CAAC;MACV,IAAI,GAAG,EAAE;MACT,OAAO,GAAG,EAAE,CAAC;;EAEjB,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;IACtB,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;IACb,IAAI,GAAG,GAAG,MAAM,EAAE;MAChB,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;MACf,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;KACd,MAAM;MACL,MAAM,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;MAClB,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;KACjB;GACF;;EAED,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;CACvC;;ACxBc,0BAAQ,CAAC,MAAM,EAAE;EAC9B,OAAOA,cAAI,CAAC,MAAM,CAAC,CAAC,OAAO,EAAE,CAAC;CAC/B;;ACJc,SAASC,eAAT,CAAyBC,cAAzB,EAA+E;MAAtCC,YAAsC,uEAAvB,aAAuB;MAARjB,MAAQ;MACxFkB,YAAJ;MACMC,GAAG,GAAG,EAAZ;MACMC,MAAM,GAAGJ,cAAc,IAAI;IAC/BK,GAAG,EAAE;aAAM/L,SAAN;KAD0B;IAE/BgM,GAAG,EAAE;aAAM,KAAN;KAF0B;IAG/BC,OAAO,EAAE;aAAMjM,SAAN;;GAHX;EAMA4L,YAAY,GAAGE,MAAM,CAACG,OAAP,EAAf;;;;;;;;;;;;;;;WAeSC,GAAT,CAAahT,GAAb,EAAkBmD,KAAlB,EAAyB;QACnB,CAACnD,GAAD,IAAQ,OAAOA,GAAP,KAAe,QAA3B,EAAqC;YAC7B,IAAIX,SAAJ,CAAc,kDAAd,CAAN;;;QAEEW,GAAG,IAAI2S,GAAX,EAAgB;aACP,KAAP;;;IAEFA,GAAG,CAAC3S,GAAD,CAAH,GAAWmD,KAAX;WACO,IAAP;;;WAGO0P,GAAT,CAAa7S,GAAb,EAAkB;WACT2S,GAAG,CAAC3S,GAAD,CAAH,IAAY4S,MAAM,CAACC,GAAP,CAAW7S,GAAX,CAAnB;;;WAGO8S,GAAT,CAAa9S,GAAb,EAAkB;WACT,CAAC,CAAC2S,GAAG,CAAC3S,GAAD,CAAL,IAAc4S,MAAM,CAACE,GAAP,CAAW9S,GAAX,CAArB;;;WAGOiT,MAAT,CAAgBjT,GAAhB,EAAqB;QACb4O,CAAC,GAAG+D,GAAG,CAAC3S,GAAD,CAAb;WACO2S,GAAG,CAAC3S,GAAD,CAAV;WACO4O,CAAP;;;WAGOsE,OAAT,GAAmB;WACVpT,MAAM,CAACgS,IAAP,CAAYa,GAAZ,CAAP;;;WAGOQ,SAAT,GAAqB;WACZrT,MAAM,CAACgS,IAAP,CAAYa,GAAZ,EAAiB7U,GAAjB,CAAqB,UAACkC,GAAD;aAAS2S,GAAG,CAAC3S,GAAD,CAAZ;KAArB,CAAP;;;WAGOoT,KAAT,CAAexE,CAAf,EAAkB;QACZ,OAAOA,CAAP,KAAa,WAAjB,EAA8B;MAC5B8D,YAAY,GAAG9D,CAAf;;;WAEK8D,YAAP;;;;;;;;;;WASOW,QAAT,CAAkBrT,GAAlB,EAAuBmD,KAAvB,EAA8B;QACxB,OAAOA,KAAP,KAAiB,WAArB,EAAkC;aACzB6P,GAAG,CAAChT,GAAD,EAAMmD,KAAN,CAAV;;;QAEImQ,GAAG,GAAGT,GAAG,CAAC7S,GAAD,CAAf;;QACIwR,MAAM,IAAI,OAAO8B,GAAP,KAAe,WAA7B,EAA0C;MACxC9B,MAAM,CAACE,IAAP,WAAe1R,GAAf,gCAAwCyS,YAAxC;;;WAEKa,GAAG,IAAIT,GAAG,CAACH,YAAD,CAAjB;;;EAGFW,QAAQ,CAACL,GAAT,GAAeA,GAAf;EACAK,QAAQ,CAACR,GAAT,GAAeA,GAAf;EACAQ,QAAQ,CAACP,GAAT,GAAeA,GAAf;EACAO,QAAQ,CAACJ,MAAT,GAAkBA,MAAlB;EACAI,QAAQ,CAACH,OAAT,GAAmBA,OAAnB;EACAG,QAAQ,CAACF,SAAT,GAAqBA,SAArB;EACAE,QAAQ,CAACN,OAAT,GAAmBK,KAAnB;EACAC,QAAQ,CAACE,QAAT,GAAoBP,GAApB,CAxF4F;;SA0FrFK,QAAP;;;AC1FF;;;AAGA,AAAe,sBAAQ,CAAC,CAAC,EAAE,CAAC,EAAE;EAC5B,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,aAAa,EAAE,EAAE,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,OAAO,IAAI,CAAC;EAC7F,IAAI,CAAC,EAAE,WAAW,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;;;;EAInC,OAAO;IACL,WAAW,CAAC,MAAM,GAAG,CAAC,GAAG,WAAW,CAAC,CAAC,CAAC,GAAG,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,WAAW;IAC5E,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC;GAChB,CAAC;CACH;;ACXc,iBAAQ,CAAC,CAAC,EAAE;EACzB,OAAO,CAAC,GAAG,aAAa,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;CACvD;;ACJc,oBAAQ,CAAC,QAAQ,EAAE,SAAS,EAAE;EAC3C,OAAO,SAAS,KAAK,EAAE,KAAK,EAAE;IAC5B,IAAI,CAAC,GAAG,KAAK,CAAC,MAAM;QAChB,CAAC,GAAG,EAAE;QACN,CAAC,GAAG,CAAC;QACL,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC;QACf,MAAM,GAAG,CAAC,CAAC;;IAEf,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;MACrB,IAAI,MAAM,GAAG,CAAC,GAAG,CAAC,GAAG,KAAK,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,GAAG,MAAM,CAAC,CAAC;MAC5D,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;MACvC,IAAI,CAAC,MAAM,IAAI,CAAC,GAAG,CAAC,IAAI,KAAK,EAAE,MAAM;MACrC,CAAC,GAAG,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,QAAQ,CAAC,MAAM,CAAC,CAAC;KAC7C;;IAED,OAAO,CAAC,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;GACpC,CAAC;CACH;;ACjBc,uBAAQ,CAAC,QAAQ,EAAE;EAChC,OAAO,SAAS,KAAK,EAAE;IACrB,OAAO,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,SAAS,CAAC,EAAE;MACzC,OAAO,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;KACrB,CAAC,CAAC;GACJ,CAAC;CACH;;ACND;AACA,IAAI,EAAE,GAAG,0EAA0E,CAAC;;AAEpF,AAAe,SAAS,eAAe,CAAC,SAAS,EAAE;EACjD,IAAI,EAAE,KAAK,GAAG,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,MAAM,IAAI,KAAK,CAAC,kBAAkB,GAAG,SAAS,CAAC,CAAC;EACnF,IAAI,KAAK,CAAC;EACV,OAAO,IAAI,eAAe,CAAC;IACzB,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC;IACd,KAAK,EAAE,KAAK,CAAC,CAAC,CAAC;IACf,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC;IACd,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC;IAChB,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC;IACd,KAAK,EAAE,KAAK,CAAC,CAAC,CAAC;IACf,KAAK,EAAE,KAAK,CAAC,CAAC,CAAC;IACf,SAAS,EAAE,KAAK,CAAC,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;IACxC,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC;IACd,IAAI,EAAE,KAAK,CAAC,EAAE,CAAC;GAChB,CAAC,CAAC;CACJ;;AAED,eAAe,CAAC,SAAS,GAAG,eAAe,CAAC,SAAS,CAAC;;AAEtD,AAAO,SAAS,eAAe,CAAC,SAAS,EAAE;EACzC,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC,IAAI,KAAK,SAAS,GAAG,GAAG,GAAG,SAAS,CAAC,IAAI,GAAG,EAAE,CAAC;EACrE,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,KAAK,SAAS,GAAG,GAAG,GAAG,SAAS,CAAC,KAAK,GAAG,EAAE,CAAC;EACxE,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC,IAAI,KAAK,SAAS,GAAG,GAAG,GAAG,SAAS,CAAC,IAAI,GAAG,EAAE,CAAC;EACrE,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC,MAAM,KAAK,SAAS,GAAG,EAAE,GAAG,SAAS,CAAC,MAAM,GAAG,EAAE,CAAC;EAC1E,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC;EAC7B,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,KAAK,SAAS,GAAG,SAAS,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC;EAC1E,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC;EAC/B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC,SAAS,KAAK,SAAS,GAAG,SAAS,GAAG,CAAC,SAAS,CAAC,SAAS,CAAC;EACtF,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC;EAC7B,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC,IAAI,KAAK,SAAS,GAAG,EAAE,GAAG,SAAS,CAAC,IAAI,GAAG,EAAE,CAAC;CACrE;;AAED,eAAe,CAAC,SAAS,CAAC,QAAQ,GAAG,WAAW;EAC9C,OAAO,IAAI,CAAC,IAAI;QACV,IAAI,CAAC,KAAK;QACV,IAAI,CAAC,IAAI;QACT,IAAI,CAAC,MAAM;SACV,IAAI,CAAC,IAAI,GAAG,GAAG,GAAG,EAAE,CAAC;SACrB,IAAI,CAAC,KAAK,KAAK,SAAS,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;SAC5D,IAAI,CAAC,KAAK,GAAG,GAAG,GAAG,EAAE,CAAC;SACtB,IAAI,CAAC,SAAS,KAAK,SAAS,GAAG,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;SAC1E,IAAI,CAAC,IAAI,GAAG,GAAG,GAAG,EAAE,CAAC;QACtB,IAAI,CAAC,IAAI,CAAC;CACjB,CAAC;;AC9CF;AACA,AAAe,mBAAQ,CAAC,CAAC,EAAE;EACzB,GAAG,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;IAC1D,QAAQ,CAAC,CAAC,CAAC,CAAC;MACV,KAAK,GAAG,EAAE,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC,MAAM;MAC7B,KAAK,GAAG,EAAE,IAAI,EAAE,KAAK,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,MAAM;MAC9C,SAAS,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,MAAM,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,MAAM;KAC/D;GACF;EACD,OAAO,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;CACtD;;ACRM,IAAI,cAAc,CAAC;;AAE1B,AAAe,yBAAQ,CAAC,CAAC,EAAE,CAAC,EAAE;EAC5B,IAAI,CAAC,GAAG,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EAC5B,IAAI,CAAC,CAAC,EAAE,OAAO,CAAC,GAAG,EAAE,CAAC;EACtB,IAAI,WAAW,GAAG,CAAC,CAAC,CAAC,CAAC;MAClB,QAAQ,GAAG,CAAC,CAAC,CAAC,CAAC;MACf,CAAC,GAAG,QAAQ,IAAI,cAAc,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;MAC7F,CAAC,GAAG,WAAW,CAAC,MAAM,CAAC;EAC3B,OAAO,CAAC,KAAK,CAAC,GAAG,WAAW;QACtB,CAAC,GAAG,CAAC,GAAG,WAAW,GAAG,IAAI,KAAK,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;QACpD,CAAC,GAAG,CAAC,GAAG,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,GAAG,GAAG,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC;QAC5D,IAAI,GAAG,IAAI,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,aAAa,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;CACvF;;ACbc,sBAAQ,CAAC,CAAC,EAAE,CAAC,EAAE;EAC5B,IAAI,CAAC,GAAG,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EAC5B,IAAI,CAAC,CAAC,EAAE,OAAO,CAAC,GAAG,EAAE,CAAC;EACtB,IAAI,WAAW,GAAG,CAAC,CAAC,CAAC,CAAC;MAClB,QAAQ,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;EACpB,OAAO,QAAQ,GAAG,CAAC,GAAG,IAAI,GAAG,IAAI,KAAK,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,WAAW;QACnE,WAAW,CAAC,MAAM,GAAG,QAAQ,GAAG,CAAC,GAAG,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,QAAQ,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,WAAW,CAAC,KAAK,CAAC,QAAQ,GAAG,CAAC,CAAC;QAC9G,WAAW,GAAG,IAAI,KAAK,CAAC,QAAQ,GAAG,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;CAC5E;;ACPD,kBAAe;EACb,GAAG,EAAE,SAAS,CAAC,EAAE,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,GAAG,GAAG,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE;EACpD,GAAG,EAAE,SAAS,CAAC,EAAE,EAAE,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE;EACtD,GAAG,EAAE,SAAS,CAAC,EAAE,EAAE,OAAO,CAAC,GAAG,EAAE,CAAC,EAAE;EACnC,GAAG,EAAE,SAAS,CAAC,EAAE,EAAE,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,EAAE;EACvD,GAAG,EAAE,SAAS,CAAC,EAAE,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,EAAE;EAClD,GAAG,EAAE,SAAS,CAAC,EAAE,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE;EAC5C,GAAG,EAAE,SAAS,CAAC,EAAE,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,EAAE;EAChD,GAAG,EAAE,SAAS,CAAC,EAAE,EAAE,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE;EACtD,GAAG,EAAE,SAAS,CAAC,EAAE,CAAC,EAAE,EAAE,OAAO,aAAa,CAAC,CAAC,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE;EACzD,GAAG,EAAE,aAAa;EAClB,GAAG,EAAE,gBAAgB;EACrB,GAAG,EAAE,SAAS,CAAC,EAAE,EAAE,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,WAAW,EAAE,CAAC,EAAE;EACrE,GAAG,EAAE,SAAS,CAAC,EAAE,EAAE,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,EAAE;CACxD,CAAC;;ACjBa,mBAAQ,CAAC,CAAC,EAAE;EACzB,OAAO,CAAC,CAAC;CACV;;ACOD,IAAI,GAAG,GAAG,KAAK,CAAC,SAAS,CAAC,GAAG;IACzB,QAAQ,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;;AAEpF,AAAe,qBAAQ,CAAC,MAAM,EAAE;EAC9B,IAAI,KAAK,GAAG,MAAM,CAAC,QAAQ,KAAK,SAAS,IAAI,MAAM,CAAC,SAAS,KAAK,SAAS,GAAGG,UAAQ,GAAG,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,MAAM,CAAC,EAAE,MAAM,CAAC,SAAS,GAAG,EAAE,CAAC;MAC1J,cAAc,GAAG,MAAM,CAAC,QAAQ,KAAK,SAAS,GAAG,EAAE,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,EAAE;MAC7E,cAAc,GAAG,MAAM,CAAC,QAAQ,KAAK,SAAS,GAAG,EAAE,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,EAAE;MAC7E,OAAO,GAAG,MAAM,CAAC,OAAO,KAAK,SAAS,GAAG,GAAG,GAAG,MAAM,CAAC,OAAO,GAAG,EAAE;MAClE,QAAQ,GAAG,MAAM,CAAC,QAAQ,KAAK,SAAS,GAAGA,UAAQ,GAAG,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;MACvG,OAAO,GAAG,MAAM,CAAC,OAAO,KAAK,SAAS,GAAG,GAAG,GAAG,MAAM,CAAC,OAAO,GAAG,EAAE;MAClE,KAAK,GAAG,MAAM,CAAC,KAAK,KAAK,SAAS,GAAG,GAAG,GAAG,MAAM,CAAC,KAAK,GAAG,EAAE;MAC5D,GAAG,GAAG,MAAM,CAAC,GAAG,KAAK,SAAS,GAAG,KAAK,GAAG,MAAM,CAAC,GAAG,GAAG,EAAE,CAAC;;EAE7D,SAAS,SAAS,CAAC,SAAS,EAAE;IAC5B,SAAS,GAAG,eAAe,CAAC,SAAS,CAAC,CAAC;;IAEvC,IAAI,IAAI,GAAG,SAAS,CAAC,IAAI;QACrB,KAAK,GAAG,SAAS,CAAC,KAAK;QACvB,IAAI,GAAG,SAAS,CAAC,IAAI;QACrB,MAAM,GAAG,SAAS,CAAC,MAAM;QACzB,IAAI,GAAG,SAAS,CAAC,IAAI;QACrB,KAAK,GAAG,SAAS,CAAC,KAAK;QACvB,KAAK,GAAG,SAAS,CAAC,KAAK;QACvB,SAAS,GAAG,SAAS,CAAC,SAAS;QAC/B,IAAI,GAAG,SAAS,CAAC,IAAI;QACrB,IAAI,GAAG,SAAS,CAAC,IAAI,CAAC;;;IAG1B,IAAI,IAAI,KAAK,GAAG,EAAE,KAAK,GAAG,IAAI,EAAE,IAAI,GAAG,GAAG,CAAC;;;SAGtC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,SAAS,KAAK,SAAS,KAAK,SAAS,GAAG,EAAE,CAAC,EAAE,IAAI,GAAG,IAAI,EAAE,IAAI,GAAG,GAAG,CAAC;;;IAGlG,IAAI,IAAI,KAAK,IAAI,KAAK,GAAG,IAAI,KAAK,KAAK,GAAG,CAAC,EAAE,IAAI,GAAG,IAAI,EAAE,IAAI,GAAG,GAAG,EAAE,KAAK,GAAG,GAAG,CAAC;;;;IAIlF,IAAI,MAAM,GAAG,MAAM,KAAK,GAAG,GAAG,cAAc,GAAG,MAAM,KAAK,GAAG,IAAI,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,WAAW,EAAE,GAAG,EAAE;QAChH,MAAM,GAAG,MAAM,KAAK,GAAG,GAAG,cAAc,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,OAAO,GAAG,EAAE,CAAC;;;;;IAKhF,IAAI,UAAU,GAAG,WAAW,CAAC,IAAI,CAAC;QAC9B,WAAW,GAAG,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;;;;;;IAM1C,SAAS,GAAG,SAAS,KAAK,SAAS,GAAG,CAAC;UACjC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,SAAS,CAAC,CAAC;UAC1D,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,SAAS,CAAC,CAAC,CAAC;;IAE3C,SAAS,MAAM,CAAC,KAAK,EAAE;MACrB,IAAI,WAAW,GAAG,MAAM;UACpB,WAAW,GAAG,MAAM;UACpB,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;;MAEZ,IAAI,IAAI,KAAK,GAAG,EAAE;QAChB,WAAW,GAAG,UAAU,CAAC,KAAK,CAAC,GAAG,WAAW,CAAC;QAC9C,KAAK,GAAG,EAAE,CAAC;OACZ,MAAM;QACL,KAAK,GAAG,CAAC,KAAK,CAAC;;;QAGf,IAAI,aAAa,GAAG,KAAK,GAAG,CAAC,CAAC;QAC9B,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,SAAS,CAAC,CAAC;;;QAGpE,IAAI,IAAI,EAAE,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC,CAAC;;;QAGpC,IAAI,aAAa,IAAI,CAAC,KAAK,KAAK,CAAC,EAAE,aAAa,GAAG,KAAK,CAAC;;;QAGzD,WAAW,GAAG,CAAC,aAAa,IAAI,IAAI,KAAK,GAAG,GAAG,IAAI,GAAG,KAAK,IAAI,IAAI,KAAK,GAAG,IAAI,IAAI,KAAK,GAAG,GAAG,EAAE,GAAG,IAAI,IAAI,WAAW,CAAC;;QAEvH,WAAW,GAAG,CAAC,IAAI,KAAK,GAAG,GAAG,QAAQ,CAAC,CAAC,GAAG,cAAc,GAAG,CAAC,CAAC,GAAG,EAAE,IAAI,WAAW,IAAI,aAAa,IAAI,IAAI,KAAK,GAAG,GAAG,GAAG,GAAG,EAAE,CAAC,CAAC;;;;QAIhI,IAAI,WAAW,EAAE;UACf,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC;UACzB,OAAO,EAAE,CAAC,GAAG,CAAC,EAAE;YACd,IAAI,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,EAAE,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,EAAE;cAC7C,WAAW,GAAG,CAAC,CAAC,KAAK,EAAE,GAAG,OAAO,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,WAAW,CAAC;cACvF,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;cAC1B,MAAM;aACP;WACF;SACF;OACF;;;MAGD,IAAI,KAAK,IAAI,CAAC,IAAI,EAAE,KAAK,GAAG,KAAK,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;;;MAGnD,IAAI,MAAM,GAAG,WAAW,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM,GAAG,WAAW,CAAC,MAAM;UAC/D,OAAO,GAAG,MAAM,GAAG,KAAK,GAAG,IAAI,KAAK,CAAC,KAAK,GAAG,MAAM,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;;;MAG7E,IAAI,KAAK,IAAI,IAAI,EAAE,KAAK,GAAG,KAAK,CAAC,OAAO,GAAG,KAAK,EAAE,OAAO,CAAC,MAAM,GAAG,KAAK,GAAG,WAAW,CAAC,MAAM,GAAG,QAAQ,CAAC,EAAE,OAAO,GAAG,EAAE,CAAC;;;MAGxH,QAAQ,KAAK;QACX,KAAK,GAAG,EAAE,KAAK,GAAG,WAAW,GAAG,KAAK,GAAG,WAAW,GAAG,OAAO,CAAC,CAAC,MAAM;QACrE,KAAK,GAAG,EAAE,KAAK,GAAG,WAAW,GAAG,OAAO,GAAG,KAAK,GAAG,WAAW,CAAC,CAAC,MAAM;QACrE,KAAK,GAAG,EAAE,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,MAAM,GAAG,OAAO,CAAC,MAAM,IAAI,CAAC,CAAC,GAAG,WAAW,GAAG,KAAK,GAAG,WAAW,GAAG,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM;QACpI,SAAS,KAAK,GAAG,OAAO,GAAG,WAAW,GAAG,KAAK,GAAG,WAAW,CAAC,CAAC,MAAM;OACrE;;MAED,OAAO,QAAQ,CAAC,KAAK,CAAC,CAAC;KACxB;;IAED,MAAM,CAAC,QAAQ,GAAG,WAAW;MAC3B,OAAO,SAAS,GAAG,EAAE,CAAC;KACvB,CAAC;;IAEF,OAAO,MAAM,CAAC;GACf;;EAED,SAAS,YAAY,CAAC,SAAS,EAAE,KAAK,EAAE;IACtC,IAAI,CAAC,GAAG,SAAS,EAAE,SAAS,GAAG,eAAe,CAAC,SAAS,CAAC,EAAE,SAAS,CAAC,IAAI,GAAG,GAAG,EAAE,SAAS,EAAE;QACxF,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;QAClE,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;QACpB,MAAM,GAAG,QAAQ,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;IACjC,OAAO,SAAS,KAAK,EAAE;MACrB,OAAO,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,GAAG,MAAM,CAAC;KAC9B,CAAC;GACH;;EAED,OAAO;IACL,MAAM,EAAE,SAAS;IACjB,YAAY,EAAE,YAAY;GAC3B,CAAC;CACH;;AChJD,IAAI,MAAM,CAAC;AACX,AAAO,IAAI,MAAM,CAAC;AAClB,AAAO,IAAI,YAAY,CAAC;;AAExB,aAAa,CAAC;EACZ,OAAO,EAAE,GAAG;EACZ,SAAS,EAAE,GAAG;EACd,QAAQ,EAAE,CAAC,CAAC,CAAC;EACb,QAAQ,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC;EACnB,KAAK,EAAE,GAAG;CACX,CAAC,CAAC;;AAEH,AAAe,SAAS,aAAa,CAAC,UAAU,EAAE;EAChD,MAAM,GAAG,YAAY,CAAC,UAAU,CAAC,CAAC;EAClC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;EACvB,YAAY,GAAG,MAAM,CAAC,YAAY,CAAC;EACnC,OAAO,MAAM,CAAC;CACf;;ACjBc,SAASC,SAAT,CAAmBC,OAAnB,EAA4BC,QAA5B,EAAsCC,OAAtC,EAA+C;MACxDC,MAAJ,EACEC,QADF;;;;;;;;;WAUSC,MAAT,CAAgB5Q,KAAhB,EAAuB;WACd2Q,QAAQ,CAAC3Q,KAAD,CAAf;;;;;;;;;;EASF4Q,MAAM,CAACF,MAAP,GAAgB,SAASG,QAAT,CAAkBxM,QAAlB,EAA4B;IAC1CqM,MAAM,GAAGI,YAAY,CAACzM,QAAD,CAArB;IACAsM,QAAQ,GAAGD,MAAM,CAACE,MAAP,CAAcL,OAAd,CAAX;WAEO,IAAP;GAJF;;;;;;;WAWSQ,KAAT,GAAiB;IACfH,MAAM,CAACF,MAAP,CAAc;MACZD,OAAO,EAAEA,OAAO,IAAI,GADR;MAEZO,SAAS,EAAER,QAAQ,IAAI,GAFX;MAGZS,QAAQ,EAAE,CAAC,CAAD,CAHE;MAIZC,QAAQ,EAAE,CAAC,GAAD,EAAM,EAAN;KAJZ;;;EAOFH,KAAK;;;;;;;;;;;;EAYLH,MAAM,CAACA,MAAP,GAAgB,SAASO,QAAT,CAAkBnW,CAAlB,EAAqBb,CAArB,EAAwBD,CAAxB,EAA2BuR,CAA3B,EAA8B;QACxCvR,CAAC,IAAIuR,CAAT,EAAY;MACV+E,QAAQ,GAAGtW,CAAX;MACAuW,OAAO,GAAGhF,CAAV;MACAsF,KAAK;;;WAEAL,MAAM,CAACE,MAAP,CAAc5V,CAAd,EAAiBb,CAAjB,CAAP;GANF;;;;;;;;;EAeAyW,MAAM,CAACL,OAAP,GAAiB,SAASa,SAAT,CAAmBpW,CAAnB,EAAsB;QACjCA,CAAJ,EAAO;MACLuV,OAAO,GAAGvV,CAAV;MACA2V,QAAQ,GAAGD,MAAM,CAACE,MAAP,CAAc5V,CAAd,CAAX;;;WAEKuV,OAAP;GALF;;SAQOK,MAAP;;;AC7EF,IAAI,EAAE,GAAG,IAAI,IAAI;IACb,EAAE,GAAG,IAAI,IAAI,CAAC;;AAElB,AAAe,SAAS,WAAW,CAAC,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE;;EAEjE,SAAS,QAAQ,CAAC,IAAI,EAAE;IACtB,OAAO,MAAM,CAAC,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC;GAC7C;;EAED,QAAQ,CAAC,KAAK,GAAG,QAAQ,CAAC;;EAE1B,QAAQ,CAAC,IAAI,GAAG,SAAS,IAAI,EAAE;IAC7B,OAAO,MAAM,CAAC,IAAI,GAAG,IAAI,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC;GAChF,CAAC;;EAEF,QAAQ,CAAC,KAAK,GAAG,SAAS,IAAI,EAAE;IAC9B,IAAI,EAAE,GAAG,QAAQ,CAAC,IAAI,CAAC;QACnB,EAAE,GAAG,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC7B,OAAO,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,GAAG,EAAE,GAAG,EAAE,CAAC;GACxC,CAAC;;EAEF,QAAQ,CAAC,MAAM,GAAG,SAAS,IAAI,EAAE,IAAI,EAAE;IACrC,OAAO,OAAO,CAAC,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,EAAE,IAAI,IAAI,IAAI,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC;GACnF,CAAC;;EAEF,QAAQ,CAAC,KAAK,GAAG,SAAS,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE;IAC3C,IAAI,KAAK,GAAG,EAAE,EAAE,QAAQ,CAAC;IACzB,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC7B,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IAC3C,IAAI,EAAE,KAAK,GAAG,IAAI,CAAC,IAAI,EAAE,IAAI,GAAG,CAAC,CAAC,EAAE,OAAO,KAAK,CAAC;IACjD,GAAG,KAAK,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;WACzE,QAAQ,GAAG,KAAK,IAAI,KAAK,GAAG,IAAI,EAAE;IACzC,OAAO,KAAK,CAAC;GACd,CAAC;;EAEF,QAAQ,CAAC,MAAM,GAAG,SAAS,IAAI,EAAE;IAC/B,OAAO,WAAW,CAAC,SAAS,IAAI,EAAE;MAChC,IAAI,IAAI,IAAI,IAAI,EAAE,OAAO,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;KAC5E,EAAE,SAAS,IAAI,EAAE,IAAI,EAAE;MACtB,IAAI,IAAI,IAAI,IAAI,EAAE;QAChB,IAAI,IAAI,GAAG,CAAC,EAAE,OAAO,EAAE,IAAI,IAAI,CAAC,EAAE;UAChC,OAAO,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE;SAC1C,MAAM,OAAO,EAAE,IAAI,IAAI,CAAC,EAAE;UACzB,OAAO,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE;SAC1C;OACF;KACF,CAAC,CAAC;GACJ,CAAC;;EAEF,IAAI,KAAK,EAAE;IACT,QAAQ,CAAC,KAAK,GAAG,SAAS,KAAK,EAAE,GAAG,EAAE;MACpC,EAAE,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,EAAE,EAAE,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC;MACrC,MAAM,CAAC,EAAE,CAAC,EAAE,MAAM,CAAC,EAAE,CAAC,CAAC;MACvB,OAAO,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;KAClC,CAAC;;IAEF,QAAQ,CAAC,KAAK,GAAG,SAAS,IAAI,EAAE;MAC9B,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;MACxB,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,GAAG,CAAC,CAAC,GAAG,IAAI;YACtC,EAAE,IAAI,GAAG,CAAC,CAAC,GAAG,QAAQ;YACtB,QAAQ,CAAC,MAAM,CAAC,KAAK;gBACjB,SAAS,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,KAAK,CAAC,CAAC,EAAE;gBAC7C,SAAS,CAAC,EAAE,EAAE,OAAO,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;KACtE,CAAC;GACH;;EAED,OAAO,QAAQ,CAAC;CACjB;;ACjED,IAAI,WAAW,GAAGS,WAAQ,CAAC,WAAW;;CAErC,EAAE,SAAS,IAAI,EAAE,IAAI,EAAE;EACtB,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC;CAC5B,EAAE,SAAS,KAAK,EAAE,GAAG,EAAE;EACtB,OAAO,GAAG,GAAG,KAAK,CAAC;CACpB,CAAC,CAAC;;;AAGH,WAAW,CAAC,KAAK,GAAG,SAAS,CAAC,EAAE;EAC9B,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;EAClB,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,OAAO,IAAI,CAAC;EAC1C,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,OAAO,WAAW,CAAC;EACjC,OAAOA,WAAQ,CAAC,SAAS,IAAI,EAAE;IAC7B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;GACxC,EAAE,SAAS,IAAI,EAAE,IAAI,EAAE;IACtB,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,GAAG,IAAI,GAAG,CAAC,CAAC,CAAC;GAChC,EAAE,SAAS,KAAK,EAAE,GAAG,EAAE;IACtB,OAAO,CAAC,GAAG,GAAG,KAAK,IAAI,CAAC,CAAC;GAC1B,CAAC,CAAC;CACJ,CAAC;;ACtBK,IAAI,cAAc,GAAG,GAAG,CAAC;AAChC,AAAO,IAAI,cAAc,GAAG,GAAG,CAAC;AAChC,AAAO,IAAI,YAAY,GAAG,IAAI,CAAC;AAC/B,AAAO,IAAI,WAAW,GAAG,KAAK,CAAC;AAC/B,AAAO,IAAI,YAAY,GAAG,MAAM,CAAC;;ACDjC,IAAI,MAAM,GAAGA,WAAQ,CAAC,SAAS,IAAI,EAAE;EACnC,IAAI,CAAC,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC;CAC7C,EAAE,SAAS,IAAI,EAAE,IAAI,EAAE;EACtB,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,GAAG,IAAI,GAAG,cAAc,CAAC,CAAC;CAC7C,EAAE,SAAS,KAAK,EAAE,GAAG,EAAE;EACtB,OAAO,CAAC,GAAG,GAAG,KAAK,IAAI,cAAc,CAAC;CACvC,EAAE,SAAS,IAAI,EAAE;EAChB,OAAO,IAAI,CAAC,aAAa,EAAE,CAAC;CAC7B,CAAC,CAAC;;ACRH,IAAI,MAAM,GAAGA,WAAQ,CAAC,SAAS,IAAI,EAAE;EACnC,IAAI,CAAC,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC,eAAe,EAAE,GAAG,IAAI,CAAC,UAAU,EAAE,GAAG,cAAc,CAAC,CAAC;CAClF,EAAE,SAAS,IAAI,EAAE,IAAI,EAAE;EACtB,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,GAAG,IAAI,GAAG,cAAc,CAAC,CAAC;CAC7C,EAAE,SAAS,KAAK,EAAE,GAAG,EAAE;EACtB,OAAO,CAAC,GAAG,GAAG,KAAK,IAAI,cAAc,CAAC;CACvC,EAAE,SAAS,IAAI,EAAE;EAChB,OAAO,IAAI,CAAC,UAAU,EAAE,CAAC;CAC1B,CAAC,CAAC;;ACRH,IAAI,IAAI,GAAGA,WAAQ,CAAC,SAAS,IAAI,EAAE;EACjC,IAAI,CAAC,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC,eAAe,EAAE,GAAG,IAAI,CAAC,UAAU,EAAE,GAAG,cAAc,GAAG,IAAI,CAAC,UAAU,EAAE,GAAG,cAAc,CAAC,CAAC;CACvH,EAAE,SAAS,IAAI,EAAE,IAAI,EAAE;EACtB,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,GAAG,IAAI,GAAG,YAAY,CAAC,CAAC;CAC3C,EAAE,SAAS,KAAK,EAAE,GAAG,EAAE;EACtB,OAAO,CAAC,GAAG,GAAG,KAAK,IAAI,YAAY,CAAC;CACrC,EAAE,SAAS,IAAI,EAAE;EAChB,OAAO,IAAI,CAAC,QAAQ,EAAE,CAAC;CACxB,CAAC,CAAC;;ACRH,IAAI,GAAG,GAAGA,WAAQ,CAAC,SAAS,IAAI,EAAE;EAChC,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CAC3B,EAAE,SAAS,IAAI,EAAE,IAAI,EAAE;EACtB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,CAAC;CACrC,EAAE,SAAS,KAAK,EAAE,GAAG,EAAE;EACtB,OAAO,CAAC,GAAG,GAAG,KAAK,GAAG,CAAC,GAAG,CAAC,iBAAiB,EAAE,GAAG,KAAK,CAAC,iBAAiB,EAAE,IAAI,cAAc,IAAI,WAAW,CAAC;CAC7G,EAAE,SAAS,IAAI,EAAE;EAChB,OAAO,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;CAC3B,CAAC,CAAC;;ACRH,SAAS,OAAO,CAAC,CAAC,EAAE;EAClB,OAAOA,WAAQ,CAAC,SAAS,IAAI,EAAE;IAC7B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;IAC3D,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;GAC3B,EAAE,SAAS,IAAI,EAAE,IAAI,EAAE;IACtB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,IAAI,GAAG,CAAC,CAAC,CAAC;GACzC,EAAE,SAAS,KAAK,EAAE,GAAG,EAAE;IACtB,OAAO,CAAC,GAAG,GAAG,KAAK,GAAG,CAAC,GAAG,CAAC,iBAAiB,EAAE,GAAG,KAAK,CAAC,iBAAiB,EAAE,IAAI,cAAc,IAAI,YAAY,CAAC;GAC9G,CAAC,CAAC;CACJ;;AAED,AAAO,IAAI,MAAM,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;AAC/B,AAAO,IAAI,MAAM,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;AAC/B,AAAO,IAAI,OAAO,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;AAChC,AAAO,IAAI,SAAS,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;AAClC,AAAO,IAAI,QAAQ,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;AACjC,AAAO,IAAI,MAAM,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;AAC/B,AAAO,IAAI,QAAQ,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;;AClBjC,IAAI,KAAK,GAAGA,WAAQ,CAAC,SAAS,IAAI,EAAE;EAClC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;EAChB,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CAC3B,EAAE,SAAS,IAAI,EAAE,IAAI,EAAE;EACtB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC,CAAC;CACvC,EAAE,SAAS,KAAK,EAAE,GAAG,EAAE;EACtB,OAAO,GAAG,CAAC,QAAQ,EAAE,GAAG,KAAK,CAAC,QAAQ,EAAE,GAAG,CAAC,GAAG,CAAC,WAAW,EAAE,GAAG,KAAK,CAAC,WAAW,EAAE,IAAI,EAAE,CAAC;CAC3F,EAAE,SAAS,IAAI,EAAE;EAChB,OAAO,IAAI,CAAC,QAAQ,EAAE,CAAC;CACxB,CAAC,CAAC;;ACTH,IAAI,IAAI,GAAGA,WAAQ,CAAC,SAAS,IAAI,EAAE;EACjC,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EACpB,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CAC3B,EAAE,SAAS,IAAI,EAAE,IAAI,EAAE;EACtB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,EAAE,GAAG,IAAI,CAAC,CAAC;CAC7C,EAAE,SAAS,KAAK,EAAE,GAAG,EAAE;EACtB,OAAO,GAAG,CAAC,WAAW,EAAE,GAAG,KAAK,CAAC,WAAW,EAAE,CAAC;CAChD,EAAE,SAAS,IAAI,EAAE;EAChB,OAAO,IAAI,CAAC,WAAW,EAAE,CAAC;CAC3B,CAAC,CAAC;;;AAGH,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC,EAAE;EACvB,OAAO,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,GAAGA,WAAQ,CAAC,SAAS,IAAI,EAAE;IAC/E,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IACzD,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACpB,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;GAC3B,EAAE,SAAS,IAAI,EAAE,IAAI,EAAE;IACtB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,EAAE,GAAG,IAAI,GAAG,CAAC,CAAC,CAAC;GACjD,CAAC,CAAC;CACJ,CAAC;;ACnBF,IAAI,SAAS,GAAGA,WAAQ,CAAC,SAAS,IAAI,EAAE;EACtC,IAAI,CAAC,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;CAC1B,EAAE,SAAS,IAAI,EAAE,IAAI,EAAE;EACtB,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,GAAG,IAAI,GAAG,cAAc,CAAC,CAAC;CAC7C,EAAE,SAAS,KAAK,EAAE,GAAG,EAAE;EACtB,OAAO,CAAC,GAAG,GAAG,KAAK,IAAI,cAAc,CAAC;CACvC,EAAE,SAAS,IAAI,EAAE;EAChB,OAAO,IAAI,CAAC,aAAa,EAAE,CAAC;CAC7B,CAAC,CAAC;;ACRH,IAAI,OAAO,GAAGA,WAAQ,CAAC,SAAS,IAAI,EAAE;EACpC,IAAI,CAAC,aAAa,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CAC7B,EAAE,SAAS,IAAI,EAAE,IAAI,EAAE;EACtB,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,GAAG,IAAI,GAAG,YAAY,CAAC,CAAC;CAC3C,EAAE,SAAS,KAAK,EAAE,GAAG,EAAE;EACtB,OAAO,CAAC,GAAG,GAAG,KAAK,IAAI,YAAY,CAAC;CACrC,EAAE,SAAS,IAAI,EAAE;EAChB,OAAO,IAAI,CAAC,WAAW,EAAE,CAAC;CAC3B,CAAC,CAAC;;ACRH,IAAI,MAAM,GAAGA,WAAQ,CAAC,SAAS,IAAI,EAAE;EACnC,IAAI,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CAC9B,EAAE,SAAS,IAAI,EAAE,IAAI,EAAE;EACtB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,EAAE,GAAG,IAAI,CAAC,CAAC;CAC3C,EAAE,SAAS,KAAK,EAAE,GAAG,EAAE;EACtB,OAAO,CAAC,GAAG,GAAG,KAAK,IAAI,WAAW,CAAC;CACpC,EAAE,SAAS,IAAI,EAAE;EAChB,OAAO,IAAI,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;CAC9B,CAAC,CAAC;;ACRH,SAAS,UAAU,CAAC,CAAC,EAAE;EACrB,OAAOA,WAAQ,CAAC,SAAS,IAAI,EAAE;IAC7B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,EAAE,GAAG,CAAC,IAAI,CAAC,SAAS,EAAE,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;IACpE,IAAI,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;GAC9B,EAAE,SAAS,IAAI,EAAE,IAAI,EAAE;IACtB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,EAAE,GAAG,IAAI,GAAG,CAAC,CAAC,CAAC;GAC/C,EAAE,SAAS,KAAK,EAAE,GAAG,EAAE;IACtB,OAAO,CAAC,GAAG,GAAG,KAAK,IAAI,YAAY,CAAC;GACrC,CAAC,CAAC;CACJ;;AAED,AAAO,IAAI,SAAS,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;AACrC,AAAO,IAAI,SAAS,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;AACrC,AAAO,IAAI,UAAU,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;AACtC,AAAO,IAAI,YAAY,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;AACxC,AAAO,IAAI,WAAW,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;AACvC,AAAO,IAAI,SAAS,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;AACrC,AAAO,IAAI,WAAW,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;;AClBvC,IAAI,QAAQ,GAAGA,WAAQ,CAAC,SAAS,IAAI,EAAE;EACrC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;EACnB,IAAI,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CAC9B,EAAE,SAAS,IAAI,EAAE,IAAI,EAAE;EACtB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,EAAE,GAAG,IAAI,CAAC,CAAC;CAC7C,EAAE,SAAS,KAAK,EAAE,GAAG,EAAE;EACtB,OAAO,GAAG,CAAC,WAAW,EAAE,GAAG,KAAK,CAAC,WAAW,EAAE,GAAG,CAAC,GAAG,CAAC,cAAc,EAAE,GAAG,KAAK,CAAC,cAAc,EAAE,IAAI,EAAE,CAAC;CACvG,EAAE,SAAS,IAAI,EAAE;EAChB,OAAO,IAAI,CAAC,WAAW,EAAE,CAAC;CAC3B,CAAC,CAAC;;ACTH,IAAI,OAAO,GAAGA,WAAQ,CAAC,SAAS,IAAI,EAAE;EACpC,IAAI,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EACvB,IAAI,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CAC9B,EAAE,SAAS,IAAI,EAAE,IAAI,EAAE;EACtB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,cAAc,EAAE,GAAG,IAAI,CAAC,CAAC;CACnD,EAAE,SAAS,KAAK,EAAE,GAAG,EAAE;EACtB,OAAO,GAAG,CAAC,cAAc,EAAE,GAAG,KAAK,CAAC,cAAc,EAAE,CAAC;CACtD,EAAE,SAAS,IAAI,EAAE;EAChB,OAAO,IAAI,CAAC,cAAc,EAAE,CAAC;CAC9B,CAAC,CAAC;;;AAGH,OAAO,CAAC,KAAK,GAAG,SAAS,CAAC,EAAE;EAC1B,OAAO,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,GAAGA,WAAQ,CAAC,SAAS,IAAI,EAAE;IAC/E,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,cAAc,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IAC/D,IAAI,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACvB,IAAI,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;GAC9B,EAAE,SAAS,IAAI,EAAE,IAAI,EAAE;IACtB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,cAAc,EAAE,GAAG,IAAI,GAAG,CAAC,CAAC,CAAC;GACvD,CAAC,CAAC;CACJ,CAAC;;ACTF,SAAS,SAAS,CAAC,CAAC,EAAE;EACpB,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,GAAG,EAAE;IACzB,IAAI,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACtD,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACtB,OAAO,IAAI,CAAC;GACb;EACD,OAAO,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;CACpD;;AAED,SAAS,OAAO,CAAC,CAAC,EAAE;EAClB,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,GAAG,EAAE;IACzB,IAAI,IAAI,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAChE,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACzB,OAAO,IAAI,CAAC;GACb;EACD,OAAO,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;CAC9D;;AAED,SAAS,OAAO,CAAC,CAAC,EAAE;EAClB,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CACnD;;AAED,AAAe,SAASP,cAAY,CAAC,MAAM,EAAE;EAC3C,IAAI,eAAe,GAAG,MAAM,CAAC,QAAQ;MACjC,WAAW,GAAG,MAAM,CAAC,IAAI;MACzB,WAAW,GAAG,MAAM,CAAC,IAAI;MACzB,cAAc,GAAG,MAAM,CAAC,OAAO;MAC/B,eAAe,GAAG,MAAM,CAAC,IAAI;MAC7B,oBAAoB,GAAG,MAAM,CAAC,SAAS;MACvC,aAAa,GAAG,MAAM,CAAC,MAAM;MAC7B,kBAAkB,GAAG,MAAM,CAAC,WAAW,CAAC;;EAE5C,IAAI,QAAQ,GAAG,QAAQ,CAAC,cAAc,CAAC;MACnC,YAAY,GAAG,YAAY,CAAC,cAAc,CAAC;MAC3C,SAAS,GAAG,QAAQ,CAAC,eAAe,CAAC;MACrC,aAAa,GAAG,YAAY,CAAC,eAAe,CAAC;MAC7C,cAAc,GAAG,QAAQ,CAAC,oBAAoB,CAAC;MAC/C,kBAAkB,GAAG,YAAY,CAAC,oBAAoB,CAAC;MACvD,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC;MACjC,WAAW,GAAG,YAAY,CAAC,aAAa,CAAC;MACzC,YAAY,GAAG,QAAQ,CAAC,kBAAkB,CAAC;MAC3C,gBAAgB,GAAG,YAAY,CAAC,kBAAkB,CAAC,CAAC;;EAExD,IAAI,OAAO,GAAG;IACZ,GAAG,EAAE,kBAAkB;IACvB,GAAG,EAAE,aAAa;IAClB,GAAG,EAAE,gBAAgB;IACrB,GAAG,EAAE,WAAW;IAChB,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,gBAAgB;IACrB,GAAG,EAAE,gBAAgB;IACrB,GAAG,EAAE,kBAAkB;IACvB,GAAG,EAAE,YAAY;IACjB,GAAG,EAAE,YAAY;IACjB,GAAG,EAAE,eAAe;IACpB,GAAG,EAAE,kBAAkB;IACvB,GAAG,EAAE,iBAAiB;IACtB,GAAG,EAAE,aAAa;IAClB,GAAG,EAAE,YAAY;IACjB,GAAG,EAAE,mBAAmB;IACxB,GAAG,EAAE,0BAA0B;IAC/B,GAAG,EAAE,aAAa;IAClB,GAAG,EAAE,yBAAyB;IAC9B,GAAG,EAAE,sBAAsB;IAC3B,GAAG,EAAE,mBAAmB;IACxB,GAAG,EAAE,yBAAyB;IAC9B,GAAG,EAAE,sBAAsB;IAC3B,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,UAAU;IACf,GAAG,EAAE,cAAc;IACnB,GAAG,EAAE,UAAU;IACf,GAAG,EAAE,oBAAoB;GAC1B,CAAC;;EAEF,IAAI,UAAU,GAAG;IACf,GAAG,EAAE,qBAAqB;IAC1B,GAAG,EAAE,gBAAgB;IACrB,GAAG,EAAE,mBAAmB;IACxB,GAAG,EAAE,cAAc;IACnB,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,mBAAmB;IACxB,GAAG,EAAE,mBAAmB;IACxB,GAAG,EAAE,qBAAqB;IAC1B,GAAG,EAAE,eAAe;IACpB,GAAG,EAAE,eAAe;IACpB,GAAG,EAAE,kBAAkB;IACvB,GAAG,EAAE,qBAAqB;IAC1B,GAAG,EAAE,oBAAoB;IACzB,GAAG,EAAE,gBAAgB;IACrB,GAAG,EAAE,eAAe;IACpB,GAAG,EAAE,mBAAmB;IACxB,GAAG,EAAE,0BAA0B;IAC/B,GAAG,EAAE,gBAAgB;IACrB,GAAG,EAAE,4BAA4B;IACjC,GAAG,EAAE,yBAAyB;IAC9B,GAAG,EAAE,sBAAsB;IAC3B,GAAG,EAAE,4BAA4B;IACjC,GAAG,EAAE,yBAAyB;IAC9B,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,aAAa;IAClB,GAAG,EAAE,iBAAiB;IACtB,GAAG,EAAE,aAAa;IAClB,GAAG,EAAE,oBAAoB;GAC1B,CAAC;;EAEF,IAAI,MAAM,GAAG;IACX,GAAG,EAAE,iBAAiB;IACtB,GAAG,EAAE,YAAY;IACjB,GAAG,EAAE,eAAe;IACpB,GAAG,EAAE,UAAU;IACf,GAAG,EAAE,mBAAmB;IACxB,GAAG,EAAE,eAAe;IACpB,GAAG,EAAE,eAAe;IACpB,GAAG,EAAE,iBAAiB;IACtB,GAAG,EAAE,WAAW;IAChB,GAAG,EAAE,WAAW;IAChB,GAAG,EAAE,cAAc;IACnB,GAAG,EAAE,iBAAiB;IACtB,GAAG,EAAE,gBAAgB;IACrB,GAAG,EAAE,YAAY;IACjB,GAAG,EAAE,WAAW;IAChB,GAAG,EAAE,kBAAkB;IACvB,GAAG,EAAE,yBAAyB;IAC9B,GAAG,EAAE,YAAY;IACjB,GAAG,EAAE,wBAAwB;IAC7B,GAAG,EAAE,qBAAqB;IAC1B,GAAG,EAAE,kBAAkB;IACvB,GAAG,EAAE,wBAAwB;IAC7B,GAAG,EAAE,qBAAqB;IAC1B,GAAG,EAAE,eAAe;IACpB,GAAG,EAAE,eAAe;IACpB,GAAG,EAAE,SAAS;IACd,GAAG,EAAE,aAAa;IAClB,GAAG,EAAE,SAAS;IACd,GAAG,EAAE,mBAAmB;GACzB,CAAC;;;EAGF,OAAO,CAAC,CAAC,GAAG,SAAS,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC;EAC5C,OAAO,CAAC,CAAC,GAAG,SAAS,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC;EAC5C,OAAO,CAAC,CAAC,GAAG,SAAS,CAAC,eAAe,EAAE,OAAO,CAAC,CAAC;EAChD,UAAU,CAAC,CAAC,GAAG,SAAS,CAAC,WAAW,EAAE,UAAU,CAAC,CAAC;EAClD,UAAU,CAAC,CAAC,GAAG,SAAS,CAAC,WAAW,EAAE,UAAU,CAAC,CAAC;EAClD,UAAU,CAAC,CAAC,GAAG,SAAS,CAAC,eAAe,EAAE,UAAU,CAAC,CAAC;;EAEtD,SAAS,SAAS,CAAC,SAAS,EAAE,OAAO,EAAE;IACrC,OAAO,SAAS,IAAI,EAAE;MACpB,IAAI,MAAM,GAAG,EAAE;UACX,CAAC,GAAG,CAAC,CAAC;UACN,CAAC,GAAG,CAAC;UACL,CAAC,GAAG,SAAS,CAAC,MAAM;UACpB,CAAC;UACD,GAAG;UACH,MAAM,CAAC;;MAEX,IAAI,EAAE,IAAI,YAAY,IAAI,CAAC,EAAE,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;;MAEpD,OAAO,EAAE,CAAC,GAAG,CAAC,EAAE;QACd,IAAI,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,EAAE,EAAE;UAClC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;UACnC,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,CAAC,GAAG,SAAS,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,IAAI,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;eAC1E,GAAG,GAAG,CAAC,KAAK,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;UACjC,IAAI,MAAM,GAAG,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;UAC/C,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;UACf,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SACX;OACF;;MAED,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACnC,OAAO,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;KACxB,CAAC;GACH;;EAED,SAAS,QAAQ,CAAC,SAAS,EAAE,OAAO,EAAE;IACpC,OAAO,SAAS,MAAM,EAAE;MACtB,IAAI,CAAC,GAAG,OAAO,CAAC,IAAI,CAAC;UACjB,CAAC,GAAG,cAAc,CAAC,CAAC,EAAE,SAAS,EAAE,MAAM,IAAI,EAAE,EAAE,CAAC,CAAC;UACjD,IAAI,EAAEQ,KAAG,CAAC;MACd,IAAI,CAAC,IAAI,MAAM,CAAC,MAAM,EAAE,OAAO,IAAI,CAAC;;;MAGpC,IAAI,GAAG,IAAI,CAAC,EAAE,OAAO,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;;MAGnC,IAAI,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;;;MAGxC,IAAI,GAAG,IAAI,CAAC,EAAE;QACZ,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,EAAE,EAAE,OAAO,IAAI,CAAC;QACrC,IAAI,EAAE,GAAG,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QACzB,IAAI,GAAG,IAAI,CAAC,EAAE;UACZ,IAAI,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEA,KAAG,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC;UACrD,IAAI,GAAGA,KAAG,GAAG,CAAC,IAAIA,KAAG,KAAK,CAAC,GAAG,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,SAAS,CAAC,IAAI,CAAC,CAAC;UACrE,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;UAC1C,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;UAC5B,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;UACzB,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;SACzC,MAAM;UACL,IAAI,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEA,KAAG,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;UAClD,IAAI,GAAGA,KAAG,GAAG,CAAC,IAAIA,KAAG,KAAK,CAAC,GAAGC,MAAU,CAAC,IAAI,CAAC,IAAI,CAAC,GAAGA,MAAU,CAAC,IAAI,CAAC,CAAC;UACvE,IAAI,GAAGC,GAAO,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;UAC3C,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;UACzB,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;UACtB,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;SACtC;OACF,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,EAAE;QAC/B,IAAI,EAAE,GAAG,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAC7DF,KAAG,GAAG,GAAG,IAAI,CAAC,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC;QACpF,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QACR,CAAC,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAACA,KAAG,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAACA,KAAG,GAAG,CAAC,IAAI,CAAC,CAAC;OAC1F;;;;MAID,IAAI,GAAG,IAAI,CAAC,EAAE;QACZ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;QACrB,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;QACjB,OAAO,OAAO,CAAC,CAAC,CAAC,CAAC;OACnB;;;MAGD,OAAO,OAAO,CAAC,CAAC,CAAC,CAAC;KACnB,CAAC;GACH;;EAED,SAAS,cAAc,CAAC,CAAC,EAAE,SAAS,EAAE,MAAM,EAAE,CAAC,EAAE;IAC/C,IAAI,CAAC,GAAG,CAAC;QACL,CAAC,GAAG,SAAS,CAAC,MAAM;QACpB,CAAC,GAAG,MAAM,CAAC,MAAM;QACjB,CAAC;QACD,KAAK,CAAC;;IAEV,OAAO,CAAC,GAAG,CAAC,EAAE;MACZ,IAAI,CAAC,IAAI,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC;MACtB,CAAC,GAAG,SAAS,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;MAC9B,IAAI,CAAC,KAAK,EAAE,EAAE;QACZ,CAAC,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;QAC1B,KAAK,GAAG,MAAM,CAAC,CAAC,IAAI,IAAI,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;QACtD,IAAI,CAAC,KAAK,KAAK,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC;OAC1D,MAAM,IAAI,CAAC,IAAI,MAAM,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,EAAE;QACtC,OAAO,CAAC,CAAC,CAAC;OACX;KACF;;IAED,OAAO,CAAC,CAAC;GACV;;EAED,SAAS,WAAW,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE;IACjC,IAAI,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;IACvC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC;GAC3E;;EAED,SAAS,iBAAiB,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE;IACvC,IAAI,CAAC,GAAG,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;IAC7C,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,kBAAkB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC;GACjF;;EAED,SAAS,YAAY,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE;IAClC,IAAI,CAAC,GAAG,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;IACxC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC;GAC5E;;EAED,SAAS,eAAe,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE;IACrC,IAAI,CAAC,GAAG,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3C,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,gBAAgB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC;GAC/E;;EAED,SAAS,UAAU,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE;IAChC,IAAI,CAAC,GAAG,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;IACtC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC;GAC1E;;EAED,SAAS,mBAAmB,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE;IACzC,OAAO,cAAc,CAAC,CAAC,EAAE,eAAe,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC;GACtD;;EAED,SAAS,eAAe,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE;IACrC,OAAO,cAAc,CAAC,CAAC,EAAE,WAAW,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC;GAClD;;EAED,SAAS,eAAe,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE;IACrC,OAAO,cAAc,CAAC,CAAC,EAAE,WAAW,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC;GAClD;;EAED,SAAS,kBAAkB,CAAC,CAAC,EAAE;IAC7B,OAAO,oBAAoB,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC;GACzC;;EAED,SAAS,aAAa,CAAC,CAAC,EAAE;IACxB,OAAO,eAAe,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC;GACpC;;EAED,SAAS,gBAAgB,CAAC,CAAC,EAAE;IAC3B,OAAO,kBAAkB,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;GACzC;;EAED,SAAS,WAAW,CAAC,CAAC,EAAE;IACtB,OAAO,aAAa,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;GACpC;;EAED,SAAS,YAAY,CAAC,CAAC,EAAE;IACvB,OAAO,cAAc,CAAC,EAAE,CAAC,CAAC,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;GAC9C;;EAED,SAAS,qBAAqB,CAAC,CAAC,EAAE;IAChC,OAAO,oBAAoB,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC;GAC5C;;EAED,SAAS,gBAAgB,CAAC,CAAC,EAAE;IAC3B,OAAO,eAAe,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC;GACvC;;EAED,SAAS,mBAAmB,CAAC,CAAC,EAAE;IAC9B,OAAO,kBAAkB,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC;GAC5C;;EAED,SAAS,cAAc,CAAC,CAAC,EAAE;IACzB,OAAO,aAAa,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC;GACvC;;EAED,SAAS,eAAe,CAAC,CAAC,EAAE;IAC1B,OAAO,cAAc,CAAC,EAAE,CAAC,CAAC,WAAW,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;GACjD;;EAED,OAAO;IACL,MAAM,EAAE,SAAS,SAAS,EAAE;MAC1B,IAAI,CAAC,GAAG,SAAS,CAAC,SAAS,IAAI,EAAE,EAAE,OAAO,CAAC,CAAC;MAC5C,CAAC,CAAC,QAAQ,GAAG,WAAW,EAAE,OAAO,SAAS,CAAC,EAAE,CAAC;MAC9C,OAAO,CAAC,CAAC;KACV;IACD,KAAK,EAAE,SAAS,SAAS,EAAE;MACzB,IAAI,CAAC,GAAG,QAAQ,CAAC,SAAS,IAAI,EAAE,EAAE,SAAS,CAAC,CAAC;MAC7C,CAAC,CAAC,QAAQ,GAAG,WAAW,EAAE,OAAO,SAAS,CAAC,EAAE,CAAC;MAC9C,OAAO,CAAC,CAAC;KACV;IACD,SAAS,EAAE,SAAS,SAAS,EAAE;MAC7B,IAAI,CAAC,GAAG,SAAS,CAAC,SAAS,IAAI,EAAE,EAAE,UAAU,CAAC,CAAC;MAC/C,CAAC,CAAC,QAAQ,GAAG,WAAW,EAAE,OAAO,SAAS,CAAC,EAAE,CAAC;MAC9C,OAAO,CAAC,CAAC;KACV;IACD,QAAQ,EAAE,SAAS,SAAS,EAAE;MAC5B,IAAI,CAAC,GAAG,QAAQ,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;MACrC,CAAC,CAAC,QAAQ,GAAG,WAAW,EAAE,OAAO,SAAS,CAAC,EAAE,CAAC;MAC9C,OAAO,CAAC,CAAC;KACV;GACF,CAAC;CACH;;AAED,IAAI,IAAI,GAAG,CAAC,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;IACpC,QAAQ,GAAG,SAAS;IACpB,SAAS,GAAG,IAAI;IAChB,SAAS,GAAG,qBAAqB,CAAC;;AAEtC,SAAS,GAAG,CAAC,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE;EAC/B,IAAI,IAAI,GAAG,KAAK,GAAG,CAAC,GAAG,GAAG,GAAG,EAAE;MAC3B,MAAM,GAAG,CAAC,IAAI,GAAG,CAAC,KAAK,GAAG,KAAK,IAAI,EAAE;MACrC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;EAC3B,OAAO,IAAI,IAAI,MAAM,GAAG,KAAK,GAAG,IAAI,KAAK,CAAC,KAAK,GAAG,MAAM,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,MAAM,GAAG,MAAM,CAAC,CAAC;CAC7F;;AAED,SAAS,OAAO,CAAC,CAAC,EAAE;EAClB,OAAO,CAAC,CAAC,OAAO,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;CACrC;;AAED,SAAS,QAAQ,CAAC,KAAK,EAAE;EACvB,OAAO,IAAI,MAAM,CAAC,MAAM,GAAG,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,EAAE,GAAG,CAAC,CAAC;CACrE;;AAED,SAAS,YAAY,CAAC,KAAK,EAAE;EAC3B,IAAI,GAAG,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC;EACvC,OAAO,EAAE,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,GAAG,CAAC,CAAC;EAChD,OAAO,GAAG,CAAC;CACZ;;AAED,SAAS,wBAAwB,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE;EAC9C,IAAI,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAC9C,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC;CAChD;;AAED,SAAS,wBAAwB,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE;EAC9C,IAAI,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAC9C,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC;CAChD;;AAED,SAAS,qBAAqB,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE;EAC3C,IAAI,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAC9C,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC;CAChD;;AAED,SAAS,kBAAkB,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE;EACxC,IAAI,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAC9C,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC;CAChD;;AAED,SAAS,qBAAqB,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE;EAC3C,IAAI,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAC9C,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC;CAChD;;AAED,SAAS,aAAa,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE;EACnC,IAAI,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAC9C,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC;CAChD;;AAED,SAAS,SAAS,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE;EAC/B,IAAI,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAC9C,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,GAAG,IAAI,GAAG,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC;CAC7E;;AAED,SAAS,SAAS,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE;EAC/B,IAAI,CAAC,GAAG,8BAA8B,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EACpE,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC;CAC9E;;AAED,SAAS,gBAAgB,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE;EACtC,IAAI,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAC9C,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC;CACnD;;AAED,SAAS,eAAe,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE;EACrC,IAAI,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAC9C,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC;CAChD;;AAED,SAAS,cAAc,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE;EACpC,IAAI,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAC9C,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC;CACzD;;AAED,SAAS,WAAW,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE;EACjC,IAAI,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAC9C,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC;CAChD;;AAED,SAAS,YAAY,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE;EAClC,IAAI,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAC9C,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC;CAChD;;AAED,SAAS,YAAY,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE;EAClC,IAAI,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAC9C,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC;CAChD;;AAED,SAAS,iBAAiB,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE;EACvC,IAAI,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAC9C,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC;CAChD;;AAED,SAAS,iBAAiB,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE;EACvC,IAAI,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAC9C,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC;CAClE;;AAED,SAAS,mBAAmB,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE;EACzC,IAAI,CAAC,GAAG,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAC/C,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;CACjC;;AAED,SAAS,kBAAkB,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE;EACxC,IAAI,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;EACvC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC;CAChD;;AAED,SAAS,yBAAyB,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE;EAC/C,IAAI,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;EACvC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC;CACzD;;AAED,SAAS,gBAAgB,CAAC,CAAC,EAAE,CAAC,EAAE;EAC9B,OAAO,GAAG,CAAC,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CAC/B;;AAED,SAAS,YAAY,CAAC,CAAC,EAAE,CAAC,EAAE;EAC1B,OAAO,GAAG,CAAC,CAAC,CAAC,QAAQ,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CAChC;;AAED,SAAS,YAAY,CAAC,CAAC,EAAE,CAAC,EAAE;EAC1B,OAAO,GAAG,CAAC,CAAC,CAAC,QAAQ,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CAC3C;;AAED,SAAS,eAAe,CAAC,CAAC,EAAE,CAAC,EAAE;EAC7B,OAAO,GAAG,CAAC,CAAC,GAAGE,GAAO,CAAC,KAAK,CAACC,IAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CACrD;;AAED,SAAS,kBAAkB,CAAC,CAAC,EAAE,CAAC,EAAE;EAChC,OAAO,GAAG,CAAC,CAAC,CAAC,eAAe,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CACvC;;AAED,SAAS,kBAAkB,CAAC,CAAC,EAAE,CAAC,EAAE;EAChC,OAAO,kBAAkB,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,KAAK,CAAC;CACzC;;AAED,SAAS,iBAAiB,CAAC,CAAC,EAAE,CAAC,EAAE;EAC/B,OAAO,GAAG,CAAC,CAAC,CAAC,QAAQ,EAAE,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CACpC;;AAED,SAAS,aAAa,CAAC,CAAC,EAAE,CAAC,EAAE;EAC3B,OAAO,GAAG,CAAC,CAAC,CAAC,UAAU,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CAClC;;AAED,SAAS,aAAa,CAAC,CAAC,EAAE,CAAC,EAAE;EAC3B,OAAO,GAAG,CAAC,CAAC,CAAC,UAAU,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CAClC;;AAED,SAAS,yBAAyB,CAAC,CAAC,EAAE;EACpC,IAAI,GAAG,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC;EACrB,OAAO,GAAG,KAAK,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;CAC5B;;AAED,SAAS,sBAAsB,CAAC,CAAC,EAAE,CAAC,EAAE;EACpC,OAAO,GAAG,CAACC,MAAU,CAAC,KAAK,CAACD,IAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CACpD;;AAED,SAAS,mBAAmB,CAAC,CAAC,EAAE,CAAC,EAAE;EACjC,IAAI,GAAG,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC;EACrB,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC,IAAIE,QAAY,CAAC,CAAC,CAAC,GAAGA,QAAY,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;EACrE,OAAO,GAAG,CAACA,QAAY,CAAC,KAAK,CAACF,IAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,IAAIA,IAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CACrF;;AAED,SAAS,yBAAyB,CAAC,CAAC,EAAE;EACpC,OAAO,CAAC,CAAC,MAAM,EAAE,CAAC;CACnB;;AAED,SAAS,sBAAsB,CAAC,CAAC,EAAE,CAAC,EAAE;EACpC,OAAO,GAAG,CAACF,MAAU,CAAC,KAAK,CAACE,IAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CACpD;;AAED,SAAS,UAAU,CAAC,CAAC,EAAE,CAAC,EAAE;EACxB,OAAO,GAAG,CAAC,CAAC,CAAC,WAAW,EAAE,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CACzC;;AAED,SAAS,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE;EAC5B,OAAO,GAAG,CAAC,CAAC,CAAC,WAAW,EAAE,GAAG,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CAC3C;;AAED,SAAS,UAAU,CAAC,CAAC,EAAE;EACrB,IAAI,CAAC,GAAG,CAAC,CAAC,iBAAiB,EAAE,CAAC;EAC9B,OAAO,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,GAAG,CAAC;QAC9B,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC;QACvB,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;CAC3B;;AAED,SAAS,mBAAmB,CAAC,CAAC,EAAE,CAAC,EAAE;EACjC,OAAO,GAAG,CAAC,CAAC,CAAC,UAAU,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CAClC;;AAED,SAAS,eAAe,CAAC,CAAC,EAAE,CAAC,EAAE;EAC7B,OAAO,GAAG,CAAC,CAAC,CAAC,WAAW,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CACnC;;AAED,SAAS,eAAe,CAAC,CAAC,EAAE,CAAC,EAAE;EAC7B,OAAO,GAAG,CAAC,CAAC,CAAC,WAAW,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CAC9C;;AAED,SAAS,kBAAkB,CAAC,CAAC,EAAE,CAAC,EAAE;EAChC,OAAO,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CACnD;;AAED,SAAS,qBAAqB,CAAC,CAAC,EAAE,CAAC,EAAE;EACnC,OAAO,GAAG,CAAC,CAAC,CAAC,kBAAkB,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CAC1C;;AAED,SAAS,qBAAqB,CAAC,CAAC,EAAE,CAAC,EAAE;EACnC,OAAO,qBAAqB,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,KAAK,CAAC;CAC5C;;AAED,SAAS,oBAAoB,CAAC,CAAC,EAAE,CAAC,EAAE;EAClC,OAAO,GAAG,CAAC,CAAC,CAAC,WAAW,EAAE,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CACvC;;AAED,SAAS,gBAAgB,CAAC,CAAC,EAAE,CAAC,EAAE;EAC9B,OAAO,GAAG,CAAC,CAAC,CAAC,aAAa,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CACrC;;AAED,SAAS,gBAAgB,CAAC,CAAC,EAAE,CAAC,EAAE;EAC9B,OAAO,GAAG,CAAC,CAAC,CAAC,aAAa,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CACrC;;AAED,SAAS,4BAA4B,CAAC,CAAC,EAAE;EACvC,IAAI,GAAG,GAAG,CAAC,CAAC,SAAS,EAAE,CAAC;EACxB,OAAO,GAAG,KAAK,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;CAC5B;;AAED,SAAS,yBAAyB,CAAC,CAAC,EAAE,CAAC,EAAE;EACvC,OAAO,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CAClD;;AAED,SAAS,sBAAsB,CAAC,CAAC,EAAE,CAAC,EAAE;EACpC,IAAI,GAAG,GAAG,CAAC,CAAC,SAAS,EAAE,CAAC;EACxB,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI,WAAW,CAAC,CAAC,CAAC,GAAG,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;EACnE,OAAO,GAAG,CAAC,WAAW,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CACrF;;AAED,SAAS,4BAA4B,CAAC,CAAC,EAAE;EACvC,OAAO,CAAC,CAAC,SAAS,EAAE,CAAC;CACtB;;AAED,SAAS,yBAAyB,CAAC,CAAC,EAAE,CAAC,EAAE;EACvC,OAAO,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CAClD;;AAED,SAAS,aAAa,CAAC,CAAC,EAAE,CAAC,EAAE;EAC3B,OAAO,GAAG,CAAC,CAAC,CAAC,cAAc,EAAE,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CAC5C;;AAED,SAAS,iBAAiB,CAAC,CAAC,EAAE,CAAC,EAAE;EAC/B,OAAO,GAAG,CAAC,CAAC,CAAC,cAAc,EAAE,GAAG,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CAC9C;;AAED,SAAS,aAAa,GAAG;EACvB,OAAO,OAAO,CAAC;CAChB;;AAED,SAAS,oBAAoB,GAAG;EAC9B,OAAO,GAAG,CAAC;CACZ;;AAED,SAAS,mBAAmB,CAAC,CAAC,EAAE;EAC9B,OAAO,CAAC,CAAC,CAAC;CACX;;AAED,SAAS,0BAA0B,CAAC,CAAC,EAAE;EACrC,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;CAC9B;;AC7nBD,IAAIf,QAAM,CAAC;AACX,AAAO,IAAI,UAAU,CAAC;AACtB,AAAO,IAAI,SAAS,CAAC;AACrB,AAAO,IAAI,SAAS,CAAC;AACrB,AAAO,IAAI,QAAQ,CAAC;;AAEpBkB,eAAa,CAAC;EACZ,QAAQ,EAAE,QAAQ;EAClB,IAAI,EAAE,YAAY;EAClB,IAAI,EAAE,cAAc;EACpB,OAAO,EAAE,CAAC,IAAI,EAAE,IAAI,CAAC;EACrB,IAAI,EAAE,CAAC,QAAQ,EAAE,QAAQ,EAAE,SAAS,EAAE,WAAW,EAAE,UAAU,EAAE,QAAQ,EAAE,UAAU,CAAC;EACpF,SAAS,EAAE,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC;EAC5D,MAAM,EAAE,CAAC,SAAS,EAAE,UAAU,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,SAAS,EAAE,UAAU,EAAE,UAAU,CAAC;EAClI,WAAW,EAAE,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC;CAClG,CAAC,CAAC;;AAEH,AAAe,SAASA,eAAa,CAAC,UAAU,EAAE;EAChDlB,QAAM,GAAGI,cAAY,CAAC,UAAU,CAAC,CAAC;EAClC,UAAU,GAAGJ,QAAM,CAAC,MAAM,CAAC;EAC3B,SAAS,GAAGA,QAAM,CAAC,KAAK,CAAC;EACzB,SAAS,GAAGA,QAAM,CAAC,SAAS,CAAC;EAC7B,QAAQ,GAAGA,QAAM,CAAC,QAAQ,CAAC;EAC3B,OAAOA,QAAM,CAAC;CACf;;ACxBM,IAAI,YAAY,GAAG,uBAAuB,CAAC;;AAElD,SAAS,eAAe,CAAC,IAAI,EAAE;EAC7B,OAAO,IAAI,CAAC,WAAW,EAAE,CAAC;CAC3B;;AAED,IAAI,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW;MACpC,eAAe;MACf,SAAS,CAAC,YAAY,CAAC,CAAC;;ACP9B,SAAS,cAAc,CAAC,MAAM,EAAE;EAC9B,IAAI,IAAI,GAAG,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC;EAC5B,OAAO,KAAK,CAAC,IAAI,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC;CAClC;;AAED,IAAI,QAAQ,GAAG,CAAC,IAAI,IAAI,CAAC,0BAA0B,CAAC;MAC9C,cAAc;MACd,QAAQ,CAAC,YAAY,CAAC,CAAC;;ACRd,SAASJ,WAAT,CAAmBC,OAAnB,EAA4B;;MACrCG,MAAM,GAAGmB,cAAgB,CAAC;IAC5BC,QAAQ,EAAE,QADkB;IAE5BC,IAAI,EAAE,YAFsB;IAG5BnE,IAAI,EAAE,cAHsB;IAI5BoE,OAAO,EAAE,CAAC,IAAD,EAAO,IAAP,CAJmB;IAK5BC,IAAI,EAAE,CAAC,QAAD,EAAW,QAAX,EAAqB,SAArB,EAAgC,WAAhC,EAA6C,UAA7C,EAAyD,QAAzD,EAAmE,UAAnE,CALsB;IAM5BC,SAAS,EAAE,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,EAA2C,KAA3C,CANiB;IAO5BC,MAAM,EAAE,CAAC,SAAD,EAAY,UAAZ,EAAwB,OAAxB,EAAiC,OAAjC,EAA0C,KAA1C,EAAiD,MAAjD,EAAyD,MAAzD,EAAiE,QAAjE,EAA2E,WAA3E,EAAwF,SAAxF,EAAmG,UAAnG,EAA+G,UAA/G,CAPoB;IAQ5BC,WAAW,EAAE,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,EAA2C,KAA3C,EAAkD,KAAlD,EAAyD,KAAzD,EAAgE,KAAhE,EAAuE,KAAvE,EAA8E,KAA9E;GARc,CAA7B;MAWIzB,QAAQ,GAAGD,MAAM,CAACE,MAAP,CAAcL,OAAd,CAAf;;;;;;;;;WASSK,MAAT,CAAgB5Q,KAAhB,EAAuB;WACd2Q,QAAQ,CAAC3Q,KAAD,CAAf;;;;;;;;;;;;EAWF4Q,MAAM,CAACA,MAAP,GAAgB,SAASO,QAAT,CAAkBnW,CAAlB,EAAqBb,CAArB,EAAwB;WAC/BuW,MAAM,CAACE,MAAP,CAAc5V,CAAd,EAAiBb,CAAjB,CAAP;GADF;;;;;;;;;EAUAyW,MAAM,CAACF,MAAP,GAAgB,SAASG,QAAT,GAA2B;IACzCH,MAAM,GAAGmB,cAAgB,MAAhB,mBAAT;IACAlB,QAAQ,GAAGD,MAAM,CAACE,MAAP,CAAcL,OAAd,CAAX;WAEO,IAAP;GAJF;;;;;;;;;;EAcAK,MAAM,CAAC/V,KAAP,GAAe,SAASA,KAAT,CAAeG,CAAf,EAAkBb,CAAlB,EAAqB;WAC3BuW,MAAM,CAAC7V,KAAP,CAAaG,CAAb,EAAgBb,CAAhB,CAAP;GADF;;;;;;;;;EAUAyW,MAAM,CAACyB,YAAP,GAAsB,SAASA,YAAT,CAAsBrX,CAAtB,EAAyB;WACtC0V,MAAM,CAAC7V,KAAP,CAAaG,CAAb,CAAP;GADF;;SAIO4V,MAAP;;;ACrEF,IAAM0B,iBAAiB,GAAGpC,eAAQ,EAAlC;AAEAoC,iBAAiB,CAAC,WAAD,EAAcC,SAAd,CAAjB;AACAD,iBAAiB,CAAC,SAAD,EAAYE,WAAZ,CAAjB;;ACPA;AACA;AAIA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAAC1X,IAAD,EAAU;MACzB,OAAOA,IAAI,CAACuV,SAAZ,KAA0B,UAA9B,EAA0C;WACjCvV,IAAI,CAACuV,SAAL,EAAP;;;MAEIoC,CAAC,GAAG3X,IAAI,CAACuV,SAAL,IAAkB,EAA5B;SACOqC,iBAAW,CAACD,CAAC,CAACpX,IAAF,IAAU,WAAX,CAAX,CAAmCoX,CAAC,CAAC9B,MAAF,IAAY,EAA/C,CAAP;CALF;;AAQA,IAAMgC,SAAS,GAAG;EAChBC,EAAE,EAAE,YAAC9X,IAAD;qBAAaA,IAAI,CAAC+X,MAAlB,cAA4B/X,IAAI,CAAC8B,GAAL,IAAY9B,IAAI,CAACgY,KAA7C;GADY;EAEhBlW,GAAG,EAAE,aAAC9B,IAAD;WAAUE,MAAM,CAACF,IAAI,CAAC8B,GAAL,IAAY9B,IAAI,CAACgY,KAAlB,CAAhB;GAFW;EAGhBC,IAAI,EAAE,cAACjY,IAAD;WAAUA,IAAI,CAACiY,IAAf;GAHU;EAIhBtN,GAAG,EAAE,aAAC3K,IAAD;WAAUA,IAAI,CAAC2K,GAAf;GAJW;EAKhBC,GAAG,EAAE,aAAC5K,IAAD;WAAUA,IAAI,CAAC4K,GAAf;GALW;EAMhBrK,IAAI,EAAE,cAACP,IAAD;WAAUA,IAAI,CAACO,IAAf;GANU;EAOhByX,KAAK,EAAE,eAAChY,IAAD;WAAUE,MAAM,CAACF,IAAI,CAACgY,KAAN,CAAhB;GAPS;EAQhBE,MAAM,EAAE,gBAAClY,IAAD;WAAUA,IAAI,CAACkY,MAAf;GARQ;EAShBjT,KAAK,EAAE,eAAC7F,CAAD;WAAOA,CAAP;GATS;EAUhB+Y,KAAK,EAAE,eAAC/Y,CAAD;WAAOA,CAAP;GAVS;EAWhBmW,SAAS,EAAE,mBAACvV,IAAD;WAAU0X,YAAY,CAAC1X,IAAD,CAAtB;;CAXb;;;;;;;AAmBA,AAAe,SAASoY,KAAT,CAAepY,IAAf,EAYP;iFAAJ,EAAI;qBAXN8X,EAWM;MAXNA,GAWM,wBAXDD,SAAS,CAACC,EAWT;sBAVNhW,GAUM;MAVNA,IAUM,yBAVA+V,SAAS,CAAC/V,GAUV;sBATN6I,GASM;MATNA,IASM,yBATAkN,SAAS,CAAClN,GASV;sBARNC,GAQM;MARNA,IAQM,yBARAiN,SAAS,CAACjN,GAQV;uBAPNrK,IAOM;MAPNA,KAOM,0BAPCsX,SAAS,CAACtX,IAOX;uBANN0X,IAMM;MANNA,KAMM,0BANCJ,SAAS,CAACI,IAMX;wBALND,KAKM;MALNA,MAKM,2BALEH,SAAS,CAACG,KAKZ;yBAJNE,MAIM;MAJNA,MAIM,4BAJGL,SAAS,CAACK,MAIb;wBAHNjT,KAGM;MAHNA,KAGM,2BAHE4S,SAAS,CAAC5S,KAGZ;wBAFNkT,KAEM;MAFNA,KAEM,2BAFEN,SAAS,CAACM,KAEZ;4BADN5C,SACM;MADNA,UACM,+BADMsC,SAAS,CAACtC,SAChB;;;;;MAIAoC,CAAC,GAAG;;;;;IAMRG,EAAE,EAAE;aAAMA,GAAE,CAAC9X,IAAD,CAAR;KANI;;;;;;IAYR8B,GAAG,EAAE;aAAMA,IAAG,CAAC9B,IAAD,CAAT;KAZG;;;;;;IAkBRqY,GAAG,EAAE;aAAMrY,IAAN;KAlBG;;;;;;IAuBRiY,IAAI,EAAE;aAAMA,KAAI,CAACjY,IAAD,CAAV;KAvBE;;;;;;IA6BRO,IAAI,EAAE;aAAMA,KAAI,CAACP,IAAD,CAAV;KA7BE;;;;;;IAmCR2K,GAAG,EAAE;aAAMA,IAAG,CAAC3K,IAAD,CAAT;KAnCG;;;;;;IAyCR4K,GAAG,EAAE;aAAMA,IAAG,CAAC5K,IAAD,CAAT;KAzCG;;;;;;IA+CRgY,KAAK,EAAE;aAAMA,MAAK,CAAChY,IAAD,CAAX;KA/CC;;;;;;IAqDRsY,KAAK,EAAE;aAAMJ,MAAM,CAAClY,IAAD,CAAZ;KArDC;;;;;IA0DRuV,SAAS,EAAE;aAAMA,UAAS,CAACvV,IAAD,CAAf;KA1DH;IA4DRiF,KAAK,EAALA,KA5DQ;IA6DRkT,KAAK,EAALA;GA7DF;SAgEOR,CAAP;;;AClGF,IAAMY,OAAO,GAAG;EACdC,SAAS,EAAEC,oBADG;EAEdrE,IAAI,EAAEsE,eAFQ;EAGdC,UAAU,EAAEC,qBAHE;EAIdC,MAAM,EAAEC,iBAJM;EAKdC,MAAM,EAAEC;CALV;AAQA,IAAMC,MAAM,GAAG;EACbC,SAAS,EAAEC,mBADE;EAEbC,SAAS,EAAEC,mBAFE;EAGbjF,IAAI,EAAEkF,cAHO;EAIbC,OAAO,EAAEC;CAJX;;AAOA,SAASC,OAAT,CAAiBzZ,IAAjB,EAAuBiN,MAAvB,EAA+ByM,EAA/B,EAAmC;MAC3BC,QAAQ,GAAG,EAAjB;MACMC,OAAO,GAAG3M,MAAM,CAAC4M,QAAvB;MACMC,OAAO,GAAG7M,MAAM,CAAChI,KAAvB;MACM8U,SAAS,GAAG9M,MAAM,CAAC8M,SAAP,IAAoB,OAAtC;MACMC,OAAO,GAAG/M,MAAM,CAAC+M,OAAP,IAAkB,KAAlC;MACMC,MAAM,GAAGhN,MAAM,CAACgN,MAAP,IAAiB,MAAhC;MACMnI,KAAK,GAAG7E,MAAM,CAAC6E,KAAP,IAAgB,MAA9B;MACMoI,QAAQ,GAAGjN,MAAM,CAACiN,QAAP,IAAmB,EAApC;MAEIC,aAAa,GAAG,CAApB;MAEIC,WAAW,GAAG,EAAlB;;OAEK,IAAI7Y,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGvB,IAAI,CAACsY,KAAL,CAAW3X,MAA/B,EAAuCY,CAAC,EAAxC,EAA4C;QACtCtB,CAAC,GAAGD,IAAI,CAACsY,KAAL,CAAW/W,CAAX,CAAR;QACI8Y,WAAW,GAAGH,QAAQ,GAAGja,CAAC,CAACia,QAAD,CAAJ,GAAiB,IAA3C;;QACIG,WAAW,IAAIA,WAAW,CAACtC,MAA/B,EAAuC;UACjCuC,EAAE,aAAMD,WAAW,CAACtC,MAAZ,CAAmBjW,GAAnB,IAA0B,EAAhC,cAAsCuY,WAAW,CAACtC,MAAZ,CAAmBK,KAAzD,CAAN;;UACI,CAACgC,WAAW,CAACE,EAAD,CAAhB,EAAsB;QACpBF,WAAW,CAACE,EAAD,CAAX,GAAkBD,WAAW,CAACtC,MAA9B;;;;QAGAwC,GAAG,GAAGX,OAAO,CAAC3Z,CAAD,CAAjB;IACA0Z,QAAQ,CAACY,GAAD,CAAR,GAAgBZ,QAAQ,CAACY,GAAD,CAAR,IAAiB;MAAEjC,KAAK,EAAE;KAA1C;IACAqB,QAAQ,CAACY,GAAD,CAAR,CAAcjC,KAAd,CAAoB1X,IAApB,CAAyBX,CAAzB;IAEAka,aAAa,GAAGhW,IAAI,CAACyG,GAAL,CAASuP,aAAT,EAAwBR,QAAQ,CAACY,GAAD,CAAR,CAAcjC,KAAd,CAAoB3X,MAA5C,CAAhB;;;MAGIiT,IAAI,GAAGpR,KAAK,CAACwC,KAAN,CAAY,IAAZ,EAAkB;IAAErE,MAAM,EAAEwZ;GAA5B,EAA6Cva,GAA7C,CAAiDC,MAAM,CAACkD,IAAxD,EAA8DlD,MAA9D,CAAb,CA9BiC;;MA+B3B2a,MAAM,GAAG5Y,MAAM,CAACgS,IAAP,CAAY+F,QAAZ,EAAsB/Z,GAAtB,CAA0B,UAAC2a,GAAD;WAASZ,QAAQ,CAACY,GAAD,CAAR,CAAcjC,KAAvB;GAA1B,CAAf;MAEMmC,OAAO,GAAGC,KAAK,GAClB9G,IADa,CACRA,IADQ,EAEb3O,KAFa,CAEP,UAAC/F,CAAD,EAAI4C,GAAJ;WAAa5C,CAAC,CAAC4C,GAAD,CAAD,GAASgY,OAAO,CAAC5a,CAAC,CAAC4C,GAAD,CAAF,CAAhB,GAA2B,CAAxC;GAFO,EAGbgQ,KAHa,CAGPmH,MAAM,CAACnH,KAAD,CAHC,EAIbmI,MAJa,CAIN1B,OAAO,CAAC0B,MAAD,CAJD,CAAhB;MAMIU,MAAM,GAAGF,OAAO,CAACD,MAAD,CAApB;MACItC,MAAM,GAAG,EAAb;;OAEK,IAAI3W,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAGoZ,MAAM,CAACha,MAA3B,EAAmCY,EAAC,EAApC,EAAwC;QAClCqZ,KAAK,GAAGD,MAAM,CAACpZ,EAAD,CAAlB;;SACK,IAAIrC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0b,KAAK,CAACja,MAA1B,EAAkCzB,CAAC,EAAnC,EAAuC;UACjC2b,KAAK,GAAGD,KAAK,CAAC1b,CAAD,CAAjB;UACI4b,IAAI,GAAGF,KAAK,CAAC1b,CAAD,CAAL,CAASc,IAAT,CAAc4a,KAAK,CAAC9Y,GAApB,CAAX;;UACI,CAACgZ,IAAL,EAAW;;;;MAGXA,IAAI,CAACf,SAAD,CAAJ,GAAkB;QAAE9U,KAAK,EAAE4V,KAAK,CAAC,CAAD;OAAhC;MACAC,IAAI,CAACd,OAAD,CAAJ,GAAgB;QAAE/U,KAAK,EAAE4V,KAAK,CAAC,CAAD;OAA9B;MACA3C,MAAM,CAACtX,IAAP,CAAYia,KAAK,CAAC,CAAD,CAAjB,EAAsBA,KAAK,CAAC,CAAD,CAA3B;;;;MAIAE,aAAa,GAAGnZ,MAAM,CAACgS,IAAP,CAAYwG,WAAZ,EAAyBxa,GAAzB,CAA6B,UAAC+X,CAAD,EAAO;QAClDqD,OAAO,GAAGtB,EAAE,CAACU,WAAW,CAACzC,CAAD,CAAX,CAAe7V,GAAhB,CAAhB;WACOkZ,OAAO,GAAGA,OAAO,CAAC5C,KAAR,CAAcgC,WAAW,CAACzC,CAAD,CAAX,CAAeS,KAA7B,CAAH,GAAyC,IAAvD;GAFkB,EAGjB/I,MAHiB,CAGV,UAACsI,CAAD;WAAO,CAAC,CAACA,CAAT;GAHU,CAApB;MAKMS,OAAK,GAAG6C,KAAO,CAAC;IACpBjD,KAAK,EAAE+C,aAAa,CAACnb,GAAd,CAAkB,UAAC+X,CAAD;aAAOA,CAAC,CAACK,KAAF,EAAP;KAAlB,EAAoCkD,IAApC,CAAyC,IAAzC,CADa;IAEpBvQ,GAAG,EAAExG,IAAI,CAACwG,GAAL,OAAAxG,IAAI,EAAQ+T,MAAR,CAFW;IAGpBtN,GAAG,EAAEzG,IAAI,CAACyG,GAAL,OAAAzG,IAAI,EAAQ+T,MAAR,CAHW;IAIpB3X,IAAI,EAAE,SAJc;IAKpBgV,SAAS,EAAEwF,aAAa,CAAC,CAAD,CAAb,GAAmBA,aAAa,CAAC,CAAD,CAAb,CAAiBxF,SAApC,GAAgD3M;GALxC,CAArB;EAOA5I,IAAI,CAACmb,MAAL,CAAYva,IAAZ,CAAiBwX,OAAjB;;;AC/Fa,SAASgD,OAAT,CAAiBC,UAAjB,EAAmD;MAAtBrb,IAAsB,uEAAf,EAAe;MAAXsb,IAAW,uEAAJ,EAAI;MAC5DC,SAAS,GAAG;;;;;;;;GAAhB;MAWMjI,MAAM,GAAGgI,IAAI,CAAChI,MAApB;;MAEI9Q,KAAK,CAACC,OAAN,CAAc4Y,UAAd,CAAJ,EAA+B;;IAC7BE,SAAS,CAACjD,KAAV,GAAkB+C,UAAU,CAACzb,GAAX,CAAe,UAACR,CAAD;aAAQ;QAAE6F,KAAK,EAAE7F,CAAT;QAAY+Y,KAAK,EAAEjY,MAAM,CAACd,CAAD;OAAjC;KAAf,CAAlB;GADF,MAEO,IAAIic,UAAJ,EAAgB;QACjB,gBAAgBA,UAApB,EAAgC;MAC9BE,SAAS,sBAAQvb,IAAI,CAACwb,UAAL,CAAgBH,UAAU,CAACG,UAA3B,CAAR,CAAT;KADF,MAEO;UACCzD,MAAM,GAAG/X,IAAI,CAAC0T,OAAL,GAAe1T,IAAI,CAAC0T,OAAL,CAAa2H,UAAU,CAACtD,MAAxB,CAAf,GAAiD,IAAhE;;UACI+B,OAAO,GAAGuB,UAAU,CAACpW,KAAX,IAAqB,UAACyL,CAAD;eAAOA,CAAP;OAAnC;;UACI+K,OAAO,GAAGJ,UAAU,CAAClD,KAAX,IAAqB,UAACzH,CAAD;eAAOA,CAAP;OAAnC;;UACI2K,UAAU,CAACK,OAAX,IAAsBL,UAAU,CAACM,KAArC,EAA4C;;QAC1CrI,MAAM,CAACE,IAAP,CAAY,iCAAZ,EAA+C6H,UAA/C;QACAE,SAAS,CAACjD,KAAV,GAAkB,EAAlB;OAFF,MAGO,IAAI+C,UAAU,CAACO,SAAf,EAA0B;QAC/BL,SAAS,CAACM,IAAV,GAAiB9D,MAAM,CAAC6D,SAAP,GAAmB7D,MAAM,CAAC6D,SAAP,CAAiBP,UAAU,CAACO,SAA5B,CAAnB,GAA4D,IAA7E;QACAL,SAAS,CAACJ,MAAV,GAAmBpD,MAAM,CAACoD,MAAP,EAAnB;OAFK,MAGA,IAAIE,UAAU,CAAC/C,KAAf,EAAsB;QAC3BiD,SAAS,CAACjD,KAAV,GAAkB+C,UAAU,CAAC/C,KAAX,CAAiB1Y,GAAjB,CAAqB,UAACR,CAAD;iBAAQ;YAAE6F,KAAK,EAAE6U,OAAO,CAAC1a,CAAD,CAAhB;YAAqB+Y,KAAK,EAAEjY,MAAM,CAACub,OAAO,CAACrc,CAAD,CAAR;WAA1C;SAArB,CAAlB;OADK,MAEA,IAAIic,UAAU,CAACD,OAAf,EAAwB;YACvBU,kBAAkB,GAAGtZ,KAAK,CAACC,OAAN,CAAc4Y,UAAU,CAACD,OAAzB,IAAoCC,UAAU,CAACD,OAA/C,GAAyD,CAACC,UAAU,CAACD,OAAZ,CAApF;QACAG,SAAS,CAACjD,KAAV,GAAkB,EAAlB;YACMyD,YAAY,GAAG,EAArB;QACAD,kBAAkB,CAACrL,OAAnB,CAA2B,UAACuL,GAAD,EAAS;;;cAC5B9c,CAAC,GAAG8c,GAAG,CAACjE,MAAJ,GAAa/X,IAAI,CAAC0T,OAAL,CAAasI,GAAG,CAACjE,MAAjB,CAAb,GAAwCA,MAAlD;;cACI,CAAC7Y,CAAL,EAAQ;;;;8BAGRqc,SAAS,CAACjD,KAAV,EAAgB1X,IAAhB,8CAAwB1B,CAAC,CAACkc,OAAF,CAAUY,GAAV,CAAxB;;cACI,OAAOA,GAAG,CAAC5D,KAAX,KAAqB,WAAzB,EAAsC;YACpC2D,YAAY,CAACnb,IAAb,CAAkB1B,CAAC,CAACkZ,KAAF,CAAQ4D,GAAG,CAAC5D,KAAZ,CAAlB;;SAPJ;;YAUI2D,YAAY,CAACpb,MAAjB,EAAyB;UACvB4a,SAAS,CAACJ,MAAV,GAAmBY,YAAnB;;;YAEEV,UAAU,CAACY,KAAX,IAAoBzZ,KAAK,CAACC,OAAN,CAAc4Y,UAAU,CAACY,KAAzB,CAAxB,EAAyD;;;+BACvDV,SAAS,CAACjD,KAAV,EAAgB1X,IAAhB,+CAAwBya,UAAU,CAACY,KAAnC;;OAlBG,MAoBA,IAAI,OAAOZ,UAAU,CAACjD,KAAlB,KAA4B,WAA5B,IAA2CL,MAA/C,EAAuD;YACtDJ,CAAC,GAAGI,MAAM,CAACK,KAAP,CAAaiD,UAAU,CAACjD,KAAxB,CAAV;;YACIT,CAAJ,EAAO;cACD,CAAC4D,SAAS,CAACJ,MAAf,EAAuB;YACrBI,SAAS,CAACJ,MAAV,GAAmB,EAAnB;;;UAEFI,SAAS,CAACJ,MAAV,CAAiBva,IAAjB,CAAsB+W,CAAtB;;cACI,EAAE,WAAW0D,UAAb,CAAJ,EAA8B;YAC5BvB,OAAO,GAAGnC,CAAC,CAAC1S,KAAF,IAAY,UAAC7F,CAAD;qBAAOA,CAAP;aAAtB;;YACAqc,OAAO,GAAG9D,CAAC,CAACQ,KAAF,IAAY,UAAC/Y,CAAD;qBAAOA,CAAP;aAAtB;;YACAmc,SAAS,CAACtW,KAAV,GAAkB6U,OAAlB;;;UAEFyB,SAAS,CAACjD,KAAV,GAAkBX,CAAC,CAACW,KAAF,GAAU1Y,GAAV,CAAc,UAACR,CAAD;mBAAQ;cAAE6F,KAAK,EAAE6U,OAAO,CAAC1a,CAAD,CAAhB;cAAqB+Y,KAAK,EAAEjY,MAAM,CAACub,OAAO,CAACrc,CAAD,CAAR,CAAlC;cAAgD2Y,MAAM,EAAE;gBAAEK,KAAK,EAAEiD,UAAU,CAACjD;;aAApF;WAAd,CAAlB,CAVK;;OAFF,MAeA,IAAIiD,UAAU,CAACF,MAAf,EAAuB;QAC5BE,UAAU,CAACF,MAAX,CAAkB1K,OAAlB,CAA0B,UAACyL,GAAD,EAAS;cAC3Bhd,CAAC,GAAG,QAAOgd,GAAP,MAAe,QAAf,IAA2BA,GAAG,CAACnE,MAA/B,GAAwC/X,IAAI,CAAC0T,OAAL,CAAawI,GAAG,CAACnE,MAAjB,CAAxC,GAAmEA,MAA7E;;cACI,CAAC7Y,CAAL,EAAQ;;;;cAGJyY,CAAJ;;cACI,QAAOuE,GAAP,MAAe,QAAf,IAA2B,OAAOA,GAAG,CAAC9D,KAAX,KAAqB,WAApD,EAAiE;YAC/DT,CAAC,GAAGzY,CAAC,CAACkZ,KAAF,CAAQ8D,GAAG,CAAC9D,KAAZ,CAAJ;WADF,MAEO;YACLT,CAAC,GAAGzY,CAAC,CAACkZ,KAAF,CAAQ8D,GAAR,CAAJ;;;cAEEvE,CAAJ,EAAO;gBACD,CAAC4D,SAAS,CAACJ,MAAf,EAAuB;cACrBI,SAAS,CAACJ,MAAV,GAAmB,EAAnB;;;YAEFI,SAAS,CAACJ,MAAV,CAAiBva,IAAjB,CAAsB+W,CAAtB;;SAfJ;;;UAoBE4D,SAAS,CAACjD,KAAV,IAAmB+C,UAAU,CAACzb,GAAlC,EAAuC;QACrC2b,SAAS,CAACjD,KAAV,GAAkBiD,SAAS,CAACjD,KAAV,CAAgB1Y,GAAhB,CAAoByb,UAAU,CAACzb,GAA/B,CAAlB;;;;QAIAyb,UAAU,IAAIA,UAAU,CAACX,KAA7B,EAAoC;MAClCA,OAAK,CAACa,SAAD,EAAYF,UAAU,CAACX,KAAvB,EAA8B1a,IAAI,CAAC0T,OAAnC,CAAL;;;;MAGA2H,UAAU,IAAI,CAAC7Y,KAAK,CAACC,OAAN,CAAc4Y,UAAd,CAAf,IAA4C,OAAOA,UAAU,CAAChM,MAAlB,KAA6B,UAAzE,IAAuFkM,SAAS,CAACjD,KAArG,EAA4G;IAC1GiD,SAAS,CAACjD,KAAV,GAAkBiD,SAAS,CAACjD,KAAV,CAAgBjJ,MAAhB,CAAuBgM,UAAU,CAAChM,MAAlC,CAAlB;;;MAEEgM,UAAU,IAAI,CAAC7Y,KAAK,CAACC,OAAN,CAAc4Y,UAAd,CAAf,IAA4C,OAAOA,UAAU,CAACnM,IAAlB,KAA2B,UAAvE,IAAqFqM,SAAS,CAACjD,KAAnG,EAA0G;IACxGiD,SAAS,CAACjD,KAAV,GAAkBiD,SAAS,CAACjD,KAAV,CAAgBpJ,IAAhB,CAAqBmM,UAAU,CAACnM,IAAhC,CAAlB;;;SAEKqM,SAAP;;;ACrGF,SAASY,MAAT,CAAgBlP,MAAhB,EAAwByD,CAAxB,EAA2B4K,IAA3B,EAAsD;MAArBc,SAAqB,uEAAThB,OAAS;MAC9CiB,WAAW,GAAG,EAApB;GAECpP,MAAM,IAAI,EAAX,EAAewD,OAAf,CAAuB,UAACuL,GAAD,EAAS;QAC1B,CAACA,GAAG,CAACla,GAAT,EAAc;YACN,IAAIuP,KAAJ,CAAU,2CAAV,CAAN;;;QAEE,QAAO2K,GAAG,CAAChc,IAAX,MAAoB,QAApB,IAAgC,gBAAgBgc,GAAG,CAAChc,IAAxD,EAA8D;YACtD,IAAIqR,KAAJ,CAAU,iEAAV,CAAN;;;IAEFgL,WAAW,CAACL,GAAG,CAACla,GAAL,CAAX,GAAuB;aAAMsa,SAAS,CAACJ,GAAG,CAAChc,IAAL,EAAW0Q,CAAX,EAAc4K,IAAd,CAAf;KAAvB;GAPF;;MAUM3H,EAAE,GAAG,SAALA,EAAK,CAAC7R,GAAD,EAAS;QACdwa,CAAJ;QACIN,GAAJ;;QACI,OAAOla,GAAP,KAAe,QAAnB,EAA6B;MAC3Bwa,CAAC,GAAGxa,GAAJ;KADF,MAEO,IAAI,QAAOA,GAAP,MAAe,QAAnB,EAA6B;MAClCwa,CAAC,GAAGxa,GAAG,CAACA,GAAR;MACAka,GAAG,GAAGla,GAAN;;;QAEE,EAAEwa,CAAC,IAAID,WAAP,CAAJ,EAAyB;YACjB,IAAIhL,KAAJ,oCAAsCiL,CAAtC,EAAN;;;QAEE,OAAOD,WAAW,CAACC,CAAD,CAAlB,KAA0B,UAA9B,EAA0C;MACxCD,WAAW,CAACC,CAAD,CAAX,GAAiBD,WAAW,CAACC,CAAD,CAAX,EAAjB;;;QAEEC,IAAI,GAAGF,WAAW,CAACC,CAAD,CAAtB;;QACIN,GAAJ,EAAS;UACHA,GAAG,CAACb,MAAJ,IAAca,GAAG,CAACb,MAAJ,CAAW9L,MAA7B,EAAqC;YAC/BmN,QAAQ,GAAGD,IAAI,CAACpB,MAAL,CAAY9L,MAAZ,CAAmB2M,GAAG,CAACb,MAAJ,CAAW9L,MAA9B,CAAf;;YACIkN,IAAI,CAACpB,MAAL,CAAYxa,MAAZ,KAAuB6b,QAAQ,CAAC7b,MAApC,EAA4C;UAC1C4b,IAAI,GAAGnR,MAAM,CAACmR,IAAD,EAAO;YAAEpB,MAAM,EAAEqB;WAAjB,CAAb;;;;;WAKCD,IAAP;GAzBF;;SA4BO5I,EAAP;;;AC1CK,SAASwI,QAAT,CAAgBM,OAAhB,EAAyBzc,IAAzB,EAA+B0c,IAA/B,EAA8D;MAAzBN,SAAyB,uEAAbO,OAAa;;MAC/DF,OAAO,CAACzc,IAAZ,EAAkB;QACV0Q,CAAC,GAAG0L,SAAS,CAACK,OAAO,CAACzc,IAAT,EAAeA,IAAf,EAAqB0c,IAArB,CAAnB;;QACIhM,CAAC,IAAIA,CAAC,CAACyK,MAAP,IAAiBzK,CAAC,CAACyK,MAAF,CAAS,CAAT,CAArB,EAAkC;;aAEzBzK,CAAC,CAACyK,MAAF,CAAS,CAAT,EAAY5F,SAAZ,EAAP;;;;MAIAqH,aAAJ;;MACIH,OAAO,CAAClH,SAAZ,EAAuB;IACrBqH,aAAa,aAAMH,OAAO,CAAClH,SAAd,cAA2BkH,OAAO,CAAClc,IAAR,IAAgB,QAA3C,CAAb;GADF,MAEO;IACLqc,aAAa,GAAGH,OAAO,CAAClc,IAAR,IAAgB,WAAhC;;;MAGEmc,IAAI,CAACnH,SAAL,CAAeX,GAAf,CAAmBgI,aAAnB,CAAJ,EAAuC;QAC/BjF,CAAC,GAAG+E,IAAI,CAACnH,SAAL,CAAeZ,GAAf,CAAmBiI,aAAnB,EAAkCH,OAAO,CAAC5G,MAAR,IAAkB,EAApD,CAAV;WACO8B,CAAP;;;QAGI,IAAItG,KAAJ,8BAAgCuL,aAAhC,qBAAN;;AAGF,AAAO,SAASpB,UAAT,CAAoBqB,gBAApB,EAAsC7c,IAAtC,EAA4C0c,IAA5C,EAA+D;MAAb/I,EAAa,uEAARwI,QAAQ;MAC9DW,UAAU,GAAG,EAAnB;SACO;IACLnI,GADK,eACDoI,GADC,EACI;UACHjb,GAAJ;;UACI,OAAOib,GAAP,KAAe,QAAf,IAA2BF,gBAAgB,CAACE,GAAD,CAA/C,EAAsD;QACpDjb,GAAG,GAAGib,GAAN;OADF,MAEO,IAAI,QAAOA,GAAP,MAAe,QAAf,IAA2B,eAAeA,GAA1C,IAAiDF,gBAAgB,CAACE,GAAG,CAACxH,SAAL,CAArE,EAAsF;QAC3FzT,GAAG,GAAGib,GAAG,CAACxH,SAAV;OADK,MAEA,IAAI,QAAOwH,GAAP,MAAe,QAAf,IAA2B,UAAUA,GAArC,IAA4CF,gBAAgB,CAACE,GAAG,CAACxc,IAAL,CAAhE,EAA4E;QACjFuB,GAAG,GAAGib,GAAG,CAACxc,IAAV;;;UAGEuB,GAAJ,EAAS;QACPgb,UAAU,CAAChb,GAAD,CAAV,GAAkBgb,UAAU,CAAChb,GAAD,CAAV,IAAmB6R,EAAE,CAACkJ,gBAAgB,CAAC/a,GAAD,CAAjB,EAAwB9B,IAAxB,EAA8B0c,IAA9B,CAAvC;eACOI,UAAU,CAAChb,GAAD,CAAjB;;;aAGK6R,EAAE,CAACoJ,GAAG,IAAI,EAAR,EAAY/c,IAAZ,EAAkB0c,IAAlB,CAAT;KAhBG;IAkBLM,GAlBK,iBAkBC;MACJpb,MAAM,CAACgS,IAAP,CAAYiJ,gBAAZ,EAA8BpM,OAA9B,CAAsC,KAAKkE,GAA3C;aACOmI,UAAP;;GApBJ;;;AC5Ba,kBAAQ,CAAC,CAAC,EAAE,CAAC,EAAE;EAC5B,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;CAClD;;ACAc,iBAAQ,CAAC,OAAO,EAAE;EAC/B,IAAI,OAAO,CAAC,MAAM,KAAK,CAAC,EAAE,OAAO,GAAG,mBAAmB,CAAC,OAAO,CAAC,CAAC;EACjE,OAAO;IACL,IAAI,EAAE,SAAS,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE;MAC3B,IAAI,EAAE,IAAI,IAAI,EAAE,EAAE,GAAG,CAAC,CAAC;MACvB,IAAI,EAAE,IAAI,IAAI,EAAE,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC;MAC9B,OAAO,EAAE,GAAG,EAAE,EAAE;QACd,IAAI,GAAG,GAAG,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;QACxB,IAAI,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,GAAG,GAAG,CAAC,CAAC;aACpC,EAAE,GAAG,GAAG,CAAC;OACf;MACD,OAAO,EAAE,CAAC;KACX;IACD,KAAK,EAAE,SAAS,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE;MAC5B,IAAI,EAAE,IAAI,IAAI,EAAE,EAAE,GAAG,CAAC,CAAC;MACvB,IAAI,EAAE,IAAI,IAAI,EAAE,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC;MAC9B,OAAO,EAAE,GAAG,EAAE,EAAE;QACd,IAAI,GAAG,GAAG,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;QACxB,IAAI,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,GAAG,CAAC;aAChC,EAAE,GAAG,GAAG,GAAG,CAAC,CAAC;OACnB;MACD,OAAO,EAAE,CAAC;KACX;GACF,CAAC;CACH;;AAED,SAAS,mBAAmB,CAAC,CAAC,EAAE;EAC9B,OAAO,SAAS,CAAC,EAAE,CAAC,EAAE;IACpB,OAAO,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;GAC3B,CAAC;CACH;;AC7BD,IAAI,eAAe,GAAG,QAAQ,CAAC,SAAS,CAAC,CAAC;AAC1C,AAAO,IAAI,WAAW,GAAG,eAAe,CAAC,KAAK,CAAC;;ACJhC,iBAAQ,CAAC,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE;EACzC,KAAK,GAAG,CAAC,KAAK,EAAE,IAAI,GAAG,CAAC,IAAI,EAAE,IAAI,GAAG,CAAC,CAAC,GAAG,SAAS,CAAC,MAAM,IAAI,CAAC,IAAI,IAAI,GAAG,KAAK,EAAE,KAAK,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC;;EAEnH,IAAI,CAAC,GAAG,CAAC,CAAC;MACN,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,GAAG,KAAK,IAAI,IAAI,CAAC,CAAC,GAAG,CAAC;MACrD,KAAK,GAAG,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC;;EAEzB,OAAO,EAAE,CAAC,GAAG,CAAC,EAAE;IACd,KAAK,CAAC,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,GAAG,IAAI,CAAC;GAC7B;;EAED,OAAO,KAAK,CAAC;CACd;;ACZD,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;IACnB,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;IAClB,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;;AAEtB,AAAe,cAAQ,CAAC,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE;EAC1C,IAAI,OAAO;MACP,CAAC,GAAG,CAAC,CAAC;MACN,CAAC;MACD,KAAK;MACL,IAAI,CAAC;;EAET,IAAI,GAAG,CAAC,IAAI,EAAE,KAAK,GAAG,CAAC,KAAK,EAAE,KAAK,GAAG,CAAC,KAAK,CAAC;EAC7C,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,GAAG,CAAC,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC;EAChD,IAAI,OAAO,GAAG,IAAI,GAAG,KAAK,EAAE,CAAC,GAAG,KAAK,EAAE,KAAK,GAAG,IAAI,EAAE,IAAI,GAAG,CAAC,CAAC;EAC9D,IAAI,CAAC,IAAI,GAAG,aAAa,CAAC,KAAK,EAAE,IAAI,EAAE,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,CAAC;;EAEnF,IAAI,IAAI,GAAG,CAAC,EAAE;IACZ,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC;IAChC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC;IAC/B,KAAK,GAAG,IAAI,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC;IACnD,OAAO,EAAE,CAAC,GAAG,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC,IAAI,IAAI,CAAC;GAC/C,MAAM;IACL,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC;IACjC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC;IAC9B,KAAK,GAAG,IAAI,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC;IACnD,OAAO,EAAE,CAAC,GAAG,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC,IAAI,IAAI,CAAC;GAC/C;;EAED,IAAI,OAAO,EAAE,KAAK,CAAC,OAAO,EAAE,CAAC;;EAE7B,OAAO,KAAK,CAAC;CACd;;AAED,AAAO,SAAS,aAAa,CAAC,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE;EAChD,IAAI,IAAI,GAAG,CAAC,IAAI,GAAG,KAAK,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC;MAC1C,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC;MAC9C,KAAK,GAAG,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;EACvC,OAAO,KAAK,IAAI,CAAC;QACX,CAAC,KAAK,IAAI,GAAG,GAAG,EAAE,GAAG,KAAK,IAAI,EAAE,GAAG,CAAC,GAAG,KAAK,IAAI,EAAE,GAAG,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,KAAK,CAAC;QACjF,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,KAAK,CAAC,IAAI,KAAK,IAAI,GAAG,GAAG,EAAE,GAAG,KAAK,IAAI,EAAE,GAAG,CAAC,GAAG,KAAK,IAAI,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;CAC3F;;AAED,AAAO,SAAS,QAAQ,CAAC,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE;EAC3C,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG,KAAK,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC;MACnD,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;MAC7D,KAAK,GAAG,KAAK,GAAG,KAAK,CAAC;EAC1B,IAAI,KAAK,IAAI,GAAG,EAAE,KAAK,IAAI,EAAE,CAAC;OACzB,IAAI,KAAK,IAAI,EAAE,EAAE,KAAK,IAAI,CAAC,CAAC;OAC5B,IAAI,KAAK,IAAI,EAAE,EAAE,KAAK,IAAI,CAAC,CAAC;EACjC,OAAO,IAAI,GAAG,KAAK,GAAG,CAAC,KAAK,GAAG,KAAK,CAAC;CACtC;;AClDM,SAAS,SAAS,CAAC,MAAM,EAAE,KAAK,EAAE;EACvC,QAAQ,SAAS,CAAC,MAAM;IACtB,KAAK,CAAC,EAAE,MAAM;IACd,KAAK,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM;IAClC,SAAS,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM;GAClD;EACD,OAAO,IAAI,CAAC;CACb;;ACPM,IAAI,MAAM,GAAG,GAAG,CAAC;;AAExB,SAAS,GAAG,GAAG,EAAE;;AAEjB,GAAG,CAAC,SAAS,GAAGld,KAAG,CAAC,SAAS,GAAG;EAC9B,WAAW,EAAE,GAAG;EAChB,GAAG,EAAE,SAAS,GAAG,EAAE;IACjB,OAAO,CAAC,MAAM,GAAG,GAAG,KAAK,IAAI,CAAC;GAC/B;EACD,GAAG,EAAE,SAAS,GAAG,EAAE;IACjB,OAAO,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC,CAAC;GAC3B;EACD,GAAG,EAAE,SAAS,GAAG,EAAE,KAAK,EAAE;IACxB,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,KAAK,CAAC;IAC3B,OAAO,IAAI,CAAC;GACb;EACD,MAAM,EAAE,SAAS,GAAG,EAAE;IACpB,IAAI,QAAQ,GAAG,MAAM,GAAG,GAAG,CAAC;IAC5B,OAAO,QAAQ,IAAI,IAAI,IAAI,OAAO,IAAI,CAAC,QAAQ,CAAC,CAAC;GAClD;EACD,KAAK,EAAE,WAAW;IAChB,KAAK,IAAI,QAAQ,IAAI,IAAI,EAAE,IAAI,QAAQ,CAAC,CAAC,CAAC,KAAK,MAAM,EAAE,OAAO,IAAI,CAAC,QAAQ,CAAC,CAAC;GAC9E;EACD,IAAI,EAAE,WAAW;IACf,IAAI,IAAI,GAAG,EAAE,CAAC;IACd,KAAK,IAAI,QAAQ,IAAI,IAAI,EAAE,IAAI,QAAQ,CAAC,CAAC,CAAC,KAAK,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;IACpF,OAAO,IAAI,CAAC;GACb;EACD,MAAM,EAAE,WAAW;IACjB,IAAI,MAAM,GAAG,EAAE,CAAC;IAChB,KAAK,IAAI,QAAQ,IAAI,IAAI,EAAE,IAAI,QAAQ,CAAC,CAAC,CAAC,KAAK,MAAM,EAAE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;IACnF,OAAO,MAAM,CAAC;GACf;EACD,OAAO,EAAE,WAAW;IAClB,IAAI,OAAO,GAAG,EAAE,CAAC;IACjB,KAAK,IAAI,QAAQ,IAAI,IAAI,EAAE,IAAI,QAAQ,CAAC,CAAC,CAAC,KAAK,MAAM,EAAE,OAAO,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;IACrH,OAAO,OAAO,CAAC;GAChB;EACD,IAAI,EAAE,WAAW;IACf,IAAI,IAAI,GAAG,CAAC,CAAC;IACb,KAAK,IAAI,QAAQ,IAAI,IAAI,EAAE,IAAI,QAAQ,CAAC,CAAC,CAAC,KAAK,MAAM,EAAE,EAAE,IAAI,CAAC;IAC9D,OAAO,IAAI,CAAC;GACb;EACD,KAAK,EAAE,WAAW;IAChB,KAAK,IAAI,QAAQ,IAAI,IAAI,EAAE,IAAI,QAAQ,CAAC,CAAC,CAAC,KAAK,MAAM,EAAE,OAAO,KAAK,CAAC;IACpE,OAAO,IAAI,CAAC;GACb;EACD,IAAI,EAAE,SAAS,CAAC,EAAE;IAChB,KAAK,IAAI,QAAQ,IAAI,IAAI,EAAE,IAAI,QAAQ,CAAC,CAAC,CAAC,KAAK,MAAM,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;GACnG;CACF,CAAC;;AAEF,SAASA,KAAG,CAAC,MAAM,EAAE,CAAC,EAAE;EACtB,IAAI,GAAG,GAAG,IAAI,GAAG,CAAC;;;EAGlB,IAAI,MAAM,YAAY,GAAG,EAAE,MAAM,CAAC,IAAI,CAAC,SAAS,KAAK,EAAE,GAAG,EAAE,EAAE,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;;;OAGjF,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;IAC9B,IAAI,CAAC,GAAG,CAAC,CAAC;QACN,CAAC,GAAG,MAAM,CAAC,MAAM;QACjB,CAAC,CAAC;;IAEN,IAAI,CAAC,IAAI,IAAI,EAAE,OAAO,EAAE,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;SAChD,OAAO,EAAE,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;GAC9D;;;OAGI,IAAI,MAAM,EAAE,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;;EAEnE,OAAO,GAAG,CAAC;CACZ;;ACtED,SAAS,GAAG,GAAG,EAAE;;AAEjB,IAAI,KAAK,GAAGA,KAAG,CAAC,SAAS,CAAC;;AAE1B,GAAG,CAAC,SAAS,GAAG,GAAG,CAAC,SAAS,GAAG;EAC9B,WAAW,EAAE,GAAG;EAChB,GAAG,EAAE,KAAK,CAAC,GAAG;EACd,GAAG,EAAE,SAAS,KAAK,EAAE;IACnB,KAAK,IAAI,EAAE,CAAC;IACZ,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,GAAG,KAAK,CAAC;IAC7B,OAAO,IAAI,CAAC;GACb;EACD,MAAM,EAAE,KAAK,CAAC,MAAM;EACpB,KAAK,EAAE,KAAK,CAAC,KAAK;EAClB,MAAM,EAAE,KAAK,CAAC,IAAI;EAClB,IAAI,EAAE,KAAK,CAAC,IAAI;EAChB,KAAK,EAAE,KAAK,CAAC,KAAK;EAClB,IAAI,EAAE,KAAK,CAAC,IAAI;CACjB,CAAC;;AAEF,SAAS,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE;EACtB,IAAI,GAAG,GAAG,IAAI,GAAG,CAAC;;;EAGlB,IAAI,MAAM,YAAY,GAAG,EAAE,MAAM,CAAC,IAAI,CAAC,SAAS,KAAK,EAAE,EAAE,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;;;OAGvE,IAAI,MAAM,EAAE;IACf,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC;IAC9B,IAAI,CAAC,IAAI,IAAI,EAAE,OAAO,EAAE,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;SAC7C,OAAO,EAAE,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC;GACvD;;EAED,OAAO,GAAG,CAAC;CACZ;;ACpCD,IAAI,KAAK,GAAG,KAAK,CAAC,SAAS,CAAC;;AAE5B,AAAO,IAAIA,KAAG,GAAG,KAAK,CAAC,GAAG,CAAC;AAC3B,AAAO,IAAIqP,OAAK,GAAG,KAAK,CAAC,KAAK,CAAC;;ACCxB,IAAI,QAAQ,GAAG,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;;AAEzC,AAAe,SAAS,OAAO,GAAG;EAChC,IAAI,KAAK,GAAGrP,KAAG,EAAE;MACb,MAAM,GAAG,EAAE;MACX,KAAK,GAAG,EAAE;MACV,OAAO,GAAG,QAAQ,CAAC;;EAEvB,SAAS,KAAK,CAAC,CAAC,EAAE;IAChB,IAAI,GAAG,GAAG,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACrC,IAAI,CAAC,CAAC,EAAE;MACN,IAAI,OAAO,KAAK,QAAQ,EAAE,OAAO,OAAO,CAAC;MACzC,KAAK,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;KACpC;IACD,OAAO,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC;GACtC;;EAED,KAAK,CAAC,MAAM,GAAG,SAAS,CAAC,EAAE;IACzB,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,OAAO,MAAM,CAAC,KAAK,EAAE,CAAC;IAC7C,MAAM,GAAG,EAAE,EAAE,KAAK,GAAGA,KAAG,EAAE,CAAC;IAC3B,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,GAAG,CAAC;IACjC,OAAO,EAAE,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,GAAG,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;IACtF,OAAO,KAAK,CAAC;GACd,CAAC;;EAEF,KAAK,CAAC,KAAK,GAAG,SAAS,CAAC,EAAE;IACxB,OAAO,SAAS,CAAC,MAAM,IAAI,KAAK,GAAGqP,OAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,KAAK,IAAI,KAAK,CAAC,KAAK,EAAE,CAAC;GAC1E,CAAC;;EAEF,KAAK,CAAC,OAAO,GAAG,SAAS,CAAC,EAAE;IAC1B,OAAO,SAAS,CAAC,MAAM,IAAI,OAAO,GAAG,CAAC,EAAE,KAAK,IAAI,OAAO,CAAC;GAC1D,CAAC;;EAEF,KAAK,CAAC,IAAI,GAAG,WAAW;IACtB,OAAO,OAAO,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;GAChD,CAAC;;EAEF,SAAS,CAAC,KAAK,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;;EAElC,OAAO,KAAK,CAAC;CACd;;ACxCc,SAAS,IAAI,GAAG;EAC7B,IAAI,KAAK,GAAG,OAAO,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC;MACpC,MAAM,GAAG,KAAK,CAAC,MAAM;MACrB,YAAY,GAAG,KAAK,CAAC,KAAK;MAC1B,KAAK,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;MACd,IAAI;MACJ,SAAS;MACT,KAAK,GAAG,KAAK;MACb,YAAY,GAAG,CAAC;MAChB,YAAY,GAAG,CAAC;MAChB,KAAK,GAAG,GAAG,CAAC;;EAEhB,OAAO,KAAK,CAAC,OAAO,CAAC;;EAErB,SAAS,OAAO,GAAG;IACjB,IAAI,CAAC,GAAG,MAAM,EAAE,CAAC,MAAM;QACnB,OAAO,GAAG,KAAK,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;QAC7B,KAAK,GAAG,KAAK,CAAC,OAAO,GAAG,CAAC,CAAC;QAC1B,IAAI,GAAG,KAAK,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC;IAC9B,IAAI,GAAG,CAAC,IAAI,GAAG,KAAK,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,YAAY,GAAG,YAAY,GAAG,CAAC,CAAC,CAAC;IACzE,IAAI,KAAK,EAAE,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IACnC,KAAK,IAAI,CAAC,IAAI,GAAG,KAAK,GAAG,IAAI,IAAI,CAAC,GAAG,YAAY,CAAC,IAAI,KAAK,CAAC;IAC5D,SAAS,GAAG,IAAI,IAAI,CAAC,GAAG,YAAY,CAAC,CAAC;IACtC,IAAI,KAAK,EAAE,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;IACxE,IAAI,MAAM,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,EAAE,OAAO,KAAK,GAAG,IAAI,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IACvE,OAAO,YAAY,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,EAAE,GAAG,MAAM,CAAC,CAAC;GAC1D;;EAED,KAAK,CAAC,MAAM,GAAG,SAAS,CAAC,EAAE;IACzB,OAAO,SAAS,CAAC,MAAM,IAAI,MAAM,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,MAAM,EAAE,CAAC;GAC7D,CAAC;;EAEF,KAAK,CAAC,KAAK,GAAG,SAAS,CAAC,EAAE;IACxB,OAAO,SAAS,CAAC,MAAM,IAAI,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,KAAK,CAAC,KAAK,EAAE,CAAC;GAC/E,CAAC;;EAEF,KAAK,CAAC,UAAU,GAAG,SAAS,CAAC,EAAE;IAC7B,OAAO,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,GAAG,IAAI,EAAE,OAAO,EAAE,CAAC;GACxD,CAAC;;EAEF,KAAK,CAAC,SAAS,GAAG,WAAW;IAC3B,OAAO,SAAS,CAAC;GAClB,CAAC;;EAEF,KAAK,CAAC,IAAI,GAAG,WAAW;IACtB,OAAO,IAAI,CAAC;GACb,CAAC;;EAEF,KAAK,CAAC,KAAK,GAAG,SAAS,CAAC,EAAE;IACxB,OAAO,SAAS,CAAC,MAAM,IAAI,KAAK,GAAG,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,KAAK,CAAC;GAC5D,CAAC;;EAEF,KAAK,CAAC,OAAO,GAAG,SAAS,CAAC,EAAE;IAC1B,OAAO,SAAS,CAAC,MAAM,IAAI,YAAY,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,YAAY,GAAG,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,YAAY,CAAC;GACrG,CAAC;;EAEF,KAAK,CAAC,YAAY,GAAG,SAAS,CAAC,EAAE;IAC/B,OAAO,SAAS,CAAC,MAAM,IAAI,YAAY,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,YAAY,CAAC;GACrF,CAAC;;EAEF,KAAK,CAAC,YAAY,GAAG,SAAS,CAAC,EAAE;IAC/B,OAAO,SAAS,CAAC,MAAM,IAAI,YAAY,GAAG,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,YAAY,CAAC;GACzE,CAAC;;EAEF,KAAK,CAAC,KAAK,GAAG,SAAS,CAAC,EAAE;IACxB,OAAO,SAAS,CAAC,MAAM,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,KAAK,CAAC;GACpF,CAAC;;EAEF,KAAK,CAAC,IAAI,GAAG,WAAW;IACtB,OAAO,IAAI,CAAC,MAAM,EAAE,EAAE,KAAK,CAAC;SACvB,KAAK,CAAC,KAAK,CAAC;SACZ,YAAY,CAAC,YAAY,CAAC;SAC1B,YAAY,CAAC,YAAY,CAAC;SAC1B,KAAK,CAAC,KAAK,CAAC,CAAC;GACnB,CAAC;;EAEF,OAAO,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,EAAE,SAAS,CAAC,CAAC;CAC9C;;ACjFc,eAAQ,CAAC,WAAW,EAAE,OAAO,EAAE,SAAS,EAAE;EACvD,WAAW,CAAC,SAAS,GAAG,OAAO,CAAC,SAAS,GAAG,SAAS,CAAC;EACtD,SAAS,CAAC,WAAW,GAAG,WAAW,CAAC;CACrC;;AAED,AAAO,SAAS7D,QAAM,CAAC,MAAM,EAAE,UAAU,EAAE;EACzC,IAAI,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;EAChD,KAAK,IAAI,GAAG,IAAI,UAAU,EAAE,SAAS,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC;EAC7D,OAAO,SAAS,CAAC;CAClB;;ACPM,SAAS,KAAK,GAAG,EAAE;;AAE1B,AAAO,IAAI,MAAM,GAAG,GAAG,CAAC;AACxB,AAAO,IAAI,QAAQ,GAAG,CAAC,GAAG,MAAM,CAAC;;AAEjC,IAAI,GAAG,GAAG,qBAAqB;IAC3B,GAAG,GAAG,+CAA+C;IACrD,GAAG,GAAG,gDAAgD;IACtD,MAAM,GAAG,kBAAkB;IAC3B,MAAM,GAAG,kBAAkB;IAC3B,YAAY,GAAG,IAAI,MAAM,CAAC,SAAS,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,GAAG,MAAM,CAAC;IAC/D,YAAY,GAAG,IAAI,MAAM,CAAC,SAAS,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,GAAG,MAAM,CAAC;IAC/D,aAAa,GAAG,IAAI,MAAM,CAAC,UAAU,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,GAAG,MAAM,CAAC;IACtE,aAAa,GAAG,IAAI,MAAM,CAAC,UAAU,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,GAAG,MAAM,CAAC;IACtE,YAAY,GAAG,IAAI,MAAM,CAAC,SAAS,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,GAAG,MAAM,CAAC;IAC/D,aAAa,GAAG,IAAI,MAAM,CAAC,UAAU,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,GAAG,MAAM,CAAC,CAAC;;AAE3E,IAAI,KAAK,GAAG;EACV,SAAS,EAAE,QAAQ;EACnB,YAAY,EAAE,QAAQ;EACtB,IAAI,EAAE,QAAQ;EACd,UAAU,EAAE,QAAQ;EACpB,KAAK,EAAE,QAAQ;EACf,KAAK,EAAE,QAAQ;EACf,MAAM,EAAE,QAAQ;EAChB,KAAK,EAAE,QAAQ;EACf,cAAc,EAAE,QAAQ;EACxB,IAAI,EAAE,QAAQ;EACd,UAAU,EAAE,QAAQ;EACpB,KAAK,EAAE,QAAQ;EACf,SAAS,EAAE,QAAQ;EACnB,SAAS,EAAE,QAAQ;EACnB,UAAU,EAAE,QAAQ;EACpB,SAAS,EAAE,QAAQ;EACnB,KAAK,EAAE,QAAQ;EACf,cAAc,EAAE,QAAQ;EACxB,QAAQ,EAAE,QAAQ;EAClB,OAAO,EAAE,QAAQ;EACjB,IAAI,EAAE,QAAQ;EACd,QAAQ,EAAE,QAAQ;EAClB,QAAQ,EAAE,QAAQ;EAClB,aAAa,EAAE,QAAQ;EACvB,QAAQ,EAAE,QAAQ;EAClB,SAAS,EAAE,QAAQ;EACnB,QAAQ,EAAE,QAAQ;EAClB,SAAS,EAAE,QAAQ;EACnB,WAAW,EAAE,QAAQ;EACrB,cAAc,EAAE,QAAQ;EACxB,UAAU,EAAE,QAAQ;EACpB,UAAU,EAAE,QAAQ;EACpB,OAAO,EAAE,QAAQ;EACjB,UAAU,EAAE,QAAQ;EACpB,YAAY,EAAE,QAAQ;EACtB,aAAa,EAAE,QAAQ;EACvB,aAAa,EAAE,QAAQ;EACvB,aAAa,EAAE,QAAQ;EACvB,aAAa,EAAE,QAAQ;EACvB,UAAU,EAAE,QAAQ;EACpB,QAAQ,EAAE,QAAQ;EAClB,WAAW,EAAE,QAAQ;EACrB,OAAO,EAAE,QAAQ;EACjB,OAAO,EAAE,QAAQ;EACjB,UAAU,EAAE,QAAQ;EACpB,SAAS,EAAE,QAAQ;EACnB,WAAW,EAAE,QAAQ;EACrB,WAAW,EAAE,QAAQ;EACrB,OAAO,EAAE,QAAQ;EACjB,SAAS,EAAE,QAAQ;EACnB,UAAU,EAAE,QAAQ;EACpB,IAAI,EAAE,QAAQ;EACd,SAAS,EAAE,QAAQ;EACnB,IAAI,EAAE,QAAQ;EACd,KAAK,EAAE,QAAQ;EACf,WAAW,EAAE,QAAQ;EACrB,IAAI,EAAE,QAAQ;EACd,QAAQ,EAAE,QAAQ;EAClB,OAAO,EAAE,QAAQ;EACjB,SAAS,EAAE,QAAQ;EACnB,MAAM,EAAE,QAAQ;EAChB,KAAK,EAAE,QAAQ;EACf,KAAK,EAAE,QAAQ;EACf,QAAQ,EAAE,QAAQ;EAClB,aAAa,EAAE,QAAQ;EACvB,SAAS,EAAE,QAAQ;EACnB,YAAY,EAAE,QAAQ;EACtB,SAAS,EAAE,QAAQ;EACnB,UAAU,EAAE,QAAQ;EACpB,SAAS,EAAE,QAAQ;EACnB,oBAAoB,EAAE,QAAQ;EAC9B,SAAS,EAAE,QAAQ;EACnB,UAAU,EAAE,QAAQ;EACpB,SAAS,EAAE,QAAQ;EACnB,SAAS,EAAE,QAAQ;EACnB,WAAW,EAAE,QAAQ;EACrB,aAAa,EAAE,QAAQ;EACvB,YAAY,EAAE,QAAQ;EACtB,cAAc,EAAE,QAAQ;EACxB,cAAc,EAAE,QAAQ;EACxB,cAAc,EAAE,QAAQ;EACxB,WAAW,EAAE,QAAQ;EACrB,IAAI,EAAE,QAAQ;EACd,SAAS,EAAE,QAAQ;EACnB,KAAK,EAAE,QAAQ;EACf,OAAO,EAAE,QAAQ;EACjB,MAAM,EAAE,QAAQ;EAChB,gBAAgB,EAAE,QAAQ;EAC1B,UAAU,EAAE,QAAQ;EACpB,YAAY,EAAE,QAAQ;EACtB,YAAY,EAAE,QAAQ;EACtB,cAAc,EAAE,QAAQ;EACxB,eAAe,EAAE,QAAQ;EACzB,iBAAiB,EAAE,QAAQ;EAC3B,eAAe,EAAE,QAAQ;EACzB,eAAe,EAAE,QAAQ;EACzB,YAAY,EAAE,QAAQ;EACtB,SAAS,EAAE,QAAQ;EACnB,SAAS,EAAE,QAAQ;EACnB,QAAQ,EAAE,QAAQ;EAClB,WAAW,EAAE,QAAQ;EACrB,IAAI,EAAE,QAAQ;EACd,OAAO,EAAE,QAAQ;EACjB,KAAK,EAAE,QAAQ;EACf,SAAS,EAAE,QAAQ;EACnB,MAAM,EAAE,QAAQ;EAChB,SAAS,EAAE,QAAQ;EACnB,MAAM,EAAE,QAAQ;EAChB,aAAa,EAAE,QAAQ;EACvB,SAAS,EAAE,QAAQ;EACnB,aAAa,EAAE,QAAQ;EACvB,aAAa,EAAE,QAAQ;EACvB,UAAU,EAAE,QAAQ;EACpB,SAAS,EAAE,QAAQ;EACnB,IAAI,EAAE,QAAQ;EACd,IAAI,EAAE,QAAQ;EACd,IAAI,EAAE,QAAQ;EACd,UAAU,EAAE,QAAQ;EACpB,MAAM,EAAE,QAAQ;EAChB,aAAa,EAAE,QAAQ;EACvB,GAAG,EAAE,QAAQ;EACb,SAAS,EAAE,QAAQ;EACnB,SAAS,EAAE,QAAQ;EACnB,WAAW,EAAE,QAAQ;EACrB,MAAM,EAAE,QAAQ;EAChB,UAAU,EAAE,QAAQ;EACpB,QAAQ,EAAE,QAAQ;EAClB,QAAQ,EAAE,QAAQ;EAClB,MAAM,EAAE,QAAQ;EAChB,MAAM,EAAE,QAAQ;EAChB,OAAO,EAAE,QAAQ;EACjB,SAAS,EAAE,QAAQ;EACnB,SAAS,EAAE,QAAQ;EACnB,SAAS,EAAE,QAAQ;EACnB,IAAI,EAAE,QAAQ;EACd,WAAW,EAAE,QAAQ;EACrB,SAAS,EAAE,QAAQ;EACnB,GAAG,EAAE,QAAQ;EACb,IAAI,EAAE,QAAQ;EACd,OAAO,EAAE,QAAQ;EACjB,MAAM,EAAE,QAAQ;EAChB,SAAS,EAAE,QAAQ;EACnB,MAAM,EAAE,QAAQ;EAChB,KAAK,EAAE,QAAQ;EACf,KAAK,EAAE,QAAQ;EACf,UAAU,EAAE,QAAQ;EACpB,MAAM,EAAE,QAAQ;EAChB,WAAW,EAAE,QAAQ;CACtB,CAAC;;AAEF,MAAM,CAAC,KAAK,EAAE,KAAK,EAAE;EACnB,WAAW,EAAE,WAAW;IACtB,OAAO,IAAI,CAAC,GAAG,EAAE,CAAC,WAAW,EAAE,CAAC;GACjC;EACD,GAAG,EAAE,WAAW;IACd,OAAO,IAAI,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC;GACzB;EACD,QAAQ,EAAE,WAAW;IACnB,OAAO,IAAI,CAAC,GAAG,EAAE,GAAG,EAAE,CAAC;GACxB;CACF,CAAC,CAAC;;AAEH,AAAe,SAAS,KAAK,CAAC,MAAM,EAAE;EACpC,IAAI,CAAC,CAAC;EACN,MAAM,GAAG,CAAC,MAAM,GAAG,EAAE,EAAE,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;EAC5C,OAAO,CAAC,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,IAAI,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,GAAG,KAAK,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC;QAC9J,CAAC,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;QACpD,CAAC,CAAC,GAAG,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;QAC9D,CAAC,CAAC,GAAG,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,EAAE,CAAC,CAAC;QAClG,CAAC,CAAC,GAAG,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/D,CAAC,CAAC,GAAG,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QACnG,CAAC,CAAC,GAAG,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,EAAE,CAAC,CAAC;QACvE,CAAC,CAAC,GAAG,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAC3E,KAAK,CAAC,cAAc,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QAClD,MAAM,KAAK,aAAa,GAAG,IAAI,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;QACpD,IAAI,CAAC;CACZ;;AAED,SAAS,IAAI,CAAC,CAAC,EAAE;EACf,OAAO,IAAI,GAAG,CAAC,CAAC,IAAI,EAAE,GAAG,IAAI,EAAE,CAAC,IAAI,CAAC,GAAG,IAAI,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC,CAAC;CAC5D;;AAED,SAAS,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE;EACxB,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;EAC5B,OAAO,IAAI,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CAC5B;;AAED,AAAO,SAAS,UAAU,CAAC,CAAC,EAAE;EAC5B,IAAI,EAAE,CAAC,YAAY,KAAK,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;EACxC,IAAI,CAAC,CAAC,EAAE,OAAO,IAAI,GAAG,CAAC;EACvB,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;EACZ,OAAO,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC;CAC1C;;AAED,AAAO,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,OAAO,EAAE;EACpC,OAAO,SAAS,CAAC,MAAM,KAAK,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,OAAO,IAAI,IAAI,GAAG,CAAC,GAAG,OAAO,CAAC,CAAC;CACjG;;AAED,AAAO,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,OAAO,EAAE;EACpC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EACZ,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EACZ,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EACZ,IAAI,CAAC,OAAO,GAAG,CAAC,OAAO,CAAC;CACzB;;AAED,MAAM,CAAC,GAAG,EAAE,GAAG,EAAEA,QAAM,CAAC,KAAK,EAAE;EAC7B,QAAQ,EAAE,SAAS,CAAC,EAAE;IACpB,CAAC,GAAG,CAAC,IAAI,IAAI,GAAG,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;IACjD,OAAO,IAAI,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;GAClE;EACD,MAAM,EAAE,SAAS,CAAC,EAAE;IAClB,CAAC,GAAG,CAAC,IAAI,IAAI,GAAG,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;IAC7C,OAAO,IAAI,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;GAClE;EACD,GAAG,EAAE,WAAW;IACd,OAAO,IAAI,CAAC;GACb;EACD,WAAW,EAAE,WAAW;IACtB,OAAO,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,GAAG;YAC5B,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,GAAG,CAAC;YAC7B,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,GAAG,CAAC;YAC7B,CAAC,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,IAAI,CAAC,CAAC,CAAC;GACjD;EACD,GAAG,EAAE,WAAW;IACd,OAAO,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;GACtD;EACD,QAAQ,EAAE,WAAW;IACnB,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACrE,OAAO,CAAC,CAAC,KAAK,CAAC,GAAG,MAAM,GAAG,OAAO;UAC5B,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI;UAC1D,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI;UAC1D,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;WAClD,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,IAAI,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC;GACxC;CACF,CAAC,CAAC,CAAC;;AAEJ,SAAS,GAAG,CAAC,KAAK,EAAE;EAClB,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;EAC3D,OAAO,CAAC,KAAK,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,IAAI,KAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;CACrD;;AAED,SAAS,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE;EACxB,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;OACvB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;OAClC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC;EACzB,OAAO,IAAI,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CAC5B;;AAED,AAAO,SAAS,UAAU,CAAC,CAAC,EAAE;EAC5B,IAAI,CAAC,YAAY,GAAG,EAAE,OAAO,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC;EAC/D,IAAI,EAAE,CAAC,YAAY,KAAK,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;EACxC,IAAI,CAAC,CAAC,EAAE,OAAO,IAAI,GAAG,CAAC;EACvB,IAAI,CAAC,YAAY,GAAG,EAAE,OAAO,CAAC,CAAC;EAC/B,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;EACZ,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG;MACb,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG;MACb,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG;MACb,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;MACvB,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;MACvB,CAAC,GAAG,GAAG;MACP,CAAC,GAAG,GAAG,GAAG,GAAG;MACb,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,CAAC;EACxB,IAAI,CAAC,EAAE;IACL,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;SACxC,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;SACnC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IACzB,CAAC,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC;IACzC,CAAC,IAAI,EAAE,CAAC;GACT,MAAM;IACL,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;GAC5B;EACD,OAAO,IAAI,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC;CACpC;;AAED,AAAO,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,OAAO,EAAE;EACpC,OAAO,SAAS,CAAC,MAAM,KAAK,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,OAAO,IAAI,IAAI,GAAG,CAAC,GAAG,OAAO,CAAC,CAAC;CACjG;;AAED,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,OAAO,EAAE;EAC7B,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EACZ,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EACZ,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EACZ,IAAI,CAAC,OAAO,GAAG,CAAC,OAAO,CAAC;CACzB;;AAED,MAAM,CAAC,GAAG,EAAE,GAAG,EAAEA,QAAM,CAAC,KAAK,EAAE;EAC7B,QAAQ,EAAE,SAAS,CAAC,EAAE;IACpB,CAAC,GAAG,CAAC,IAAI,IAAI,GAAG,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;IACjD,OAAO,IAAI,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;GAC1D;EACD,MAAM,EAAE,SAAS,CAAC,EAAE;IAClB,CAAC,GAAG,CAAC,IAAI,IAAI,GAAG,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;IAC7C,OAAO,IAAI,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;GAC1D;EACD,GAAG,EAAE,WAAW;IACd,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG;QACrC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,IAAI,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,CAAC;QAC1C,CAAC,GAAG,IAAI,CAAC,CAAC;QACV,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC;QAClC,EAAE,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;IACpB,OAAO,IAAI,GAAG;MACZ,OAAO,CAAC,CAAC,IAAI,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC;MAC7C,OAAO,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC;MAClB,OAAO,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC;MAC5C,IAAI,CAAC,OAAO;KACb,CAAC;GACH;EACD,WAAW,EAAE,WAAW;IACtB,OAAO,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;YAC3C,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;YAC3B,CAAC,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,IAAI,CAAC,CAAC,CAAC;GACjD;CACF,CAAC,CAAC,CAAC;;;AAGJ,SAAS,OAAO,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE;EAC1B,OAAO,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,GAAG,EAAE;QAClC,CAAC,GAAG,GAAG,GAAG,EAAE;QACZ,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,CAAC,EAAE,GAAG,EAAE,KAAK,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE;QACzC,EAAE,IAAI,GAAG,CAAC;CACjB;;ACpVM,IAAI,OAAO,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC;AACnC,AAAO,IAAI,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC;;ACGnC;AACA,IAAI,CAAC,GAAG,EAAE;IACN,EAAE,GAAG,OAAO;IACZ,EAAE,GAAG,CAAC;IACN,EAAE,GAAG,OAAO;IACZ6R,IAAE,GAAG,CAAC,GAAG,EAAE;IACXvV,IAAE,GAAG,CAAC,GAAG,EAAE;IACX,EAAE,GAAG,CAAC,GAAGA,IAAE,GAAGA,IAAE;IAChB,EAAE,GAAGA,IAAE,GAAGA,IAAE,GAAGA,IAAE,CAAC;;AAEtB,SAAS,UAAU,CAAC,CAAC,EAAE;EACrB,IAAI,CAAC,YAAY,GAAG,EAAE,OAAO,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC;EAC/D,IAAI,CAAC,YAAY,GAAG,EAAE;IACpB,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,OAAO,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC;IACrD,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC;IACtB,OAAO,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC;GACtE;EACD,IAAI,EAAE,CAAC,YAAY,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;EAC3C,IAAI,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;MACjB,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;MACjB,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;MACjB,CAAC,GAAG,OAAO,CAAC,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,GAAG,CAAC,GAAG,SAAS,GAAG,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;EAC5E,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM;IACtC,CAAC,GAAG,OAAO,CAAC,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,GAAG,CAAC,GAAG,SAAS,GAAG,CAAC,IAAI,EAAE,CAAC,CAAC;IAClE,CAAC,GAAG,OAAO,CAAC,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,GAAG,CAAC,GAAG,SAAS,GAAG,CAAC,IAAI,EAAE,CAAC,CAAC;GACnE;EACD,OAAO,IAAI,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,EAAE,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC;CACvE;AACD,AAIA;AACA,AAAe,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,OAAO,EAAE;EAC5C,OAAO,SAAS,CAAC,MAAM,KAAK,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,OAAO,IAAI,IAAI,GAAG,CAAC,GAAG,OAAO,CAAC,CAAC;CACjG;;AAED,AAAO,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,OAAO,EAAE;EACpC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EACZ,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EACZ,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EACZ,IAAI,CAAC,OAAO,GAAG,CAAC,OAAO,CAAC;CACzB;;AAED,MAAM,CAAC,GAAG,EAAE,GAAG,EAAE0D,QAAM,CAAC,KAAK,EAAE;EAC7B,QAAQ,EAAE,SAAS,CAAC,EAAE;IACpB,OAAO,IAAI,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;GAChF;EACD,MAAM,EAAE,SAAS,CAAC,EAAE;IAClB,OAAO,IAAI,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;GAChF;EACD,GAAG,EAAE,WAAW;IACd,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,IAAI,GAAG;QACvB,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,GAAG;QACxC,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC;IAC7C,CAAC,GAAG,EAAE,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;IACpB,CAAC,GAAG,EAAE,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;IACpB,CAAC,GAAG,EAAE,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;IACpB,OAAO,IAAI,GAAG;MACZ,QAAQ,EAAE,SAAS,GAAG,CAAC,GAAG,SAAS,GAAG,CAAC,GAAG,SAAS,GAAG,CAAC,CAAC;MACxD,QAAQ,CAAC,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,GAAG,CAAC,GAAG,SAAS,GAAG,CAAC,CAAC;MACxD,QAAQ,EAAE,SAAS,GAAG,CAAC,GAAG,SAAS,GAAG,CAAC,GAAG,SAAS,GAAG,CAAC,CAAC;MACxD,IAAI,CAAC,OAAO;KACb,CAAC;GACH;CACF,CAAC,CAAC,CAAC;;AAEJ,SAAS,OAAO,CAAC,CAAC,EAAE;EAClB,OAAO,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG6R,IAAE,CAAC;CAClD;;AAED,SAAS,OAAO,CAAC,CAAC,EAAE;EAClB,OAAO,CAAC,GAAGvV,IAAE,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,GAAGuV,IAAE,CAAC,CAAC;CAC3C;;AAED,SAAS,QAAQ,CAAC,CAAC,EAAE;EACnB,OAAO,GAAG,IAAI,CAAC,IAAI,SAAS,GAAG,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,GAAG,KAAK,CAAC,CAAC;CAClF;;AAED,SAAS,QAAQ,CAAC,CAAC,EAAE;EACnB,OAAO,CAAC,CAAC,IAAI,GAAG,KAAK,OAAO,GAAG,CAAC,GAAG,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,KAAK,IAAI,KAAK,EAAE,GAAG,CAAC,CAAC;CAC/E;;AAED,SAAS,UAAU,CAAC,CAAC,EAAE;EACrB,IAAI,CAAC,YAAY,GAAG,EAAE,OAAO,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC;EAC/D,IAAI,EAAE,CAAC,YAAY,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;EAC3C,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,OAAO,IAAI,GAAG,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC;EACnE,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC;EACvC,OAAO,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC;CACvF;AACD,AAIA;AACA,AAAO,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,OAAO,EAAE;EACpC,OAAO,SAAS,CAAC,MAAM,KAAK,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,OAAO,IAAI,IAAI,GAAG,CAAC,GAAG,OAAO,CAAC,CAAC;CACjG;;AAED,AAAO,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,OAAO,EAAE;EACpC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EACZ,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EACZ,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EACZ,IAAI,CAAC,OAAO,GAAG,CAAC,OAAO,CAAC;CACzB;;AAED,MAAM,CAAC,GAAG,EAAE,GAAG,EAAE7R,QAAM,CAAC,KAAK,EAAE;EAC7B,QAAQ,EAAE,SAAS,CAAC,EAAE;IACpB,OAAO,IAAI,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;GAChF;EACD,MAAM,EAAE,SAAS,CAAC,EAAE;IAClB,OAAO,IAAI,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;GAChF;EACD,GAAG,EAAE,WAAW;IACd,OAAO,UAAU,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC;GAC/B;CACF,CAAC,CAAC,CAAC;;ACpHJ,IAAI,CAAC,GAAG,CAAC,OAAO;IACZ,CAAC,GAAG,CAAC,OAAO;IACZ,CAAC,GAAG,CAAC,OAAO;IACZ,CAAC,GAAG,CAAC,OAAO;IACZ,CAAC,GAAG,CAAC,OAAO;IACZ,EAAE,GAAG,CAAC,GAAG,CAAC;IACV,EAAE,GAAG,CAAC,GAAG,CAAC;IACV,KAAK,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;;AAE1B,SAAS,gBAAgB,CAAC,CAAC,EAAE;EAC3B,IAAI,CAAC,YAAY,SAAS,EAAE,OAAO,IAAI,SAAS,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC;EAC3E,IAAI,EAAE,CAAC,YAAY,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;EAC3C,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG;MACb,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG;MACb,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG;MACb,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC,KAAK,KAAK,GAAG,EAAE,GAAG,EAAE,CAAC;MACrD,EAAE,GAAG,CAAC,GAAG,CAAC;MACV,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC;MAC9B,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;MAClD,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,OAAO,GAAG,GAAG,GAAG,GAAG,CAAC;EACpD,OAAO,IAAI,SAAS,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC;CAC5D;;AAED,AAAe,SAAS,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,OAAO,EAAE;EAClD,OAAO,SAAS,CAAC,MAAM,KAAK,CAAC,GAAG,gBAAgB,CAAC,CAAC,CAAC,GAAG,IAAI,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,OAAO,IAAI,IAAI,GAAG,CAAC,GAAG,OAAO,CAAC,CAAC;CAC7G;;AAED,AAAO,SAAS,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,OAAO,EAAE;EAC1C,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EACZ,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EACZ,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EACZ,IAAI,CAAC,OAAO,GAAG,CAAC,OAAO,CAAC;CACzB;;AAED,MAAM,CAAC,SAAS,EAAE,SAAS,EAAEA,QAAM,CAAC,KAAK,EAAE;EACzC,QAAQ,EAAE,SAAS,CAAC,EAAE;IACpB,CAAC,GAAG,CAAC,IAAI,IAAI,GAAG,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;IACjD,OAAO,IAAI,SAAS,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;GAChE;EACD,MAAM,EAAE,SAAS,CAAC,EAAE;IAClB,CAAC,GAAG,CAAC,IAAI,IAAI,GAAG,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;IAC7C,OAAO,IAAI,SAAS,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;GAChE;EACD,GAAG,EAAE,WAAW;IACd,IAAI,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,GAAG,IAAI,OAAO;QAChD,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QACX,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAC5C,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;QAClB,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACvB,OAAO,IAAI,GAAG;MACZ,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,IAAI,GAAG,CAAC,GAAG,IAAI,CAAC,CAAC;MACrC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,IAAI,GAAG,CAAC,GAAG,IAAI,CAAC,CAAC;MACrC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC;MAC1B,IAAI,CAAC,OAAO;KACb,CAAC;GACH;CACF,CAAC,CAAC,CAAC;;AC5DW,mBAAQ,CAAC,CAAC,EAAE;EACzB,OAAO,WAAW;IAChB,OAAO,CAAC,CAAC;GACV,CAAC;CACH;;ACFD,SAAS,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE;EACpB,OAAO,SAAS,CAAC,EAAE;IACjB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;GAClB,CAAC;CACH;;AAED,SAAS,WAAW,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE;EAC5B,OAAO,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,SAAS,CAAC,EAAE;IACxE,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;GAC/B,CAAC;CACH;AACD,AAKA;AACA,AAAO,SAAS,KAAK,CAAC,CAAC,EAAE;EACvB,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,GAAG,OAAO,GAAG,SAAS,CAAC,EAAE,CAAC,EAAE;IAC/C,OAAO,CAAC,GAAG,CAAC,GAAG,WAAW,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,GAAG8R,UAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;GAClE,CAAC;CACH;;AAED,AAAe,SAAS,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE;EACpC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;EACd,OAAO,CAAC,GAAG,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,GAAGA,UAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;CACtD;;ACvBD,qBAAe,CAAC,SAAS,QAAQ,CAAC,CAAC,EAAE;EACnC,IAAI,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;;EAErB,SAASC,KAAG,CAAC,KAAK,EAAE,GAAG,EAAE;IACvB,IAAI,CAAC,GAAG,KAAK,CAAC,CAAC,KAAK,GAAGC,GAAQ,CAAC,KAAK,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,GAAGA,GAAQ,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;QAC/D,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;QACzB,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;QACzB,OAAO,GAAG,OAAO,CAAC,KAAK,CAAC,OAAO,EAAE,GAAG,CAAC,OAAO,CAAC,CAAC;IAClD,OAAO,SAAS,CAAC,EAAE;MACjB,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;MACf,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;MACf,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;MACf,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;MAC3B,OAAO,KAAK,GAAG,EAAE,CAAC;KACnB,CAAC;GACH;;EAEDD,KAAG,CAAC,KAAK,GAAG,QAAQ,CAAC;;EAErB,OAAOA,KAAG,CAAC;CACZ,EAAE,CAAC,CAAC,CAAC;;ACvBS,gBAAQ,CAAC,CAAC,EAAE,CAAC,EAAE;EAC5B,IAAI,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC;MACrB,EAAE,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC;MACnC,CAAC,GAAG,IAAI,KAAK,CAAC,EAAE,CAAC;MACjB,CAAC,GAAG,IAAI,KAAK,CAAC,EAAE,CAAC;MACjB,CAAC,CAAC;;EAEN,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAGlY,gBAAK,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAClD,OAAO,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;;EAEhC,OAAO,SAAS,CAAC,EAAE;IACjB,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACxC,OAAO,CAAC,CAAC;GACV,CAAC;CACH;;AChBc,aAAQ,CAAC,CAAC,EAAE,CAAC,EAAE;EAC5B,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC;EACjB,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,SAAS,CAAC,EAAE;IACjC,OAAO,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;GAChC,CAAC;CACH;;ACLc,0BAAQ,CAAC,CAAC,EAAE,CAAC,EAAE;EAC5B,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,SAAS,CAAC,EAAE;IACjC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;GAClB,CAAC;CACH;;ACFc,0BAAQ,CAAC,CAAC,EAAE,CAAC,EAAE;EAC5B,IAAI,CAAC,GAAG,EAAE;MACN,CAAC,GAAG,EAAE;MACN,CAAC,CAAC;;EAEN,IAAI,CAAC,KAAK,IAAI,IAAI,OAAO,CAAC,KAAK,QAAQ,EAAE,CAAC,GAAG,EAAE,CAAC;EAChD,IAAI,CAAC,KAAK,IAAI,IAAI,OAAO,CAAC,KAAK,QAAQ,EAAE,CAAC,GAAG,EAAE,CAAC;;EAEhD,KAAK,CAAC,IAAI,CAAC,EAAE;IACX,IAAI,CAAC,IAAI,CAAC,EAAE;MACV,CAAC,CAAC,CAAC,CAAC,GAAGA,gBAAK,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;KAC1B,MAAM;MACL,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;KACb;GACF;;EAED,OAAO,SAAS,CAAC,EAAE;IACjB,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC5B,OAAO,CAAC,CAAC;GACV,CAAC;CACH;;ACpBD,IAAI,GAAG,GAAG,6CAA6C;IACnD,GAAG,GAAG,IAAI,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;;AAEtC,SAAS,IAAI,CAAC,CAAC,EAAE;EACf,OAAO,WAAW;IAChB,OAAO,CAAC,CAAC;GACV,CAAC;CACH;;AAED,SAAS,GAAG,CAAC,CAAC,EAAE;EACd,OAAO,SAAS,CAAC,EAAE;IACjB,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;GAClB,CAAC;CACH;;AAED,AAAe,eAAQ,CAAC,CAAC,EAAE,CAAC,EAAE;EAC5B,IAAI,EAAE,GAAG,GAAG,CAAC,SAAS,GAAG,GAAG,CAAC,SAAS,GAAG,CAAC;MACtC,EAAE;MACF,EAAE;MACF,EAAE;MACF,CAAC,GAAG,CAAC,CAAC;MACN,CAAC,GAAG,EAAE;MACN,CAAC,GAAG,EAAE,CAAC;;;EAGX,CAAC,GAAG,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;;;EAGvB,OAAO,CAAC,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;UAChB,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE;IACzB,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC,KAAK,IAAI,EAAE,EAAE;MACxB,EAAE,GAAG,CAAC,CAAC,KAAK,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;MACrB,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;WAChB,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC;KAClB;IACD,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,OAAO,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE;MACjC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;WAChB,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC;KAClB,MAAM;MACL,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC;MACd,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAEoY,iBAAM,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;KACnC;IACD,EAAE,GAAG,GAAG,CAAC,SAAS,CAAC;GACpB;;;EAGD,IAAI,EAAE,GAAG,CAAC,CAAC,MAAM,EAAE;IACjB,EAAE,GAAG,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;IACjB,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;SAChB,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC;GAClB;;;;EAID,OAAO,CAAC,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACrB,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACX,IAAI,CAAC,CAAC,CAAC;SACN,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,SAAS,CAAC,EAAE;UACzB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACxD,OAAO,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;SACnB,CAAC,CAAC;CACV;;ACtDc,yBAAQ,CAAC,CAAC,EAAE,CAAC,EAAE;EAC5B,IAAI,CAAC,GAAG,OAAO,CAAC,EAAE,CAAC,CAAC;EACpB,OAAO,CAAC,IAAI,IAAI,IAAI,CAAC,KAAK,SAAS,GAAGH,UAAQ,CAAC,CAAC,CAAC;QAC3C,CAAC,CAAC,KAAK,QAAQ,GAAGG,iBAAM;QACxB,CAAC,KAAK,QAAQ,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,EAAEF,cAAG,IAAI,MAAM;QACxD,CAAC,YAAY,KAAK,GAAGA,cAAG;QACxB,CAAC,YAAY,IAAI,GAAG,IAAI;QACxB,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,GAAGG,OAAK;QACxB,OAAO,CAAC,CAAC,OAAO,KAAK,UAAU,IAAI,OAAO,CAAC,CAAC,QAAQ,KAAK,UAAU,IAAI,KAAK,CAAC,CAAC,CAAC,GAAGC,iBAAM;QACxFF,iBAAM,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CACrB;;ACnBc,yBAAQ,CAAC,CAAC,EAAE,CAAC,EAAE;EAC5B,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,SAAS,CAAC,EAAE;IACjC,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;GAC9B,CAAC;CACH;;ACJc,mBAAQ,CAAC,CAAC,EAAE;EACzB,OAAO,WAAW;IAChB,OAAO,CAAC,CAAC;GACV,CAAC;CACH;;ACJc,eAAQ,CAAC,CAAC,EAAE;EACzB,OAAO,CAAC,CAAC,CAAC;CACX;;ACID,IAAI,IAAI,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;;AAElB,AAAO,SAAS/H,UAAQ,CAAC,CAAC,EAAE;EAC1B,OAAO,CAAC,CAAC;CACV;;AAED,SAAS,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE;EACvB,OAAO,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;QACf,SAAS,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE;QACnC4H,UAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;CACtC;;AAED,SAAS,OAAO,CAAC,MAAM,EAAE;EACvB,IAAI,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;EACpD,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;EAC/B,OAAO,SAAS,CAAC,EAAE,EAAE,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;CAC5D;;;;AAID,SAAS,KAAK,CAAC,MAAM,EAAE,KAAK,EAAE,WAAW,EAAE;EACzC,IAAI,EAAE,GAAG,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,GAAG,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,GAAG,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;EACjE,IAAI,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,SAAS,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,GAAG,WAAW,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;OACzD,EAAE,GAAG,SAAS,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,GAAG,WAAW,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;EACtD,OAAO,SAAS,CAAC,EAAE,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;CAC1C;;AAED,SAAS,OAAO,CAAC,MAAM,EAAE,KAAK,EAAE,WAAW,EAAE;EAC3C,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,EAAE,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC;MAC7C,CAAC,GAAG,IAAI,KAAK,CAAC,CAAC,CAAC;MAChB,CAAC,GAAG,IAAI,KAAK,CAAC,CAAC,CAAC;MAChB,CAAC,GAAG,CAAC,CAAC,CAAC;;;EAGX,IAAI,MAAM,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,EAAE;IACzB,MAAM,GAAG,MAAM,CAAC,KAAK,EAAE,CAAC,OAAO,EAAE,CAAC;IAClC,KAAK,GAAG,KAAK,CAAC,KAAK,EAAE,CAAC,OAAO,EAAE,CAAC;GACjC;;EAED,OAAO,EAAE,CAAC,GAAG,CAAC,EAAE;IACd,CAAC,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAC3C,CAAC,CAAC,CAAC,CAAC,GAAG,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;GAC5C;;EAED,OAAO,SAAS,CAAC,EAAE;IACjB,IAAI,CAAC,GAAGM,WAAM,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC;IACpC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;GACtB,CAAC;CACH;;AAED,AAAO,SAAS,IAAI,CAAC,MAAM,EAAE,MAAM,EAAE;EACnC,OAAO,MAAM;OACR,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;OACvB,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;OACrB,WAAW,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC;OACjC,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;OACrB,OAAO,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,CAAC;CAChC;;AAED,AAAO,SAAS,WAAW,GAAG;EAC5B,IAAI,MAAM,GAAG,IAAI;MACb,KAAK,GAAG,IAAI;MACZ,WAAW,GAAG,gBAAgB;MAC9B,SAAS;MACT,WAAW;MACX,OAAO;MACP,KAAK,GAAGlI,UAAQ;MAChB,SAAS;MACT,MAAM;MACN,KAAK,CAAC;;EAEV,SAAS,OAAO,GAAG;IACjB,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,EAAE,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,OAAO,GAAG,KAAK,CAAC;IACxE,MAAM,GAAG,KAAK,GAAG,IAAI,CAAC;IACtB,OAAO,KAAK,CAAC;GACd;;EAED,SAAS,KAAK,CAAC,CAAC,EAAE;IAChB,OAAO,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,OAAO,GAAG,CAAC,MAAM,KAAK,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,KAAK,EAAE,WAAW,CAAC,CAAC,EAAE,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;GACnI;;EAED,KAAK,CAAC,MAAM,GAAG,SAAS,CAAC,EAAE;IACzB,OAAO,KAAK,CAAC,WAAW,CAAC,CAAC,KAAK,KAAK,KAAK,GAAG,SAAS,CAAC,KAAK,EAAE,MAAM,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,iBAAiB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;GAC/G,CAAC;;EAEF,KAAK,CAAC,MAAM,GAAG,SAAS,CAAC,EAAE;IACzB,OAAO,SAAS,CAAC,MAAM,IAAI,MAAM,GAAG1V,KAAG,CAAC,IAAI,CAAC,CAAC,EAAE,MAAM,CAAC,EAAE,KAAK,KAAK0V,UAAQ,KAAK,KAAK,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,MAAM,CAAC,KAAK,EAAE,CAAC;GACvI,CAAC;;EAEF,KAAK,CAAC,KAAK,GAAG,SAAS,CAAC,EAAE;IACxB,OAAO,SAAS,CAAC,MAAM,IAAI,KAAK,GAAGrG,OAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,KAAK,CAAC,KAAK,EAAE,CAAC;GAC9E,CAAC;;EAEF,KAAK,CAAC,UAAU,GAAG,SAAS,CAAC,EAAE;IAC7B,OAAO,KAAK,GAAGA,OAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,WAAW,GAAG,gBAAgB,EAAE,OAAO,EAAE,CAAC;GACzE,CAAC;;EAEF,KAAK,CAAC,KAAK,GAAG,SAAS,CAAC,EAAE;IACxB,OAAO,SAAS,CAAC,MAAM,IAAI,KAAK,GAAG,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC,GAAGqG,UAAQ,EAAE,KAAK,IAAI,KAAK,KAAKA,UAAQ,CAAC;GAChG,CAAC;;EAEF,KAAK,CAAC,WAAW,GAAG,SAAS,CAAC,EAAE;IAC9B,OAAO,SAAS,CAAC,MAAM,IAAI,WAAW,GAAG,CAAC,EAAE,OAAO,EAAE,IAAI,WAAW,CAAC;GACtE,CAAC;;EAEF,KAAK,CAAC,OAAO,GAAG,SAAS,CAAC,EAAE;IAC1B,OAAO,SAAS,CAAC,MAAM,IAAI,OAAO,GAAG,CAAC,EAAE,KAAK,IAAI,OAAO,CAAC;GAC1D,CAAC;;EAEF,OAAO,SAAS,CAAC,EAAE,CAAC,EAAE;IACpB,SAAS,GAAG,CAAC,EAAE,WAAW,GAAG,CAAC,CAAC;IAC/B,OAAO,OAAO,EAAE,CAAC;GAClB,CAAC;CACH;;AAED,AAAe,SAAS,UAAU,CAAC,SAAS,EAAE,WAAW,EAAE;EACzD,OAAO,WAAW,EAAE,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC;CAC9C;;AC3HD;;;AAGA,AAAe,wBAAQ,CAAC,CAAC,EAAE,CAAC,EAAE;EAC5B,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,aAAa,EAAE,EAAE,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,OAAO,IAAI,CAAC;EAC7F,IAAI,CAAC,EAAE,WAAW,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;;;;EAInC,OAAO;IACL,WAAW,CAAC,MAAM,GAAG,CAAC,GAAG,WAAW,CAAC,CAAC,CAAC,GAAG,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,WAAW;IAC5E,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC;GAChB,CAAC;CACH;;ACXc,mBAAQ,CAAC,CAAC,EAAE;EACzB,OAAO,CAAC,GAAGmI,eAAa,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;CACvD;;ACJc,sBAAQ,CAAC,QAAQ,EAAE,SAAS,EAAE;EAC3C,OAAO,SAAS,KAAK,EAAE,KAAK,EAAE;IAC5B,IAAI,CAAC,GAAG,KAAK,CAAC,MAAM;QAChB,CAAC,GAAG,EAAE;QACN,CAAC,GAAG,CAAC;QACL,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC;QACf,MAAM,GAAG,CAAC,CAAC;;IAEf,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;MACrB,IAAI,MAAM,GAAG,CAAC,GAAG,CAAC,GAAG,KAAK,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,GAAG,MAAM,CAAC,CAAC;MAC5D,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;MACvC,IAAI,CAAC,MAAM,IAAI,CAAC,GAAG,CAAC,IAAI,KAAK,EAAE,MAAM;MACrC,CAAC,GAAG,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,QAAQ,CAAC,MAAM,CAAC,CAAC;KAC7C;;IAED,OAAO,CAAC,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;GACpC,CAAC;CACH;;ACjBc,yBAAQ,CAAC,QAAQ,EAAE;EAChC,OAAO,SAAS,KAAK,EAAE;IACrB,OAAO,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,SAAS,CAAC,EAAE;MACzC,OAAO,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;KACrB,CAAC,CAAC;GACJ,CAAC;CACH;;ACND;AACA,IAAIC,IAAE,GAAG,0EAA0E,CAAC;;AAEpF,AAAe,SAASC,iBAAe,CAAC,SAAS,EAAE;EACjD,OAAO,IAAIC,iBAAe,CAAC,SAAS,CAAC,CAAC;CACvC;;AAEDD,iBAAe,CAAC,SAAS,GAAGC,iBAAe,CAAC,SAAS,CAAC;;AAEtD,SAASA,iBAAe,CAAC,SAAS,EAAE;EAClC,IAAI,EAAE,KAAK,GAAGF,IAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,MAAM,IAAI,KAAK,CAAC,kBAAkB,GAAG,SAAS,CAAC,CAAC;EACnF,IAAI,KAAK,CAAC;EACV,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC;EAC5B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC;EAC7B,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC;EAC5B,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;EAC7B,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;EACvB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;EACnC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;EACxB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;EAChD,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;EACvB,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC,EAAE,CAAC,IAAI,EAAE,CAAC;CAC7B;;AAEDE,iBAAe,CAAC,SAAS,CAAC,QAAQ,GAAG,WAAW;EAC9C,OAAO,IAAI,CAAC,IAAI;QACV,IAAI,CAAC,KAAK;QACV,IAAI,CAAC,IAAI;QACT,IAAI,CAAC,MAAM;SACV,IAAI,CAAC,IAAI,GAAG,GAAG,GAAG,EAAE,CAAC;SACrB,IAAI,CAAC,KAAK,IAAI,IAAI,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;SACtD,IAAI,CAAC,KAAK,GAAG,GAAG,GAAG,EAAE,CAAC;SACtB,IAAI,CAAC,SAAS,IAAI,IAAI,GAAG,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;SACpE,IAAI,CAAC,IAAI,GAAG,GAAG,GAAG,EAAE,CAAC;QACtB,IAAI,CAAC,IAAI,CAAC;CACjB,CAAC;;ACnCF;AACA,AAAe,qBAAQ,CAAC,CAAC,EAAE;EACzB,GAAG,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;IAC1D,QAAQ,CAAC,CAAC,CAAC,CAAC;MACV,KAAK,GAAG,EAAE,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC,MAAM;MAC7B,KAAK,GAAG,EAAE,IAAI,EAAE,KAAK,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,MAAM;MAC9C,SAAS,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,MAAM,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,MAAM;KAC/D;GACF;EACD,OAAO,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;CACtD;;ACRM,IAAIC,gBAAc,CAAC;;AAE1B,AAAe,2BAAQ,CAAC,CAAC,EAAE,CAAC,EAAE;EAC5B,IAAI,CAAC,GAAGJ,eAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EAC5B,IAAI,CAAC,CAAC,EAAE,OAAO,CAAC,GAAG,EAAE,CAAC;EACtB,IAAI,WAAW,GAAG,CAAC,CAAC,CAAC,CAAC;MAClB,QAAQ,GAAG,CAAC,CAAC,CAAC,CAAC;MACf,CAAC,GAAG,QAAQ,IAAII,gBAAc,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;MAC7F,CAAC,GAAG,WAAW,CAAC,MAAM,CAAC;EAC3B,OAAO,CAAC,KAAK,CAAC,GAAG,WAAW;QACtB,CAAC,GAAG,CAAC,GAAG,WAAW,GAAG,IAAI,KAAK,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;QACpD,CAAC,GAAG,CAAC,GAAG,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,GAAG,GAAG,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC;QAC5D,IAAI,GAAG,IAAI,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAGJ,eAAa,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;CACvF;;ACbc,wBAAQ,CAAC,CAAC,EAAE,CAAC,EAAE;EAC5B,IAAI,CAAC,GAAGA,eAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EAC5B,IAAI,CAAC,CAAC,EAAE,OAAO,CAAC,GAAG,EAAE,CAAC;EACtB,IAAI,WAAW,GAAG,CAAC,CAAC,CAAC,CAAC;MAClB,QAAQ,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;EACpB,OAAO,QAAQ,GAAG,CAAC,GAAG,IAAI,GAAG,IAAI,KAAK,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,WAAW;QACnE,WAAW,CAAC,MAAM,GAAG,QAAQ,GAAG,CAAC,GAAG,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,QAAQ,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,WAAW,CAAC,KAAK,CAAC,QAAQ,GAAG,CAAC,CAAC;QAC9G,WAAW,GAAG,IAAI,KAAK,CAAC,QAAQ,GAAG,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;CAC5E;;ACPD,oBAAe;EACb,GAAG,EAAE,SAAS,CAAC,EAAE,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,GAAG,GAAG,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE;EACpD,GAAG,EAAE,SAAS,CAAC,EAAE,EAAE,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE;EACtD,GAAG,EAAE,SAAS,CAAC,EAAE,EAAE,OAAO,CAAC,GAAG,EAAE,CAAC,EAAE;EACnC,GAAG,EAAE,SAAS,CAAC,EAAE,EAAE,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,EAAE;EACvD,GAAG,EAAE,SAAS,CAAC,EAAE,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,EAAE;EAClD,GAAG,EAAE,SAAS,CAAC,EAAE,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE;EAC5C,GAAG,EAAE,SAAS,CAAC,EAAE,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,EAAE;EAChD,GAAG,EAAE,SAAS,CAAC,EAAE,EAAE,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE;EACtD,GAAG,EAAE,SAAS,CAAC,EAAE,CAAC,EAAE,EAAE,OAAOK,eAAa,CAAC,CAAC,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE;EACzD,GAAG,EAAEA,eAAa;EAClB,GAAG,EAAEC,kBAAgB;EACrB,GAAG,EAAE,SAAS,CAAC,EAAE,EAAE,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,WAAW,EAAE,CAAC,EAAE;EACrE,GAAG,EAAE,SAAS,CAAC,EAAE,EAAE,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,EAAE;CACxD,CAAC;;ACjBa,mBAAQ,CAAC,CAAC,EAAE;EACzB,OAAO,CAAC,CAAC;CACV;;ACOD,IAAIC,UAAQ,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;;AAEpF,AAAe,uBAAQ,CAAC,MAAM,EAAE;EAC9B,IAAI,KAAK,GAAG,MAAM,CAAC,QAAQ,IAAI,MAAM,CAAC,SAAS,GAAGC,aAAW,CAAC,MAAM,CAAC,QAAQ,EAAE,MAAM,CAAC,SAAS,CAAC,GAAG3I,UAAQ;MACvG,QAAQ,GAAG,MAAM,CAAC,QAAQ;MAC1B,OAAO,GAAG,MAAM,CAAC,OAAO;MACxB,QAAQ,GAAG,MAAM,CAAC,QAAQ,GAAG4I,gBAAc,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG5I,UAAQ;MACvE,OAAO,GAAG,MAAM,CAAC,OAAO,IAAI,GAAG,CAAC;;EAEpC,SAAS,SAAS,CAAC,SAAS,EAAE;IAC5B,SAAS,GAAGqI,iBAAe,CAAC,SAAS,CAAC,CAAC;;IAEvC,IAAI,IAAI,GAAG,SAAS,CAAC,IAAI;QACrB,KAAK,GAAG,SAAS,CAAC,KAAK;QACvB,IAAI,GAAG,SAAS,CAAC,IAAI;QACrB,MAAM,GAAG,SAAS,CAAC,MAAM;QACzB,IAAI,GAAG,SAAS,CAAC,IAAI;QACrB,KAAK,GAAG,SAAS,CAAC,KAAK;QACvB,KAAK,GAAG,SAAS,CAAC,KAAK;QACvB,SAAS,GAAG,SAAS,CAAC,SAAS;QAC/B,IAAI,GAAG,SAAS,CAAC,IAAI;QACrB,IAAI,GAAG,SAAS,CAAC,IAAI,CAAC;;;IAG1B,IAAI,IAAI,KAAK,GAAG,EAAE,KAAK,GAAG,IAAI,EAAE,IAAI,GAAG,GAAG,CAAC;;;SAGtC,IAAI,CAACQ,aAAW,CAAC,IAAI,CAAC,EAAE,SAAS,IAAI,IAAI,KAAK,SAAS,GAAG,EAAE,CAAC,EAAE,IAAI,GAAG,IAAI,EAAE,IAAI,GAAG,GAAG,CAAC;;;IAG5F,IAAI,IAAI,KAAK,IAAI,KAAK,GAAG,IAAI,KAAK,KAAK,GAAG,CAAC,EAAE,IAAI,GAAG,IAAI,EAAE,IAAI,GAAG,GAAG,EAAE,KAAK,GAAG,GAAG,CAAC;;;;IAIlF,IAAI,MAAM,GAAG,MAAM,KAAK,GAAG,GAAG,QAAQ,CAAC,CAAC,CAAC,GAAG,MAAM,KAAK,GAAG,IAAI,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,WAAW,EAAE,GAAG,EAAE;QAC7G,MAAM,GAAG,MAAM,KAAK,GAAG,GAAG,QAAQ,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,OAAO,GAAG,EAAE,CAAC;;;;;IAK7E,IAAI,UAAU,GAAGA,aAAW,CAAC,IAAI,CAAC;QAC9B,WAAW,GAAG,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;;;;;;IAM1C,SAAS,GAAG,SAAS,IAAI,IAAI,GAAG,CAAC;UAC3B,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,SAAS,CAAC,CAAC;UAC1D,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,SAAS,CAAC,CAAC,CAAC;;IAE3C,SAAS,MAAM,CAAC,KAAK,EAAE;MACrB,IAAI,WAAW,GAAG,MAAM;UACpB,WAAW,GAAG,MAAM;UACpB,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;;MAEZ,IAAI,IAAI,KAAK,GAAG,EAAE;QAChB,WAAW,GAAG,UAAU,CAAC,KAAK,CAAC,GAAG,WAAW,CAAC;QAC9C,KAAK,GAAG,EAAE,CAAC;OACZ,MAAM;QACL,KAAK,GAAG,CAAC,KAAK,CAAC;;;QAGf,IAAI,aAAa,GAAG,KAAK,GAAG,CAAC,CAAC;QAC9B,KAAK,GAAG,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,SAAS,CAAC,CAAC;;;QAG/C,IAAI,IAAI,EAAE,KAAK,GAAGC,YAAU,CAAC,KAAK,CAAC,CAAC;;;QAGpC,IAAI,aAAa,IAAI,CAAC,KAAK,KAAK,CAAC,EAAE,aAAa,GAAG,KAAK,CAAC;;;QAGzD,WAAW,GAAG,CAAC,aAAa,IAAI,IAAI,KAAK,GAAG,GAAG,IAAI,GAAG,GAAG,IAAI,IAAI,KAAK,GAAG,IAAI,IAAI,KAAK,GAAG,GAAG,EAAE,GAAG,IAAI,IAAI,WAAW,CAAC;QACrH,WAAW,GAAG,CAAC,IAAI,KAAK,GAAG,GAAGJ,UAAQ,CAAC,CAAC,GAAGH,gBAAc,GAAG,CAAC,CAAC,GAAG,EAAE,IAAI,WAAW,IAAI,aAAa,IAAI,IAAI,KAAK,GAAG,GAAG,GAAG,GAAG,EAAE,CAAC,CAAC;;;;QAIhI,IAAI,WAAW,EAAE;UACf,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC;UACzB,OAAO,EAAE,CAAC,GAAG,CAAC,EAAE;YACd,IAAI,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,EAAE,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,EAAE;cAC7C,WAAW,GAAG,CAAC,CAAC,KAAK,EAAE,GAAG,OAAO,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,WAAW,CAAC;cACvF,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;cAC1B,MAAM;aACP;WACF;SACF;OACF;;;MAGD,IAAI,KAAK,IAAI,CAAC,IAAI,EAAE,KAAK,GAAG,KAAK,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;;;MAGnD,IAAI,MAAM,GAAG,WAAW,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM,GAAG,WAAW,CAAC,MAAM;UAC/D,OAAO,GAAG,MAAM,GAAG,KAAK,GAAG,IAAI,KAAK,CAAC,KAAK,GAAG,MAAM,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;;;MAG7E,IAAI,KAAK,IAAI,IAAI,EAAE,KAAK,GAAG,KAAK,CAAC,OAAO,GAAG,KAAK,EAAE,OAAO,CAAC,MAAM,GAAG,KAAK,GAAG,WAAW,CAAC,MAAM,GAAG,QAAQ,CAAC,EAAE,OAAO,GAAG,EAAE,CAAC;;;MAGxH,QAAQ,KAAK;QACX,KAAK,GAAG,EAAE,KAAK,GAAG,WAAW,GAAG,KAAK,GAAG,WAAW,GAAG,OAAO,CAAC,CAAC,MAAM;QACrE,KAAK,GAAG,EAAE,KAAK,GAAG,WAAW,GAAG,OAAO,GAAG,KAAK,GAAG,WAAW,CAAC,CAAC,MAAM;QACrE,KAAK,GAAG,EAAE,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,MAAM,GAAG,OAAO,CAAC,MAAM,IAAI,CAAC,CAAC,GAAG,WAAW,GAAG,KAAK,GAAG,WAAW,GAAG,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM;QACpI,SAAS,KAAK,GAAG,OAAO,GAAG,WAAW,GAAG,KAAK,GAAG,WAAW,CAAC,CAAC,MAAM;OACrE;;MAED,OAAO,QAAQ,CAAC,KAAK,CAAC,CAAC;KACxB;;IAED,MAAM,CAAC,QAAQ,GAAG,WAAW;MAC3B,OAAO,SAAS,GAAG,EAAE,CAAC;KACvB,CAAC;;IAEF,OAAO,MAAM,CAAC;GACf;;EAED,SAAS,YAAY,CAAC,SAAS,EAAE,KAAK,EAAE;IACtC,IAAI,CAAC,GAAG,SAAS,EAAE,SAAS,GAAGF,iBAAe,CAAC,SAAS,CAAC,EAAE,SAAS,CAAC,IAAI,GAAG,GAAG,EAAE,SAAS,EAAE;QACxF,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAACU,UAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;QAClE,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;QACpB,MAAM,GAAGL,UAAQ,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;IACjC,OAAO,SAAS,KAAK,EAAE;MACrB,OAAO,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,GAAG,MAAM,CAAC;KAC9B,CAAC;GACH;;EAED,OAAO;IACL,MAAM,EAAE,SAAS;IACjB,YAAY,EAAE,YAAY;GAC3B,CAAC;CACH;;AC3ID,IAAIrI,QAAM,CAAC;AACX,AAAO,IAAIE,QAAM,CAAC;AAClB,AAAO,IAAIyI,cAAY,CAAC;;AAExBzH,eAAa,CAAC;EACZ,OAAO,EAAE,GAAG;EACZ,SAAS,EAAE,GAAG;EACd,QAAQ,EAAE,CAAC,CAAC,CAAC;EACb,QAAQ,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC;CACpB,CAAC,CAAC;;AAEH,AAAe,SAASA,eAAa,CAAC,UAAU,EAAE;EAChDlB,QAAM,GAAGI,cAAY,CAAC,UAAU,CAAC,CAAC;EAClCF,QAAM,GAAGF,QAAM,CAAC,MAAM,CAAC;EACvB2I,cAAY,GAAG3I,QAAM,CAAC,YAAY,CAAC;EACnC,OAAOA,QAAM,CAAC;CACf;;AChBc,uBAAQ,CAAC,IAAI,EAAE;EAC5B,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC0I,UAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;CAC/C;;ACFc,wBAAQ,CAAC,IAAI,EAAE,KAAK,EAAE;EACnC,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAACA,UAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAGA,UAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;CAC/G;;ACFc,uBAAQ,CAAC,IAAI,EAAE,GAAG,EAAE;EACjC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC;EAClD,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,EAAEA,UAAQ,CAAC,GAAG,CAAC,GAAGA,UAAQ,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;CACxD;;ACFc,mBAAQ,CAAC,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,SAAS,EAAE;EACrD,IAAI,IAAI,GAAG,QAAQ,CAAC,KAAK,EAAE,IAAI,EAAE,KAAK,CAAC;MACnC,SAAS,CAAC;EACd,SAAS,GAAGV,iBAAe,CAAC,SAAS,IAAI,IAAI,GAAG,IAAI,GAAG,SAAS,CAAC,CAAC;EAClE,QAAQ,SAAS,CAAC,IAAI;IACpB,KAAK,GAAG,EAAE;MACR,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;MACtD,IAAI,SAAS,CAAC,SAAS,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,eAAe,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC,EAAE,SAAS,CAAC,SAAS,GAAG,SAAS,CAAC;MACrH,OAAOW,cAAY,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;KACvC;IACD,KAAK,EAAE,CAAC;IACR,KAAK,GAAG,CAAC;IACT,KAAK,GAAG,CAAC;IACT,KAAK,GAAG,CAAC;IACT,KAAK,GAAG,EAAE;MACR,IAAI,SAAS,CAAC,SAAS,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,cAAc,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC,SAAS,GAAG,SAAS,IAAI,SAAS,CAAC,IAAI,KAAK,GAAG,CAAC,CAAC;MACnL,MAAM;KACP;IACD,KAAK,GAAG,CAAC;IACT,KAAK,GAAG,EAAE;MACR,IAAI,SAAS,CAAC,SAAS,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,SAAS,CAAC,SAAS,GAAG,SAAS,GAAG,CAAC,SAAS,CAAC,IAAI,KAAK,GAAG,IAAI,CAAC,CAAC;MAC5I,MAAM;KACP;GACF;EACD,OAAOzI,QAAM,CAAC,SAAS,CAAC,CAAC;CAC1B;;ACvBM,SAAS,SAAS,CAAC,KAAK,EAAE;EAC/B,IAAI,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;;EAE1B,KAAK,CAAC,KAAK,GAAG,SAAS,KAAK,EAAE;IAC5B,IAAI,CAAC,GAAG,MAAM,EAAE,CAAC;IACjB,OAAO,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE,KAAK,IAAI,IAAI,GAAG,EAAE,GAAG,KAAK,CAAC,CAAC;GACjE,CAAC;;EAEF,KAAK,CAAC,UAAU,GAAG,SAAS,KAAK,EAAE,SAAS,EAAE;IAC5C,IAAI,CAAC,GAAG,MAAM,EAAE,CAAC;IACjB,OAAO,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE,KAAK,IAAI,IAAI,GAAG,EAAE,GAAG,KAAK,EAAE,SAAS,CAAC,CAAC;GACjF,CAAC;;EAEF,KAAK,CAAC,IAAI,GAAG,SAAS,KAAK,EAAE;IAC3B,IAAI,KAAK,IAAI,IAAI,EAAE,KAAK,GAAG,EAAE,CAAC;;IAE9B,IAAI,CAAC,GAAG,MAAM,EAAE;QACZ,EAAE,GAAG,CAAC;QACN,EAAE,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC;QACjB,KAAK,GAAG,CAAC,CAAC,EAAE,CAAC;QACb,IAAI,GAAG,CAAC,CAAC,EAAE,CAAC;QACZ,IAAI,CAAC;;IAET,IAAI,IAAI,GAAG,KAAK,EAAE;MAChB,IAAI,GAAG,KAAK,EAAE,KAAK,GAAG,IAAI,EAAE,IAAI,GAAG,IAAI,CAAC;MACxC,IAAI,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,IAAI,CAAC;KAC/B;;IAED,IAAI,GAAG,aAAa,CAAC,KAAK,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;;IAEzC,IAAI,IAAI,GAAG,CAAC,EAAE;MACZ,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC;MACxC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC;MACrC,IAAI,GAAG,aAAa,CAAC,KAAK,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;KAC1C,MAAM,IAAI,IAAI,GAAG,CAAC,EAAE;MACnB,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC;MACvC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC;MACtC,IAAI,GAAG,aAAa,CAAC,KAAK,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;KAC1C;;IAED,IAAI,IAAI,GAAG,CAAC,EAAE;MACZ,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC;MACxC,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC;MACtC,MAAM,CAAC,CAAC,CAAC,CAAC;KACX,MAAM,IAAI,IAAI,GAAG,CAAC,EAAE;MACnB,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC;MACvC,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC;MACvC,MAAM,CAAC,CAAC,CAAC,CAAC;KACX;;IAED,OAAO,KAAK,CAAC;GACd,CAAC;;EAEF,OAAO,KAAK,CAAC;CACd;;AAED,AAAe,SAAS0I,QAAM,GAAG;EAC/B,IAAI,KAAK,GAAG,UAAU,CAACjJ,UAAQ,EAAEA,UAAQ,CAAC,CAAC;;EAE3C,KAAK,CAAC,IAAI,GAAG,WAAW;IACtB,OAAO,IAAI,CAAC,KAAK,EAAEiJ,QAAM,EAAE,CAAC,CAAC;GAC9B,CAAC;;EAEF,SAAS,CAAC,KAAK,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;;EAElC,OAAO,SAAS,CAAC,KAAK,CAAC,CAAC;CACzB;;ACnEc,SAAS,SAAS,GAAG;EAClC,IAAI,MAAM,GAAG,CAAC,GAAG,CAAC;MACd,KAAK,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;MACd,OAAO;MACP,CAAC,GAAG,CAAC,CAAC;;EAEV,SAAS,KAAK,CAAC,CAAC,EAAE;IAChB,OAAO,CAAC,IAAI,CAAC,GAAG,KAAK,CAACf,WAAM,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC;GAC1D;;EAED,KAAK,CAAC,MAAM,GAAG,SAAS,CAAC,EAAE;IACzB,OAAO,SAAS,CAAC,MAAM,IAAI,MAAM,GAAGvO,OAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,EAAE,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE,KAAK,IAAI,MAAM,CAAC,KAAK,EAAE,CAAC;GAC3H,CAAC;;EAEF,KAAK,CAAC,KAAK,GAAG,SAAS,CAAC,EAAE;IACxB,OAAO,SAAS,CAAC,MAAM,IAAI,KAAK,GAAGA,OAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,EAAE,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE,KAAK,IAAI,KAAK,CAAC,KAAK,EAAE,CAAC;GACzH,CAAC;;EAEF,KAAK,CAAC,YAAY,GAAG,SAAS,CAAC,EAAE;IAC/B,IAAI,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;IACzB,OAAO,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;GACnC,CAAC;;EAEF,KAAK,CAAC,OAAO,GAAG,SAAS,CAAC,EAAE;IAC1B,OAAO,SAAS,CAAC,MAAM,IAAI,OAAO,GAAG,CAAC,EAAE,KAAK,IAAI,OAAO,CAAC;GAC1D,CAAC;;EAEF,KAAK,CAAC,IAAI,GAAG,WAAW;IACtB,OAAO,SAAS,EAAE;SACb,MAAM,CAAC,MAAM,CAAC;SACd,KAAK,CAAC,KAAK,CAAC;SACZ,OAAO,CAAC,OAAO,CAAC,CAAC;GACvB,CAAC;;EAEF,OAAO,SAAS,CAAC,KAAK,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;CAC1C;;ACrCD,SAASuP,WAAT,CAAqBjJ,SAArB,EAAgC;SACvB,OAAOA,SAAP,KAAqB,WAArB,GAAmC,UAACpW,CAAD;WAAOA,CAAP;GAAnC,GAA8C,UAACA,CAAD;WAAOoW,SAAS,CAACpW,CAAD,CAAhB;GAArD;;;AAGF,SAASsf,KAAT,CAAexU,GAAf,EAAoB;SACX9F,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAYzG,IAAI,CAACwG,GAAL,CAAS,CAAT,EAAYV,GAAZ,CAAZ,CAAP;;;AAGF,SAASyU,QAAT,CAAkBxC,GAAlB,EAAuB;SACd,QAAOA,GAAP,MAAe,QAAtB;;;AAGF,SAASyC,mBAAT,CAA6BC,KAA7B,EAAoCpZ,KAApC,EAA2CC,GAA3C,EAAgD;MACxCF,CAAC,GAAGpB,IAAI,CAAC2O,GAAL,CAAStN,KAAK,GAAGC,GAAjB,CAAV;MACM6Q,QAAQ,GAAG/Q,CAAC,IAAIqZ,KAAK,GAAG,CAAZ,CAAlB;MACMC,KAAK,GAAG,EAAd;;OACK,IAAItd,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAIqd,KAArB,EAA4Brd,CAAC,EAA7B,EAAiC;QACzBnC,CAAC,GAAGmC,CAAC,GAAG+U,QAAd;IACAuI,KAAK,CAACje,IAAN,CAAW4E,KAAK,GAAGC,GAAR,GAAcD,KAAK,GAAGpG,CAAtB,GAA0BoG,KAAK,GAAGpG,CAA7C;;;SAEKyf,KAAP;;;AAGF,SAASC,gBAAT,CAA0BC,UAA1B,EAAsCC,UAAtC,EAAkDtW,KAAlD,EAAyD;MACnDqW,UAAU,CAACpe,MAAX,KAAsB,CAA1B,EAA6B;WAASoe,UAAP;;;MAEzBF,KAAK,GAAGE,UAAU,CAACle,MAAX,CAAkB,EAAlB,CAAd;;OAEK,IAAIU,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGwd,UAAU,CAACpe,MAA/B,EAAuCY,CAAC,EAAxC,EAA4C;QACtCiE,KAAK,GAAGuZ,UAAU,CAACxd,CAAD,CAAtB;QACIkE,GAAG,GAAGsZ,UAAU,CAACxd,CAAC,GAAG,CAAL,CAApB;;QAEIA,CAAC,KAAK,CAAN,IAAWiE,KAAK,KAAKkD,KAAK,CAAClD,KAAN,EAAzB,EAAwC;;MACtCqZ,KAAK,CAACje,IAAN,OAAAie,KAAK,uBAASF,mBAAmB,CAACK,UAAD,EAAaxZ,KAAb,EAAoBC,GAApB,CAA5B,EAAL;MACAD,KAAK,IAAIC,GAAG,GAAGD,KAAf;MACAC,GAAG,GAAGsZ,UAAU,CAACxd,CAAD,CAAhB;MACAsd,KAAK,CAACje,IAAN,OAAAie,KAAK,uBAASF,mBAAmB,CAACK,UAAD,EAAaxZ,KAAb,EAAoBC,GAApB,CAA5B,EAAL;KAJF,MAKO,IAAIlE,CAAC,KAAKwd,UAAU,CAACpe,MAAX,GAAoB,CAA1B,IAA+B8E,GAAG,KAAKiD,KAAK,CAACjD,GAAN,EAA3C,EAAwD;;MAC7DA,GAAG,GAAGD,KAAK,IAAIA,KAAK,GAAGuZ,UAAU,CAACxd,CAAC,GAAG,CAAL,CAAtB,CAAX;MACAsd,KAAK,CAACje,IAAN,OAAAie,KAAK,uBAASF,mBAAmB,CAACK,UAAD,EAAaxZ,KAAb,EAAoBC,GAApB,CAA5B,EAAL;KAFK,MAGA;MACLoZ,KAAK,CAACje,IAAN,OAAAie,KAAK,uBAASF,mBAAmB,CAACK,UAAD,EAAaxZ,KAAb,EAAoBC,GAApB,CAA5B,EAAL;;;;SAIGoZ,KAAK,CAACxP,MAAN,CAAa,UAAClQ,CAAD;WAAOA,CAAC,IAAIuJ,KAAK,CAACiC,GAAN,EAAL,IAAoBxL,CAAC,IAAIuJ,KAAK,CAACkC,GAAN,EAAhC;GAAb,CAAP;;;;;;;;;;;;;AAYF,AAAO,SAASqU,2BAAT,OAEJ;MADDC,QACC,QADDA,QACC;MADSxW,KACT,QADSA,KACT;6BADgBsW,UAChB;MADgBA,UAChB,gCAD6B,CAC7B;8BADgCG,WAChC;MADgCA,WAChC,iCAD8C,GAC9C;4BADmD5J,SACnD;MADmDA,SACnD,+BAD+D3M,SAC/D;MACKwW,IAAI,GAAG,CAAC9T,SAAS,CAAC6T,WAAD,CAAV,IAA2B,CAAC7T,SAAS,CAAC4T,QAAD,CAArC,GAAkD/a,IAAI,CAACyG,GAAL,CAASsU,QAAQ,GAAGC,WAApB,EAAiC,CAAjC,CAAlD,GAAwF,CAArG;MACMP,KAAK,GAAGza,IAAI,CAACwG,GAAL,CAAS,IAAT,EAAexG,IAAI,CAACkb,KAAL,CAAWD,IAAX,CAAf,CAAd,CAFC;;MAGGL,UAAU,GAAGrW,KAAK,CAACmW,KAAN,CAAYD,KAAZ,CAAjB;;MACIG,UAAU,CAACpe,MAAX,IAAqB,CAAzB,EAA4B;IAC1Boe,UAAU,GAAGrW,KAAK,CAACmW,KAAN,CAAYD,KAAK,GAAG,CAApB,CAAb;;;MAGIC,KAAK,GAAGG,UAAU,GAAG,CAAb,GAAiBF,gBAAgB,CAACC,UAAD,EAAaC,UAAb,EAAyBtW,KAAzB,CAAjC,GAAmEqW,UAAjF;EACAF,KAAK,CAAC3P,IAAN,CAAW,UAACtQ,CAAD,EAAIuQ,CAAJ;WAAUvQ,CAAC,GAAGuQ,CAAd;GAAX;MAEMmQ,cAAc,GAAGT,KAAK,CAACjf,GAAN,CAAU4e,WAAW,CAACjJ,SAAD,CAArB,CAAvB;SAEOsJ,KAAK,CAACjf,GAAN,CAAU,UAAC2f,IAAD,EAAOhe,CAAP,EAAa;QACtBie,QAAQ,GAAG9W,KAAK,CAAC6W,IAAD,CAAtB;WACO;MACLC,QAAQ,EAARA,QADK;MAELha,KAAK,EAAEga,QAFF;MAGL/Z,GAAG,EAAE+Z,QAHA;MAILrH,KAAK,EAAEmH,cAAc,CAAC/d,CAAD,CAJhB;MAKL0D,KAAK,EAAEsa,IALF;MAMLE,OAAO,EAAEV,UAAU,CAACzP,OAAX,CAAmBiQ,IAAnB,MAA6B,CAAC;KANzC;GAFK,CAAP;;;;;;;;;;;;;AAuBF,AAAO,SAASG,2BAAT,QAEJ;MADDR,QACC,SADDA,QACC;MADSxW,KACT,SADSA,KACT;+BADgBsW,UAChB;MADgBA,UAChB,iCAD6B,CAC7B;gCADgCG,WAChC;MADgCA,WAChC,kCAD8C,GAC9C;8BADmD5J,SACnD;MADmDA,SACnD,gCAD+D3M,SAC/D;MACKwW,IAAI,GAAG,CAAC9T,SAAS,CAAC6T,WAAD,CAAV,IAA2B,CAAC7T,SAAS,CAAC4T,QAAD,CAArC,GAAkD/a,IAAI,CAACyG,GAAL,CAASsU,QAAQ,GAAGC,WAApB,EAAiC,CAAjC,CAAlD,GAAwF,CAArG;MACMP,KAAK,GAAGza,IAAI,CAACwG,GAAL,CAAS,IAAT,EAAexG,IAAI,CAACkb,KAAL,CAAWD,IAAX,CAAf,CAAd,CAFC;;MAGKO,CAAC,GAAGf,KAAK,GAAG,EAAR,GAAa,EAAb,GAAkBA,KAA5B;EACAlW,KAAK,CAACkX,IAAN,CAAWD,CAAX;MAEMZ,UAAU,GAAGrW,KAAK,CAACmW,KAAN,CAAYD,KAAZ,CAAnB;MACMC,KAAK,GAAGG,UAAU,GAAG,CAAb,GAAiBF,gBAAgB,CAACC,UAAD,EAAaC,UAAb,EAAyBtW,KAAzB,CAAjC,GAAmEqW,UAAjF;EACAF,KAAK,CAAC3P,IAAN,CAAW,UAACtQ,CAAD,EAAIuQ,CAAJ;WAAUvQ,CAAC,GAAGuQ,CAAd;GAAX;MAEMmQ,cAAc,GAAGT,KAAK,CAACjf,GAAN,CAAU4e,WAAW,CAACjJ,SAAD,CAArB,CAAvB;SAEOsJ,KAAK,CAACjf,GAAN,CAAU,UAAC2f,IAAD,EAAOhe,CAAP,EAAa;QACtBie,QAAQ,GAAG9W,KAAK,CAAC6W,IAAD,CAAtB;WACO;MACLC,QAAQ,EAARA,QADK;MAELha,KAAK,EAAEga,QAFF;MAGL/Z,GAAG,EAAE+Z,QAHA;MAILrH,KAAK,EAAEmH,cAAc,CAAC/d,CAAD,CAJhB;MAKL0D,KAAK,EAAEsa,IALF;MAMLE,OAAO,EAAEV,UAAU,CAACzP,OAAX,CAAmBiQ,IAAnB,MAA6B,CAAC;KANzC;GAFK,CAAP;;;AAaF,SAASM,YAAT,QAEG;MADDjB,KACC,SADDA,KACC;MADMI,UACN,SADMA,UACN;MADkBtW,KAClB,SADkBA,KAClB;MADyB6M,SACzB,SADyBA,SACzB;SACM7M,KAAK,CACTmW,KADI,CACG,CAACD,KAAK,GAAG,CAAT,IAAcI,UAAf,GAA6BJ,KAD/B,EAEJhf,GAFI,CAEA,UAAC2f,IAAD,EAAOhe,CAAP,EAAa;QACVie,QAAQ,GAAG9W,KAAK,CAAC6W,IAAD,CAAtB;WACO;MACLC,QAAQ,EAARA,QADK;MAELha,KAAK,EAAEga,QAFF;MAGL/Z,GAAG,EAAE+Z,QAHA;MAILrH,KAAK,EAAE5C,SAAS,CAACgK,IAAD,CAJX;MAKLE,OAAO,EAAEle,CAAC,IAAIyd,UAAU,GAAG,CAAjB,CAAD,KAAyB,CAL7B;MAML/Z,KAAK,EAAEsa;KANT;GAJG,CAAP;;;AAeF,SAASO,YAAT,QAA+D;MAAvC5H,MAAuC,SAAvCA,MAAuC;MAA/BxP,KAA+B,SAA/BA,KAA+B;8BAAxB6M,SAAwB;MAAxBA,SAAwB,gCAAZ,UAACnW,CAAD;WAAOA,CAAP;GAAY;SACtD8Y,MAAM,CACVhJ,IADI,CACC,UAACtQ,CAAD,EAAIuQ,CAAJ;WAAU,CAACuP,QAAQ,CAAC9f,CAAD,CAAR,GAAcA,CAAC,CAACqG,KAAhB,GAAwBrG,CAAzB,KAA+B8f,QAAQ,CAACvP,CAAD,CAAR,GAAcA,CAAC,CAAClK,KAAhB,GAAwBkK,CAAvD,CAAV;GADD,EAEJE,MAFI,CAEG,UAACjQ,CAAD,EAAImC,CAAJ,EAAOwe,GAAP,EAAe;QACf9V,GAAG,GAAGyU,QAAQ,CAACtf,CAAD,CAAR,GAAcA,CAAC,CAAC6F,KAAhB,GAAwB7F,CAApC;WACO6K,GAAG,IAAIvB,KAAK,CAACkC,GAAN,EAAP,IAAsBX,GAAG,IAAIvB,KAAK,CAACiC,GAAN,EAA7B,IAA4CoV,GAAG,CAACzQ,OAAJ,CAAYlQ,CAAZ,MAAmBmC,CAAtE;GAJG,EAMJ3B,GANI,CAMA,UAACR,CAAD,EAAO;QACJ4gB,KAAK,GAAGtB,QAAQ,CAACtf,CAAD,CAAtB;QACM6F,KAAK,GAAG+a,KAAK,GAAG5gB,CAAC,CAAC6F,KAAL,GAAa7F,CAAhC;QACMogB,QAAQ,GAAG9W,KAAK,CAACzD,KAAD,CAAtB;WACO;MACLua,QAAQ,EAARA,QADK;MAELva,KAAK,EAALA,KAFK;MAGLkT,KAAK,EAAE6H,KAAK,IAAI,OAAO5gB,CAAC,CAAC+Y,KAAT,KAAmB,WAA5B,GAA0C/Y,CAAC,CAAC+Y,KAA5C,GAAoD5C,SAAS,CAACtQ,KAAD,CAH/D;MAILwa,OAAO,EAAEO,KAAK,GAAG,CAAC,CAAC5gB,CAAC,CAACqgB,OAAP,GAAiB,KAJ1B;MAKLja,KAAK,EAAEwa,KAAK,IAAI,CAACxV,KAAK,CAACpL,CAAC,CAACoG,KAAH,CAAf,GAA2BiZ,KAAK,CAAC/V,KAAK,CAACtJ,CAAC,CAACoG,KAAH,CAAN,CAAhC,GAAmDga,QALrD;;MAML/Z,GAAG,EAAEua,KAAK,IAAI,CAACxV,KAAK,CAACpL,CAAC,CAACqG,GAAH,CAAf,GAAyBgZ,KAAK,CAAC/V,KAAK,CAACtJ,CAAC,CAACqG,GAAH,CAAN,CAA9B,GAA+C+Z,QAN/C;;KAAP;GAVG,CAAP;;;AAqBF,SAASS,kBAAT,CAA4BpB,KAA5B,EAAmCnW,KAAnC,EAA0C6M,SAA1C,EAAqD;MAC7C2K,MAAM,GAAGrB,KAAK,CAACjf,GAAN,CAAU,UAACT,CAAD;WAAOA,CAAC,CAACqgB,QAAT;GAAV,CAAf;MACM3E,KAAK,GAAGnS,KAAK,CAACmS,KAAN,EAAd;;MAEIqF,MAAM,CAAC5Q,OAAP,CAAeuL,KAAK,CAAC,CAAD,CAApB,MAA6B,CAAC,CAAlC,EAAqC;IACnCgE,KAAK,CAAC/d,MAAN,CAAa,CAAb,EAAgB,CAAhB,EAAmB;MACjB0e,QAAQ,EAAE3E,KAAK,CAAC,CAAD,CADE;MAEjBrV,KAAK,EAAEqV,KAAK,CAAC,CAAD,CAFK;MAGjBpV,GAAG,EAAEoV,KAAK,CAAC,CAAD,CAHO;MAIjB1C,KAAK,EAAE5C,SAAS,CAAC7M,KAAK,CAAClD,KAAN,EAAD,CAJC;MAKjBia,OAAO,EAAE,KALQ;MAMjBxa,KAAK,EAAEyD,KAAK,CAAClD,KAAN;KANT;GADF,MASO,IAAIqZ,KAAK,CAAC,CAAD,CAAL,IAAYA,KAAK,CAAC,CAAD,CAAL,CAASY,OAAzB,EAAkC;IACvCZ,KAAK,CAAC,CAAD,CAAL,CAASY,OAAT,GAAmB,KAAnB,CADuC;;;MAInCU,QAAQ,GAAGtB,KAAK,CAACA,KAAK,CAACle,MAAN,GAAe,CAAhB,CAAtB;;MACIuf,MAAM,CAAC5Q,OAAP,CAAeuL,KAAK,CAAC,CAAD,CAApB,MAA6B,CAAC,CAAlC,EAAqC;IACnCgE,KAAK,CAACje,IAAN,CAAW;MACT4e,QAAQ,EAAE3E,KAAK,CAAC,CAAD,CADN;MAETrV,KAAK,EAAEqV,KAAK,CAAC,CAAD,CAFH;MAGTpV,GAAG,EAAEoV,KAAK,CAAC,CAAD,CAHD;MAIT1C,KAAK,EAAE5C,SAAS,CAAC7M,KAAK,CAACjD,GAAN,EAAD,CAJP;MAKTga,OAAO,EAAE,KALA;MAMTxa,KAAK,EAAEyD,KAAK,CAACjD,GAAN;KANT;GADF,MASO,IAAI0a,QAAQ,IAAIA,QAAQ,CAACV,OAAzB,EAAkC;IACvCU,QAAQ,CAACV,OAAT,GAAmB,KAAnB,CADuC;;;;AAK3C,AAAO,SAASW,uBAAT,QAKJ;MAJD9W,QAIC,SAJDA,QAIC;MAHDZ,KAGC,SAHDA,KAGC;MAFDwW,QAEC,SAFDA,QAEC;8BADD3J,SACC;MADDA,SACC,gCADW,UAACtL,GAAD;WAASA,GAAT;GACX;MACG4U,KAAJ;MACMG,UAAU,GAAG1V,QAAQ,CAAC+W,UAAT,IAAuB,CAAC/U,SAAS,CAAChC,QAAQ,CAAC+W,UAAT,CAAoBzB,KAArB,CAAjC,GAA+Dza,IAAI,CAACwG,GAAL,CAAS,GAAT,EAAcrB,QAAQ,CAAC+W,UAAT,CAAoBzB,KAAlC,CAA/D,GAA0G,CAA7H;;MAEIpc,KAAK,CAACC,OAAN,CAAc6G,QAAQ,CAACuV,KAAT,CAAe3G,MAA7B,CAAJ,EAA0C;QAClCA,MAAM,GAAG5O,QAAQ,CAACuV,KAAT,CAAe3G,MAAf,CAAsB7I,MAAtB,CAA6B,UAACjQ,CAAD;aAAQ,QAAOA,CAAP,MAAa,QAAb,GAAwB,CAACkM,SAAS,CAAClM,CAAC,CAAC6F,KAAH,CAAlC,GAA8C,CAACqG,SAAS,CAAClM,CAAD,CAAhE;KAA7B,CAAf;IACAyf,KAAK,GAAGiB,YAAY,CAAC;MAAE5H,MAAM,EAANA,MAAF;MAAUxP,KAAK,EAAEA,KAAK,CAAC4X,IAAN,EAAjB;MAA+B/K,SAAS,EAATA;KAAhC,CAApB;GAFF,MAGO,IAAI,CAACjK,SAAS,CAAChC,QAAQ,CAACuV,KAAT,CAAeD,KAAhB,CAAd,EAAsC;QACrCA,KAAK,GAAGza,IAAI,CAACwG,GAAL,CAAS,IAAT,EAAerB,QAAQ,CAACuV,KAAT,CAAeD,KAA9B,CAAd;IACAC,KAAK,GAAGgB,YAAY,CAAC;MACnBjB,KAAK,EAALA,KADmB;MACZI,UAAU,EAAVA,UADY;MACAtW,KAAK,EAAEA,KAAK,CAAC4X,IAAN,EADP;MACqB/K,SAAS,EAATA;KADtB,CAApB;GAFK,MAKA;QACCgL,OAAO,GAAGjX,QAAQ,CAACuV,KAAT,CAAe2B,KAAf,GAAuBd,2BAAvB,GAAqDT,2BAArE;IACAJ,KAAK,GAAG0B,OAAO,CAAC;MACdrB,QAAQ,EAARA,QADc;MAEdF,UAAU,EAAVA,UAFc;MAGdG,WAAW,EAAE7V,QAAQ,CAACuV,KAAT,CAAeK,QAHd;MAIdxW,KAAK,EAALA,KAJc;MAKd6M,SAAS,EAATA;KALa,CAAf;;QAQIjM,QAAQ,CAACuV,KAAT,CAAe4B,WAAnB,EAAgC;MAC9BR,kBAAkB,CAACpB,KAAD,EAAQnW,KAAR,EAAe6M,SAAf,CAAlB;;;;SAIGsJ,KAAP;;AAGF,AAAO,SAAS6B,qBAAT,QAA0C;MAAThY,KAAS,SAATA,KAAS;MACzCiY,MAAM,GAAGjY,KAAK,CAACiY,MAAN,EAAf;MACMzI,MAAM,GAAGyI,MAAf;MACMC,SAAS,GAAGlY,KAAK,CAAC1I,IAAN,GAAasY,KAA/B;MACMuI,MAAM,GAAGnY,KAAK,CAACmY,MAAN,GAAenY,KAAK,CAACmY,MAAN,EAAf,GAAgC3I,MAA/C;MACM4I,SAAS,GAAGpY,KAAK,CAACoY,SAAN,EAAlB;SAEO5I,MAAM,CAACtY,GAAP,CAAW,UAAC8Q,CAAD,EAAInP,CAAJ,EAAU;QACpBiE,KAAK,GAAGkD,KAAK,CAACgI,CAAD,CAAnB;WACO;MACL8O,QAAQ,EAAEha,KAAK,GAAIsb,SAAS,GAAG,CAD1B;MAEL3I,KAAK,YAAK0I,MAAM,CAACtf,CAAD,CAAX,CAFA;MAGLvB,IAAI,EAAE4gB,SAAS,GAAGA,SAAS,CAACrf,CAAD,CAAZ,GAAkBqH,SAH5B;MAILpD,KAAK,EAALA,KAJK;MAKLC,GAAG,EAAED,KAAK,GAAGsb;KALf;GAFK,CAAP;;;AC9Oa,SAAShW,iBAAT,GAA4E;MAAnDxB,QAAmD,uEAAxC,EAAwC;MAApCyX,eAAoC,uEAAlB,EAAkB;MAAdC,OAAc,uEAAJ,EAAI;MACnFC,KAAK,GAAG,EAAd;EAEArf,MAAM,CAACgS,IAAP,CAAYmN,eAAZ,EAA6BtQ,OAA7B,CAAqC,UAAC3O,GAAD,EAAS;QACtCvB,IAAI,WAAU+I,QAAQ,CAACxH,GAAD,CAAlB,CAAV;;QAEIvB,IAAI,KAAK,UAAb,EAAyB;MACvB0gB,KAAK,CAACnf,GAAD,CAAL,GAAawH,QAAQ,CAACxH,GAAD,CAAR,CAAckf,OAAd,CAAb;KADF,MAEO,IAAIzgB,IAAI,KAAK,WAAb,EAA0B;MAC/B0gB,KAAK,CAACnf,GAAD,CAAL,GAAaif,eAAe,CAACjf,GAAD,CAA5B;KADK,MAEA;MACLmf,KAAK,CAACnf,GAAD,CAAL,GAAawH,QAAQ,CAACxH,GAAD,CAArB;;GARJ;SAYOmf,KAAP;;;ACRK,IAAMC,gBAAgB,GAAG;EAC9BvW,GAAG,EAAEgB,GADyB;EAE9Bf,GAAG,EAAEe,GAFyB;EAG9BkN,MAAM,EAAElN,GAHsB;EAI9BwV,OAAO,EAAE,EAJqB;EAK9BC,MAAM,EAAE;CALH;AAQP,AAAO,IAAMC,sBAAsB,GAAG;EACpCb,KAAK,EAAE,KAD6B;EAEpCC,WAAW,EAAE,KAFuB;EAGpCvI,MAAM,EAAEtP,SAH4B;EAIpCgW,KAAK,EAAEjT,GAJ6B;EAKpCuT,QAAQ,EAAE;CALL;AAQP,AAAO,IAAMoC,2BAA2B,GAAG;EACzC1C,KAAK,EAAEjT;CADF;;;;;;;;;;;;;;;;;;;AAsBP,SAASJ,WAAT,CAAmBjC,QAAnB,EAA6B6R,MAA7B,EAAqC;MAC7BxQ,GAAG,GAAG,CAACrB,QAAQ,CAACqB,GAAtB;MACMC,GAAG,GAAG,CAACtB,QAAQ,CAACsB,GAAtB;MACI2W,QAAQ,GAAG,CAAf;MACIC,QAAQ,GAAG,CAAf;;MACIrG,MAAM,IAAIA,MAAM,CAAC,CAAD,CAApB,EAAyB;QACjBsG,SAAS,GAAGtG,MAAM,CAACvb,GAAP,CAAW,UAACZ,CAAD;aAAOA,CAAC,CAAC2L,GAAF,EAAP;KAAX,EAA2B0E,MAA3B,CAAkC,UAACjQ,CAAD;aAAO,CAACoL,KAAK,CAACpL,CAAD,CAAb;KAAlC,CAAlB;QACMsiB,SAAS,GAAGvG,MAAM,CAACvb,GAAP,CAAW,UAACZ,CAAD;aAAOA,CAAC,CAAC4L,GAAF,EAAP;KAAX,EAA2ByE,MAA3B,CAAkC,UAACjQ,CAAD;aAAO,CAACoL,KAAK,CAACpL,CAAD,CAAb;KAAlC,CAAlB;IACAmiB,QAAQ,GAAGE,SAAS,CAAC9gB,MAAV,GAAmBwD,IAAI,CAACwG,GAAL,OAAAxG,IAAI,uBAAQsd,SAAR,EAAvB,GAA4C5hB,MAAM,CAAC8L,GAA9D;IACA6V,QAAQ,GAAGE,SAAS,CAAC/gB,MAAV,GAAmBwD,IAAI,CAACyG,GAAL,OAAAzG,IAAI,uBAAQud,SAAR,EAAvB,GAA4C7hB,MAAM,CAAC8L,GAA9D;;QAEInB,KAAK,CAAC+W,QAAD,CAAL,IAAmB/W,KAAK,CAACgX,QAAD,CAA5B,EAAwC;MACtCD,QAAQ,GAAG,CAAC,CAAZ;MACAC,QAAQ,GAAG,CAAX;KAFF,MAGO,IAAID,QAAQ,KAAKC,QAAb,IAAyBD,QAAQ,KAAK,CAA1C,EAA6C;MAClDA,QAAQ,GAAG,CAAC,CAAZ;MACAC,QAAQ,GAAG,CAAX;KAFK,MAGA,IAAID,QAAQ,KAAKC,QAAb,IAAyBD,QAA7B,EAAuC;MAC5CA,QAAQ,IAAIpd,IAAI,CAAC2O,GAAL,CAASyO,QAAQ,GAAG,GAApB,CAAZ;MACAC,QAAQ,IAAIrd,IAAI,CAAC2O,GAAL,CAAS0O,QAAQ,GAAG,GAApB,CAAZ;KAFK,MAGA,IAAI,CAAChX,KAAK,CAAClB,QAAQ,CAACuP,MAAV,CAAV,EAA6B;UAC5BgC,KAAK,GAAG2G,QAAQ,GAAGD,QAAzB;MACAA,QAAQ,IAAI1G,KAAK,GAAGvR,QAAQ,CAACuP,MAA7B;MACA2I,QAAQ,IAAI3G,KAAK,GAAGvR,QAAQ,CAACuP,MAA7B;;;QAGErW,KAAK,CAACC,OAAN,CAAc6G,QAAQ,CAAC6X,OAAvB,CAAJ,EAAqC;UAC7B5f,CAAC,GAAG+H,QAAQ,CAAC6X,OAAT,CAAiB9R,MAAjB,CAAwB,UAACsQ,CAAD;eAAO,CAACnV,KAAK,CAACmV,CAAD,CAAb;OAAxB,CAAV;MACA4B,QAAQ,GAAGpd,IAAI,CAACwG,GAAL,OAAAxG,IAAI,uBAAQ5C,CAAR,UAAWggB,QAAX,GAAf;MACAC,QAAQ,GAAGrd,IAAI,CAACyG,GAAL,OAAAzG,IAAI,uBAAQ5C,CAAR,UAAWigB,QAAX,GAAf;;;;SAIG;IACLG,IAAI,EAAE,CAACnX,KAAK,CAACG,GAAD,CAAN,GAAcA,GAAd,GAAoB4W,QADrB;IAELK,IAAI,EAAE,CAACpX,KAAK,CAACI,GAAD,CAAN,GAAcA,GAAd,GAAoB4W;GAF5B;;;AAMF,SAASK,aAAT,CAAuBC,SAAvB,EAAkCpZ,KAAlC,EAAyC;MACnCoZ,SAAS,CAAC7gB,QAAd,EAAwB;;;;EAGxB6gB,SAAS,CAAC7gB,QAAV,GAAqByH,KAAK,CAAC4X,IAAN,EAArB;EACAwB,SAAS,CAAC7gB,QAAV,CAAmB0f,MAAnB,CAA0B,CAACjY,KAAK,CAAClD,KAAN,EAAD,EAAgBkD,KAAK,CAACjD,GAAN,EAAhB,CAA1B;EACAqc,SAAS,CAAC7gB,QAAV,CAAmBwd,KAAnB,CAAyB,IAAzB;EACAqD,SAAS,CAAC7gB,QAAV,CAAmB4Z,KAAnB,CAAyBiH,SAAS,CAACV,MAAV,GAAmB,CAAC,CAAD,EAAI,CAAJ,CAAnB,GAA4B,CAAC,CAAD,EAAI,CAAJ,CAArD;;;;;;;;;;;AAUF,AAAe,SAASW,WAAT,GAA+D;MAA1CzY,QAA0C,uEAA/B,EAA+B;MAA3BtJ,IAA2B,uEAApB,EAAoB;MAAhBgiB,SAAgB,uEAAJ,EAAI;MACtEC,OAAO,GAAGC,QAAa,EAA7B;MACMJ,SAAS,GAAG;IAAE7gB,QAAQ,EAAE,IAAZ;IAAkBmgB,MAAM,EAAE;GAA5C;MACMe,GAAG,GAAG;IAAEniB,IAAI,EAAJA,IAAF;IAAQgiB,SAAS,EAATA;GAApB;MACMI,KAAK,GAAGtX,iBAAe,CAACxB,QAAD,EAAW4X,gBAAX,EAA6BiB,GAA7B,CAA7B;EACAC,KAAK,CAACvD,KAAN,GAAc/T,iBAAe,CAACxB,QAAQ,CAACuV,KAAV,EAAiBwC,sBAAjB,EAAyCc,GAAzC,CAA7B;EACAC,KAAK,CAAC/B,UAAN,GAAmBvV,iBAAe,CAACxB,QAAQ,CAAC+W,UAAV,EAAsBiB,2BAAtB,EAAmDa,GAAnD,CAAlC;MACIE,SAAJ;;;;;;;;WAQS1O,EAAT,CAAYvU,CAAZ,EAAe;QACTkM,SAAS,CAAClM,CAAD,CAAb,EAAkB;aACTuM,GAAP;;;WAEKsW,OAAO,CAAC7iB,CAAD,CAAd;;;EAGFuU,EAAE,CAAC3T,IAAH,GAAU;WAAMA,IAAN;GAAV;;;;;;;;EAOA2T,EAAE,CAACyN,MAAH,GAAY,SAASA,MAAT,CAAgBnc,KAAhB,EAAuB;WAC1Bgd,OAAO,CAACb,MAAR,CAAenc,KAAf,CAAP;GADF;;;;;;;;EASA0O,EAAE,CAAC2O,UAAH,GAAgB,SAASA,UAAT,CAAoBpK,MAApB,EAA4B;IAC1C+J,OAAO,CAACK,UAAR,CAAmBpK,MAAnB;WACOvE,EAAP;GAFF;;;;;;;;EAUAA,EAAE,CAAC8K,KAAH,GAAW,SAASA,KAAT,GAA6B;QAAdxZ,KAAc,uEAAN,IAAM;IACtCgd,OAAO,CAACxD,KAAR,CAAcxZ,KAAd;WACO0O,EAAP;GAFF;;;;;;;EASAA,EAAE,CAAC4O,WAAH,GAAiB,SAASC,aAAT,GAAyB;WACjCH,SAAP;GADF;;;;;;;EAQA1O,EAAE,CAAC8O,eAAH,GAAqB,SAASC,YAAT,GAAwB;IAC3CL,SAAS,GAAGzZ,SAAZ;WACO,IAAP;GAFF;;;;;;;;EAUA+K,EAAE,CAACkL,KAAH,GAAW,SAASA,KAAT,CAAe8D,KAAf,EAAsB;QAC3BA,KAAK,KAAK,IAAV,IAAkB,QAAOA,KAAP,MAAiB,QAAvC,EAAiD;MAC/CA,KAAK,CAACrZ,QAAN,GAAiBqZ,KAAK,CAACrZ,QAAN,IAAkB,EAAnC,CAD+C;;MAG/CqZ,KAAK,CAACrZ,QAAN,GAAiB8B,MAAM,CAAC,IAAD,EAAO,EAAP,EAAWgX,KAAX,EAAkBO,KAAK,CAACrZ,QAAxB,CAAvB;MACAqZ,KAAK,CAACja,KAAN,GAAciL,EAAd;MACA0O,SAAS,GAAGjC,uBAAuB,CAACuC,KAAD,CAAnC;aACON,SAAP;;;IAGFA,SAAS,GAAGJ,OAAO,CAACpD,KAAR,CAAc8D,KAAd,CAAZ;WACON,SAAP;GAXF;;;;;;;;EAmBA1O,EAAE,CAACiM,IAAH,GAAU,SAASA,IAAT,CAAchB,KAAd,EAAqB;IAC7BqD,OAAO,CAACrC,IAAR,CAAahB,KAAb;WAEOjL,EAAP;GAHF,CA9F4E;;;EAqG5EA,EAAE,CAACiP,UAAH,GAAgB,SAASA,UAAT,CAAoBhE,KAApB,EAA2B/I,MAA3B,EAAmC;WAC1CoM,OAAO,CAACW,UAAR,CAAmBhE,KAAnB,EAA0B/I,MAA1B,CAAP;GADF,CArG4E;;;EA0G5ElC,EAAE,CAACkP,WAAH,GAAiB,SAASA,WAAT,CAAqBC,IAArB,EAA2B;IAC1Cb,OAAO,CAACY,WAAR,CAAoBC,IAApB;WACOnP,EAAP;GAFF;;;;;;;EASAA,EAAE,CAACgN,MAAH,GAAY,SAASA,MAAT,CAAgBzI,MAAhB,EAAwB;QAC9BpP,SAAS,CAACnI,MAAd,EAAsB;MACpBshB,OAAO,CAACtB,MAAR,CAAezI,MAAf;;UACI4J,SAAS,CAAC7gB,QAAd,EAAwB;QACtB6gB,SAAS,CAAC7gB,QAAV,CAAmB0f,MAAnB,CAA0B,CAAChN,EAAE,CAACnO,KAAH,EAAD,EAAamO,EAAE,CAAClO,GAAH,EAAb,CAA1B;;;aAEKkO,EAAP;;;WAEKsO,OAAO,CAACtB,MAAR,EAAP;GARF;;;;;;;EAeAhN,EAAE,CAACkH,KAAH,GAAW,SAASA,KAAT,CAAe3C,MAAf,EAAuB;QAC5BpP,SAAS,CAACnI,MAAd,EAAsB;MACpBshB,OAAO,CAACpH,KAAR,CAAc3C,MAAd;aAEOvE,EAAP;;;WAEKsO,OAAO,CAACpH,KAAR,EAAP;GANF;;;;;;;EAaAlH,EAAE,CAACnO,KAAH,GAAW,SAASA,KAAT,GAAiB;WACnBmO,EAAE,CAACgN,MAAH,GAAY,CAAZ,CAAP;GADF;;;;;;;EAQAhN,EAAE,CAAClO,GAAH,GAAS,SAASA,GAAT,GAAe;WACfkO,EAAE,CAACgN,MAAH,GAAY,KAAKA,MAAL,GAAchgB,MAAd,GAAuB,CAAnC,CAAP;GADF;;;;;;;EAQAgT,EAAE,CAAChJ,GAAH,GAAS,SAASA,GAAT,GAAe;WACfxG,IAAI,CAACwG,GAAL,CAAS,KAAKnF,KAAL,EAAT,EAAuB,KAAKC,GAAL,EAAvB,CAAP;GADF;;;;;;;EAQAkO,EAAE,CAAC/I,GAAH,GAAS,SAASA,GAAT,GAAe;WACfzG,IAAI,CAACyG,GAAL,CAAS,KAAKpF,KAAL,EAAT,EAAuB,KAAKC,GAAL,EAAvB,CAAP;GADF;;;;;;;;;;;;;;;EAgBAkO,EAAE,CAACoP,QAAH,GAAc,SAASA,QAAT,CAAkBje,QAAlB,EAA4B;QACpCke,UAAU,GAAG,CAACrP,EAAE,CAACnO,KAAH,KAAamO,EAAE,CAAClO,GAAH,EAAd,IAA0BX,QAA3C;QACE6b,MAAM,GAAG,CAAChN,EAAE,CAAClO,GAAH,EAAD,CADX;QAEEoV,KAAK,GAAG,EAFV;QAGEoI,SAAS,GAAGD,UAAU,GAAG,CAH3B;;SAKK,IAAIzhB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGuD,QAApB,EAA8BvD,CAAC,EAA/B,EAAmC;UAC7B2hB,OAAO,GAAGvC,MAAM,CAACA,MAAM,CAAChgB,MAAP,GAAgB,CAAjB,CAAN,IAA6B,CAA3C;UACEwiB,cAAc,GAAGD,OAAO,GAAGF,UAD7B;UAEEI,YAAY,GAAGF,OAAO,GAAGD,SAF3B;UAGEI,cAAc,GAAG1P,EAAE,CAACyP,YAAD,CAHrB;MAKAzC,MAAM,CAAC/f,IAAP,OAAA+f,MAAM,EAAS,CAACwC,cAAD,EAAiBA,cAAjB,CAAT,CAAN;MACAtI,KAAK,CAACja,IAAN,OAAAia,KAAK,EAAS,CAACwI,cAAD,EAAiBA,cAAjB,CAAT,CAAL;;;IAEF1C,MAAM,CAAC2C,GAAP;IACA3P,EAAE,CAACgN,MAAH,CAAUA,MAAV;IACAhN,EAAE,CAACkH,KAAH,CAASA,KAAT;WAEOlH,EAAP;GAnBF;;EAsBAA,EAAE,CAAC2M,IAAH,GAAU,SAASA,IAAT,GAAgB;QAClBiD,GAAG,GAAGxB,WAAW,CAACzY,QAAD,EAAWtJ,IAAX,EAAiBgiB,SAAjB,CAAvB;IACAuB,GAAG,CAAC5C,MAAJ,CAAWhN,EAAE,CAACgN,MAAH,EAAX;IACA4C,GAAG,CAAC1I,KAAJ,CAAUlH,EAAE,CAACkH,KAAH,EAAV;IACA0I,GAAG,CAAC9E,KAAJ,CAAUwD,OAAO,CAACxD,KAAR,EAAV;WACO8E,GAAP;GALF;;;;;;;;;;;;;;EAmBA5P,EAAE,CAAC6P,IAAH,GAAU,SAASA,IAAT,CAAc9S,CAAd,EAAiB;IACzBmR,aAAa,CAACC,SAAD,EAAYnO,EAAZ,CAAb;WAEOmO,SAAS,CAAC7gB,QAAV,CAAmByP,CAAnB,CAAP;GAHF;;;;;;;;;;;EAcAiD,EAAE,CAAC8P,UAAH,GAAgB,SAASD,IAAT,CAAcrkB,CAAd,EAAiB;IAC/B0iB,aAAa,CAACC,SAAD,EAAYnO,EAAZ,CAAb;WAEOmO,SAAS,CAAC7gB,QAAV,CAAmBmgB,MAAnB,CAA0BjiB,CAA1B,CAAP;GAHF;;mBAMuBoM,WAAS,CAAC6W,KAAD,EAAQpiB,IAAI,GAAGA,IAAI,CAACmb,MAAR,GAAiB,EAA7B,CApP4C;MAoPpEwG,IApPoE,cAoPpEA,IApPoE;MAoP9DC,IApP8D,cAoP9DA,IApP8D;;EAsP5EjO,EAAE,CAACgN,MAAH,CAAU,CAACgB,IAAD,EAAOC,IAAP,CAAV;EACAjO,EAAE,CAACkH,KAAH,CAASuH,KAAK,CAAChB,MAAN,GAAe,CAAC,CAAD,EAAI,CAAJ,CAAf,GAAwB,CAAC,CAAD,EAAI,CAAJ,CAAjC;EACAU,SAAS,CAACV,MAAV,GAAmBgB,KAAK,CAAChB,MAAzB;SAEOzN,EAAP;;;AC1VK,IAAMuN,kBAAgB,GAAG;EAC9BwC,OAAO,EAAE,CADqB;EAE9BC,YAAY,EAAEhY,GAFgB;EAG9BiY,YAAY,EAAEjY,GAHgB;EAI9BjB,KAAK,EAAE,GAJuB;EAK9B0W,MAAM,EAAE,KALsB;EAM9ByC,SAAS,EAAElY,GANmB;EAO9BkP,KAAK,EAAE,CAAC,CAAD,EAAI,CAAJ;CAPF;;;;;;;;;;;;;;;;;;;;;;;;;AAkCP,AAAe,SAASiJ,SAAT,GAA6D;MAA1Cxa,QAA0C,uEAA/B,EAA+B;MAA3BtJ,IAA2B,uEAApB,EAAoB;MAAhBgiB,SAAgB,uEAAJ,EAAI;;;;;;;;;;MASpE+B,MAAI,GAAGC,IAAW,EAAxB;MACM7B,GAAG,GAAG;IAAEniB,IAAI,EAAJA,IAAF;IAAQgiB,SAAS,EAATA;GAApB;MACMI,KAAK,GAAGtX,iBAAe,CAACxB,QAAD,EAAW4X,kBAAX,EAA6BiB,GAA7B,CAA7B;MACM7J,KAAK,GAAGtY,IAAI,CAACsY,KAAL,IAAc,EAA5B;MACM2L,mBAAmB,GAAG,EAA5B;MACM/L,MAAM,GAAG,EAAf;MACM2I,MAAM,GAAG,EAAf,CAf0E;;WAkBjEqD,gBAAT,CAA0BH,IAA1B,EAAgCza,QAAhC,EAA0C;;IACxCya,IAAI,CAAC/jB,IAAL,GAAY;aAAMA,IAAN;KAAZ;;IAEA+jB,IAAI,CAACI,KAAL,GAAa,UAACC,WAAD;aAAiB9L,KAAK,CAAC2L,mBAAmB,CAACG,WAAD,CAApB,CAAtB;KAAb;;;;;;;IAMAL,IAAI,CAACve,KAAL,GAAa,SAASA,KAAT,GAAiB;aACrBue,IAAI,CAACpD,MAAL,GAAc,CAAd,CAAP;KADF;;;;;;;IAQAoD,IAAI,CAACte,GAAL,GAAW,SAASA,GAAT,GAAe;aACjBse,IAAI,CAACpD,MAAL,GAAcoD,IAAI,CAACpD,MAAL,GAAchgB,MAAd,GAAuB,CAArC,CAAP;KADF;;IAIAojB,IAAI,CAAClD,MAAL,GAAc;aAAMA,MAAN;KAAd;;;;;;;IAMAkD,IAAI,CAAClF,KAAL,GAAa,SAASA,KAAT,GAA2B;UAAZ8D,KAAY,uEAAJ,EAAI;MACtCA,KAAK,CAACja,KAAN,GAAcqb,IAAd;aACOrD,qBAAqB,CAACiC,KAAD,EAAQrZ,QAAQ,CAAC+a,OAAT,IAAoB,OAA5B,CAA5B;KAFF;;;EAKFH,gBAAgB,CAACH,MAAD,EAAOza,QAAP,CAAhB;;;;;;;;;EASAya,MAAI,CAACO,OAAL,GAAe,SAASA,OAAT,CAAiB/Z,IAAjB,EAAuB;QAC9BK,GAAG,GAAGwX,KAAK,CAACyB,SAAlB;;QACIrZ,KAAK,CAACI,GAAD,CAAT,EAAgB;aACPmZ,MAAP;;;QAEIpE,CAAC,GAAGoE,MAAI,CAACpD,MAAL,GAAchgB,MAAxB;QACM4jB,kBAAkB,GAAGpgB,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAa+U,CAAC,GAAGoE,MAAI,CAACJ,YAAL,EAAL,GAA6B,IAAII,MAAI,CAACH,YAAL,EAA7C,CAA3B;;QAEIW,kBAAkB,GAAG3Z,GAArB,IAA4BL,IAAhC,EAAsC;aAC7BwZ,MAAP;;;QAGIS,OAAO,GAAGT,MAAI,CAACzD,IAAL,EAAhB;IACAkE,OAAO,CAACjkB,IAAR,GAAewjB,MAAI,CAACxjB,IAApB;IACA2jB,gBAAgB,CAACM,OAAD,EAAUlb,QAAV,CAAhB;QACMnK,CAAC,GAAIolB,kBAAkB,GAAG3Z,GAAtB,GAA6BL,IAAvC;QACM0P,MAAM,GAAG,CAAC,IAAI9a,CAAL,IAAU4kB,MAAI,CAACrZ,KAAL,EAAzB;IACA8Z,OAAO,CAAC3J,KAAR,CAAcuH,KAAK,CAAChB,MAAN,GAAe,CAACjiB,CAAC,GAAG8a,MAAL,EAAaA,MAAb,CAAf,GAAsC,CAACA,MAAD,EAAS9a,CAAC,GAAG8a,MAAb,CAApD;WAEOuK,OAAP;GAnBF;;MAsBM1K,OAAO,GAAG,OAAOxQ,QAAQ,CAACrE,KAAhB,KAA0B,UAA1B,GAAuCqE,QAAQ,CAACrE,KAAhD,GAAwD,UAACyL,CAAD;WAAOA,CAAC,CAACyT,KAAF,CAAQlf,KAAf;GAAxE;MACMwW,OAAO,GAAG,OAAOnS,QAAQ,CAAC6O,KAAhB,KAA0B,UAA1B,GAAuC7O,QAAQ,CAAC6O,KAAhD,GAAwD,UAACzH,CAAD;WAAOA,CAAC,CAACyT,KAAF,CAAQhM,KAAf;GAAxE;;OAEK,IAAI5W,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG+W,KAAK,CAAC3X,MAA1B,EAAkCY,CAAC,EAAnC,EAAuC;QAC/BkjB,GAAG,GAAGrZ,MAAM,CAAC;MAAE+Y,KAAK,EAAE7L,KAAK,CAAC/W,CAAD;KAAf,EAAsB4gB,GAAtB,CAAlB;QACM/iB,CAAC,GAAG0a,OAAO,CAAC2K,GAAD,EAAMljB,CAAN,CAAjB;;QACI2W,MAAM,CAAC5I,OAAP,CAAelQ,CAAf,MAAsB,CAAC,CAA3B,EAA8B;MAC5B8Y,MAAM,CAACtX,IAAP,CAAYxB,CAAZ;MACAyhB,MAAM,CAACjgB,IAAP,CAAY6a,OAAO,CAACgJ,GAAD,EAAMljB,CAAN,CAAnB;MACA0iB,mBAAmB,CAAC7kB,CAAD,CAAnB,GAAyBmC,CAAzB;;;;EAIJwiB,MAAI,CAACpD,MAAL,CAAYzI,MAAZ;EACA6L,MAAI,CAAClJ,KAAL,CAAWuH,KAAK,CAAChB,MAAN,GAAegB,KAAK,CAACvH,KAAN,CAAY5L,KAAZ,GAAoBsK,OAApB,EAAf,GAA+C6I,KAAK,CAACvH,KAAhE;EACAkJ,MAAI,CAACL,OAAL,CAAalZ,KAAK,CAAC4X,KAAK,CAACsB,OAAP,CAAL,GAAuB,CAAvB,GAA2BtB,KAAK,CAACsB,OAA9C;;MACI,CAAClZ,KAAK,CAAC4X,KAAK,CAACuB,YAAP,CAAV,EAAgC;IAAEI,MAAI,CAACJ,YAAL,CAAkBvB,KAAK,CAACuB,YAAxB;;;MAC9B,CAACnZ,KAAK,CAAC4X,KAAK,CAACwB,YAAP,CAAV,EAAgC;IAAEG,MAAI,CAACH,YAAL,CAAkBxB,KAAK,CAACwB,YAAxB;;;EAClCG,MAAI,CAACrZ,KAAL,CAAWF,KAAK,CAAC4X,KAAK,CAAC1X,KAAP,CAAL,GAAqB,GAArB,GAA2B0X,KAAK,CAAC1X,KAA5C;SAEOqZ,MAAP;;;ACxIF,IAAM1C,wBAAsB,GAAG;EAC7BqD,KAAK,EAAE;CADT;;AAIA,SAASC,MAAT,CAAgBC,IAAhB,EAAsB9K,OAAtB,EAA+BqI,GAA/B,EAAoC;SAC3ByC,IAAI,CAACC,SAAL,GACJjlB,GADI,CACA,UAAChB,CAAD;WAAOkb,OAAO,CAAC1O,MAAM,CAAC;MAAE+Y,KAAK,EAAEvlB,CAAC,CAACoB;KAAZ,EAAoBmiB,GAApB,CAAP,CAAd;GADA,EAEJ5I,OAFI,GAGJtK,KAHI,CAGE,CAHF;GAIJnM,QAJI,EAAP;;;AAOF,SAASgiB,WAAT,CAAqBC,QAArB,EAA+Bzb,QAA/B,EAAyC6Y,GAAzC,EAA8C;MACtC6C,UAAU,GAAG1b,QAAQ,CAACuV,KAAT,CAAe6F,KAAlC;MACM5K,OAAO,GAAGxQ,QAAQ,CAACrE,KAAzB;MACMwW,OAAO,GAAGnS,QAAQ,CAAC6O,KAAzB;MACMD,MAAM,GAAG,EAAf;MACM2I,MAAM,GAAG,EAAf;MACMvI,KAAK,GAAG,EAAd;MACMuG,KAAK,GAAG,EAAd;MACIoG,OAAO,GAAG,CAAd;;MACI,CAACF,QAAL,EAAe;WACN;MACL7M,MAAM,EAANA,MADK;MACG2I,MAAM,EAANA,MADH;MACWvI,KAAK,EAALA,KADX;MACkBuG,KAAK,EAALA;KADzB;;;EAKFkG,QAAQ,CAACG,SAAT,CAAmB,UAACN,IAAD,EAAU;QACvBA,IAAI,CAACF,KAAL,GAAa,CAAjB,EAAoB;UACZ5iB,GAAG,GAAG6iB,MAAM,CAACC,IAAD,EAAO9K,OAAP,EAAgBqI,GAAhB,CAAlB;UACMgD,MAAM,GAAGP,IAAI,CAACO,MAAL,MAAiB,CAACP,IAAD,CAAhC,CAFkB;;UAGZ3f,KAAK,GAAG6U,OAAO,CAAC1O,MAAM,CAAC;QAAE+Y,KAAK,EAAES,IAAI,CAAC5kB;OAAf,EAAuBmiB,GAAvB,CAAP,CAArB;UACMhK,KAAK,GAAGsD,OAAO,CAACrQ,MAAM,CAAC;QAAE+Y,KAAK,EAAES,IAAI,CAAC5kB;OAAf,EAAuBmiB,GAAvB,CAAP,CAArB;UACMiD,QAAQ,GAAG5iB,KAAK,CAACC,OAAN,CAAcmiB,IAAI,CAACS,QAAnB,CAAjB;UAEMvK,IAAI,GAAG;QACXhZ,GAAG,EAAHA,GADW;QAEX8c,KAAK,EAAEuG,MAAM,CAACxkB,MAFH;QAGXsE,KAAK,EAALA,KAHW;QAIXkT,KAAK,EAALA,KAJW;QAKXmN,QAAQ,EAAEX,MAAM,CAACQ,MAAM,CAAC,CAAD,CAAP,EAAYrL,OAAZ,EAAqBqI,GAArB,CALL;QAMXoD,SAAS,EAAEZ,MAAM,CAACQ,MAAM,CAAChhB,IAAI,CAACyG,GAAL,CAASua,MAAM,CAACxkB,MAAP,GAAgB,CAAzB,EAA4B,CAA5B,CAAD,CAAP,EAAyCmZ,OAAzC,EAAkDqI,GAAlD,CANN;QAOXyC,IAAI,EAAJA,IAPW;;OAAb;;UAWIQ,QAAJ,EAAc;QACZlN,MAAM,CAACtX,IAAP,kBAAsBqkB,OAAtB;QACAA,OAAO;OAFT,MAGO;QACL/M,MAAM,CAACtX,IAAP,CAAYkB,GAAZ;QACA+e,MAAM,CAACjgB,IAAP,CAAYuX,KAAZ;;;UAGG6M,UAAU,IAAI,CAAd,IAAmB,CAACI,QAArB,IAAkCR,IAAI,CAACF,KAAL,KAAeM,UAArD,EAAiE;QAC/DnG,KAAK,CAACje,IAAN,CAAWka,IAAX;;;MAGFxC,KAAK,CAACxW,GAAD,CAAL,GAAagZ,IAAb;;GA/BJ;MAmCM0K,KAAK,GAAGT,QAAQ,CAACje,MAAT,GAAkB,CAAhC;;MACI0e,KAAK,GAAG,CAAZ,EAAe;IACbtN,MAAM,CAACpX,MAAP,CAAc,CAAC0kB,KAAf;;;SAGK;IACLtN,MAAM,EAANA,MADK;IACG2I,MAAM,EAANA,MADH;IACWvI,KAAK,EAALA,KADX;IACkBuG,KAAK,EAALA;GADzB;;;;;;;;;;;;;;;;;;;;;;;AAyBF,AAAe,SAAS4G,qBAAT,GAAyE;MAA1Cnc,QAA0C,uEAA/B,EAA+B;MAA3BtJ,IAA2B,uEAApB,EAAoB;MAAhBgiB,SAAgB,uEAAJ,EAAI;MAChFG,GAAG,GAAG;IAAEniB,IAAI,EAAJA,IAAF;IAAQgiB,SAAS,EAATA;GAApB;MACMI,KAAK,GAAGtX,iBAAe,CAACxB,QAAD,EAAW4X,kBAAX,EAA6BiB,GAA7B,CAA7B;EACAC,KAAK,CAACvD,KAAN,GAAc/T,iBAAe,CAACxB,QAAQ,CAACuV,KAAV,EAAiBwC,wBAAjB,EAAyCc,GAAzC,CAA7B;EACAC,KAAK,CAACnd,KAAN,GAAc,OAAOqE,QAAQ,CAACrE,KAAhB,KAA0B,UAA1B,GAAuCqE,QAAQ,CAACrE,KAAhD,GAAwD,UAACyL,CAAD;WAAOA,CAAC,CAACyT,KAAF,CAAQlf,KAAf;GAAtE;EACAmd,KAAK,CAACjK,KAAN,GAAc,OAAO7O,QAAQ,CAAC6O,KAAhB,KAA0B,UAA1B,GAAuC7O,QAAQ,CAAC6O,KAAhD,GAAwD,UAACzH,CAAD;WAAOA,CAAC,CAACyT,KAAF,CAAQlf,KAAf;GAAtE;MAEIygB,YAAY,GAAGC,SAAS,CAACvD,KAAD,CAA5B;;qBAII0C,WAAW,CAAC9kB,IAAI,CAAC6b,IAAN,EAAYuG,KAAZ,EAAmBD,GAAnB,CAXuE;MAUpFjK,MAVoF,gBAUpFA,MAVoF;MAU5E2I,MAV4E,gBAU5EA,MAV4E;MAUpEvI,KAVoE,gBAUpEA,KAVoE;MAU7DuG,KAV6D,gBAU7DA,KAV6D;;;;;;;;;;MAoBhF+G,KAAK,GAAG,SAASjS,EAAT,CAAY1J,GAAZ,EAAiB;QACvB4b,MAAM,GAAG3lB,MAAM,CAAC+J,GAAD,CAArB;QACM6Q,IAAI,GAAGxC,KAAK,CAACuN,MAAD,CAAlB;;QACI/K,IAAJ,EAAU;aACD4K,YAAY,CAACtD,KAAK,CAAChB,MAAN,GAAetG,IAAI,CAACyK,SAApB,GAAgCzK,IAAI,CAACwK,QAAtC,CAAnB;;;WAGKI,YAAY,CAACG,MAAD,CAAnB;GAPF;;EAUAza,MAAM,CAAC,IAAD,EAAOwa,KAAP,EAAcF,YAAd,CAAN;;;;;;;EAQAE,KAAK,CAAC9E,SAAN,GAAkB,SAASA,SAAT,CAAmB7W,GAAnB,EAAwB;QAClC6Q,IAAI,GAAGxC,KAAK,CAACpY,MAAM,CAAC+J,GAAD,CAAP,CAAlB;QACM6b,EAAE,GAAGJ,YAAY,CAAC5E,SAAb,EAAX;;QACIhG,IAAI,IAAI,CAACA,IAAI,CAACiL,MAAlB,EAA0B;UAClBnY,IAAI,GAAGgY,KAAK,CAAC9K,IAAI,CAACwK,QAAN,CAAlB;UACMzX,KAAK,GAAG+X,KAAK,CAAC9K,IAAI,CAACyK,SAAN,CAAnB;aACOphB,IAAI,CAAC2O,GAAL,CAASlF,IAAI,GAAGC,KAAhB,IAAyBiY,EAAhC;;;WAEKA,EAAP;GARF;;;;;;;;EAgBAF,KAAK,CAACxG,IAAN,GAAa,SAASA,IAAT,CAAcnV,GAAd,EAAmB;QACxB6Q,IAAI,GAAGxC,KAAK,CAACpY,MAAM,CAAC+J,GAAD,CAAP,CAAlB;QACM+b,SAAS,GAAGlL,IAAI,GAAGA,IAAI,CAAC8D,KAAR,GAAgB,CAAtC;QACIqH,QAAQ,GAAGP,YAAY,CAACtG,IAAb,EAAf;IACA6G,QAAQ,IAAID,SAAZ;WACOC,QAAP;GALF;;;;;;EAWAL,KAAK,CAAC5lB,IAAN,GAAa;WAAMA,IAAN;GAAb;;;;;;;;EAOA4lB,KAAK,CAACzB,KAAN,GAAc,UAACla,GAAD,EAAS;QACf6Q,IAAI,GAAGxC,KAAK,CAACpY,MAAM,CAAC+J,GAAD,CAAP,CAAlB;;QACI6Q,IAAJ,EAAU;aACDA,IAAI,CAAC8J,IAAL,CAAU5kB,IAAjB;;;WAEK,IAAP;GALF;;EAQA4lB,KAAK,CAACtF,IAAN,GAAa;WAAMmF,qBAAqB,CAACnc,QAAD,EAAWtJ,IAAX,EAAiBgiB,SAAjB,CAA3B;GAAb;;;;;;EAKA4D,KAAK,CAAC/E,MAAN,GAAe;WAAMA,MAAN;GAAf;;;;;;;EAMA+E,KAAK,CAAC/G,KAAN,GAAc,YAAM;;WACXA,KAAK,CAACjf,GAAN,CAAU,UAACkb,IAAD,EAAU;UACnBtV,KAAK,GAAGogB,KAAK,CAAC9K,IAAI,CAAChZ,GAAN,CAAnB;UACMgf,SAAS,GAAG8E,KAAK,CAAC9E,SAAN,CAAgBhG,IAAI,CAAChZ,GAArB,CAAlB;aACO;QACL0d,QAAQ,EAAEha,KAAK,GAAIsb,SAAS,GAAG,CAD1B;QAEL3I,KAAK,EAAE2C,IAAI,CAAC3C,KAFP;QAGLnY,IAAI,EAAE8a,IAAI,CAAC8J,IAAL,CAAU5kB,IAHX;QAILwF,KAAK,EAALA,KAJK;QAKLC,GAAG,EAAED,KAAK,GAAGsb;OALf;KAHK,CAAP;GADF;;MAcMoF,UAAU,GAAGR,YAAY,CAACpB,OAAhC;;EACAsB,KAAK,CAACtB,OAAN,GAAgB,SAASA,OAAT,CAAiB/Z,IAAjB,EAAuB;IACrCmb,YAAY,GAAGQ,UAAU,CAAC3b,IAAD,CAAzB;WACOqb,KAAP;GAFF;;EAKAA,KAAK,CAACjF,MAAN,CAAazI,MAAb;SAEO0N,KAAP;;;AC/MF,IAAMO,WAAW,GAAG,SAAdA,WAAc,CAAC/mB,CAAD;SAAOA,CAAC,CAACuL,GAAF,EAAP;CAApB;;AACA,IAAMyb,WAAW,GAAG,SAAdA,WAAc,CAAChnB,CAAD;SAAOA,CAAC,CAACwL,GAAF,EAAP;CAApB;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,AAAe,SAASyb,MAAT,CAAgB/c,QAAhB,EAA0BlH,GAA1B,EAA+B;;;MAGtCkkB,UAAU,GAAGhd,QAAQ,IAAI,CAACkB,KAAK,CAAClB,QAAQ,CAACqB,GAAV,CAArC;MACM4b,UAAU,GAAGjd,QAAQ,IAAI,CAACkB,KAAK,CAAClB,QAAQ,CAACsB,GAAV,CAArC;MAEID,GAAG,GAAG2b,UAAU,GAAG,CAAChd,QAAQ,CAACqB,GAAb,GAAmB,CAAvC;MACIC,GAAG,GAAG2b,UAAU,GAAG,CAACjd,QAAQ,CAACsB,GAAb,GAAmB,CAAvC;;MAEIxI,GAAG,IAAIA,GAAG,CAACzB,MAAf,EAAuB;QACjB,CAAC2lB,UAAL,EAAiB;UACTE,MAAM,GAAGpkB,GAAG,CAACxC,GAAJ,CAAQumB,WAAR,EAAqB9W,MAArB,CAA4BoX,QAA5B,CAAf;MACA9b,GAAG,GAAG6b,MAAM,CAAC7lB,MAAP,GAAgBwD,IAAI,CAACwG,GAAL,OAAAxG,IAAI,uBAAQqiB,MAAR,EAApB,GAAsC7b,GAA5C;;;QAGE,CAAC4b,UAAL,EAAiB;UACTG,MAAM,GAAGtkB,GAAG,CAACxC,GAAJ,CAAQwmB,WAAR,EAAqB/W,MAArB,CAA4BoX,QAA5B,CAAf;MACA7b,GAAG,GAAG8b,MAAM,CAAC/lB,MAAP,GAAgBwD,IAAI,CAACyG,GAAL,OAAAzG,IAAI,uBAAQuiB,MAAR,EAApB,GAAsC9b,GAA5C;;;;SAIG,CAACD,GAAD,EAAMC,GAAN,CAAP;;;AC7CF,IAAMsW,kBAAgB,GAAG;EACvBP,MAAM,EAAE,EADe;EAEvB9F,KAAK,EAAE,EAFgB;EAGvBuG,MAAM,EAAE,KAHe;EAIvBzW,GAAG,EAAEgB,GAJkB;EAKvBf,GAAG,EAAEe;CALP;;AAQA,SAASgb,cAAT,CAAwB9L,KAAxB,EAA+BlQ,GAA/B,EAAoCC,GAApC,EAAyC;MACjCgc,GAAG,GAAG/L,KAAK,CAACla,MAAlB;;MACIimB,GAAG,KAAK,CAAZ,EAAe;WACN,CAACjc,GAAD,EAAMC,GAAN,CAAP;;;MAEI+V,MAAM,GAAG,EAAf;MACMkG,IAAI,GAAG,CAACjc,GAAG,GAAGD,GAAP,KAAeic,GAAG,GAAG,CAArB,CAAb;EAEAjG,MAAM,CAAC/f,IAAP,CAAY+J,GAAZ;;OACK,IAAIpJ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqlB,GAAG,GAAG,CAA1B,EAA6BrlB,CAAC,EAA9B,EAAkC;IAChCof,MAAM,CAAC/f,IAAP,CAAY+J,GAAG,GAAIkc,IAAI,GAAGtlB,CAA1B;;;EAEFof,MAAM,CAAC/f,IAAP,CAAYgK,GAAZ;SAEO+V,MAAP;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BF,AAAe,SAASmG,oBAAT,GAAwE;MAA1Cxd,QAA0C,uEAA/B,EAA+B;MAA3BtJ,IAA2B,uEAApB,EAAoB;MAAhBgiB,SAAgB,uEAAJ,EAAI;MAC/E9iB,CAAC,GAAGqf,WAAM,CAACjV,QAAD,EAAWtJ,IAAX,EAAiBgiB,SAAjB,CAAN,CAAkCvD,KAAlC,CAAwC,IAAxC,EAA8CoE,WAA9C,CAA0DkE,cAA1D,CAAV;MACM3E,KAAK,GAAGtX,iBAAe,CAACxB,QAAD,EAAW4X,kBAAX,EAA6B;IAAElhB,IAAI,EAAJA,IAAF;IAAQgiB,SAAS,EAATA;GAArC,CAA7B;MACMgF,QAAQ,GAAGxkB,KAAK,CAACC,OAAN,CAAc2f,KAAK,CAACzB,MAApB,KAA+ByB,KAAK,CAACzB,MAAN,CAAahgB,MAA7D;MACMsmB,OAAO,GAAGzkB,KAAK,CAACC,OAAN,CAAc2f,KAAK,CAACvH,KAApB,KAA8BuH,KAAK,CAACvH,KAAN,CAAYla,MAA1D;;;;;;;;;MASMgT,EAAE,GAAGzU,CAAX;EAEAkM,MAAM,CAAC,IAAD,EAAOuI,EAAP,EAAWzU,CAAX,CAAN;;gBACmBmnB,MAAM,CAACjE,KAAD,EAAQpiB,IAAI,GAAGA,IAAI,CAACmb,MAAR,GAAiB,EAA7B,CAhB4D;;MAgB9ExQ,GAhB8E;MAgBzEC,GAhByE;;MAiB/Ea,GAAG,GAAGub,QAAQ,GAAG5E,KAAK,CAACzB,MAAN,CAAahgB,MAAhB,GAAyB,CAAC,CAA9C;MACMumB,cAAc,GAAGlF,SAAS,CAACmF,KAAV,GAAkBnF,SAAS,CAACmF,KAAV,CAAgBC,OAAhB,CAAwB,YAAxB,EAAsC3b,GAAG,GAAG,CAAN,GAAUA,GAAV,GAAgB,CAAtD,CAAlB,GAA6E,EAApG;MAEMoP,KAAK,GAAGoM,OAAO,GAAG7E,KAAK,CAACvH,KAAT,GAAiBqM,cAAtC;EACAvT,EAAE,CAACkH,KAAH,CAASuH,KAAK,CAAChB,MAAN,GAAevG,KAAK,CAAC5L,KAAN,GAAcsK,OAAd,EAAf,GAAyCsB,KAAK,CAAC5L,KAAN,EAAlD;EACA0E,EAAE,CAACgN,MAAH,CAAUqG,QAAQ,GAAG5E,KAAK,CAACzB,MAAT,GAAkBgG,cAAc,CAAChT,EAAE,CAACkH,KAAH,EAAD,EAAalQ,GAAb,EAAkBC,GAAlB,CAAlD;SAEO+I,EAAP;;;ACxEF,IAAMuN,kBAAgB,GAAG;EACvBP,MAAM,EAAE,EADe;EAEvB9F,KAAK,EAAE,EAFgB;EAGvBuG,MAAM,EAAE,KAHe;EAIvBzW,GAAG,EAAEgB,GAJkB;EAKvBf,GAAG,EAAEe,GALkB;EAMvBiU,IAAI,EAAE;CANR;;AASA,SAAS+G,gBAAT,CAAwB9L,KAAxB,EAA+BlQ,GAA/B,EAAoCC,GAApC,EAAyC;MACjCgc,GAAG,GAAG/L,KAAK,CAACla,MAAlB;;MACIimB,GAAG,KAAK,CAAZ,EAAe;WACN,CAACjc,GAAG,GAAI,CAACC,GAAG,GAAGD,GAAP,IAAc,CAAtB,CAAP;;;MAEIgW,MAAM,GAAG,EAAf;MACMkG,IAAI,GAAG,CAACjc,GAAG,GAAGD,GAAP,IAAcic,GAA3B;;OAEK,IAAIrlB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqlB,GAApB,EAAyBrlB,CAAC,EAA1B,EAA8B;IAC5Bof,MAAM,CAAC/f,IAAP,CAAY+J,GAAG,GAAIkc,IAAI,GAAGtlB,CAA1B;;;SAEKof,MAAP;;;AAGF,SAAS0G,SAAT,CAAmB1G,MAAnB,EAA2B;MACnBvL,GAAG,GAAG,EAAZ;;OACK,IAAI7T,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGof,MAAM,CAAChgB,MAAP,GAAgB,CAApC,EAAuCY,CAAC,EAAxC,EAA4C;IAC1C6T,GAAG,CAACxU,IAAJ,CAAS,CAAC+f,MAAM,CAACpf,CAAD,CAAN,GAAYof,MAAM,CAACpf,CAAC,GAAG,CAAL,CAAnB,IAA8B,CAAvC;;;SAEK6T,GAAP;;;AAGF,SAASkS,aAAT,CAAuB3G,MAAvB,EAA+B4G,MAA/B,EAAuC5c,GAAvC,EAA4CC,GAA5C,EAAiD;EAC/CD,GAAG,GAAGgW,MAAM,CAAC,CAAD,CAAZ;EACA/V,GAAG,GAAG+V,MAAM,IAAIA,MAAM,CAAChgB,MAAP,IAAiB,CAA3B,GAA+BggB,MAAM,CAACA,MAAM,CAAChgB,MAAP,GAAgB,CAAjB,CAArC,GAA2DiK,GAAjE;MACM4c,GAAG,GAAGC,oBAAU,GAAG9G,MAAb,CAAoB,CAAChW,GAAD,EAAMC,GAAN,CAApB,EAAgCiQ,KAAhC,CAAsC0M,MAAtC,CAAZ;MACMrP,MAAM,IAAIvN,GAAJ,8BAAY0c,SAAS,CAAC1G,MAAD,CAArB,IAA+B/V,GAA/B,EAAZ;SACOsN,MAAM,CAACtY,GAAP,CAAW,UAACR,CAAD;WAAOooB,GAAG,CAACpoB,CAAD,CAAV;GAAX,CAAP;;;AAGF,SAASsoB,kBAAT,CAA4B7M,KAA5B,EAAmClQ,GAAnC,EAAwCC,GAAxC,EAA6C;MACrC+c,SAAS,GAAG9M,KAAK,CAACla,MAAN,KAAiB,CAAjB,GAAqB,EAArB,GAA0BwD,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAYiQ,KAAK,CAACla,MAAlB,CAA5C;MACMinB,GAAG,GAAG7F,QAAW,GAAGpB,MAAd,CAAqB,CAAChW,GAAD,EAAMC,GAAN,CAArB,EAAiCgV,IAAjC,CAAsC+H,SAAtC,CAAZ;MACMhH,MAAM,GAAGiH,GAAG,CAAC/I,KAAJ,CAAU8I,SAAV,CAAf;;MAEI,CAAC9M,KAAD,IAAU,CAACA,KAAK,CAACla,MAArB,EAA6B;WACpBggB,MAAP;GANyC;;;MAUrClV,GAAG,GAAGtH,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAYiQ,KAAK,CAACla,MAAN,GAAe,CAA3B,CAAZ;;SACOggB,MAAM,CAAChgB,MAAP,GAAgB8K,GAAvB,EAA4B;QACtBkV,MAAM,CAAC,CAAD,CAAN,GAAYhW,GAAZ,IAAmBC,GAAG,GAAG+V,MAAM,CAACA,MAAM,CAAChgB,MAAP,GAAgB,CAAjB,CAAnC,EAAwD;MACtDggB,MAAM,CAACkH,KAAP;KADF,MAEO;MACLlH,MAAM,CAAC2C,GAAP;;;;SAIG3C,MAAP;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCF,AAAe,SAASmH,mBAAT,GAAuE;MAA1Cxe,QAA0C,uEAA/B,EAA+B;MAA3BtJ,IAA2B,uEAApB,EAAoB;MAAhBgiB,SAAgB,uEAAJ,EAAI;MAC9EC,OAAO,GAAG8F,SAAc,EAA9B;MACM3F,KAAK,GAAGtX,iBAAe,CAACxB,QAAD,EAAW4X,kBAAX,EAA6B;IAAElhB,IAAI,EAAJA,IAAF;IAAQgiB,SAAS,EAATA;GAArC,CAA7B;MACMgF,QAAQ,GAAGxkB,KAAK,CAACC,OAAN,CAAc2f,KAAK,CAACzB,MAApB,KAA+ByB,KAAK,CAACzB,MAAN,CAAahgB,MAA7D;MACMsmB,OAAO,GAAGzkB,KAAK,CAACC,OAAN,CAAc2f,KAAK,CAACvH,KAApB,KAA8BuH,KAAK,CAACvH,KAAN,CAAYla,MAA1D;;;;;;;;WAQSgT,EAAT,CAAYvU,CAAZ,EAAe;QACTkM,SAAS,CAAClM,CAAD,CAAb,EAAkB;aACTuM,GAAP;;;WAEKsW,OAAO,CAAC7iB,CAAD,CAAd;;;EAGFwC,MAAM,CAACgS,IAAP,CAAYqO,OAAZ,EAAqBxR,OAArB,CAA6B,UAAC3O,GAAD;WAAU6R,EAAE,CAAC7R,GAAD,CAAF,GAAUmgB,OAAO,CAACngB,GAAD,CAA3B;GAA7B;MAEMqZ,MAAM,GAAGnb,IAAI,CAACmb,MAApB;;gBAEmBkL,MAAM,CAACjE,KAAD,EAAQjH,MAAR,CAvB2D;;MAuB7ExQ,GAvB6E;MAuBxEC,GAvBwE;;MAwB9Ea,GAAG,GAAGub,QAAQ,GAAG5E,KAAK,CAACzB,MAAN,CAAahgB,MAAhB,GAAyB,CAAC,CAA9C;MACMumB,cAAc,GAAGlF,SAAS,CAACmF,KAAV,GAAkBnF,SAAS,CAACmF,KAAV,CAAgBC,OAAhB,CAAwB,YAAxB,EAAsC3b,GAAG,GAAG,CAAN,GAAUA,GAAV,GAAgB,CAAtD,CAAlB,GAA6E,EAApG;MAEIoP,KAAK,GAAGoM,OAAO,GAAG7E,KAAK,CAACvH,KAAT,GAAiBqM,cAApC;MACIvG,MAAM,GAAG,EAAb;;MAEIqG,QAAJ,EAAc;IACZrG,MAAM,GAAGyB,KAAK,CAACzB,MAAf;GADF,MAEO,IAAIyB,KAAK,CAACxC,IAAV,EAAgB;IACrBe,MAAM,GAAG+G,kBAAkB,CAAC7M,KAAD,EAAQlQ,GAAR,EAAaC,GAAb,CAA3B;GADK,MAEA;IACL+V,MAAM,GAAG,CAAChW,GAAG,GAAI,CAACC,GAAG,GAAGD,GAAP,IAAc,CAAtB,CAAT;;;MAGEkQ,KAAK,CAACla,MAAN,GAAeggB,MAAM,CAAChgB,MAAP,GAAgB,CAAnC,EAAsC;;IAEpCggB,MAAM,GAAGgG,gBAAc,CAAC9L,KAAD,EAAQlQ,GAAR,EAAaC,GAAb,CAAvB;GAFF,MAGO,IAAIiQ,KAAK,CAACla,MAAN,GAAeggB,MAAM,CAAChgB,MAAP,GAAgB,CAAnC,EAAsC;;IAE3Cka,KAAK,GAAGyM,aAAa,CAAC3G,MAAD,EAAS9F,KAAT,EAAgBlQ,GAAhB,EAAqBC,GAArB,CAArB;;;EAGF+I,EAAE,CAAC3T,IAAH,GAAU;WAAMA,IAAN;GAAV;;EAEA2T,EAAE,CAACkH,KAAH,CAASuH,KAAK,CAAChB,MAAN,GAAevG,KAAK,CAAC5L,KAAN,GAAcsK,OAAd,EAAf,GAAyCsB,KAAlD;EACAlH,EAAE,CAACgN,MAAH,CAAUA,MAAV;SAEOhN,EAAP;;;ACtJF,IAAMuN,kBAAgB,GAAG;EACvBP,MAAM,EAAE,EADe;EAEvB9F,KAAK,EAAE;CAFT;;;;;;;;;;AAaA,AAAe,SAASmN,SAAT,GAA2D;MAA1C1e,QAA0C,uEAA/B,EAA+B;MAA3BtJ,IAA2B,uEAApB,EAAoB;MAAhBgiB,SAAgB,uEAAJ,EAAI;;;;;;;;;MAQlErO,EAAE,GAAGsU,OAAY,EAAvB;MAEM9F,GAAG,GAAG;IAAEniB,IAAI,EAAJA,IAAF;IAAQgiB,SAAS,EAATA;GAApB;MACMI,KAAK,GAAGtX,iBAAe,CAACxB,QAAD,EAAW4X,kBAAX,EAA6BiB,GAA7B,CAA7B;MAEMrI,OAAO,GAAG,OAAOxQ,QAAQ,CAACrE,KAAhB,KAA0B,UAA1B,GAAuCqE,QAAQ,CAACrE,KAAhD,GAAwD,UAACyL,CAAD;WAAOA,CAAC,CAACyT,KAAF,CAAQlf,KAAf;GAAxE;MACMwW,OAAO,GAAG,OAAOnS,QAAQ,CAAC6O,KAAhB,KAA0B,UAA1B,GAAuC7O,QAAQ,CAAC6O,KAAhD,GAAwD,UAACzH,CAAD;WAAOA,CAAC,CAACyT,KAAF,CAAQhM,KAAf;GAAxE;MACMG,KAAK,GAAGtY,IAAI,CAACsY,KAAL,IAAc,EAA5B;MACM2L,mBAAmB,GAAG,EAA5B;MACM/L,MAAM,GAAG,EAAf;MACM2I,MAAM,GAAG,EAAf;;OAEK,IAAItf,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG+W,KAAK,CAAC3X,MAA1B,EAAkCY,CAAC,EAAnC,EAAuC;QAC/BkjB,GAAG,GAAGrZ,MAAM,CAAC;MAAE+Y,KAAK,EAAE7L,KAAK,CAAC/W,CAAD;KAAf,EAAsB4gB,GAAtB,CAAlB;QACM/iB,CAAC,GAAG0a,OAAO,CAAC2K,GAAD,EAAMljB,CAAN,CAAjB;;QACI2W,MAAM,CAAC5I,OAAP,CAAelQ,CAAf,MAAsB,CAAC,CAA3B,EAA8B;MAC5B8Y,MAAM,CAACtX,IAAP,CAAYxB,CAAZ;MACAyhB,MAAM,CAACjgB,IAAP,CAAY6a,OAAO,CAACgJ,GAAD,EAAMljB,CAAN,CAAnB;MACA0iB,mBAAmB,CAAC7kB,CAAD,CAAnB,GAAyBmC,CAAzB;;;;EAIJoS,EAAE,CAAC3T,IAAH,GAAU;WAAMA,IAAN;GAAV;;EAEA2T,EAAE,CAACkN,MAAH,GAAY;WAAMA,MAAN;GAAZ;;EAEAlN,EAAE,CAACwE,KAAH,GAAW,UAACiM,WAAD;WAAiBvD,MAAM,CAAC3I,MAAM,CAAC5I,OAAP,CAAe8U,WAAf,CAAD,CAAvB;GAAX;;EAEAzQ,EAAE,CAACwQ,KAAH,GAAW,UAACC,WAAD;WAAiB9L,KAAK,CAAC2L,mBAAmB,CAACG,WAAD,CAApB,CAAtB;GAAX;;EAEAzQ,EAAE,CAACkH,KAAH,CAASuH,KAAK,CAACvH,KAAf;;MAEIrY,KAAK,CAACC,OAAN,CAAc2f,KAAK,CAACzB,MAApB,KAA+ByB,KAAK,CAACzB,MAAN,CAAahgB,MAAhD,EAAwD;IACtDgT,EAAE,CAACgN,MAAH,CAAUyB,KAAK,CAACzB,MAAhB;GADF,MAEO;IACLhN,EAAE,CAACgN,MAAH,CAAUzI,MAAV;;;SAEKvE,EAAP;;;AC3DF,IAAMuN,kBAAgB,GAAG;EACvBP,MAAM,EAAE,EADe;EAEvB9F,KAAK,EAAE,EAFgB;EAGvBqN,OAAO,EAAEtf;CAHX;AAMA,IAAMuf,yBAAyB,GAAG;EAChCxH,MAAM,EAAE,EADwB;EAEhC9F,KAAK,EAAE,EAFyB;EAGhCuN,QAAQ,EAAE;CAHZ;;;;;;;;;;;;;;;;;;;;;AAyBA,AAAe,SAASC,gBAAT,GAAoE;MAA1C/e,QAA0C,uEAA/B,EAA+B;MAA3BtJ,IAA2B,uEAApB,EAAoB;MAAhBgiB,SAAgB,uEAAJ,EAAI;MAC3E9iB,CAAC,GAAG8oB,SAAO,CAAC1e,QAAD,EAAWtJ,IAAX,EAAiBgiB,SAAjB,CAAjB;MACMmF,KAAK,GAAGnF,SAAS,CAACmF,KAAxB;MACM/E,KAAK,GAAGtX,iBAAe,CAACxB,QAAD,EAAW4X,kBAAX,EAA6B;IAAElhB,IAAI,EAAJA,IAAF;IAAQgiB,SAAS,EAATA;GAArC,CAA7B;EACAI,KAAK,CAACkG,QAAN,GAAiBxd,iBAAe,CAACxB,QAAQ,CAACgf,QAAV,EAAoBH,yBAApB,EAA+C;IAAEnoB,IAAI,EAAJA,IAAF;IAAQgiB,SAAS,EAATA;GAAvD,CAAhC;MAEInH,KAAJ;;MACI,CAACrY,KAAK,CAACC,OAAN,CAAc2f,KAAK,CAACvH,KAApB,CAAD,IAA+BuH,KAAK,CAACvH,KAAN,CAAYla,MAAZ,KAAuB,CAA1D,EAA6D;IAC3Dka,KAAK,GAAGsM,KAAK,GAAGA,KAAK,CAACC,OAAN,CAAc,aAAd,EAA6BloB,CAAC,CAACyhB,MAAF,GAAWhgB,MAAxC,EAAgDsO,KAAhD,EAAH,GAA6D,EAA1E;GADF,MAEO;IACL4L,KAAK,GAAGuH,KAAK,CAACvH,KAAN,CAAY5L,KAAZ,EAAR;;;MAGEmT,KAAK,CAAC8F,OAAV,EAAmB;IACjBhpB,CAAC,CAACgpB,OAAF,CAAU9F,KAAK,CAAC8F,OAAhB;GADF,MAEO,IAAIf,KAAK,IAAIA,KAAK,CAACC,OAAN,CAAc,SAAd,CAAb,EAAuC;QACxCmB,EAAE,GAAGpB,KAAK,CAACC,OAAN,CAAc,SAAd,CAAT;IACAloB,CAAC,CAACgpB,OAAF,CAAUK,EAAE,CAAC,CAAD,CAAZ;;;MAGE/lB,KAAK,CAACC,OAAN,CAAc2f,KAAK,CAACkG,QAAN,CAAe3H,MAA7B,KAAwCyB,KAAK,CAACkG,QAAN,CAAe3H,MAAf,CAAsBhgB,MAAlE,EAA0E;QAClEggB,MAAM,GAAGzhB,CAAC,CAACyhB,MAAF,GAAW1R,KAAX,EAAf;QACMuZ,cAAc,GAAGpG,KAAK,CAACkG,QAAN,CAAe3H,MAAtC;QACM8H,aAAa,GAAGjmB,KAAK,CAACC,OAAN,CAAc2f,KAAK,CAACkG,QAAN,CAAezN,KAA7B,IAAsCuH,KAAK,CAACkG,QAAN,CAAezN,KAArD,GAA6D,EAAnF,CAHwE;;QAMlE6N,SAAS,GAAGvkB,IAAI,CAACgG,KAAL,CAAWwW,MAAM,CAAChgB,MAAP,GAAgBka,KAAK,CAACla,MAAjC,CAAlB;;SACK,IAAIY,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmnB,SAAS,GAAG,CAAhC,EAAmCnnB,CAAC,IAAI,CAAxC,EAA2C;MACzCsZ,KAAK,GAAGA,KAAK,CAACha,MAAN,CAAaga,KAAb,CAAR;;;QAGEuH,KAAK,CAACkG,QAAN,CAAeF,QAAnB,EAA6B;WACtB,IAAI7mB,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAGinB,cAAc,CAAC7nB,MAAnC,EAA2CY,EAAC,EAA5C,EAAgD;YACxConB,KAAK,GAAGhI,MAAM,CAACrR,OAAP,CAAekZ,cAAc,CAACjnB,EAAD,CAA7B,CAAd;;YACIonB,KAAK,GAAG,CAAC,CAAb,EAAgB;UACd9N,KAAK,CAAC8N,KAAD,CAAL,GAAeF,aAAa,CAAClnB,EAAD,CAA5B;;;KAJN,MAOO;;UAECuQ,KAAK,GAAG0W,cAAc,CAAC5oB,GAAf,CAAmB,UAAC8Q,CAAD,EAAInP,CAAJ;eAAU,CAACof,MAAM,CAACrR,OAAP,CAAeoB,CAAf,CAAD,EAAoBA,CAApB,EAAuB+X,aAAa,CAAClnB,CAAD,CAApC,CAAV;OAAnB,EAAuE2N,IAAvE,CAA4E,UAACtQ,CAAD,EAAIuQ,CAAJ;eAAUvQ,CAAC,CAAC,CAAD,CAAD,GAAOuQ,CAAC,CAAC,CAAD,CAAlB;OAA5E,CAAd;MACA2C,KAAK,CAACrB,OAAN,CAAc,UAACrR,CAAD,EAAO;YACbwpB,GAAG,GAAGjI,MAAM,CAACrR,OAAP,CAAelQ,CAAC,CAAC,CAAD,CAAhB,CAAZ;;YACIwpB,GAAG,KAAK,CAAC,CAAb,EAAgB;UACd/N,KAAK,CAAC/Z,MAAN,CAAa8nB,GAAb,EAAkB,CAAlB,EAAqBxpB,CAAC,CAAC,CAAD,CAAtB;;OAHJ;KArBsE;;;IA8BxEyb,KAAK,CAACla,MAAN,GAAeggB,MAAM,CAAChgB,MAAtB;;;EAGFzB,CAAC,CAAC2b,KAAF,CAAQA,KAAR;SACO3b,CAAP;;;AC/EF,IAAM2pB,aAAa,GAAG1T,eAAQ,EAA9B;AAEA0T,aAAa,CAAC,QAAD,EAAWtK,WAAX,CAAb;AACAsK,aAAa,CAAC,MAAD,EAAS9E,SAAT,CAAb;AACA8E,aAAa,CAAC,QAAD,EAAWjD,qBAAX,CAAb;AACAiD,aAAa,CAAC,kBAAD,EAAqBpB,oBAArB,CAAb;AACAoB,aAAa,CAAC,iBAAD,EAAoBC,mBAApB,CAAb;AACAD,aAAa,CAAC,mBAAD,EAAsBE,gBAAtB,CAAb;AAEA;AAEA,SAASC,eAAT,CAAyB7N,MAAzB,EAAiC;MACzB9H,KAAK,GAAG8H,MAAM,CAACvb,GAAP,CAAW,UAACwY,KAAD;WAAYA,KAAK,CAAC7X,IAAN,OAAiB,WAAjB,GAA+B,MAA/B,GAAwC,QAApD;GAAX,CAAd;SACO8S,KAAK,CAAC/D,OAAN,CAAc,QAAd,MAA4B,CAAC,CAA7B,GAAiC,QAAjC,GAA4C,MAAnD;;;AAGF,SAAS2Z,uBAAT,CAAiCjpB,IAAjC,EAAuC;MACjCA,IAAI,CAAC6b,IAAT,EAAe;WACN,QAAP;;;MAGE7b,IAAI,CAACmb,MAAL,IAAenb,IAAI,CAACmb,MAAL,CAAY,CAAZ,CAAnB,EAAmC;WAC1B6N,eAAe,CAAChpB,IAAI,CAACmb,MAAN,CAAtB;;;SAEK,QAAP;;;AAGF,AAAO,SAASgB,QAAT,CAAgBM,OAAhB,EAAyB/L,CAAzB,EAA4BgM,IAA5B,EAAkC;MACnCwM,gBAAgB,GAAGzM,OAAO,CAACzc,IAA/B;;MACIyc,OAAO,CAAC1E,MAAZ,EAAoB;;IAClB2E,IAAI,CAACpJ,MAAL,CAAYE,IAAZ,CAAiB,6CAAjB;IACA0V,gBAAgB,GAAG;MACjB9N,OAAO,EAAE;KADX;KAGC5Y,KAAK,CAACC,OAAN,CAAcga,OAAO,CAAC1E,MAAtB,IAAgC0E,OAAO,CAAC1E,MAAxC,GAAiD,CAAC0E,OAAO,CAAC1E,MAAT,CAAlD,EAAoEtH,OAApE,CAA4E,UAACsH,MAAD,EAAY;MACtFmR,gBAAgB,CAAC9N,OAAjB,CAAyBxa,IAAzB,CAA8B;QAC5BwX,KAAK,EAAEL;OADT;KADF;;;MAOI/X,IAAI,GAAG2c,OAAW,CAACuM,gBAAD,EAAmBxY,CAAnB,EAAsBgM,IAAtB,CAAxB;MACInc,IAAI,GAAGkc,OAAO,CAAClc,IAAR,IAAgB0oB,uBAAuB,CAACjpB,IAAD,CAAlD;MACId,CAAJ;;MAEIqB,IAAI,KAAK,OAAb,EAAsB;QAChBP,IAAI,CAACmb,MAAL,IAAenb,IAAI,CAACmb,MAAL,CAAY,CAAZ,CAAf,IAAiCnb,IAAI,CAACmb,MAAL,CAAY,CAAZ,EAAe5a,IAAf,OAA0B,WAA/D,EAA4E;MAC1EA,IAAI,GAAG,mBAAP;KADF,MAEO;MACLA,IAAI,GAAG,kBAAP;;;;MAIAmc,IAAI,CAAChU,KAAL,CAAWkM,GAAX,CAAerU,IAAf,CAAJ,EAA0B;IACxBrB,CAAC,GAAGwd,IAAI,CAAChU,KAAL,CAAWiM,GAAX,CAAepU,IAAf,CAAJ;IACArB,CAAC,GAAGA,CAAC,CAACud,OAAD,EAAUzc,IAAV,EAAgB;MAAEmnB,KAAK,EAAEzK,IAAI,CAACyK,KAAd;MAAqB7T,MAAM,EAAEoJ,IAAI,CAACpJ;KAAlD,CAAL;IACApU,CAAC,CAACqB,IAAF,GAASA,IAAT;;;SAEKrB,CAAP;;AAGF,AAAO,SAASsc,YAAT,CAAoB2N,YAApB,EAAkCnpB,IAAlC,EAAwC0c,IAAxC,EAA2D;MAAb/I,EAAa,uEAARwI,QAAQ;MAC1DiN,MAAM,GAAG,EAAf;SAEO;IACLzU,GADK,eACDoI,GADC,EACI;UACHjb,GAAJ;;UACI,OAAOib,GAAP,KAAe,QAAf,IAA2BoM,YAAY,CAACpM,GAAD,CAA3C,EAAkD;QAChDjb,GAAG,GAAGib,GAAN;OADF,MAEO,IAAI,QAAOA,GAAP,MAAe,QAAf,IAA2B,WAAWA,GAAtC,IAA6CoM,YAAY,CAACpM,GAAG,CAACrU,KAAL,CAA7D,EAA0E;QAC/E5G,GAAG,GAAGib,GAAG,CAACrU,KAAV;;;UAGE5G,GAAJ,EAAS;QACPsnB,MAAM,CAACtnB,GAAD,CAAN,GAAcsnB,MAAM,CAACtnB,GAAD,CAAN,IAAe6R,EAAE,CAACwV,YAAY,CAACrnB,GAAD,CAAb,EAAoB9B,IAApB,EAA0B0c,IAA1B,CAA/B;eACO0M,MAAM,CAACtnB,GAAD,CAAb;;;aAGK6R,EAAE,CAACoJ,GAAD,EAAM/c,IAAN,EAAY0c,IAAZ,CAAT;KAdG;IAgBLM,GAhBK,iBAgBC;MACJpb,MAAM,CAACgS,IAAP,CAAYuV,YAAZ,EAA0B1Y,OAA1B,CAAkC,KAAKkE,GAAvC;aACOyU,MAAP;;GAlBJ;;;ACzEF;;;;AAIA,IAAI,IAAI,GAAG,EAAE,CAAC;;AAEd,IAAI,CAAC,QAAQ,GAAG,SAAS,QAAQ,CAAC,GAAG,EAAE;EACrC,OAAO,OAAO,GAAG,KAAK,QAAQ,IAAI,GAAG,KAAK,IAAI,CAAC;EAChD;;AAED,IAAI,CAAC,QAAQ,GAAG,SAAS,QAAQ,CAAC,GAAG,EAAE;EACrC,OAAO,OAAO,GAAG,KAAK,QAAQ,CAAC;EAChC;;AAED,IAAI,CAAC,WAAW,GAAG,SAAS,WAAW,CAAC,GAAG,EAAE;EAC3C,OAAO,GAAG,KAAK,KAAK,CAAC,CAAC;EACvB;;AAED,IAAI,CAAC,UAAU,GAAG,SAAS,UAAU,CAAC,GAAG,CAAC;EACxC,OAAO,OAAO,GAAG,KAAK,UAAU,CAAC;EAClC;;;;;;;AAOD,SAAS,YAAY,GAAG;EACtB,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;CAC9B;AACD,oBAAc,GAAG,YAAY,CAAC;;;AAG9B,YAAY,CAAC,YAAY,GAAG,YAAY,CAAC;;AAEzC,YAAY,CAAC,SAAS,CAAC,OAAO,GAAG,SAAS,CAAC;AAC3C,YAAY,CAAC,SAAS,CAAC,aAAa,GAAG,SAAS,CAAC;;;;AAIjD,YAAY,CAAC,mBAAmB,GAAG,EAAE,CAAC;;AAEtC,YAAY,CAAC,IAAI,GAAG,WAAW;EAC7B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,IAAI,EAAE,CAAC;EAClC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,IAAI,SAAS,CAAC;CACtD,CAAC;;;;AAIF,YAAY,CAAC,SAAS,CAAC,eAAe,GAAG,SAAS,CAAC,EAAE;EACnD,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC;IACxC,MAAM,SAAS,CAAC,6BAA6B,CAAC,CAAC;EACjD,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;EACvB,OAAO,IAAI,CAAC;CACb,CAAC;;AAEF,YAAY,CAAC,SAAS,CAAC,IAAI,GAAG,SAAS,IAAI,EAAE;EAC3C,IAAI,EAAE,EAAE,OAAO,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC,EAAE,SAAS,CAAC;;EAEzC,IAAI,CAAC,IAAI,CAAC,OAAO;IACf,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;;;EAGpB,IAAI,IAAI,KAAK,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE;IAC3C,EAAE,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;IAClB,IAAI,EAAE,YAAY,KAAK,EAAE;MACvB,MAAM,EAAE,CAAC;KACV,MAAM;MACL,MAAM,KAAK,CAAC,sCAAsC,CAAC,CAAC;KACrD;IACD,OAAO,KAAK,CAAC;GACd;;EAED,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;;EAE7B,IAAI,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC;IAC3B,OAAO,KAAK,CAAC;;EAEf,IAAI,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE;IAC5B,QAAQ,SAAS,CAAC,MAAM;;MAEtB,KAAK,CAAC;QACJ,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACnB,MAAM;MACR,KAAK,CAAC;QACJ,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;QACjC,MAAM;MACR,KAAK,CAAC;QACJ,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/C,MAAM;;MAER;QACE,GAAG,GAAG,SAAS,CAAC,MAAM,CAAC;QACvB,IAAI,GAAG,IAAI,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;QAC1B,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE;UACtB,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;QAC7B,OAAO,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;KAC7B;GACF,MAAM,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;IACjC,GAAG,GAAG,SAAS,CAAC,MAAM,CAAC;IACvB,IAAI,GAAG,IAAI,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;IAC1B,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE;MACtB,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;;IAE7B,SAAS,GAAG,OAAO,CAAC,KAAK,EAAE,CAAC;IAC5B,GAAG,GAAG,SAAS,CAAC,MAAM,CAAC;IACvB,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE;MACtB,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;GAClC;;EAED,OAAO,IAAI,CAAC;CACb,CAAC;;AAEF,YAAY,CAAC,SAAS,CAAC,WAAW,GAAG,SAAS,IAAI,EAAE,QAAQ,EAAE;EAC5D,IAAI,CAAC,CAAC;;EAEN,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC;IAC5B,MAAM,SAAS,CAAC,6BAA6B,CAAC,CAAC;;EAEjD,IAAI,CAAC,IAAI,CAAC,OAAO;IACf,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;;;;EAIpB,IAAI,IAAI,CAAC,OAAO,CAAC,WAAW;IAC1B,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI;cACnB,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,QAAQ,CAAC;cAClC,QAAQ,CAAC,QAAQ,GAAG,QAAQ,CAAC,CAAC;;EAE1C,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;;IAErB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,QAAQ,CAAC;OAC3B,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;;IAExC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;;;IAGlC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,QAAQ,CAAC,CAAC;;;EAGtD,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE;IACnE,IAAI,CAAC,CAAC;IACN,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,EAAE;MACzC,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC;KACxB,MAAM;MACL,CAAC,GAAG,YAAY,CAAC,mBAAmB,CAAC;KACtC;;IAED,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;MAC/C,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;;MAEjC,IAAI,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;QAClC,OAAO,CAAC,KAAK,CAAC,+CAA+C;sBAC/C,qCAAqC;sBACrC,kDAAkD;sBAClD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC;OAC1C;MACD,IAAI,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,KAAK,CAAC;QAChC,OAAO,CAAC,KAAK,EAAE,CAAC;KACnB;GACF;;EAED,OAAO,IAAI,CAAC;CACb,CAAC;;AAEF,YAAY,CAAC,SAAS,CAAC,EAAE,GAAG,YAAY,CAAC,SAAS,CAAC,WAAW,CAAC;;AAE/D,YAAY,CAAC,SAAS,CAAC,IAAI,GAAG,SAAS,IAAI,EAAE,QAAQ,EAAE;EACrD,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC;IAC5B,MAAM,SAAS,CAAC,6BAA6B,CAAC,CAAC;;EAEjD,IAAI,KAAK,GAAG,KAAK,CAAC;;EAElB,SAAS,CAAC,GAAG;IACX,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;;IAE7B,IAAI,CAAC,KAAK,EAAE;MACV,KAAK,GAAG,IAAI,CAAC;MACb,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;KACjC;GACF;;EAED,CAAC,CAAC,QAAQ,GAAG,QAAQ,CAAC;EACtB,IAAI,CAAC,EAAE,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;;EAEjB,OAAO,IAAI,CAAC;CACb,CAAC;;;AAGF,YAAY,CAAC,SAAS,CAAC,cAAc,GAAG,SAAS,IAAI,EAAE,QAAQ,EAAE;EAC/D,IAAI,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,CAAC,CAAC;;EAE9B,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC;IAC5B,MAAM,SAAS,CAAC,6BAA6B,CAAC,CAAC;;EAEjD,IAAI,CAAC,IAAI,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;IACtC,OAAO,IAAI,CAAC;;EAEd,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;EAC1B,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;EACrB,QAAQ,GAAG,CAAC,CAAC,CAAC;;EAEd,IAAI,IAAI,KAAK,QAAQ;OAChB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC,QAAQ,KAAK,QAAQ,CAAC,EAAE;IAClE,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IAC1B,IAAI,IAAI,CAAC,OAAO,CAAC,cAAc;MAC7B,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC;;GAE/C,MAAM,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;IAC9B,KAAK,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,GAAG,CAAC,GAAG;MACzB,IAAI,IAAI,CAAC,CAAC,CAAC,KAAK,QAAQ;WACnB,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,KAAK,QAAQ,CAAC,EAAE;QACvD,QAAQ,GAAG,CAAC,CAAC;QACb,MAAM;OACP;KACF;;IAED,IAAI,QAAQ,GAAG,CAAC;MACd,OAAO,IAAI,CAAC;;IAEd,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;MACrB,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;MAChB,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;KAC3B,MAAM;MACL,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;KAC1B;;IAED,IAAI,IAAI,CAAC,OAAO,CAAC,cAAc;MAC7B,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC;GAC/C;;EAED,OAAO,IAAI,CAAC;CACb,CAAC;;AAEF,YAAY,CAAC,SAAS,CAAC,kBAAkB,GAAG,SAAS,IAAI,EAAE;EACzD,IAAI,GAAG,EAAE,SAAS,CAAC;;EAEnB,IAAI,CAAC,IAAI,CAAC,OAAO;IACf,OAAO,IAAI,CAAC;;;EAGd,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE;IAChC,IAAI,SAAS,CAAC,MAAM,KAAK,CAAC;MACxB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;SACf,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;MACzB,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IAC5B,OAAO,IAAI,CAAC;GACb;;;EAGD,IAAI,SAAS,CAAC,MAAM,KAAK,CAAC,EAAE;IAC1B,KAAK,GAAG,IAAI,IAAI,CAAC,OAAO,EAAE;MACxB,IAAI,GAAG,KAAK,gBAAgB,EAAE,SAAS;MACvC,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC;KAC9B;IACD,IAAI,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,CAAC;IAC1C,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;IAClB,OAAO,IAAI,CAAC;GACb;;EAED,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;;EAE/B,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE;IAC9B,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;GACtC,MAAM,IAAI,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE;;IAEnC,OAAO,SAAS,CAAC,MAAM;MACrB,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,SAAS,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;GAC9D;EACD,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;;EAE1B,OAAO,IAAI,CAAC;CACb,CAAC;;AAEF,YAAY,CAAC,SAAS,CAAC,SAAS,GAAG,SAAS,IAAI,EAAE;EAChD,IAAI,GAAG,CAAC;EACR,IAAI,CAAC,IAAI,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;IACtC,GAAG,GAAG,EAAE,CAAC;OACN,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IAC1C,GAAG,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;;IAE3B,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,CAAC;EACnC,OAAO,GAAG,CAAC;CACZ,CAAC;;AAEF,YAAY,CAAC,aAAa,GAAG,SAAS,OAAO,EAAE,IAAI,EAAE;EACnD,IAAI,GAAG,CAAC;EACR,IAAI,CAAC,OAAO,CAAC,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC;IAC5C,GAAG,GAAG,CAAC,CAAC;OACL,IAAI,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IAC7C,GAAG,GAAG,CAAC,CAAC;;IAER,GAAG,GAAG,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC;EACrC,OAAO,GAAG,CAAC;CACZ,CAAC;;ACpSF,qBAAe;;;;;;EAMbC,KANa,iBAMPnN,GANO,EAMF;IACTta,MAAM,CAACgS,IAAP,CAAY0V,gBAAY,CAACpnB,SAAzB,EAAoCuO,OAApC,CAA4C,UAAC3O,GAAD,EAAS;MACnDoa,GAAG,CAACpa,GAAD,CAAH,GAAWwnB,gBAAY,CAACpnB,SAAb,CAAuBJ,GAAvB,CAAX;KADF;IAGAwnB,gBAAY,CAACC,IAAb,CAAkBrN,GAAlB;WACOA,GAAP;;CAXJ;;ACAe,SAASsN,SAAT,GAAqB;MAC9B7e,GAAG,GAAG,CAAV;MACIC,GAAG,GAAG,CAAV;MACIpF,KAAK,GAAG,CAAZ;MACIikB,QAAQ,GAAG,CAAf;EACAjkB,KAAK,GAAGA,KAAK,IAAImF,GAAjB;;;;;;;MAOMzL,CAAC,GAAG;;;;;;IAMRwqB,IANQ,gBAMHzkB,KANG,EAMI;WACLG,MAAL,CAAYI,KAAK,GAAGP,KAApB;KAPM;;;;;;;IAeRG,MAfQ,kBAeDH,KAfC,EAeM;UACN0kB,QAAQ,GAAGxlB,IAAI,CAACyG,GAAL,CAASD,GAAT,EAAcxG,IAAI,CAACwG,GAAL,CAASC,GAAG,GAAG6e,QAAf,EAAyBxkB,KAAzB,CAAd,CAAjB;;UACIO,KAAK,KAAKmkB,QAAd,EAAwB;QACtBnkB,KAAK,GAAGmkB,QAAR;QACAzqB,CAAC,CAAC0qB,IAAF,CAAO,QAAP;;KAnBI;;;;;;;;;IA8BRC,MA9BQ,kBA8BDvgB,QA9BC,EA8BS;UACXwgB,aAAa,GAAG,KAApB;0BAC4BxgB,QAFb,CAEZqB,GAFY;MAEZA,GAFY,8BAENA,GAFM;0BAEarB,QAFb,CAEDsB,GAFC;MAEDA,GAFC,8BAEKA,GAFL;;UAGXtB,QAAQ,CAACmgB,QAAT,KAAsB7gB,SAAtB,IAAmCU,QAAQ,CAACmgB,QAAT,KAAsBA,QAA7D,EAAuE;QACrEA,QAAQ,GAAGngB,QAAQ,CAACmgB,QAApB;QACAK,aAAa,GAAG,IAAhB;OALa;;;UASTH,QAAQ,GAAGxlB,IAAI,CAACyG,GAAL,CAASD,GAAT,EAAcxG,IAAI,CAACwG,GAAL,CAASC,GAAG,GAAG6e,QAAf,EAAyBjkB,KAAzB,CAAd,CAAjB;;UACIA,KAAK,KAAKmkB,QAAd,EAAwB;QACtBnkB,KAAK,GAAGmkB,QAAR;QACAG,aAAa,GAAG,IAAhB;;;UAGEA,aAAJ,EAAmB;QACjB5qB,CAAC,CAAC0qB,IAAF,CAAO,QAAP;;KA9CI;;;;;;IAsDRG,QAtDQ,sBAsDG;aACF;QACLpf,GAAG,EAAHA,GADK;QACAC,GAAG,EAAHA,GADA;QACKpF,KAAK,EAALA,KADL;QACYikB,QAAQ,EAARA;OADnB;;GAvDJ;EA6DAH,cAAY,CAACD,KAAb,CAAmBnqB,CAAnB;SAEOA,CAAP;;;AC3EK,SAAS8qB,cAAT,CAAwBvN,OAAxB,EAAiCwN,MAAjC,EAAyC;MACxCtf,GAAG,GAAG8R,OAAO,CAAC9R,GAAR,IAAe,CAA3B;MACMC,GAAG,GAAG6R,OAAO,CAAC7R,GAAR,IAAe,CAA3B;MACM6e,QAAQ,GAAGhN,OAAO,CAACgN,QAAR,IAAoB,CAArC;MAEMvqB,CAAC,GAAG+qB,MAAM,IAAIT,SAAS,EAA7B;EACAtqB,CAAC,CAAC2qB,MAAF,CAAS;IAAElf,GAAG,EAAHA,GAAF;IAAOC,GAAG,EAAHA,GAAP;IAAY6e,QAAQ,EAARA;GAArB;SAEOvqB,CAAP;;AAGF,AAAe,SAASgrB,OAAT,CAAiBhO,GAAjB,EAAsBiO,aAAtB,EAAqC;MAC5CC,UAAU,GAAG,EAAnB;;OACK,IAAMzK,CAAX,IAAgBzD,GAAhB,EAAqB;QACfta,MAAM,CAACM,SAAP,CAAiBmoB,cAAjB,CAAgCtnB,IAAhC,CAAqCmZ,GAArC,EAA0CyD,CAA1C,CAAJ,EAAkD;MAChDyK,UAAU,CAACzK,CAAD,CAAV,GAAgBqK,cAAc,CAAC9N,GAAG,CAACyD,CAAD,CAAJ,EAASwK,aAAa,GAAGA,aAAa,CAACxK,CAAD,CAAhB,GAAsB,IAA5C,CAA9B;;;;SAGGyK,UAAP;;AAGF,AAAO,SAASE,oBAAT,CAA8BlrB,CAA9B,EAAiCgrB,UAAjC,EAA6C;MAC9C,CAACA,UAAU,CAAChrB,CAAD,CAAf,EAAoB;IAClBgrB,UAAU,CAAChrB,CAAD,CAAV,GAAgBoqB,SAAS,EAAzB;;;SAEKY,UAAU,CAAChrB,CAAD,CAAjB;;;AC3BF,SAASmrB,eAAT,CAAyBtlB,KAAzB,EAAgCulB,KAAhC,EAAuC;SAC9BvlB,KAAK,IAAIulB,KAAhB;;;AAGF,SAASC,QAAT,CAAkBxlB,KAAlB,EAAyBulB,KAAzB,EAAgC;SACvBvlB,KAAK,GAAGulB,KAAf;;;AAGF,SAAS7B,KAAT,CAAe+B,UAAf,EAA2B3mB,KAA3B,EAAkC4mB,KAAlC,EAAyC;MACnCppB,CAAC,GAAG,CAAR;;SACOA,CAAC,GAAGmpB,UAAU,CAAC/pB,MAAf,IAAyBoD,KAAK,GAAG2mB,UAAU,CAACnpB,CAAD,CAAlD,EAAuD;MACnDA,CAAF;;;MAEEmpB,UAAU,CAACnpB,CAAD,CAAV,KAAkBwC,KAAlB,IAA2B4mB,KAA/B,EAAsC;MAClCppB,CAAF;;;SAEKA,CAAP;;;AAGF,SAASqpB,QAAT,CAAkBF,UAAlB,EAA8B3mB,KAA9B,EAAqC8mB,YAArC,EAAmDC,YAAnD,EAAiE;MACzDlE,GAAG,GAAG8D,UAAU,CAAC/pB,MAAvB;;OAEK,IAAIY,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqlB,GAApB,EAAyBrlB,CAAC,IAAI,CAA9B,EAAiC;QAC3BspB,YAAY,CAACH,UAAU,CAACnpB,CAAC,GAAG,CAAL,CAAX,EAAoBwC,KAApB,CAAZ,IAA0C+mB,YAAY,CAAC/mB,KAAD,EAAQ2mB,UAAU,CAACnpB,CAAD,CAAlB,CAA1D,EAAkF;aACzE,IAAP;;;;SAGG,KAAP;;;AAGF,AAAe,SAASwpB,eAAT,GAAsC;MAAb9d,MAAa,uEAAJ,EAAI;MAC/C6d,YAAJ;MACID,YAAJ;MACIH,UAAU,GAAG,EAAjB;;WAES/W,EAAT,GAAc;;EAEdA,EAAE,CAACqX,SAAH,GAAe,YAAY;QAAXnsB,CAAW,uEAAP,EAAO;wBAIrBA,CAJqB,CAEvBosB,UAFuB;QAEvBA,UAFuB,8BAEV,IAFU;wBAIrBpsB,CAJqB,CAGvBqsB,UAHuB;QAGvBA,UAHuB,8BAGV,IAHU;IAKzBJ,YAAY,GAAGG,UAAU,GAAGV,eAAH,GAAqBE,QAA9C;IACAI,YAAY,GAAGK,UAAU,GAAGX,eAAH,GAAqBE,QAA9C;GANF;;EASA9W,EAAE,CAACmB,GAAH,GAAS,gBAAkB;;;QAAfnK,GAAe,QAAfA,GAAe;QAAVC,GAAU,QAAVA,GAAU;QACnBugB,EAAE,GAAGxC,KAAK,CAAC+B,UAAD,EAAa/f,GAAb,CAAhB;QACMygB,EAAE,GAAGzC,KAAK,CAAC+B,UAAD,EAAa9f,GAAb,EAAkB,IAAlB,CAAhB;QAEMnL,IAAI,GAAG,CAAC0rB,EAAD,EAAKC,EAAE,GAAGD,EAAV,CAAb;;QACIA,EAAE,GAAG,CAAL,KAAW,CAAf,EAAkB;MAChB1rB,IAAI,CAACmB,IAAL,CAAU+J,GAAV;;;QAEEygB,EAAE,GAAG,CAAL,KAAW,CAAf,EAAkB;MAChB3rB,IAAI,CAACmB,IAAL,CAAUgK,GAAV;;;QAGIygB,MAAM,GAAGX,UAAU,CAACxP,IAAX,CAAgB,GAAhB,CAAf;;mBACAwP,UAAU,EAAC5pB,MAAX,oBAAqBrB,IAArB;;QACMkrB,KAAK,GAAGD,UAAU,CAACxP,IAAX,CAAgB,GAAhB,CAAd;WACOmQ,MAAM,KAAKV,KAAlB;GAfF;;EAkBAhX,EAAE,CAACoB,MAAH,GAAY,iBAAkB;;;QAAfpK,GAAe,SAAfA,GAAe;QAAVC,GAAU,SAAVA,GAAU;QACtBugB,EAAE,GAAGxC,KAAK,CAAC+B,UAAD,EAAa/f,GAAb,CAAhB;QACMygB,EAAE,GAAGzC,KAAK,CAAC+B,UAAD,EAAa9f,GAAb,EAAkB,IAAlB,CAAhB;QAEMnL,IAAI,GAAG,CAAC0rB,EAAD,EAAKC,EAAE,GAAGD,EAAV,CAAb;;QACIA,EAAE,GAAG,CAAL,KAAW,CAAf,EAAkB;MAChB1rB,IAAI,CAACmB,IAAL,CAAU+J,GAAV;;;QAEEygB,EAAE,GAAG,CAAL,KAAW,CAAf,EAAkB;MAChB3rB,IAAI,CAACmB,IAAL,CAAUgK,GAAV;;;QAEIygB,MAAM,GAAGX,UAAU,CAACxP,IAAX,CAAgB,GAAhB,CAAf;;oBACAwP,UAAU,EAAC5pB,MAAX,qBAAqBrB,IAArB;;QACMkrB,KAAK,GAAGD,UAAU,CAACxP,IAAX,CAAgB,GAAhB,CAAd;WACOmQ,MAAM,KAAKV,KAAlB;GAdF;;EAiBAhX,EAAE,CAAC2X,GAAH,GAAS,UAACzQ,KAAD,EAAW;QACZwQ,MAAM,GAAGX,UAAU,CAACxP,IAAX,CAAgB,GAAhB,CAAf;IACAwP,UAAU,GAAG,EAAb;;QACIloB,KAAK,CAACC,OAAN,CAAcoY,KAAd,CAAJ,EAA0B;MACxBA,KAAK,CAACpK,OAAN,CAAckD,EAAE,CAACmB,GAAjB;KADF,MAEO;MACLnB,EAAE,CAACmB,GAAH,CAAO+F,KAAP;;;QAEI8P,KAAK,GAAGD,UAAU,CAACxP,IAAX,CAAgB,GAAhB,CAAd;WACOmQ,MAAM,KAAKV,KAAlB;GATF;;EAYAhX,EAAE,CAAC4X,KAAH,GAAW,YAAM;QACTF,MAAM,GAAGX,UAAU,CAAC/pB,MAAX,GAAoB,CAAnC;IACA+pB,UAAU,GAAG,EAAb;WACOW,MAAP;GAHF;;EAMA1X,EAAE,CAAC6X,aAAH,GAAmB,UAACvmB,KAAD;WAAW2lB,QAAQ,CAACF,UAAD,EAAazlB,KAAb,EAAoB4lB,YAApB,EAAkCC,YAAlC,CAAnB;GAAnB;;EAEAnX,EAAE,CAAC8X,aAAH,GAAmB,iBAAkB;QAAf9gB,GAAe,SAAfA,GAAe;QAAVC,GAAU,SAAVA,GAAU;QAC7BugB,EAAE,GAAGxC,KAAK,CAAC+B,UAAD,EAAa/f,GAAb,EAAkB,IAAlB,CAAhB;QACMygB,EAAE,GAAGzC,KAAK,CAAC+B,UAAD,EAAa9f,GAAb,CAAhB;WAEOugB,EAAE,KAAKC,EAAP,IAAaA,EAAE,GAAG,CAAL,KAAW,CAA/B;GAJF;;EAOAzX,EAAE,CAAC+X,MAAH,GAAY,UAAC7Q,KAAD,EAAW;QACjBlH,EAAE,CAAC8X,aAAH,CAAiB5Q,KAAjB,CAAJ,EAA6B;aACpBlH,EAAE,CAACoB,MAAH,CAAU8F,KAAV,CAAP;;;WAEKlH,EAAE,CAACmB,GAAH,CAAO+F,KAAP,CAAP;GAJF;;EAOAlH,EAAE,CAACgY,MAAH,GAAY,YAAM;QACVnQ,UAAU,GAAG,EAAnB;;SACK,IAAIja,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmpB,UAAU,CAAC/pB,MAA/B,EAAuCY,CAAC,IAAI,CAA5C,EAA+C;MAC7Cia,UAAU,CAAC5a,IAAX,CAAgB;QACd+J,GAAG,EAAE+f,UAAU,CAACnpB,CAAC,GAAG,CAAL,CADD;QAEdqJ,GAAG,EAAE8f,UAAU,CAACnpB,CAAD;OAFjB;;;WAKKia,UAAP;GARF;;EAWA7H,EAAE,CAACqX,SAAH,CAAa/d,MAAb;SAEO0G,EAAP;;;AChIa,SAASiY,eAAT,GAA2B;MACpC1T,MAAM,GAAG,EAAb;;WACS2T,EAAT,GAAc;;EAEdA,EAAE,CAAC/W,GAAH,GAAS,UAAC7P,KAAD,EAAW;QACdiT,MAAM,CAAC5I,OAAP,CAAerK,KAAf,MAA0B,CAAC,CAA/B,EAAkC;MAChCiT,MAAM,CAACtX,IAAP,CAAYqE,KAAZ;aACO,IAAP;;;WAEK,KAAP;GALF;;EAQA4mB,EAAE,CAAC9W,MAAH,GAAY,UAAC9P,KAAD,EAAW;QACf2jB,GAAG,GAAG1Q,MAAM,CAAC5I,OAAP,CAAerK,KAAf,CAAZ;;QACI2jB,GAAG,KAAK,CAAC,CAAb,EAAgB;MACd1Q,MAAM,CAACpX,MAAP,CAAc8nB,GAAd,EAAmB,CAAnB;aACO,IAAP;;;WAEK,KAAP;GANF;;EASAiD,EAAE,CAACjB,QAAH,GAAc,UAAC3lB,KAAD;WAAWiT,MAAM,CAAC5I,OAAP,CAAerK,KAAf,MAA0B,CAAC,CAAtC;GAAd;;EAEA4mB,EAAE,CAAC3T,MAAH,GAAY;WAAMA,MAAM,CAACjJ,KAAP,EAAN;GAAZ;;EAEA4c,EAAE,CAACN,KAAH,GAAW;WAAOrT,MAAM,GAAG,EAAhB;GAAX;;EAEA2T,EAAE,CAAC/oB,QAAH,GAAc;WAAMoV,MAAM,CAACgD,IAAP,CAAY,GAAZ,CAAN;GAAd;;SAEO2Q,EAAP;;;ACtBF;;;;;;;;;;AASA,IAAMC,oBAAoB,GAAG;;;;;EAK3BhqB,GAAG,EAAE8G,SALsB;;;;;EAS3BsiB,UAAU,EAAE,IATe;;;;;EAa3BD,UAAU,EAAE;CAbd;;AAgBA,SAASnW,GAAT,OAIG;MAHDwD,KAGC,QAHDA,KAGC;MAFDkD,UAEC,QAFDA,UAEC;MADDqQ,EACC,QADDA,EACC;MACKE,UAAU,GAAG,EAAnB;MACMC,OAAO,GAAG,EAAhB;MACIlqB,GAAJ;MACIoW,MAAJ;;OAEK,IAAI3W,CAAC,GAAG,CAAR,EAAWkK,GAAG,GAAG6M,KAAK,CAAC3X,MAA5B,EAAoCY,CAAC,GAAGkK,GAAxC,EAA6ClK,CAAC,EAA9C,EAAkD;IAChDO,GAAG,GAAGwW,KAAK,CAAC/W,CAAD,CAAL,CAASO,GAAf;;QACI,CAAC0Z,UAAU,CAAC1Z,GAAD,CAAf,EAAsB;MACpB0Z,UAAU,CAAC1Z,GAAD,CAAV,GAAkB+pB,EAAE,EAApB;;;IAEF3T,MAAM,GAAGI,KAAK,CAAC/W,CAAD,CAAL,CAAS2W,MAAT,IAAmB,CAACI,KAAK,CAAC/W,CAAD,CAAL,CAAS0D,KAAV,CAA5B;;SACK,IAAIgnB,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAG/T,MAAM,CAACvX,MAA7B,EAAqCsrB,EAAE,EAAvC,EAA2C;UACrCzQ,UAAU,CAAC1Z,GAAD,CAAV,CAAgBgT,GAAhB,CAAoBoD,MAAM,CAAC+T,EAAD,CAA1B,CAAJ,EAAqC;QACnCF,UAAU,CAACjqB,GAAD,CAAV,GAAkBiqB,UAAU,CAACjqB,GAAD,CAAV,IAAmB,EAArC;QACAiqB,UAAU,CAACjqB,GAAD,CAAV,CAAgBlB,IAAhB,CAAqBsX,MAAM,CAAC+T,EAAD,CAA3B;;;;;MAKArY,IAAI,GAAGhS,MAAM,CAACgS,IAAP,CAAYmY,UAAZ,CAAb;;OACK,IAAIxqB,EAAC,GAAG,CAAR,EAAWkK,IAAG,GAAGmI,IAAI,CAACjT,MAA3B,EAAmCY,EAAC,GAAGkK,IAAvC,EAA4ClK,EAAC,EAA7C,EAAiD;IAC/CO,GAAG,GAAG8R,IAAI,CAACrS,EAAD,CAAV;IACAyqB,OAAO,CAACprB,IAAR,CAAa;MAAEkX,EAAE,EAAEhW,GAAN;MAAWoW,MAAM,EAAE6T,UAAU,CAACjqB,GAAD;KAA1C;;;SAGKkqB,OAAP;;;AAGF,SAASjX,MAAT,QAGG;MAFDuD,KAEC,SAFDA,KAEC;MADDkD,UACC,SADDA,UACC;MACKuQ,UAAU,GAAG,EAAnB;MACMC,OAAO,GAAG,EAAhB;MACIlqB,GAAJ;MACIoW,MAAJ;;OAEK,IAAI3W,CAAC,GAAG,CAAR,EAAWkK,GAAG,GAAG6M,KAAK,CAAC3X,MAA5B,EAAoCY,CAAC,GAAGkK,GAAxC,EAA6ClK,CAAC,EAA9C,EAAkD;IAChDO,GAAG,GAAGwW,KAAK,CAAC/W,CAAD,CAAL,CAASO,GAAf;;QACI,CAAC0Z,UAAU,CAAC1Z,GAAD,CAAf,EAAsB;;;;IAGtBoW,MAAM,GAAGI,KAAK,CAAC/W,CAAD,CAAL,CAAS2W,MAAT,IAAmB,CAACI,KAAK,CAAC/W,CAAD,CAAL,CAAS0D,KAAV,CAA5B;;SACK,IAAIgnB,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAG/T,MAAM,CAACvX,MAA7B,EAAqCsrB,EAAE,EAAvC,EAA2C;UACrCzQ,UAAU,CAAC1Z,GAAD,CAAV,CAAgBiT,MAAhB,CAAuBmD,MAAM,CAAC+T,EAAD,CAA7B,CAAJ,EAAwC;QACtCF,UAAU,CAACjqB,GAAD,CAAV,GAAkBiqB,UAAU,CAACjqB,GAAD,CAAV,IAAmB,EAArC;QACAiqB,UAAU,CAACjqB,GAAD,CAAV,CAAgBlB,IAAhB,CAAqBsX,MAAM,CAAC+T,EAAD,CAA3B;;;;;MAKArY,IAAI,GAAGhS,MAAM,CAACgS,IAAP,CAAYmY,UAAZ,CAAb;;OACK,IAAIxqB,GAAC,GAAG,CAAR,EAAWkK,KAAG,GAAGmI,IAAI,CAACjT,MAA3B,EAAmCY,GAAC,GAAGkK,KAAvC,EAA4ClK,GAAC,EAA7C,EAAiD;IAC/CO,GAAG,GAAG8R,IAAI,CAACrS,GAAD,CAAV;IACAyqB,OAAO,CAACprB,IAAR,CAAa;MAAEkX,EAAE,EAAEhW,GAAN;MAAWoW,MAAM,EAAE6T,UAAU,CAACjqB,GAAD;KAA1C;;;SAGKkqB,OAAP;;;AAGF,SAASE,aAAT,CAAuB5T,KAAvB,EAA8B;MACtB6T,WAAW,GAAG,EAApB;MACIrqB,GAAJ;MACIoW,MAAJ;;OAEK,IAAI3W,CAAC,GAAG,CAAR,EAAWkK,GAAG,GAAG6M,KAAK,CAAC3X,MAA5B,EAAoCY,CAAC,GAAGkK,GAAxC,EAA6ClK,CAAC,EAA9C,EAAkD;IAChDO,GAAG,GAAGwW,KAAK,CAAC/W,CAAD,CAAL,CAASO,GAAf;IACAoW,MAAM,GAAGI,KAAK,CAAC/W,CAAD,CAAL,CAAS2W,MAAT,IAAmB,CAACI,KAAK,CAAC/W,CAAD,CAAL,CAAS0D,KAAV,CAA5B;;QACI,CAACknB,WAAW,CAACrqB,GAAD,CAAhB,EAAuB;MACrBqqB,WAAW,CAACrqB,GAAD,CAAX,GAAmB,EAAnB;;;SAEG,IAAImqB,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAG/T,MAAM,CAACvX,MAA7B,EAAqCsrB,EAAE,EAAvC,EAA2C;UACnCrD,GAAG,GAAGuD,WAAW,CAACrqB,GAAD,CAAX,CAAiBwN,OAAjB,CAAyB4I,MAAM,CAAC+T,EAAD,CAA/B,CAAZ;;UACIrD,GAAG,KAAK,CAAC,CAAb,EAAgB;QACduD,WAAW,CAACrqB,GAAD,CAAX,CAAiBlB,IAAjB,CAAsBsX,MAAM,CAAC+T,EAAD,CAA5B;;;;;SAKCE,WAAP;;;AAGF,SAASC,qBAAT,QAMG;MALDtqB,GAKC,SALDA,GAKC;MAJD0Z,UAIC,SAJDA,UAIC;MAHDU,GAGC,SAHDA,GAGC;MAFDvI,EAEC,SAFDA,EAEC;MADD1O,KACC,SADDA,KACC;;MACG,CAACuW,UAAU,CAAC1Z,GAAD,CAAf,EAAsB;IACpB0Z,UAAU,CAAC1Z,GAAD,CAAV,GAAkB6R,EAAE,EAApB;;;EAEFuI,GAAG,CAACpa,GAAD,CAAH,GAAWoa,GAAG,CAACpa,GAAD,CAAH,IAAY,EAAvB;EACAoa,GAAG,CAACpa,GAAD,CAAH,CAASlB,IAAT,CAAcqE,KAAd;EACAuW,UAAU,CAAC1Z,GAAD,CAAV,CAAgBgT,GAAhB,CAAoB7P,KAApB;;;AAGF,AAAO,SAASymB,MAAT,QAIJ;MAHDpT,KAGC,SAHDA,KAGC;MAFDJ,MAEC,SAFDA,MAEC;MADD2T,EACC,SADDA,EACC;MACKQ,QAAQ,GAAG,EAAjB;MACMC,UAAU,GAAG,EAAnB;MACMC,KAAK,GAAG,EAAd;MACMC,OAAO,GAAG,EAAhB;MACML,WAAW,GAAGD,aAAa,CAAC5T,KAAD,CAAjC;MACIxW,GAAJ;MACImD,KAAJ;MACIwnB,EAAJ;MAEMC,OAAO,GAAG9qB,MAAM,CAACgS,IAAP,CAAYuY,WAAZ,CAAhB;;OACK,IAAI5qB,CAAC,GAAG,CAAR,EAAWkK,GAAG,GAAGihB,OAAO,CAAC/rB,MAA9B,EAAsCY,CAAC,GAAGkK,GAA1C,EAA+ClK,CAAC,EAAhD,EAAoD;IAClDO,GAAG,GAAG4qB,OAAO,CAACnrB,CAAD,CAAb;IACAkrB,EAAE,GAAGN,WAAW,CAACrqB,GAAD,CAAhB;;SAEK,IAAIwa,CAAC,GAAG,CAAR,EAAWsK,GAAG,GAAG6F,EAAE,CAAC9rB,MAAzB,EAAiC2b,CAAC,GAAGsK,GAArC,EAA0CtK,CAAC,EAA3C,EAA+C;MAC7CrX,KAAK,GAAGwnB,EAAE,CAACnQ,CAAD,CAAV;;UACI,CAACpE,MAAM,CAACpW,GAAD,CAAP,IAAgB,CAACoW,MAAM,CAACpW,GAAD,CAAN,CAAY8oB,QAAZ,CAAqB3lB,KAArB,CAArB,EAAkD;QAChDmnB,qBAAqB,CAAC;UACpBtqB,GAAG,EAAHA,GADoB;UAEpBmD,KAAK,EAALA,KAFoB;UAGpBuW,UAAU,EAAEtD,MAHQ;UAIpBgE,GAAG,EAAEmQ,QAJe;UAKpB1Y,EAAE,EAAEkY;SALe,CAArB;OADF,MAQO,IAAI3T,MAAM,CAACpW,GAAD,CAAN,IAAeoW,MAAM,CAACpW,GAAD,CAAN,CAAY8oB,QAAZ,CAAqB3lB,KAArB,CAAnB,EAAgD;QACrDqnB,UAAU,CAACxqB,GAAD,CAAV,GAAkBwqB,UAAU,CAACxqB,GAAD,CAAV,IAAmB,EAArC;QACAwqB,UAAU,CAACxqB,GAAD,CAAV,CAAgBlB,IAAhB,CAAqBqE,KAArB;QACAiT,MAAM,CAACpW,GAAD,CAAN,CAAYiT,MAAZ,CAAmB9P,KAAnB;;;;;MAKA0nB,SAAS,GAAG/qB,MAAM,CAACgS,IAAP,CAAYyY,QAAZ,CAAlB;;OACK,IAAI9qB,GAAC,GAAG,CAAR,EAAWkK,KAAG,GAAGkhB,SAAS,CAAChsB,MAAhC,EAAwCY,GAAC,GAAGkK,KAA5C,EAAiDlK,GAAC,EAAlD,EAAsD;IACpDO,GAAG,GAAG6qB,SAAS,CAACprB,GAAD,CAAf;IACAgrB,KAAK,CAAC3rB,IAAN,CAAW;MAAEkX,EAAE,EAAEhW,GAAN;MAAWoW,MAAM,EAAEmU,QAAQ,CAACvqB,GAAD;KAAtC;;;MAGI8qB,WAAW,GAAGhrB,MAAM,CAACgS,IAAP,CAAY0Y,UAAZ,CAApB;;OACK,IAAI/qB,GAAC,GAAG,CAAR,EAAWkK,KAAG,GAAGmhB,WAAW,CAACjsB,MAAlC,EAA0CY,GAAC,GAAGkK,KAA9C,EAAmDlK,GAAC,EAApD,EAAwD;IACtDO,GAAG,GAAG8qB,WAAW,CAACrrB,GAAD,CAAjB;IACAirB,OAAO,CAAC5rB,IAAR,CAAa;MAAEkX,EAAE,EAAEhW,GAAN;MAAWoW,MAAM,EAAEoU,UAAU,CAACxqB,GAAD;KAA1C;;;SAGK,CAACyqB,KAAD,EAAQC,OAAR,CAAP;;;AAGF,SAAShc,IAAT,CAAcqc,GAAd,EAAmBC,OAAnB,EAA4B;MACpBd,OAAO,GAAG,EAAhB;MACMpY,IAAI,GAAGhS,MAAM,CAACgS,IAAP,CAAYiZ,GAAZ,CAAb;MACI/qB,GAAJ;MACIirB,aAAJ;;MACMC,QAAQ,GAAG,SAAXA,QAAW,CAAC5tB,CAAD;WAAO0tB,OAAO,CAAChrB,GAAD,CAAP,CAAawN,OAAb,CAAqBlQ,CAArB,MAA4B,CAAC,CAApC;GAAjB;;OAEK,IAAImC,CAAC,GAAG,CAAR,EAAWkK,GAAG,GAAGmI,IAAI,CAACjT,MAA3B,EAAmCY,CAAC,GAAGkK,GAAvC,EAA4ClK,CAAC,EAA7C,EAAiD;IAC/CO,GAAG,GAAG8R,IAAI,CAACrS,CAAD,CAAV;;QACI,CAACurB,OAAO,CAAChrB,GAAD,CAAZ,EAAmB;MACjBkqB,OAAO,CAACprB,IAAR,CAAa;QAAEkX,EAAE,EAAEhW,GAAN;QAAWoW,MAAM,EAAE2U,GAAG,CAAC/qB,GAAD;OAAnC;KADF,MAEO;MACLirB,aAAa,GAAGF,GAAG,CAAC/qB,GAAD,CAAH,CAASuN,MAAT,CAAgB2d,QAAhB,CAAhB;;UACID,aAAa,CAACpsB,MAAlB,EAA0B;QACxBqrB,OAAO,CAACprB,IAAR,CAAa;UAAEkX,EAAE,EAAEhW,GAAN;UAAWoW,MAAM,EAAE6U;SAAhC;;;;;SAKCf,OAAP;;;AAGF,AAAO,SAASV,KAAT,QAIJ;MAHDhT,KAGC,SAHDA,KAGC;MAFD2U,WAEC,SAFDA,WAEC;MADDpB,EACC,SADDA,EACC;MACKQ,QAAQ,GAAG,EAAjB;MACMF,WAAW,GAAGD,aAAa,CAAC5T,KAAD,CAAjC;MACIiU,KAAK,GAAG,EAAZ;MACIC,OAAO,GAAG,EAAd;MACI1qB,GAAJ;MAEMorB,MAAM,GAAG,EAAf;MACMC,MAAM,GAAGvrB,MAAM,CAACgS,IAAP,CAAYqZ,WAAZ,CAAf;;OACK,IAAI1rB,CAAC,GAAG,CAAR,EAAWkK,GAAG,GAAG0hB,MAAM,CAACxsB,MAA7B,EAAqCY,CAAC,GAAGkK,GAAzC,EAA8ClK,CAAC,EAA/C,EAAmD;IACjDO,GAAG,GAAGqrB,MAAM,CAAC5rB,CAAD,CAAZ;IACA2rB,MAAM,CAACprB,GAAD,CAAN,GAAcmrB,WAAW,CAACnrB,GAAD,CAAX,CAAiBoW,MAAjB,GAA0BjJ,KAA1B,EAAd;WACOge,WAAW,CAACnrB,GAAD,CAAlB;;;MAGIsrB,uBAAuB,GAAG,SAA1BA,uBAA0B,CAACnoB,KAAD,EAAW;QACrC,CAACgoB,WAAW,CAACnrB,GAAD,CAAZ,IAAqB,CAACmrB,WAAW,CAACnrB,GAAD,CAAX,CAAiB8oB,QAAjB,CAA0B3lB,KAA1B,CAA1B,EAA4D;MAC1DmnB,qBAAqB,CAAC;QACpBtqB,GAAG,EAAHA,GADoB;QAEpBmD,KAAK,EAALA,KAFoB;QAGpBuW,UAAU,EAAEyR,WAHQ;QAIpB/Q,GAAG,EAAEmQ,QAJe;QAKpB1Y,EAAE,EAAEkY;OALe,CAArB;;GAFJ;;MAYMwB,MAAM,GAAGzrB,MAAM,CAACgS,IAAP,CAAYuY,WAAZ,CAAf;;OACK,IAAI5qB,GAAC,GAAG,CAAR,EAAWkK,KAAG,GAAG4hB,MAAM,CAAC1sB,MAA7B,EAAqCY,GAAC,GAAGkK,KAAzC,EAA8ClK,GAAC,EAA/C,EAAmD;IACjDO,GAAG,GAAGurB,MAAM,CAAC9rB,GAAD,CAAZ;IACA4qB,WAAW,CAACrqB,GAAD,CAAX,CAAiB2O,OAAjB,CAAyB2c,uBAAzB;;;EAGFZ,OAAO,GAAGhc,IAAI,CAAC0c,MAAD,EAASb,QAAT,CAAd;EACAE,KAAK,GAAG/b,IAAI,CAAC6b,QAAD,EAAWa,MAAX,CAAZ;SAEO,CAACX,KAAD,EAAQC,OAAR,CAAP;;;AAIF,SAASc,YAAT,CAAsBhV,KAAtB,EAA6BiV,OAA7B,EAAsC;MAChC,CAAC3rB,MAAM,CAACgS,IAAP,CAAY2Z,OAAZ,EAAqB5sB,MAA1B,EAAkC;WACzB2X,KAAP;;;MAEIsO,GAAG,GAAGtO,KAAK,CAAC3X,MAAlB;MACM6sB,GAAG,GAAGhrB,KAAK,CAACokB,GAAD,CAAjB;;OACK,IAAIrlB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqlB,GAApB,EAAyBrlB,CAAC,EAA1B,EAA8B;IAC5BisB,GAAG,CAACjsB,CAAD,CAAH,GAAS+W,KAAK,CAAC/W,CAAD,CAAL,CAASO,GAAT,IAAgByrB,OAAhB,GAA0BniB,MAAM,CAAC,EAAD,EAAKkN,KAAK,CAAC/W,CAAD,CAAV,EAAe;MAAEO,GAAG,EAAEyrB,OAAO,CAACjV,KAAK,CAAC/W,CAAD,CAAL,CAASO,GAAV;KAA7B,CAAhC,GAAiFwW,KAAK,CAAC/W,CAAD,CAA/F;;;SAEKisB,GAAP;;;AAGF,SAASC,SAAT,CAAmBC,QAAnB,EAA6BpV,KAA7B,EAAoCiV,OAApC,EAA6C;MACrCC,GAAG,GAAGF,YAAY,CAAChV,KAAD,EAAQiV,OAAR,CAAxB;SACOG,QAAQ,IAAIA,QAAQ,CAAC/sB,MAArB,GAA8B+sB,QAAQ,CAACC,MAAT,CAAgB,UAAC1oB,KAAD,EAAQ2oB,WAAR;WAAwBA,WAAW,CAAC3oB,KAAD,CAAnC;GAAhB,EAA4DuoB,GAA5D,CAA9B,GAAiGA,GAAxG;;;AAGF,SAASK,WAAT,CAAqB3uB,CAArB,EAAwB;SACfA,CAAC,CAACkB,OAAF,CAAU,WAAV,EAAuB,UAAC0tB,EAAD;WAAQA,EAAE,CAACC,WAAH,GAAiB3tB,OAAjB,CAAyB,GAAzB,EAA8B,EAA9B,CAAR;GAAvB,CAAP;;;AAGF,SAAS4tB,WAAT,CAAqB9uB,CAArB,EAAwB;SACfA,CAAC,CAACkB,OAAF,CAAU,UAAV,EAAsB,UAAC0tB,EAAD;sBAAYA,EAAE,CAACttB,WAAH,EAAZ;GAAtB,CAAP;;;AAGF,SAASytB,WAAT,CAAqB3V,KAArB,EAA4B4V,MAA5B,SAMG;MALDvC,MAKC,SALDA,MAKC;MAJDwC,YAIC,SAJDA,YAIC;MAHDC,EAGC,SAHDA,EAGC;MAFDb,OAEC,SAFDA,OAEC;MADDc,WACC,SADDA,WACC;MACKC,KAAK,aAAMJ,MAAN,WAAX;MACMV,GAAG,GAAGC,SAAS,CAACU,YAAY,CAACG,KAAD,CAAb,EAAsBhW,KAAtB,EAA6BiV,OAA7B,CAArB;MACIvB,OAAO,GAAG,KAAd;EACAwB,GAAG,CAAC/c,OAAJ,CAAY,UAACqK,IAAD,EAAU;QACdhZ,GAAG,GAAGgZ,IAAI,CAAChZ,GAAjB;;QACI,CAAC6pB,MAAM,CAAC7pB,GAAD,CAAX,EAAkB;MAChB6pB,MAAM,CAAC7pB,GAAD,CAAN,GAAcssB,EAAE,CAACC,WAAW,CAACE,OAAZ,CAAoBzsB,GAApB,KAA4BusB,WAAW,CAACxZ,OAAzC,CAAhB;;;QAEEqZ,MAAM,KAAK,KAAf,EAAsB;MACpBlC,OAAO,GAAGL,MAAM,CAAC7pB,GAAD,CAAN,CAAYosB,MAAZ,EAAoBpT,IAAI,CAAC6Q,MAAL,IAAe7Q,IAAI,CAACD,KAAxC,KAAkDmR,OAA5D;KADF,MAEO;UACCwC,WAAW,GAAG1T,IAAI,CAAC6Q,MAAL,IAAe,CAAC7Q,IAAI,CAACD,KAAN,CAAnC;;WACK,IAAItZ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGitB,WAAW,CAAC7tB,MAAhC,EAAwCY,CAAC,EAAzC,EAA6C;QAC3CyqB,OAAO,GAAGL,MAAM,CAAC7pB,GAAD,CAAN,CAAYosB,MAAZ,EAAoBM,WAAW,CAACjtB,CAAD,CAA/B,KAAuCyqB,OAAjD;;;GAVN;SAeOA,OAAP;;;AAGF,AAAe,SAASyC,KAAT,GAGP;kFAAJ,EAAI;uBAFN5C,EAEM;MAFNA,EAEM,yBAFDD,eAEC;uBADNwC,EACM;MADNA,EACM,yBADDrD,eACC;;MACF2D,SAAS,GAAG,KAAhB;MACI/C,MAAM,GAAG,EAAb;MACIzT,MAAM,GAAG,EAAb;MACIqV,OAAO,GAAG,EAAd;MACIc,WAAW,GAAG;IAChBE,OAAO,EAAE,EADO;IAEhB1Z,OAAO,EAAEzJ,MAAM,CAAC,EAAD,EAAK0gB,oBAAL;GAFjB;MAIMqC,YAAY,GAAG;IACnBQ,SAAS,EAAE,EADQ;IAEnBC,YAAY,EAAE,EAFK;IAGnBC,YAAY,EAAE,EAHK;IAInBC,SAAS,EAAE,EAJQ;IAKnBC,SAAS,EAAE,EALQ;IAMnBC,SAAS,EAAE,EANQ;IAOnBC,YAAY,EAAE,EAPK;IAQnBC,YAAY,EAAE;GARhB;;MAWMnF,QAAQ,GAAG,SAAXA,QAAW,GAAM;QACfoF,KAAK,GAAG;MACZjX,MAAM,EAAE,EADI;MAEZyT,MAAM,EAAE;KAFV;IAIA/pB,MAAM,CAACgS,IAAP,CAAYsE,MAAZ,EAAoBzH,OAApB,CAA4B,UAAC3O,GAAD,EAAS;MAAEqtB,KAAK,CAACjX,MAAN,CAAapW,GAAb,IAAoBoW,MAAM,CAACpW,GAAD,CAAN,CAAYoW,MAAZ,EAApB;KAAvC;IACAtW,MAAM,CAACgS,IAAP,CAAY+X,MAAZ,EAAoBlb,OAApB,CAA4B,UAAC3O,GAAD,EAAS;MAAEqtB,KAAK,CAACxD,MAAN,CAAa7pB,GAAb,IAAoB6pB,MAAM,CAAC7pB,GAAD,CAAN,CAAY6pB,MAAZ,EAApB;KAAvC;WACOwD,KAAP;GAPF;;MAUMC,KAAK,GAAG;IACZC,EAAE,EAAE,EADQ;IAEZ9D,KAFY,mBAEJ;WACD8D,EAAL,CAAQ5e,OAAR,CAAgB,UAACtB,CAAD;eAAOA,CAAC,CAACoc,KAAF,EAAP;OAAhB;KAHU;IAKZ/lB,KALY,mBAKJ;WACD6pB,EAAL,CAAQ5e,OAAR,CAAgB,UAACtB,CAAD;eAAOA,CAAC,CAAC3J,KAAF,EAAP;OAAhB;KANU;IAQZC,GARY,iBAQN;WACC4pB,EAAL,CAAQ5e,OAAR,CAAgB,UAACtB,CAAD;eAAOA,CAAC,CAAC1J,GAAF,EAAP;OAAhB;KATU;IAWZokB,MAXY,oBAWH;UACD3qB,CAAC,GAAG6qB,QAAQ,EAAlB;WACKsF,EAAL,CAAQ5e,OAAR,CAAgB,UAACtB,CAAD;eAAOA,CAAC,CAACmgB,MAAF,CAASpwB,CAAT,CAAP;OAAhB;KAbU;IAeZqwB,YAfY,0BAeG;UACPrwB,CAAC,GAAG6qB,QAAQ,EAAlB;WACKsF,EAAL,CAAQ5e,OAAR,CAAgB,UAACtB,CAAD;eAAOA,CAAC,CAACmgB,MAAF,CAAS;UAC9BpX,MAAM,EAAEhZ,CAAC,CAACgZ;SADW,CAAP;OAAhB;KAjBU;IAqBZsX,YArBY,0BAqBG;UACPtwB,CAAC,GAAG6qB,QAAQ,EAAlB;WACKsF,EAAL,CAAQ5e,OAAR,CAAgB,UAACtB,CAAD;eAAOA,CAAC,CAACmgB,MAAF,CAAS;UAC9B3D,MAAM,EAAEzsB,CAAC,CAACysB;SADW,CAAP;OAAhB;;GAvBJ;;;;;;;MAkCMhY,EAAE,GAAG,EAAX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAmCAA,EAAE,CAACqX,SAAH,GAAe,YAAiB;QAAhB/d,MAAgB,uEAAP,EAAO;;QAC1BzK,KAAK,CAACC,OAAN,CAAcwK,MAAM,CAAC0e,MAArB,KAAgC1e,MAAM,CAAC0e,MAAP,CAAchrB,MAAlD,EAA0D;MACxD0tB,WAAW,GAAG;QACZE,OAAO,EAAE,EADG;QAEZ1Z,OAAO,EAAEzJ,MAAM,CAAC,EAAD,EAAK0gB,oBAAL;OAFjB;MAKA7e,MAAM,CAAC0e,MAAP,CAAclb,OAAd,CAAsB,UAACuL,GAAD,EAAS;YACvBnd,CAAC,GAAG,EAAV;QACA+C,MAAM,CAACgS,IAAP,CAAYkY,oBAAZ,EACGzc,MADH,CACU,UAACogB,IAAD;iBAAUA,IAAI,KAAK,KAAnB;SADV,EAEGhf,OAFH,CAEW,UAACgf,IAAD,EAAU;UACjB5wB,CAAC,CAAC4wB,IAAD,CAAD,GAAU,OAAOzT,GAAG,CAACyT,IAAD,CAAV,KAAqB,WAArB,GAAmCzT,GAAG,CAACyT,IAAD,CAAtC,GAA+C3D,oBAAoB,CAAC2D,IAAD,CAA7E;SAHJ;;YAMI,OAAOzT,GAAG,CAACla,GAAX,KAAmB,WAAvB,EAAoC;UAClCusB,WAAW,CAACE,OAAZ,CAAoBvS,GAAG,CAACla,GAAxB,IAA+BjD,CAA/B;SADF,MAEO;UACLwvB,WAAW,CAACxZ,OAAZ,GAAsBhW,CAAtB;;OAXJ;MAeA+C,MAAM,CAACgS,IAAP,CAAY+X,MAAZ,EAAoBlb,OAApB,CAA4B,UAAC3O,GAAD;eAAS6pB,MAAM,CAAC7pB,GAAD,CAAN,CAAYkpB,SAAZ,CAAsBqD,WAAW,CAACE,OAAZ,CAAoBzsB,GAApB,KAA4BusB,WAAW,CAACxZ,OAA9D,CAAT;OAA5B,EArBwD;;MAwBxDlB,EAAE,CAACiW,IAAH,CAAQ,QAAR,EAAkB,EAAlB,EAAsB,EAAtB;;GAzBJ;;;;;;;;;EAmCAjW,EAAE,CAAC+b,IAAH,GAAU,UAACruB,MAAD,EAAY;QAChBsS,EAAE,KAAKtS,MAAX,EAAmB;YACX,IAAIgQ,KAAJ,CAAU,qBAAV,CAAN;;;IAEF+d,KAAK,CAACC,EAAN,CAASzuB,IAAT,CAAcS,MAAd;;IACAA,MAAM,CAACiuB,MAAP,CAAcvF,QAAQ,EAAtB;GALF;;EAQApW,EAAE,CAAC2b,MAAH,GAAY,UAACpwB,CAAD,EAAO;QACb,CAACA,CAAL,EAAQ;aACC6qB,QAAQ,EAAf;;;QAEE7qB,CAAC,CAACgZ,MAAN,EAAc;UACN9V,GAAG,GAAG,EAAZ;MACAR,MAAM,CAACgS,IAAP,CAAY1U,CAAC,CAACgZ,MAAd,EAAsBzH,OAAtB,CAA8B,UAAC3O,GAAD,EAAS;YACjC,CAACoW,MAAM,CAACpW,GAAD,CAAP,IAAgB5C,CAAC,CAACgZ,MAAF,CAASpW,GAAT,EAAcoZ,IAAd,CAAmB,GAAnB,MAA4BhD,MAAM,CAACpW,GAAD,CAAN,CAAYgB,QAAZ,EAAhD,EAAwE;UACtEV,GAAG,CAACxB,IAAJ,CAAS;YACPkB,GAAG,EAAHA,GADO;YAEPoW,MAAM,EAAEhZ,CAAC,CAACgZ,MAAF,CAASpW,GAAT;WAFV;;OAFJ;MAQAF,MAAM,CAACgS,IAAP,CAAYsE,MAAZ,EAAoBzH,OAApB,CAA4B,UAAC3O,GAAD,EAAS;YAC/B,CAAC5C,CAAC,CAACgZ,MAAF,CAASpW,GAAT,CAAL,EAAoB;UAClBM,GAAG,CAACxB,IAAJ,CAAS;YACPkB,GAAG,EAAHA,GADO;YAEPoW,MAAM,EAAE;WAFV;;OAFJ;;UAQI9V,GAAG,CAACzB,MAAR,EAAgB;QACdgT,EAAE,CAACmb,SAAH,CAAa1sB,GAAb;;;;QAGAlD,CAAC,CAACysB,MAAN,EAAc;UACNvpB,IAAG,GAAG,EAAZ;MACAR,MAAM,CAACgS,IAAP,CAAY1U,CAAC,CAACysB,MAAd,EAAsBlb,OAAtB,CAA8B,UAAC3O,GAAD,EAAS;YACjC,CAAC6pB,MAAM,CAAC7pB,GAAD,CAAP,IAAgB5C,CAAC,CAACysB,MAAF,CAAS7pB,GAAT,EAAcoZ,IAAd,CAAmB,GAAnB,MAA4ByQ,MAAM,CAAC7pB,GAAD,CAAN,CAAYgB,QAAZ,EAAhD,EAAwE;UACtEV,IAAG,CAACxB,IAAJ,CAAS;YACPkB,GAAG,EAAHA,GADO;YAEP6pB,MAAM,EAAEzsB,CAAC,CAACysB,MAAF,CAAS7pB,GAAT;WAFV;;OAFJ;MAQAF,MAAM,CAACgS,IAAP,CAAY+X,MAAZ,EAAoBlb,OAApB,CAA4B,UAAC3O,GAAD,EAAS;YAC/B,CAAC5C,CAAC,CAACysB,MAAF,CAAS7pB,GAAT,CAAL,EAAoB;UAClBM,IAAG,CAACxB,IAAJ,CAAS;YACPkB,GAAG,EAAHA,GADO;YAEP6pB,MAAM,EAAE;WAFV;;OAFJ;;UAQIvpB,IAAG,CAACzB,MAAR,EAAgB;QACdgT,EAAE,CAACqb,SAAH,CAAa5sB,IAAb;;;;WAGGwG,SAAP;GAhDF;;;;;;;;;EAyDA+K,EAAE,CAACnO,KAAH,GAAW,YAAM;QACX,CAACkpB,SAAL,EAAgB;MACdA,SAAS,GAAG,IAAZ;MACA/a,EAAE,CAACiW,IAAH,CAAQ,OAAR;MACAwF,KAAK,CAAC5pB,KAAN;;GAJJ;;;;;;;;;EAcAmO,EAAE,CAAClO,GAAH,GAAS,YAAM;QACT,CAACipB,SAAL,EAAgB;;;;IAGhBA,SAAS,GAAG,KAAZ;IACA/C,MAAM,GAAG,EAAT;IACAzT,MAAM,GAAG,EAAT;IACAvE,EAAE,CAACiW,IAAH,CAAQ,KAAR;IACAwF,KAAK,CAAC3pB,GAAN;GARF;;;;;;;;;EAiBAkO,EAAE,CAACgc,QAAH,GAAc;WAAMjB,SAAN;GAAd;;;;;;EAKA/a,EAAE,CAAC4X,KAAH,GAAW,YAAM;QACTiB,OAAO,GAAG7Y,EAAE,CAACic,OAAH,GAAavgB,MAAb,CAAoB,UAACF,CAAD;aAAOA,CAAC,CAAC5O,IAAF,KAAW,OAAX,IAAsB4O,CAAC,CAACsf,KAAF,CAAQvW,MAAR,GAAiBvX,MAA9C;KAApB,EAA0Ef,GAA1E,CAA8E,UAACuP,CAAD;aAAQ;QAAE2I,EAAE,EAAE3I,CAAC,CAAC2I,EAAR;QAAYI,MAAM,EAAE/I,CAAC,CAACsf,KAAF,CAAQvW,MAAR;OAA5B;KAA9E,CAAhB;QACM2X,UAAU,GAAGjuB,MAAM,CAACgS,IAAP,CAAY+X,MAAZ,EAAoBhrB,MAApB,GAA6B,CAA7B,IAAkC6rB,OAAO,CAAC7rB,MAA7D;IACAgrB,MAAM,GAAG,EAAT;IACAzT,MAAM,GAAG,EAAT;;QACI2X,UAAJ,EAAgB;MACdlc,EAAE,CAACiW,IAAH,CAAQ,QAAR,EAAkB,EAAlB,EAAsB4C,OAAtB,EADc;;MAEd4C,KAAK,CAAC7D,KAAN;;GAPJ;;;;;;;EAeA5X,EAAE,CAACic,OAAH,GAAa,YAAM;QACbE,MAAM,GAAG,EAAb;IACAA,MAAM,GAAGA,MAAM,CAACjvB,MAAP,CAAce,MAAM,CAACgS,IAAP,CAAY+X,MAAZ,EAAoB/rB,GAApB,CAAwB,UAACkC,GAAD;aAAU;QACvDvB,IAAI,EAAE,OADiD;QAEvDuX,EAAE,EAAEhW,GAFmD;QAGvD2sB,KAAK,EAAE9C,MAAM,CAAC7pB,GAAD;OAHgC;KAAxB,CAAd,CAAT;IAMAguB,MAAM,GAAGA,MAAM,CAACjvB,MAAP,CAAce,MAAM,CAACgS,IAAP,CAAYsE,MAAZ,EAAoBtY,GAApB,CAAwB,UAACkC,GAAD;aAAU;QACvDvB,IAAI,EAAE,OADiD;QAEvDuX,EAAE,EAAEhW,GAFmD;QAGvD2sB,KAAK,EAAEvW,MAAM,CAACpW,GAAD;OAHgC;KAAxB,CAAd,CAAT;WAMOguB,MAAP;GAdF;;;;;;;;;;;;;;;;;EA+BAnc,EAAE,CAACoc,QAAH,GAAc,UAACjuB,GAAD,EAAMmD,KAAN,EAAgB;IAC5B0O,EAAE,CAACgb,SAAH,CAAa,CAAC;MAAE7sB,GAAG,EAAHA,GAAF;MAAOmD,KAAK,EAALA;KAAR,CAAb;GADF;;;;;;EAOA0O,EAAE,CAACgb,SAAH,GAAe,UAACrW,KAAD,EAAW;QAClBkV,GAAG,GAAGC,SAAS,CAACU,YAAY,CAACQ,SAAd,EAAyBrW,KAAzB,EAAgCiV,OAAhC,CAArB;QACMhB,KAAK,GAAGzX,GAAG,CAAC;MAChB+W,EAAE,EAAFA,EADgB;MAEhBrQ,UAAU,EAAEtD,MAFI;MAGhBI,KAAK,EAAEkV;KAHQ,CAAjB;IAMA7Z,EAAE,CAACiW,IAAH,CAAQ,YAAR,EAAsB4D,GAAtB;;QAEIjB,KAAK,CAAC5rB,MAAV,EAAkB;UACZ,CAAC+tB,SAAL,EAAgB;QACdA,SAAS,GAAG,IAAZ;QACA/a,EAAE,CAACiW,IAAH,CAAQ,OAAR;;;MAEFjW,EAAE,CAACiW,IAAH,CAAQ,QAAR,EAAkB2C,KAAlB,EAAyB,EAAzB;MACA6C,KAAK,CAACG,YAAN;;GAhBJ;;;;;;EAuBA5b,EAAE,CAACmb,SAAH,GAAe,UAACxW,KAAD,EAAW;QAClBkV,GAAG,GAAGC,SAAS,CAACU,YAAY,CAACW,SAAd,EAAyBxW,KAAzB,EAAgCiV,OAAhC,CAArB;QACMvB,OAAO,GAAGV,KAAG,CAAC;MAClBhT,KAAK,EAAEkV,GADW;MAElBP,WAAW,EAAE/U,MAFK;MAGlB2T,EAAE,EAAFA;KAHiB,CAAnB;IAMAlY,EAAE,CAACiW,IAAH,CAAQ,YAAR,EAAsB4D,GAAtB;;QAEIxB,OAAO,CAAC,CAAD,CAAP,CAAWrrB,MAAX,GAAoB,CAApB,IAAyBqrB,OAAO,CAAC,CAAD,CAAP,CAAWrrB,MAAX,GAAoB,CAAjD,EAAoD;UAC9C,CAAC+tB,SAAL,EAAgB;QACdA,SAAS,GAAG,IAAZ;QACA/a,EAAE,CAACiW,IAAH,CAAQ,OAAR;;;MAEFjW,EAAE,CAACiW,IAAH,CAAQ,QAAR,EAAkBoC,OAAO,CAAC,CAAD,CAAzB,EAA8BA,OAAO,CAAC,CAAD,CAArC;MACAoD,KAAK,CAACG,YAAN;;GAhBJ;;;;;;;;;;;;;EA8BA5b,EAAE,CAACqc,WAAH,GAAiB,UAACluB,GAAD,EAAMmD,KAAN,EAAgB;IAC/B0O,EAAE,CAACib,YAAH,CAAgB,CAAC;MAAE9sB,GAAG,EAAHA,GAAF;MAAOmD,KAAK,EAALA;KAAR,CAAhB;GADF;;;;;;EAOA0O,EAAE,CAACib,YAAH,GAAkB,UAACtW,KAAD,EAAW;QACrBkV,GAAG,GAAGC,SAAS,CAACU,YAAY,CAACS,YAAd,EAA4BtW,KAA5B,EAAmCiV,OAAnC,CAArB;QACMf,OAAO,GAAGzX,MAAM,CAAC;MACrByG,UAAU,EAAEtD,MADS;MAErBI,KAAK,EAAEkV;KAFa,CAAtB;IAKA7Z,EAAE,CAACiW,IAAH,CAAQ,eAAR,EAAyB4D,GAAzB;;QAEIhB,OAAO,CAAC7rB,MAAZ,EAAoB;MAClBgT,EAAE,CAACiW,IAAH,CAAQ,QAAR,EAAkB,EAAlB,EAAsB4C,OAAtB;MACA4C,KAAK,CAACG,YAAN,GAFkB;;GATtB;;;;;;;;;;;;EAyBA5b,EAAE,CAACsc,kBAAH,GAAwB,UAACC,QAAD,EAAWC,WAAX,EAA2B;QAC3CC,MAAM,GAAG3C,SAAS,CAACU,YAAY,CAACQ,SAAd,EAAyBuB,QAAzB,EAAmC3C,OAAnC,CAAxB;QACM8C,SAAS,GAAG5C,SAAS,CAACU,YAAY,CAACS,YAAd,EAA4BuB,WAA5B,EAAyC5C,OAAzC,CAA3B;QACMhB,KAAK,GAAGzX,GAAG,CAAC;MAChB+W,EAAE,EAAFA,EADgB;MAEhBrQ,UAAU,EAAEtD,MAFI;MAGhBI,KAAK,EAAE8X;KAHQ,CAAjB;QAKM5D,OAAO,GAAGzX,MAAM,CAAC;MACrByG,UAAU,EAAEtD,MADS;MAErBI,KAAK,EAAE+X;KAFa,CAAtB;IAKA1c,EAAE,CAACiW,IAAH,CAAQ,YAAR,EAAsBwG,MAAtB;IACAzc,EAAE,CAACiW,IAAH,CAAQ,eAAR,EAAyByG,SAAzB;;QAEI9D,KAAK,CAAC5rB,MAAN,IAAgB6rB,OAAO,CAAC7rB,MAA5B,EAAoC;UAC9B,CAAC+tB,SAAL,EAAgB;QACdA,SAAS,GAAG,IAAZ;QACA/a,EAAE,CAACiW,IAAH,CAAQ,OAAR;;;MAEFjW,EAAE,CAACiW,IAAH,CAAQ,QAAR,EAAkB2C,KAAlB,EAAyBC,OAAzB;MACA4C,KAAK,CAACG,YAAN;;GAtBJ;;;;;;;;;;;;;EAoCA5b,EAAE,CAAC2c,WAAH,GAAiB,UAACxuB,GAAD,EAAMmD,KAAN,EAAgB;IAC/B0O,EAAE,CAACkb,YAAH,CAAgB,CAAC;MAAE/sB,GAAG,EAAHA,GAAF;MAAOmD,KAAK,EAALA;KAAR,CAAhB;GADF;;;;;;EAOA0O,EAAE,CAACkb,YAAH,GAAkB,UAACvW,KAAD,EAAW;QACrBkV,GAAG,GAAGC,SAAS,CAACU,YAAY,CAACU,YAAd,EAA4BvW,KAA5B,EAAmCiV,OAAnC,CAArB;QACMgD,OAAO,GAAG7E,MAAM,CAAC;MACrBpT,KAAK,EAAEkV,GADc;MAErBtV,MAAM,EAANA,MAFqB;MAGrB2T,EAAE,EAAFA;KAHoB,CAAtB;IAMAlY,EAAE,CAACiW,IAAH,CAAQ,eAAR,EAAyB4D,GAAzB;;QAEI+C,OAAO,CAAC,CAAD,CAAP,CAAW5vB,MAAX,GAAoB,CAApB,IAAyB4vB,OAAO,CAAC,CAAD,CAAP,CAAW5vB,MAAX,GAAoB,CAAjD,EAAoD;UAC9C,CAAC+tB,SAAL,EAAgB;QACdA,SAAS,GAAG,IAAZ;QACA/a,EAAE,CAACiW,IAAH,CAAQ,OAAR;;;MAEFjW,EAAE,CAACiW,IAAH,CAAQ,QAAR,EAAkB2G,OAAO,CAAC,CAAD,CAAzB,EAA8BA,OAAO,CAAC,CAAD,CAArC;MACAnB,KAAK,CAACG,YAAN;;GAhBJ;;;;;;;;;;;;;;;;;EAkCA5b,EAAE,CAAC6X,aAAH,GAAmB,UAAC1pB,GAAD,EAAMmD,KAAN,EAAgB;QAC7BqX,CAAC,GAAGiR,OAAO,CAACzrB,GAAD,CAAP,IAAgBA,GAAxB;;QACI,CAACoW,MAAM,CAACoE,CAAD,CAAX,EAAgB;aACP,KAAP;;;WAEKpE,MAAM,CAACoE,CAAD,CAAN,CAAUsO,QAAV,CAAmB3lB,KAAnB,CAAP;GALF;;;;;;;;;;;;;EAkBA0O,EAAE,CAAC6c,QAAH,GAAc,UAAC1uB,GAAD,EAAM+Y,KAAN,EAAgB;IAC5BlH,EAAE,CAACob,SAAH,CAAa,CAAC;MAAEjtB,GAAG,EAAHA,GAAF;MAAO+Y,KAAK,EAALA;KAAR,CAAb;GADF;;;;;;;;;EAUAlH,EAAE,CAACob,SAAH,GAAe,UAACzW,KAAD,EAAW;QAClB0T,OAAO,GAAGiC,WAAW,CAAC3V,KAAD,EAAQ,KAAR,EAAe;MACxCqT,MAAM,EAANA,MADwC;MAExCyC,EAAE,EAAFA,EAFwC;MAGxCD,YAAY,EAAZA,YAHwC;MAIxCZ,OAAO,EAAPA,OAJwC;MAKxCc,WAAW,EAAXA;KALyB,CAA3B;;QAQI,CAACrC,OAAL,EAAc;;;;QAIV,CAAC0C,SAAL,EAAgB;MACdA,SAAS,GAAG,IAAZ;MACA/a,EAAE,CAACiW,IAAH,CAAQ,OAAR;;;IAEFjW,EAAE,CAACiW,IAAH,CAAQ,QAAR,EAAkB,EAAlB,EAAsB,EAAtB;IACAwF,KAAK,CAACI,YAAN;GAlBF;;;;;;;;;;;EA6BA7b,EAAE,CAAC8c,WAAH,GAAiB,UAAC3uB,GAAD,EAAM+Y,KAAN,EAAgB;IAC/BlH,EAAE,CAACsb,YAAH,CAAgB,CAAC;MAAEntB,GAAG,EAAHA,GAAF;MAAO+Y,KAAK,EAALA;KAAR,CAAhB;GADF;;;;;;;EAQAlH,EAAE,CAACsb,YAAH,GAAkB,UAAC3W,KAAD,EAAW;QACrB0T,OAAO,GAAGiC,WAAW,CAAC3V,KAAD,EAAQ,QAAR,EAAkB;MAC3CqT,MAAM,EAANA,MAD2C;MAE3CyC,EAAE,EAAFA,EAF2C;MAG3CD,YAAY,EAAZA,YAH2C;MAI3CZ,OAAO,EAAPA,OAJ2C;MAK3Cc,WAAW,EAAXA;KALyB,CAA3B;;QAQI,CAACrC,OAAL,EAAc;;;;QAIV,CAAC0C,SAAL,EAAgB;MACdA,SAAS,GAAG,IAAZ;MACA/a,EAAE,CAACiW,IAAH,CAAQ,OAAR;;;IAEFjW,EAAE,CAACiW,IAAH,CAAQ,QAAR,EAAkB,EAAlB,EAAsB,EAAtB;IACAwF,KAAK,CAACI,YAAN;GAlBF;;;;;;;;;;;;;EA+BA7b,EAAE,CAAC+c,QAAH,GAAc,UAAC5uB,GAAD,EAAM+Y,KAAN,EAAgB;IAC5BlH,EAAE,CAACqb,SAAH,CAAa,CAAC;MAAEltB,GAAG,EAAHA,GAAF;MAAO+Y,KAAK,EAALA;KAAR,CAAb;GADF;;;;;;;EAQAlH,EAAE,CAACqb,SAAH,GAAe,UAAC1W,KAAD,EAAW;QAClB0T,OAAO,GAAGiC,WAAW,CAAC3V,KAAD,EAAQ,KAAR,EAAe;MACxCqT,MAAM,EAANA,MADwC;MAExCyC,EAAE,EAAFA,EAFwC;MAGxCD,YAAY,EAAZA,YAHwC;MAIxCZ,OAAO,EAAPA,OAJwC;MAKxCc,WAAW,EAAXA;KALyB,CAA3B;;QAQI,CAACrC,OAAL,EAAc;;;;QAIV,CAAC0C,SAAL,EAAgB;MACdA,SAAS,GAAG,IAAZ;MACA/a,EAAE,CAACiW,IAAH,CAAQ,OAAR;;;IAEFjW,EAAE,CAACiW,IAAH,CAAQ,QAAR,EAAkB,EAAlB,EAAsB,EAAtB;IACAwF,KAAK,CAACI,YAAN;GAlBF;;;;;;;;;;;;;;EAgCA7b,EAAE,CAACgd,WAAH,GAAiB,UAAC7uB,GAAD,EAAM+Y,KAAN,EAAgB;IAC/BlH,EAAE,CAACub,YAAH,CAAgB,CAAC;MAAEptB,GAAG,EAAHA,GAAF;MAAO+Y,KAAK,EAALA;KAAR,CAAhB;GADF;;;;;;;EAQAlH,EAAE,CAACub,YAAH,GAAkB,UAAC5W,KAAD,EAAW;QACrB0T,OAAO,GAAGiC,WAAW,CAAC3V,KAAD,EAAQ,QAAR,EAAkB;MAC3CqT,MAAM,EAANA,MAD2C;MAE3CyC,EAAE,EAAFA,EAF2C;MAG3CD,YAAY,EAAZA,YAH2C;MAI3CZ,OAAO,EAAPA,OAJ2C;MAK3Cc,WAAW,EAAXA;KALyB,CAA3B;;QAQI,CAACrC,OAAL,EAAc;;;;QAIV,CAAC0C,SAAL,EAAgB;MACdA,SAAS,GAAG,IAAZ;MACA/a,EAAE,CAACiW,IAAH,CAAQ,OAAR;;;IAEFjW,EAAE,CAACiW,IAAH,CAAQ,QAAR,EAAkB,EAAlB,EAAsB,EAAtB;IACAwF,KAAK,CAACI,YAAN;GAlBF;;;;;;;;;;;;;;;;EAkCA7b,EAAE,CAACid,kBAAH,GAAwB,UAAC9uB,GAAD,EAAMmD,KAAN,EAAgB;QAClCqX,CAAC,GAAGiR,OAAO,CAACzrB,GAAD,CAAP,IAAgBA,GAAxB;;QACI,CAAC6pB,MAAM,CAACrP,CAAD,CAAX,EAAgB;aACP,KAAP;;;WAEKqP,MAAM,CAACrP,CAAD,CAAN,CAAUkP,aAAV,CAAwBvmB,KAAxB,CAAP;GALF;;;;;;;;;;;;;;;;;;;EAwBA0O,EAAE,CAAC8X,aAAH,GAAmB,UAAC3pB,GAAD,EAAM+Y,KAAN,EAAgB;QAC7ByB,CAAC,GAAGiR,OAAO,CAACzrB,GAAD,CAAP,IAAgBA,GAAxB;;QACI,CAAC6pB,MAAM,CAACrP,CAAD,CAAX,EAAgB;aACP,KAAP;;;WAEKqP,MAAM,CAACrP,CAAD,CAAN,CAAUmP,aAAV,CAAwB5Q,KAAxB,CAAP;GALF;;EAQAlH,EAAE,CAACkd,kBAAH,GAAwB,UAACngB,CAAD,EAAIpP,KAAJ,EAAWwvB,IAAX,EAAoB;QACtCC,MAAM,GAAG,EAAb;QACMnd,IAAI,GAAGhS,MAAM,CAACgS,IAAP,CAAYlD,CAAZ,CAAb;QACI5O,GAAJ;QACIgZ,IAAJ;QACI/C,MAAJ;QACI9S,KAAJ;;SAEK,IAAI1D,CAAC,GAAG,CAAR,EAAWkK,GAAG,GAAGmI,IAAI,CAACjT,MAA3B,EAAmCY,CAAC,GAAGkK,GAAvC,EAA4ClK,CAAC,EAA7C,EAAiD;MAC/CO,GAAG,GAAG8R,IAAI,CAACrS,CAAD,CAAV;;UACIO,GAAG,KAAK,OAAZ,EAAqB;QACnBgZ,IAAI,GAAGpK,CAAP;QACAqgB,MAAM,CAACxvB,CAAD,CAAN,GAAY;UAAEO,GAAG,EAAE,EAAP;UAAWP,CAAC,EAADA,CAAX;UAAcyvB,IAAI,EAAE;SAAhC;OAFF,MAGO,IAAIlvB,GAAG,KAAK,QAAZ,EAAsB;;OAAtB,MAEA;QACLgZ,IAAI,GAAGpK,CAAC,CAAC5O,GAAD,CAAR;QACAivB,MAAM,CAACxvB,CAAD,CAAN,GAAY;UAAEO,GAAG,EAAHA,GAAF;UAAOP,CAAC,EAADA,CAAP;UAAUyvB,IAAI,EAAE;SAA5B;;;MAEFjZ,MAAM,GAAG+C,IAAI,CAAC/C,MAAL,IAAe+C,IAAI,CAAC/C,MAAL,CAAYK,KAApC;;UACI,OAAOL,MAAP,KAAkB,WAAtB,EAAmC;;;;UAG/B,OAAO+C,IAAI,CAAC/C,MAAL,CAAYjW,GAAnB,KAA2B,WAA/B,EAA4C;QAC1CiW,MAAM,aAAM+C,IAAI,CAAC/C,MAAL,CAAYjW,GAAlB,cAAyBiW,MAAzB,CAAN;;;UAGEA,MAAM,IAAIwV,OAAd,EAAuB;QACrBxV,MAAM,GAAGwV,OAAO,CAACxV,MAAD,CAAhB;;;MAGF9S,KAAK,GAAG6V,IAAI,CAAC7V,KAAb;;UACI0mB,MAAM,CAAC5T,MAAD,CAAV,EAAoB;QAClBgZ,MAAM,CAACxvB,CAAD,CAAN,CAAUyvB,IAAV,GAAiBxuB,KAAK,CAACC,OAAN,CAAcwC,KAAd,IAAuB0mB,MAAM,CAAC5T,MAAD,CAAN,CAAe0T,aAAf,CAA6B;UAAE9gB,GAAG,EAAE1F,KAAK,CAAC,CAAD,CAAZ;UAAiB2F,GAAG,EAAE3F,KAAK,CAAC,CAAD;SAAxD,CAAvB,GAAwF0mB,MAAM,CAAC5T,MAAD,CAAN,CAAeyT,aAAf,CAA6BvmB,KAA7B,CAAzG;OADF,MAEO,IAAIiT,MAAM,CAACH,MAAD,CAAN,IAAkBG,MAAM,CAACH,MAAD,CAAN,CAAe6S,QAAf,CAAwB3lB,KAAxB,CAAtB,EAAsD;QAC3D8rB,MAAM,CAACxvB,CAAD,CAAN,CAAUyvB,IAAV,GAAiB,IAAjB;;;;QAIA1vB,KAAJ,EAAW;MACTyvB,MAAM,GAAGA,MAAM,CAAC1hB,MAAP,CAAc,UAACF,CAAD;eAAO7N,KAAK,CAACgO,OAAN,CAAcH,CAAC,CAACrN,GAAhB,MAAyB,CAAC,CAAjC;OAAd,CAAT;;UACIgvB,IAAI,KAAK,KAAb,EAAoB;eACX,CAAC,CAACC,MAAM,CAACpwB,MAAT,IAAmB,CAACowB,MAAM,CAACjiB,IAAP,CAAY,UAAC5P,CAAD;iBAAOA,CAAC,CAAC8xB,IAAF,KAAW,KAAlB;SAAZ,CAA3B;;;UAEEF,IAAI,KAAK,KAAb,EAAoB;eACX,CAAC,CAACC,MAAM,CAACpwB,MAAT,IAAmBowB,MAAM,CAACjiB,IAAP,CAAY,UAAC5P,CAAD;iBAAOA,CAAC,CAAC8xB,IAAT;SAAZ,CAAnB,IAAiDD,MAAM,CAACjiB,IAAP,CAAY,UAAC5P,CAAD;iBAAOA,CAAC,CAAC8xB,IAAF,KAAW,KAAlB;SAAZ,CAAxD;OANO;;;aASFD,MAAM,CAACjiB,IAAP,CAAY,UAAC5P,CAAD;eAAOA,CAAC,CAAC8xB,IAAT;OAAZ,CAAP;;;WAEKD,MAAM,CAACjiB,IAAP,CAAY,UAAC5P,CAAD;aAAOA,CAAC,CAAC8xB,IAAT;KAAZ,CAAP;GAlDF;;;;;;;;;;;;;;EAgEArd,EAAE,CAAC8Z,SAAH,GAAe,UAACwD,IAAD,EAAOC,EAAP,EAAc;QACrBhyB,CAAC,GAAG2uB,WAAW,CAACoD,IAAD,CAArB;;QACI,CAAC9C,YAAY,CAACjvB,CAAD,CAAjB,EAAsB;;;;IAGtBivB,YAAY,CAACjvB,CAAD,CAAZ,CAAgB0B,IAAhB,CAAqBswB,EAArB;GALF;;;;;;;;;EAcAvd,EAAE,CAACwd,iBAAH,GAAuB,UAACF,IAAD,EAAOC,EAAP,EAAc;QAC7BhyB,CAAC,GAAG2uB,WAAW,CAACoD,IAAD,CAArB;;QACI,CAAC9C,YAAY,CAACjvB,CAAD,CAAjB,EAAsB;;;;QAGhB0pB,GAAG,GAAGuF,YAAY,CAACjvB,CAAD,CAAZ,CAAgBoQ,OAAhB,CAAwB4hB,EAAxB,CAAZ;;QACItI,GAAG,KAAK,CAAC,CAAb,EAAgB;MACduF,YAAY,CAACjvB,CAAD,CAAZ,CAAgB4B,MAAhB,CAAuB8nB,GAAvB,EAA4B,CAA5B;;GAPJ;;;;;;;;EAgBAjV,EAAE,CAACyd,qBAAH,GAA2B,UAACH,IAAD,EAAU;QAC7BI,QAAQ,GAAG,EAAjB;;QACIJ,IAAJ,EAAU;UACF/xB,CAAC,GAAG2uB,WAAW,CAACoD,IAAD,CAArB;;UACI9C,YAAY,CAACjvB,CAAD,CAAZ,IAAmBivB,YAAY,CAACjvB,CAAD,CAAZ,CAAgByB,MAAvC,EAA+C;QAC7C0wB,QAAQ,CAACzwB,IAAT,CAAc;UAAEqwB,IAAI,EAAJA,IAAF;UAAQvD,QAAQ,EAAES,YAAY,CAACjvB,CAAD;SAA5C;;KAHJ,MAKO;MACL0C,MAAM,CAACgS,IAAP,CAAYua,YAAZ,EAA0B1d,OAA1B,CAAkC,UAACkP,CAAD,EAAO;YACnCwO,YAAY,CAACxO,CAAD,CAAZ,CAAgBhf,MAApB,EAA4B;UAC1B0wB,QAAQ,CAACzwB,IAAT,CAAc;YAAEqwB,IAAI,EAAEjD,WAAW,CAACrO,CAAD,CAAnB;YAAwB+N,QAAQ,EAAES,YAAY,CAACxO,CAAD;WAA5D;;OAFJ;;;IAOF0R,QAAQ,CAAC5gB,OAAT,CAAiB,UAACygB,EAAD,EAAQ;UACjBI,mBAAmB,GAAGJ,EAAE,CAACxD,QAAH,CAAYze,KAAZ,EAA5B;MACAqiB,mBAAmB,CAAC7gB,OAApB,CAA4B,UAAC8gB,OAAD;eAAa5d,EAAE,CAACwd,iBAAH,CAAqBD,EAAE,CAACD,IAAxB,EAA8BM,OAA9B,CAAb;OAA5B;KAFF;GAfF;;;;;;;;;;;;;;EAgCA5d,EAAE,CAAC6d,WAAH,GAAiB,UAAC1vB,GAAD,EAAM2vB,KAAN,EAAgB;IAC/BlE,OAAO,CAACzrB,GAAD,CAAP,GAAe2vB,KAAf;GADF;;;;;;;;;;;;;EAcA9d,EAAE,CAAC+d,cAAH,GAAoB,UAAC5vB,GAAD,EAAS;WACpByrB,OAAO,CAACzrB,GAAD,CAAd;GADF;;EAIAwnB,cAAY,CAACD,KAAb,CAAmB1V,EAAnB;SAEOA,EAAP;;;ACvlCF,IAAMc,GAAG,GAAGU,eAAQ,EAApB;;ACKO,SAAS,UAAU,CAAC,CAAC,EAAE;EAC5B,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;CAC/D;;ACVD,IAAIpB,KAAG,GAAG,CAAC,GAAG,IAAI,CAAC,EAAE;IACjB,SAAS,GAAG,CAAC;IACb,MAAM,GAAG,GAAG,CAAC;AACjB,AAaA;AACA,AAAO,IAAI,UAAU,GAAG,CAAC,SAAS,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE;EAC7C,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAIA,KAAG,CAAC,CAAC;;EAEzD,SAAS,UAAU,CAAC,CAAC,EAAE;IACrB,OAAO,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;GACpE;;EAED,UAAU,CAAC,SAAS,GAAG,SAAS,CAAC,EAAE,EAAE,OAAO,MAAM,CAAC,CAAC,EAAE,CAAC,GAAGA,KAAG,CAAC,CAAC,EAAE,CAAC;EAClE,UAAU,CAAC,MAAM,GAAG,SAAS,CAAC,EAAE,EAAE,OAAO,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;;EAEzD,OAAO,UAAU,CAAC;CACnB,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC;;ACrBtB;;AAEA,SAAS4d,MAAT,CAAgB/M,IAAhB,EAAsBrjB,CAAtB,EAAyB;MACnBqjB,IAAI,CAAC5kB,IAAT,EAAe;WACN4kB,IAAI,CAAC5kB,IAAL,CAAUiF,KAAjB;;;MAEE2f,IAAI,CAACrkB,IAAL,KAAc,MAAlB,EAA0B;WACjBqkB,IAAI,CAACgN,IAAZ;;;SAEKrwB,CAAP;;;AAGF,SAASswB,KAAT,cAKG5kB,MALH,EAKW;MAJT4f,GAIS,QAJTA,GAIS;MAHTC,OAGS,QAHTA,OAGS;MADTgF,QACS,SADTA,QACS;MACLC,MAAJ,CADS;;MAGLC,WAAW,GAAG,EAAlB;MACIC,OAAO,GAAG;IAAEC,KAAK,EAAE,EAAT;IAAaC,GAAG,EAAE;GAAhC;MACIC,MAAM,GAAG;IAAEF,KAAK,EAAE,EAAT;IAAaC,GAAG,EAAE;GAA/B;MACIE,OAAO,GAAG;IAAEH,KAAK,EAAE,EAAT;IAAaC,GAAG,EAAE;GAAhC;MACIG,MAAM,GAAG,EAAb;MACMjO,OAAO,GAAGpX,MAAM,CAACoX,OAAP,IAAkBsN,MAAlC;MAEMY,OAAO,GAAG;IACd/sB,KADc,mBACN;UACFgtB,GAAG,GAAG,EAAV;MACA3F,GAAG,CAACpc,OAAJ,CAAY,UAACmU,IAAD,EAAOrjB,CAAP,EAAa;YACnBuW,EAAE,GAAGuM,OAAO,CAACO,IAAD,EAAOrjB,CAAP,CAAhB;QACAixB,GAAG,CAAC1a,EAAD,CAAH,GAAU8M,IAAV;OAFF;MAIAkI,OAAO,CAACrc,OAAR,CAAgB,UAACmU,IAAD,EAAOrjB,CAAP,EAAa;YACvBuW,EAAE,GAAGuM,OAAO,CAACO,IAAD,EAAOrjB,CAAP,CAAhB;;YACIixB,GAAG,CAAC1a,EAAD,CAAP,EAAa;UACXua,OAAO,CAACF,GAAR,CAAYvxB,IAAZ,CAAiB6xB,iBAAiB,CAACD,GAAG,CAAC1a,EAAD,CAAJ,EAAU8M,IAAV,CAAlC;UACAyN,OAAO,CAACH,KAAR,CAActxB,IAAd,CAAmBgkB,IAAnB;UACAoN,WAAW,CAACpxB,IAAZ,CAAiB4xB,GAAG,CAAC1a,EAAD,CAApB;UACA0a,GAAG,CAAC1a,EAAD,CAAH,GAAU,KAAV;SAJF,MAKO;UACLma,OAAO,CAACC,KAAR,CAActxB,IAAd,CAAmBgkB,IAAnB;UACAqN,OAAO,CAACE,GAAR,CAAYvxB,IAAZ,CAAiB6xB,iBAAiB,CAAC;YACjCltB,CAAC,EAAE,KAD8B;YAEjCmtB,OAAO,EAAE;WAFuB,EAG/B9N,IAH+B,CAAlC;;OATJ;MAeAhjB,MAAM,CAACgS,IAAP,CAAY4e,GAAZ,EAAiB/hB,OAAjB,CAAyB,UAAC3O,GAAD,EAAS;YAC5B0wB,GAAG,CAAC1wB,GAAD,CAAP,EAAc;UACZswB,MAAM,CAACF,KAAP,CAAatxB,IAAb,CAAkB4xB,GAAG,CAAC1wB,GAAD,CAArB;UACAswB,MAAM,CAACD,GAAP,CAAWvxB,IAAX,CAAgB6xB,iBAAiB,CAACD,GAAG,CAAC1wB,GAAD,CAAJ,EAAWsJ,MAAM,CAAC,EAAD,EAAKonB,GAAG,CAAC1wB,GAAD,CAAR,EAAe;YAAEyD,CAAC,EAAE,MAAL;YAAamtB,OAAO,EAAE;WAArC,CAAjB,CAAjC;;OAHJ;;UAMIN,MAAM,CAACD,GAAP,CAAWxxB,MAAf,EAAuB;QACrB2xB,MAAM,CAAC1xB,IAAP,CAAY;UACV+xB,MAAM,EAAEC,UADE;UAEVC,QAAQ,EAAE,GAFA;UAGVC,MAAM,EAAEV,MAAM,CAACD,GAHL;UAIVD,KAAK,YAAMF,WAAN;SAJP;;;UAOEK,OAAO,CAACF,GAAR,CAAYxxB,MAAhB,EAAwB;QACtB2xB,MAAM,CAAC1xB,IAAP,CAAY;UACV+xB,MAAM,EAAEC,UADE;UAEVC,QAAQ,EAAE,GAFA;UAGVC,MAAM,EAAET,OAAO,CAACF,GAHN;UAIVD,KAAK,EAAE;SAJT;;;UAOED,OAAO,CAACE,GAAR,CAAYxxB,MAAhB,EAAwB;QACtB2xB,MAAM,CAAC1xB,IAAP,CAAY;UACV+xB,MAAM,EAAEI,UADE;UAEVF,QAAQ,EAAE,IAFA;UAGVC,MAAM,EAAEb,OAAO,CAACE,GAHN;UAIVD,KAAK,uBAAMG,OAAO,CAACH,KAAd;SAJP;OA5CI;;;UAoDFI,MAAM,CAAC3xB,MAAX,EAAmB;QACjB2xB,MAAM,CAAC,CAAD,CAAN,CAAUU,OAAV,GAAoBrgB,IAAI,CAACC,GAAL,EAApB;;YACI,OAAO1P,MAAP,KAAkB,WAAtB,EAAmC;UACjC6uB,MAAM,GAAG7uB,MAAM,CAAC+vB,qBAAP,CAA6BV,OAAO,CAAChT,IAArC,CAAT;;;KAxDQ;IA4DdA,IA5Dc,kBA4DP;UACD2T,YAAY,GAAGZ,MAAM,CAAC,CAAD,CAAzB;;UACI,CAACY,YAAL,EAAmB;QACjBX,OAAO,CAACY,IAAR;;;UAEE,CAACD,YAAY,CAACF,OAAlB,EAA2B;QACzBE,YAAY,CAACF,OAAb,GAAuBrgB,IAAI,CAACC,GAAL,EAAvB;;;UAEEzT,CAAC,GAAG,CAACwT,IAAI,CAACC,GAAL,KAAasgB,YAAY,CAACF,OAA3B,IAAsCE,YAAY,CAACL,QAA3D;UACIO,YAAY,GAAG,EAAnB;UACIC,YAAY,GAAGH,YAAY,CAACJ,MAAb,CAAoBlzB,GAApB,CAAwB,UAAC0zB,EAAD;eAAQA,EAAE,CAACJ,YAAY,CAACP,MAAb,CAAoBxuB,IAAI,CAACwG,GAAL,CAAS,CAAT,EAAYxL,CAAZ,CAApB,CAAD,CAAV;OAAxB,CAAnB;MACAi0B,YAAY,CAACxyB,IAAb,OAAAwyB,YAAY,uBAASC,YAAT,EAAZ;MACAD,YAAY,CAACxyB,IAAb,OAAAwyB,YAAY,uBAASF,YAAY,CAAChB,KAAtB,EAAZ,CAZK;;;MAeLJ,QAAQ,CAACyB,MAAT,CAAgBH,YAAhB;;UACIj0B,CAAC,IAAI,CAAT,EAAY;;QAEVmzB,MAAM,CAACzK,KAAP;;YACI,CAACyK,MAAM,CAAC3xB,MAAZ,EAAoB;UAClB4xB,OAAO,CAACY,IAAR;;;;UAGApB,MAAJ,EAAY;QACVA,MAAM,GAAG7uB,MAAM,CAAC+vB,qBAAP,CAA6BV,OAAO,CAAChT,IAArC,CAAT;;KApFU;IAuFd4T,IAvFc,kBAuFP;UACDpB,MAAJ,EAAY;QACV7uB,MAAM,CAACswB,oBAAP,CAA4BzB,MAA5B;QACAA,MAAM,GAAG,KAAT;;;GA1FN;SA+FOQ,OAAP;;;AC/HF,IAAMkB,eAAe,GAAG;EACtBC,UAAU,EAAE,OADU;EAEtBC,QAAQ,EAAE,MAFY;EAGtBC,KAAK,EAAE,SAHe;EAItBC,eAAe,EAAE,SAJK;EAKtBlwB,MAAM,EAAE,SALc;EAMtBmwB,WAAW,EAAE,CANS;EAOtBC,KAAK,EAAE;CAPT;AAUA,IAAMC,MAAM,GAAG,KAAf;;AAEA,SAASC,WAAT,CAAqB/vB,CAArB,EAAwB;MAChB3D,IAAI,WAAU2D,CAAV,CAAV;;SACO3D,IAAI,KAAK,QAAT,IAAqBA,IAAI,KAAK,UAA9B,IAA4CA,IAAI,KAAK,WAA5D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCF,AAAO,SAAS2zB,iBAAT,CAA2B5qB,QAA3B,EAAqC6qB,QAArC,EAA+CC,KAA/C,EAAsD;MACrDC,WAAW,GAAGjpB,MAAM,CAAC,EAAD,EAAK9B,QAAL,CAA1B;MACMgrB,IAAI,GAAGlpB,MAAM,CAAC,EAAD,EAAK+oB,QAAL,CAAnB;EACAvyB,MAAM,CAACgS,IAAP,CAAYygB,WAAZ,EAAyB5jB,OAAzB,CAAiC,UAAC3O,GAAD,EAAS;IACxCwyB,IAAI,CAACxyB,GAAD,CAAJ,GAAY,EAAZ;QACM1C,CAAC,GAAGi1B,WAAW,CAACvyB,GAAD,CAArB;;QACMyyB,KAAK,WAAUn1B,CAAV,CAAX;;QACI,OAAOA,CAAP,KAAa,UAAjB,EAA6B;MAC3Bk1B,IAAI,CAACxyB,GAAD,CAAJ,CAAU6R,EAAV,GAAevU,CAAf;KADF,MAEO,IAAI60B,WAAW,CAAC70B,CAAD,CAAf,EAAoB;UACrBoV,YAAY,GAAG2f,QAAQ,CAACryB,GAAD,CAA3B;;UACI,OAAO0S,YAAP,KAAwB,QAAxB,IAAoCwf,MAAM,CAACviB,IAAP,CAAY+C,YAAZ,CAAxC,EAAmE;QACjEA,YAAY,GAAGif,eAAe,CAACjf,YAAD,CAA9B;;;UAEIggB,WAAW,WAAUhgB,YAAV,CAAjB;;UACIggB,WAAW,KAAK,WAApB,EAAiC;;QAC/BF,IAAI,CAACxyB,GAAD,CAAJ,GAAY1C,CAAZ;OADF,MAEO;;QACLk1B,IAAI,CAACxyB,GAAD,CAAJ,GAAY0yB,WAAW,KAAKD,KAAhB,GAAwBn1B,CAAxB,GAA4BoV,YAAxC;;KATG,MAWA,IAAIpV,CAAC,IAAI,QAAOA,CAAP,MAAa,QAAtB,EAAgC;UACjC,OAAOA,CAAC,CAACuU,EAAT,KAAgB,UAApB,EAAgC;QAC9B2gB,IAAI,CAACxyB,GAAD,CAAJ,CAAU6R,EAAV,GAAevU,CAAC,CAACuU,EAAjB;;;UAEE,OAAOvU,CAAC,CAACsJ,KAAT,KAAmB,WAAvB,EAAoC;QAClC4rB,IAAI,CAACxyB,GAAD,CAAJ,CAAU4G,KAAV,GAAkB0rB,KAAK,CAAC1rB,KAAN,CAAYtJ,CAAC,CAACsJ,KAAd,CAAlB;;;UAEE,OAAOtJ,CAAC,CAACwR,GAAT,KAAiB,QAArB,EAA+B;QAC7B0jB,IAAI,CAACxyB,GAAD,CAAJ,CAAU8O,GAAV,GAAgBxR,CAAC,CAACwR,GAAlB;;;GAzBN;EA8BAhP,MAAM,CAACgS,IAAP,CAAYugB,QAAZ,EAAsB1jB,OAAtB,CAA8B,UAAC3O,GAAD,EAAS;QACjCA,GAAG,IAAIuyB,WAAX,EAAwB;;;;;QAGlBj1B,CAAC,GAAG+0B,QAAQ,CAACryB,GAAD,CAAlB;;QACM0yB,WAAW,WAAUp1B,CAAV,CAAjB;;QACIo1B,WAAW,KAAK,QAAhB,IAA4BR,MAAM,CAACviB,IAAP,CAAYrS,CAAZ,CAAhC,EAAgD;MAC9Ck1B,IAAI,CAACxyB,GAAD,CAAJ,GAAY2xB,eAAe,CAACr0B,CAAD,CAA3B;KADF,MAEO;MACLk1B,IAAI,CAACxyB,GAAD,CAAJ,GAAY1C,CAAZ;;GATJ;SAaOk1B,IAAP;;AAGF,AAAO,SAASG,cAAT,CAAwBzT,OAAxB,EAAiC0T,UAAjC,EAA6C9L,GAA7C,EAAkD;MACjDxT,GAAG,GAAG,EAAZ;MACMxB,IAAI,GAAGhS,MAAM,CAACgS,IAAP,CAAY8gB,UAAZ,CAAb;MACM9N,GAAG,GAAGhT,IAAI,CAACjT,MAAjB;MACMg0B,YAAY,GAAG3T,OAAO,CAACmD,KAA7B;MACMA,KAAK,GAAGnD,OAAO,CAACmD,KAAtB;;OACK,IAAI5iB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqlB,GAApB,EAAyBrlB,CAAC,EAA1B,EAA8B;QACtBO,GAAG,GAAG8R,IAAI,CAACrS,CAAD,CAAhB;QACMqzB,cAAc,GAAGF,UAAU,CAAC5yB,GAAD,CAAjC;QACM+yB,MAAM,GAAG,QAAO1Q,KAAP,MAAiB,QAAjB,IAA6B,OAAOyQ,cAAP,KAA0B,WAAtE;QACME,mBAAmB,GAAGD,MAAM,IAAI,OAAOD,cAAc,CAAChkB,GAAtB,KAA8B,QAApE;QACMmkB,mBAAmB,GAAGF,MAAM,IAAI/yB,GAAG,IAAIqiB,KAA7C;QACM6Q,QAAQ,GAAGF,mBAAmB,GAAG3Q,KAAK,CAACyQ,cAAc,CAAChkB,GAAhB,CAAR,GAA+BmkB,mBAAmB,GAAG5Q,KAAK,CAACriB,GAAD,CAAR,GAAgB6yB,YAAtG,CAN4B;;QAOxBV,WAAW,CAACW,cAAD,CAAf,EAAiC;MAC/Bxf,GAAG,CAACtT,GAAD,CAAH,GAAW8yB,cAAX;KADF,MAEO,IAAIC,MAAM,IAAID,cAAc,CAACjhB,EAA7B,EAAiC;;UAClCihB,cAAc,CAAClsB,KAAnB,EAA0B;QACxBsY,OAAO,CAACtY,KAAR,GAAgBksB,cAAc,CAAClsB,KAA/B;;;MAEF0M,GAAG,CAACtT,GAAD,CAAH,GAAW8yB,cAAc,CAACjhB,EAAf,CAAkB5Q,IAAlB,CAAuB,IAAvB,EAA6Bie,OAA7B,EAAsC4H,GAAtC,CAAX;KAJK,MAKA,IAAIiM,MAAM,IAAID,cAAc,CAAClsB,KAAzB,IAAkCssB,QAAtC,EAAgD;MACrD5f,GAAG,CAACtT,GAAD,CAAH,GAAW8yB,cAAc,CAAClsB,KAAf,CAAqBssB,QAAQ,CAAC/vB,KAA9B,CAAX;;UACI2vB,cAAc,CAAClsB,KAAf,CAAqBoY,SAAzB,EAAoC;QAClC1L,GAAG,CAACtT,GAAD,CAAH,IAAY8yB,cAAc,CAAClsB,KAAf,CAAqBoY,SAArB,KAAmC,CAA/C;;KAHG,MAKA,IAAIgU,mBAAmB,IAAIE,QAA3B,EAAqC;MAC1C5f,GAAG,CAACtT,GAAD,CAAH,GAAWkzB,QAAQ,CAAC/vB,KAApB;KADK,MAEA,IAAI2vB,cAAc,CAACjhB,EAAnB,EAAuB;MAC5ByB,GAAG,CAACtT,GAAD,CAAH,GAAW8yB,cAAc,CAACjhB,EAAf,CAAkB5Q,IAAlB,CAAuB,IAAvB,EAA6Bie,OAA7B,EAAsC4H,GAAtC,CAAX;KADK,MAEA;MACLxT,GAAG,CAACtT,GAAD,CAAH,GAAW8yB,cAAX;;;;SAGGxf,GAAP;;;ACtIK,SAAS6f,eAAT,CAAyB1X,MAAzB,EAAiCxd,IAAjC,EAAuCwK,IAAvC,EAA6C;MAC5C2qB,CAAC,GAAG3X,MAAM,CAACxd,IAAD,CAAhB;;MACIm1B,CAAC,IAAIA,CAAC,CAACxsB,KAAP,IAAgBwsB,CAAC,CAACxsB,KAAF,CAAQ4b,OAA5B,EAAqC;IACnC4Q,CAAC,CAACxsB,KAAF,GAAUwsB,CAAC,CAACxsB,KAAF,CAAQ4b,OAAR,CAAgB/Z,IAAhB,CAAV;GADF,MAEO,IAAI2qB,CAAC,IAAIA,CAAC,CAAC5Q,OAAX,EAAoB;IACzB/G,MAAM,CAACxd,IAAD,CAAN,GAAem1B,CAAC,CAAC5Q,OAAF,CAAU/Z,IAAV,CAAf;;;AAIJ,AAAO,SAAS4qB,aAAT,CAAuBzsB,KAAvB,EAA8B6B,IAA9B,EAAoC;SAClC7B,KAAK,CAAC4b,OAAN,GAAgB5b,KAAK,CAAC4b,OAAN,CAAc/Z,IAAd,CAAhB,GAAsC7B,KAA7C;;;ACRF,IAAM0sB,SAAS,GAAG;EAChBlB,iBAAiB,EAAjBA,iBADgB;EAEhBO,cAAc,EAAdA,cAFgB;EAGhBQ,eAAe,EAAfA;CAHF;AAMA,AAAe,2BAAUjT,SAAV,EAAuC;MAAlBtF,IAAkB,uEAAX0Y,SAAW;MAChDC,KAAK,GAAG,EAAZ;;WAESC,OAAT,OAKG;QAJDt1B,IAIC,QAJDA,IAIC;QAHDsJ,QAGC,QAHDA,QAGC;6BAFD6qB,QAEC;QAFDA,QAEC,8BAFU,EAEV;QADDoB,MACC,QADDA,MACC;QACK/R,IAAI,GAAG6R,KAAK,CAAC7R,IAAN,GAAa9G,IAAI,CAACwX,iBAAL,CAAuB5qB,QAAvB,EAAiC6qB,QAAjC,EAA2CnS,SAAS,CAACoS,KAArD,CAA1B;QAEMoB,GAAG,GAAG;MACV9sB,KAAK,EAAEsZ,SAAS,CAACoS,KAAV,CAAgB1rB,KADb;MAEV6M,SAAS,EAAEyM,SAAS,CAACoS,KAAV,CAAgB7e;KAF7B;;QAKIggB,MAAJ,EAAY;MACV3zB,MAAM,CAACgS,IAAP,CAAY2hB,MAAZ,EAAoB9kB,OAApB,CAA4B,UAAC3O,GAAD,EAAS;YAC/B0hB,IAAI,CAAC1hB,GAAD,CAAR,EAAe;UACb4a,IAAI,CAACuY,eAAL,CAAqBzR,IAArB,EAA2B1hB,GAA3B,EAAgCyzB,MAAM,CAACzzB,GAAD,CAAtC;;OAFJ;;;QAOI2zB,QAAQ,GAAG,EAAjB;;QACIz1B,IAAI,IAAIwC,KAAK,CAACC,OAAN,CAAczC,IAAI,CAACsY,KAAnB,CAAZ,EAAuC;UACjC0I,OAAJ;;WACK,IAAIzf,CAAC,GAAG,CAAR,EAAWqlB,GAAG,GAAG5mB,IAAI,CAACsY,KAAL,CAAW3X,MAAjC,EAAyCY,CAAC,GAAGqlB,GAA7C,EAAkDrlB,CAAC,EAAnD,EAAuD;QACrDyf,OAAO,GAAG;UACRmD,KAAK,EAAEnkB,IAAI,CAACsY,KAAL,CAAW/W,CAAX,CADC;UAERvB,IAAI,EAAJA,IAFQ;UAGRgiB,SAAS,EAAEwT;SAHb;YAKItZ,GAAG,GAAGQ,IAAI,CAAC+X,cAAL,CAAoBzT,OAApB,EAA6BqU,KAAK,CAAC7R,IAAnC,EAAyCjiB,CAAzC,CAAV;QACA2a,GAAG,CAAClc,IAAJ,GAAWA,IAAI,CAACsY,KAAL,CAAW/W,CAAX,CAAX;QACAk0B,QAAQ,CAAC70B,IAAT,CAAcsb,GAAd;;KAVJ,MAYO;UACC8E,QAAO,GAAG;QACdhhB,IAAI,EAAJA,IADc;QAEdgiB,SAAS,EAAEwT;OAFb;;UAIItZ,IAAG,GAAGQ,IAAI,CAAC+X,cAAL,CAAoBzT,QAApB,EAA6BqU,KAAK,CAAC7R,IAAnC,EAAyC,CAAC,CAA1C,CAAV;;aACO;QACLla,QAAQ,EAAE+rB,KAAK,CAAC7R,IADX;QAEL1I,IAAI,EAAEoB;OAFR;;;WAKK;MACL5S,QAAQ,EAAE+rB,KAAK,CAAC7R,IADX;MAELlL,KAAK,EAAEmd;KAFT;;;SAMK;IACLH,OAAO,EAAPA;GADF;;;AC5DF;;;;;;AAKA,AAAO,SAASI,iBAAT,GAAuC;MAAZxD,KAAY,uEAAJ,EAAI;SACrCA,KAAK,CAACvE,MAAN,CAAa,UAAC5N,GAAD,EAAM6E,IAAN,EAAe;QAC7BpiB,KAAK,CAACC,OAAN,CAAcmiB,IAAI,CAACS,QAAnB,CAAJ,EAAkC;MAChCtF,GAAG,CAACnf,IAAJ,OAAAmf,GAAG,uBAAS2V,iBAAiB,CAAC9Q,IAAI,CAACS,QAAN,CAA1B,EAAH;aACOtF,GAAP;;;IAEFA,GAAG,CAACnf,IAAJ,CAASgkB,IAAT;WACO7E,GAAP;GANK,EAOJ,EAPI,CAAP;;AAUF,AAAO,SAAS4V,MAAT,CAAgBzZ,GAAhB,QAMJ;MALD8E,OAKC,QALDA,OAKC;MAJDhhB,IAIC,QAJDA,IAIC;MAHD41B,KAGC,QAHDA,KAGC;MAFDvmB,MAEC,QAFDA,MAEC;MADDyhB,IACC,QADDA,IACC;MACK+E,OAAO,GAAG3Z,GAAG,CAACkY,KAAJ,CAAU3F,KAAV,CAAgBzN,OAAhB,CAAhB;MACM8U,SAAS,GAAG91B,IAAlB;MACM+1B,MAAM,GAAGH,KAAK,CAACG,MAAN,IAAgB,EAA/B;MACMC,QAAQ,GAAGJ,KAAK,CAACI,QAAN,IAAkB,EAAnC;MACMC,UAAU,GAAG,EAAnB;EACAr0B,MAAM,CAACgS,IAAP,CAAYmiB,MAAZ,EAAoBtlB,OAApB,CAA4B,UAAC3O,GAAD,EAAS;IACnCm0B,UAAU,CAACr1B,IAAX,CAAgBkB,GAAhB;GADF;EAIAF,MAAM,CAACgS,IAAP,CAAYoiB,QAAZ,EAAsBvlB,OAAtB,CAA8B,UAAC3O,GAAD,EAAS;QACjCm0B,UAAU,CAAC3mB,OAAX,CAAmBxN,GAAnB,MAA4B,CAAC,CAAjC,EAAoC;MAClCm0B,UAAU,CAACr1B,IAAX,CAAgBkB,GAAhB;;GAFJ;MAMMo0B,WAAW,GAAG,EAApB;MACIC,gBAAgB,GAAG,KAAvB,CAjBC;;MAmBKC,QAAQ,GAAG,SAAXA,QAAW,GAAM;QACjBlE,KAAK,GAAGwD,iBAAiB,CAACxZ,GAAG,CAACgW,KAAL,CAA7B;;QACI,OAAO7iB,MAAP,KAAkB,UAAtB,EAAkC;MAChC6iB,KAAK,GAAGA,KAAK,CAAC7iB,MAAN,CAAaA,MAAb,CAAR;;;WAEK6iB,KAAP;GALF;;MAQMrI,MAAM,GAAG,SAATA,MAAS,GAAM;;QAEbqI,KAAK,GAAGkE,QAAQ,EAAtB;QACMxP,GAAG,GAAGsL,KAAK,CAACvxB,MAAlB;QACI01B,QAAJ;QACIC,aAAa,GAAG,KAApB;;+BAES/0B,CAPU;;MAQjB80B,QAAQ,GAAGnE,KAAK,CAAC3wB,CAAD,CAAL,CAASvB,IAApB;;UACI,CAACq2B,QAAL,EAAe;;;;UAIX,CAACnE,KAAK,CAAC3wB,CAAD,CAAL,CAASg1B,OAAd,EAAuB;QACrBrE,KAAK,CAAC3wB,CAAD,CAAL,CAASg1B,OAAT,GAAmB,EAAnB;QACAN,UAAU,CAACxlB,OAAX,CAAmB,UAACvR,CAAD,EAAO;UACxBgzB,KAAK,CAAC3wB,CAAD,CAAL,CAASg1B,OAAT,CAAiBr3B,CAAjB,IAAsBgzB,KAAK,CAAC3wB,CAAD,CAAL,CAASrC,CAAT,CAAtB,CADwB;SAA1B;;;UAKIywB,QAAQ,GAAGkG,OAAO,CAAChF,kBAAR,CAA2BwF,QAA3B,EAAqCP,SAArC,EAAgDhF,IAAhD,CAAjB;UACM0F,SAAS,GAAGN,WAAW,CAAC5mB,OAAZ,CAAoB4iB,KAAK,CAAC3wB,CAAD,CAAzB,CAAlB;UACIyqB,OAAO,GAAG,KAAd;;UACI2D,QAAQ,IAAI6G,SAAS,KAAK,CAAC,CAA/B,EAAkC;;QAChCN,WAAW,CAACt1B,IAAZ,CAAiBsxB,KAAK,CAAC3wB,CAAD,CAAtB;QACAyqB,OAAO,GAAG,IAAV;OAFF,MAGO,IAAI,CAAC2D,QAAD,IAAa6G,SAAS,KAAK,CAAC,CAAhC,EAAmC;;QACxCN,WAAW,CAACp1B,MAAZ,CAAmB01B,SAAnB,EAA8B,CAA9B;QACAxK,OAAO,GAAG,IAAV;;;UAEEA,OAAO,IAAImK,gBAAf,EAAiC;YACzBM,QAAQ,GAAGrrB,MAAM,CAAC,EAAD,EAAK8mB,KAAK,CAAC3wB,CAAD,CAAV,EAAe2wB,KAAK,CAAC3wB,CAAD,CAAL,CAASg1B,OAAxB,CAAvB;QACAN,UAAU,CAACxlB,OAAX,CAAmB,UAACvR,CAAD,EAAO;cACpBywB,QAAQ,IAAIzwB,CAAC,IAAI62B,MAArB,EAA6B;YAC3B7D,KAAK,CAAC3wB,CAAD,CAAL,CAASrC,CAAT,IAAc,OAAO62B,MAAM,CAAC72B,CAAD,CAAb,KAAqB,UAArB,GAAkC62B,MAAM,CAAC72B,CAAD,CAAN,CAAU6D,IAAV,CAAe,IAAf,EAAqB0zB,QAArB,CAAlC,GAAmEV,MAAM,CAAC72B,CAAD,CAAvF;WADF,MAEO,IAAI,CAACywB,QAAD,IAAazwB,CAAC,IAAI82B,QAAtB,EAAgC;YACrC9D,KAAK,CAAC3wB,CAAD,CAAL,CAASrC,CAAT,IAAc,OAAO82B,QAAQ,CAAC92B,CAAD,CAAf,KAAuB,UAAvB,GAAoC82B,QAAQ,CAAC92B,CAAD,CAAR,CAAY6D,IAAZ,CAAiB,IAAjB,EAAuB0zB,QAAvB,CAApC,GAAuET,QAAQ,CAAC92B,CAAD,CAA7F;WADK,MAEA;YACLgzB,KAAK,CAAC3wB,CAAD,CAAL,CAASrC,CAAT,IAAcgzB,KAAK,CAAC3wB,CAAD,CAAL,CAASg1B,OAAT,CAAiBr3B,CAAjB,CAAd;;SANJ;QASAo3B,aAAa,GAAG,IAAhB;;;;SAlCC,IAAI/0B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqlB,GAApB,EAAyBrlB,CAAC,EAA1B,EAA8B;uBAArBA,CAAqB;;+BAG1B;;;IAkCJ40B,gBAAgB,GAAG,KAAnB;WACOG,aAAP;GA7CF;;MAgDMI,OAAO,GAAG,SAAVA,OAAU,GAAM;QACdxE,KAAK,GAAGkE,QAAQ,EAAtB;QACMxP,GAAG,GAAGsL,KAAK,CAACvxB,MAAlB;;iCACSY,CAHW;UAId,CAAC2wB,KAAK,CAAC3wB,CAAD,CAAL,CAASvB,IAAd,EAAoB;;;;MAIpBkyB,KAAK,CAAC3wB,CAAD,CAAL,CAASg1B,OAAT,GAAmBrE,KAAK,CAAC3wB,CAAD,CAAL,CAASg1B,OAAT,IAAoB,EAAvC;MACAN,UAAU,CAACxlB,OAAX,CAAmB,UAACvR,CAAD,EAAO;QACxBgzB,KAAK,CAAC3wB,CAAD,CAAL,CAASg1B,OAAT,CAAiBr3B,CAAjB,IAAsBgzB,KAAK,CAAC3wB,CAAD,CAAL,CAASrC,CAAT,CAAtB,CADwB;;YAEpBA,CAAC,IAAI82B,QAAT,EAAmB;UACjB9D,KAAK,CAAC3wB,CAAD,CAAL,CAASrC,CAAT,IAAc,OAAO82B,QAAQ,CAAC92B,CAAD,CAAf,KAAuB,UAAvB,GAAoC82B,QAAQ,CAAC92B,CAAD,CAAR,CAAY6D,IAAZ,CAAiB,IAAjB,EAAuBmvB,KAAK,CAAC3wB,CAAD,CAA5B,CAApC,GAAuEy0B,QAAQ,CAAC92B,CAAD,CAA7F;;OAHJ;;;SANG,IAAIqC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqlB,GAApB,EAAyBrlB,CAAC,EAA1B,EAA8B;yBAArBA,CAAqB;;gCAE1B;;;IAWJ40B,gBAAgB,GAAG,IAAnB;IACAD,WAAW,CAACv1B,MAAZ,GAAqB,CAArB;IACAub,GAAG,CAAC4V,QAAJ,CAAayB,MAAb,CAAoBrX,GAAG,CAACgW,KAAxB;GAlBF;;MAqBMyE,KAAK,GAAG,SAARA,KAAQ,GAAM;QACZzE,KAAK,GAAGkE,QAAQ,EAAtB;QACMxP,GAAG,GAAGsL,KAAK,CAACvxB,MAAlB;;iCAESY,CAJS;UAKZ2wB,KAAK,CAAC3wB,CAAD,CAAL,CAASg1B,OAAb,EAAsB;QACpB30B,MAAM,CAACgS,IAAP,CAAYse,KAAK,CAAC3wB,CAAD,CAAL,CAASg1B,OAArB,EAA8B9lB,OAA9B,CAAsC,UAACvR,CAAD,EAAO;UAC3CgzB,KAAK,CAAC3wB,CAAD,CAAL,CAASrC,CAAT,IAAcgzB,KAAK,CAAC3wB,CAAD,CAAL,CAASg1B,OAAT,CAAiBr3B,CAAjB,CAAd;SADF;QAGAgzB,KAAK,CAAC3wB,CAAD,CAAL,CAASg1B,OAAT,GAAmB3tB,SAAnB;;;;SALC,IAAIrH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqlB,GAApB,EAAyBrlB,CAAC,EAA1B,EAA8B;aAArBA,CAAqB;;;IAQ9B20B,WAAW,CAACv1B,MAAZ,GAAqB,CAArB;IACAub,GAAG,CAAC4V,QAAJ,CAAayB,MAAb,CAAoBrX,GAAG,CAACgW,KAAxB;GAbF;;MAeM0E,QAAQ,GAAG,SAAXA,QAAW;;;QACT5K,OAAO,GAAGnC,MAAM,EAAtB;;QACImC,OAAJ,EAAa;MACX9P,GAAG,CAAC4V,QAAJ,CAAayB,MAAb,CAAoBrX,GAAG,CAACgW,KAAxB;;GAHJ;;MAOM2E,cAAc,GAAG,SAAjBA,cAAiB,GAAM;IAC3BX,WAAW,CAACv1B,MAAZ,GAAqB,CAArB;IACAw1B,gBAAgB,GAAG,IAAnB;IACAtM,MAAM;GAHR;;EAMAgM,OAAO,CAACiB,EAAR,CAAW,OAAX,EAAoBJ,OAApB;EACAb,OAAO,CAACiB,EAAR,CAAW,KAAX,EAAkBH,KAAlB;EACAd,OAAO,CAACiB,EAAR,CAAW,QAAX,EAAqBF,QAArB;;WAESG,OAAT,GAAmB;IACjBlB,OAAO,CAACmB,cAAR,CAAuB,OAAvB,EAAgCN,OAAhC;IACAb,OAAO,CAACmB,cAAR,CAAuB,KAAvB,EAA8BL,KAA9B;IACAd,OAAO,CAACmB,cAAR,CAAuB,QAAvB,EAAiCJ,QAAjC;;;SAGK;IACLjH,QADK,sBACM;aACFkG,OAAO,CAAClG,QAAR,EAAP;KAFG;IAIL9F,MAAM,EAAEgN,cAJH;IAKLE,OAAO,EAAPA;GALF;;AASF,AAAO,SAASE,eAAT,QAKJ;MAJDC,UAIC,SAJDA,UAIC;MAHDhJ,MAGC,SAHDA,MAGC;MAFDkG,KAEC,SAFDA,KAEC;MADD+C,OACC,SADDA,OACC;;MACG,CAACA,OAAL,EAAc;;;;MAIRrB,SAAS,GAAGqB,OAAO,CAACn3B,IAAR,IAAgB,CAAC,EAAD,CAAlC;MAEIo3B,UAAU,GAAG;IACf9e,KAAK,EAAE,EADQ;IAEf+e,QAAQ,EAAE;GAFZ;MAIIC,UAAU,GAAG;IACfhf,KAAK,EAAE,EADQ;IAEf+e,QAAQ,EAAE;GAFZ;;MAKI,CAAC,KAAD,EAAQ,QAAR,EAAkB,KAAlB,EAAyB,QAAzB,EAAmC/nB,OAAnC,CAA2C4e,MAA3C,MAAuD,CAAC,CAA5D,EAA+D;IAC7DkJ,UAAU,CAACC,QAAX,aAAyBnJ,MAAzB;IACAoJ,UAAU,CAACD,QAAX,aAAyBnJ,MAAzB;;;+BAGO3sB,CArBR;QAsBOg2B,SAAS,GAAGL,UAAU,CAAC31B,CAAD,CAA5B;;QACI,CAACg2B,SAAL,EAAgB;;;;IAGhBzB,SAAS,CAACrlB,OAAV,CAAkB,UAACxQ,CAAD,EAAO;UACnByQ,CAAC,GAAG6mB,SAAS,IAAI,CAACt3B,CAAd,GAAkBs3B,SAAlB,GAA8BA,SAAS,CAACt3B,CAAD,CAA/C;;UACIyQ,CAAJ,EAAO;YACD8mB,EAAE,GAAG;UAAE11B,GAAG,EAAE4O,CAAC,CAACqH,MAAF,CAASK;SAAzB;;YACI,OAAO1H,CAAC,CAACqH,MAAF,CAASjW,GAAhB,KAAwB,WAA5B,EAAyC;UACvC01B,EAAE,CAAC11B,GAAH,aAAY4O,CAAC,CAACqH,MAAF,CAASjW,GAArB,cAA4B4O,CAAC,CAACqH,MAAF,CAASK,KAArC;;;YAEE5V,KAAK,CAACC,OAAN,CAAciO,CAAC,CAACzL,KAAhB,CAAJ,EAA4B;UAC1BuyB,EAAE,CAAC3c,KAAH,GAAW;YAAElQ,GAAG,EAAE+F,CAAC,CAACzL,KAAF,CAAQ,CAAR,CAAP;YAAmB2F,GAAG,EAAE8F,CAAC,CAACzL,KAAF,CAAQ,CAAR;WAAnC;UACAmyB,UAAU,CAAC9e,KAAX,CAAiB1X,IAAjB,CAAsB42B,EAAtB;SAFF,MAGO;UACLA,EAAE,CAACvyB,KAAH,GAAWyL,CAAC,CAACzL,KAAb;UACAqyB,UAAU,CAAChf,KAAX,CAAiB1X,IAAjB,CAAsB42B,EAAtB;;;KAZN;;;OALG,IAAIj2B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG21B,UAAU,CAACv2B,MAA/B,EAAuCY,CAAC,EAAxC,EAA4C;uBAAnCA,CAAmC;;8BAGxC;;;EAoBJ41B,OAAO,CAACM,QAAR,CAAiBhnB,OAAjB,CAAyB,UAAC5R,CAAD,EAAO;QAC1Bu4B,UAAU,CAAC9e,KAAX,CAAiB3X,MAArB,EAA6B;MAC3ByzB,KAAK,CAAC3F,KAAN,CAAY5vB,CAAZ,EAAeu4B,UAAU,CAACC,QAA1B,EAAoCD,UAAU,CAAC9e,KAA/C;KADF,MAEO;MACL8b,KAAK,CAAC3F,KAAN,CAAY5vB,CAAZ,EAAey4B,UAAU,CAACD,QAA1B,EAAoCC,UAAU,CAAChf,KAA/C,EADK;;GAHT;;AASF,AAAO,SAASof,mBAAT,QAKJ;MAJDxF,KAIC,SAJDA,KAIC;MAHDhE,MAGC,SAHDA,MAGC;MAFDkG,KAEC,SAFDA,KAEC;MADD+C,OACC,SADDA,OACC;MACKD,UAAU,GAAG,EAAnB;;OACK,IAAI31B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG2wB,KAAK,CAACvxB,MAA1B,EAAkCY,CAAC,EAAnC,EAAuC;QAC/BqjB,IAAI,GAAGsN,KAAK,CAAC3wB,CAAD,CAAlB;QACI80B,QAAQ,GAAGzR,IAAI,CAAC5kB,IAApB;;QACIq2B,QAAQ,KAAK,IAAjB,EAAuB;MACrBa,UAAU,CAACt2B,IAAX,CAAgBy1B,QAAhB;;;;EAIJY,eAAe,CAAC;IACdC,UAAU,EAAVA,UADc;IAEdhJ,MAAM,EAANA,MAFc;IAGdkG,KAAK,EAALA,KAHc;IAId+C,OAAO,EAAPA;GAJa,CAAf;;AAQF,AAAO,SAASQ,YAAT,QAEJ;MADDC,UACC,SADDA,UACC;MADWz4B,CACX,SADWA,CACX;MADc8N,MACd,SADcA,MACd;MADsBihB,MACtB,SADsBA,MACtB;MACG2J,eAAe,GAAG,EAAtB;MACIpC,QAAQ,GAAG,KAAf;;MAEImC,UAAU,CAACj3B,MAAX,GAAoB,CAAxB,EAA2B;IACzBk3B,eAAe,GAAGD,UAAlB;IACAnC,QAAQ,GAAG,IAAX;;QAEIt2B,CAAC,CAAC24B,WAAF,KAAkB,MAAtB,EAA8B;MAC5BD,eAAe,GAAG,CAACD,UAAU,CAACA,UAAU,CAACj3B,MAAX,GAAoB,CAArB,CAAX,CAAlB;;;;MAIEuxB,KAAK,GAAG2F,eAAe,CAACj4B,GAAhB,CAAoB,UAACf,CAAD;WAAOA,CAAC,CAAC+lB,IAAT;GAApB,CAAd;EACA8S,mBAAmB,CAAC;IAClBxF,KAAK,EAALA,KADkB;IAElBhE,MAAM,EAANA,MAFkB;IAGlBkG,KAAK,EAAEnnB,MAAM,CAACmnB,KAHI;IAIlBp0B,IAAI,EAAEiN,MAAM,CAACjN,IAJK;IAKlBm3B,OAAO,EAAEh4B;GALQ,CAAnB;SAQOs2B,QAAP;;;AAGF,SAASsC,uBAAT,CAAiC9lB,CAAjC,EAAoCrL,IAApC,EAA0C;MACpCqL,CAAC,CAACI,cAAF,CAAiB1R,MAAjB,KAA4B,CAAhC,EAAmC;WAC1B,IAAP;;;SAGK;IACLuD,CAAC,EAAE+N,CAAC,CAACI,cAAF,CAAiB,CAAjB,EAAoBU,OAApB,GAA8BnM,IAAI,CAACgH,IADjC;IAELvJ,CAAC,EAAE4N,CAAC,CAACI,cAAF,CAAiB,CAAjB,EAAoBW,OAApB,GAA8BpM,IAAI,CAACkH;GAFxC;;;AAMF,SAASkqB,kBAAT,CAA4B/lB,CAA5B,EAA+BrL,IAA/B,EAAqC;SAC5B;IACL1C,CAAC,EAAE+N,CAAC,CAACc,OAAF,GAAYnM,IAAI,CAACgH,IADf;IAELvJ,CAAC,EAAE4N,CAAC,CAACe,OAAF,GAAYpM,IAAI,CAACkH;GAFtB;;;AAMF,SAASmqB,iBAAT,CAA2BhmB,CAA3B,EAA8B9S,CAA9B,EAAiC2yB,QAAjC,EAA2C;MACnClrB,IAAI,GAAGkrB,QAAQ,CAACoG,OAAT,GAAmBC,qBAAnB,EAAb;MACIl4B,CAAC,GAAGmS,YAAY,CAACH,CAAD,CAAZ,GAAkB8lB,uBAAuB,CAAC9lB,CAAD,EAAIrL,IAAJ,CAAzC,GAAqDoxB,kBAAkB,CAAC/lB,CAAD,EAAIrL,IAAJ,CAA/E;;MAEI3G,CAAC,KAAK,IAAN,IAAcA,CAAC,CAACiE,CAAF,GAAM,CAApB,IAAyBjE,CAAC,CAACoE,CAAF,GAAM,CAA/B,IAAoCpE,CAAC,CAACiE,CAAF,GAAM0C,IAAI,CAACC,KAA/C,IAAwD5G,CAAC,CAACoE,CAAF,GAAMuC,IAAI,CAACE,MAAvE,EAA+E;;WACtE,EAAP;;;MAGE3H,CAAC,CAACi5B,WAAF,GAAgB,CAAhB,IAAqBhmB,YAAY,CAACH,CAAD,CAArC,EAA0C;IACxChS,CAAC,GAAG;MACFmM,EAAE,EAAEnM,CAAC,CAACiE,CADJ;MAEFmI,EAAE,EAAEpM,CAAC,CAACoE,CAFJ;MAGFkB,CAAC,EAAEpG,CAAC,CAACi5B,WAHH;;KAAJ;;;SAOKtG,QAAQ,CAACuG,OAAT,CAAiBp4B,CAAjB,CAAP;;;AAGF,SAASq4B,aAAT,CAAuBpK,MAAvB,EAA+Bjc,CAA/B,EAAkC8K,GAAlC,EAAuC;MACjCmR,MAAJ,EAAY;QACN,OAAOA,MAAP,KAAkB,UAAtB,EAAkC;aACzBA,MAAM,CAACjc,CAAD,CAAb;;;WAEKic,MAAP;;;SAEKnR,GAAP;;;AAGF,AAAO,SAASwb,eAAT,QAA2C;MAAhBtmB,CAAgB,SAAhBA,CAAgB;MAAb9S,CAAa,SAAbA,CAAa;MAAV8N,MAAU,SAAVA,MAAU;MAC1C2qB,UAAU,GAAGK,iBAAiB,CAAChmB,CAAD,EAAI9S,CAAJ,EAAO8N,MAAM,CAAC6kB,QAAd,CAApC;SAEO6F,YAAY,CAAC;IAClBC,UAAU,EAAVA,UADkB;IACNz4B,CAAC,EAADA,CADM;IACH8N,MAAM,EAANA,MADG;IACKihB,MAAM,EAAEoK,aAAa,CAACn5B,CAAC,CAAC+uB,MAAH,EAAWjc,CAAX,EAAc,QAAd;GAD3B,CAAnB;;AAKF,AAAO,SAASumB,gBAAT,QAA4C;MAAhBvmB,CAAgB,SAAhBA,CAAgB;MAAb9S,CAAa,SAAbA,CAAa;MAAV8N,MAAU,SAAVA,MAAU;MAC3C2qB,UAAU,GAAGK,iBAAiB,CAAChmB,CAAD,EAAI9S,CAAJ,EAAO8N,MAAM,CAAC6kB,QAAd,CAApC;SAEO6F,YAAY,CAAC;IAClBC,UAAU,EAAVA,UADkB;IACNz4B,CAAC,EAADA,CADM;IACH8N,MAAM,EAANA,MADG;IACKihB,MAAM,EAAEoK,aAAa,CAACn5B,CAAC,CAAC+uB,MAAH,EAAWjc,CAAX,EAAc,KAAd;GAD3B,CAAnB;;;AC9UF;;;;;AAKA,IAAMwmB,gBAAgB,GAAG;EACvBzxB,IAAI,EAAE,MADiB;EAEvBrD,MAAM,EAAE,QAFe;EAGvB+uB,OAAO,EAAE,SAHc;EAIvBoB,WAAW,EAAE,cAJU;EAKvB4E,cAAc,EAAE,iBALO;EAMvBhF,UAAU,EAAE,aANW;EAOvBC,QAAQ,EAAE,WAPa;EAQvBgF,QAAQ,EAAE,mBARa;;EASvBC,gBAAgB,EAAE,mBATK;EAUvBC,MAAM,EAAE,aAVe;;EAWvBC,UAAU,EAAE,aAXW;EAYvBC,QAAQ,EAAE,UAZa;EAavBC,SAAS,EAAE,WAbY;EAcvBC,eAAe,EAAE,kBAdM;EAevBnhB,EAAE,EAAE;CAfN;;;;;;;;;;AA0BA,SAASohB,qBAAT,CAA+B73B,MAA/B,EAAuC0W,MAAvC,EAA+C;EAC7CnW,MAAM,CAACgS,IAAP,CAAY6kB,gBAAZ,EAA8BhoB,OAA9B,CAAsC,UAAC3O,GAAD,EAAS;QACvCq3B,WAAW,GAAGphB,MAAM,CAACjW,GAAD,CAA1B;;QACI,OAAOq3B,WAAP,KAAuB,WAA3B,EAAwC;UAChCC,SAAS,GAAGX,gBAAgB,CAAC32B,GAAD,CAAlC;MACAT,MAAM,CAAC+3B,SAAD,CAAN,GAAoBD,WAApB;;GAJJ;;;AChCF;;;;AAIA,SAASE,MAAT,CAAgB5c,OAAhB,EAAyB;SAChB;IACLlc,IAAI,EAAE,QADD;IAELyG,IAAI,EAAE,OAFD;IAGLoF,EAAE,EAAEqQ,OAAO,CAACvY,CAHP;IAILmI,EAAE,EAAEoQ,OAAO,CAACpY,CAJP;IAKLkB,CAAC,EAAEkX,OAAO,CAAClS,IAAR,GAAe;GALpB;;;ACLa,SAAS+uB,YAAT,CAAsB9tB,MAAtB,EAA4C;MAAd+tB,KAAc,uEAAN,IAAM;MACrD7oB,CAAC,GAAG,EAAR;;OAEK,IAAInP,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGiK,MAAM,CAAC7K,MAA3B,EAAmCY,CAAC,EAApC,EAAwC;QAChCtB,CAAC,GAAGuL,MAAM,CAACjK,CAAD,CAAhB;;QACIA,CAAC,KAAK,CAAV,EAAa;MACXmP,CAAC,eAAQzQ,CAAC,CAACiE,CAAV,cAAejE,CAAC,CAACoE,CAAjB,CAAD;KADF,MAEO;MACLqM,CAAC,eAAQzQ,CAAC,CAACiE,CAAV,cAAejE,CAAC,CAACoE,CAAjB,CAAD;;;IAGFqM,CAAC,IAAI,GAAL;;;MAGE6oB,KAAJ,EAAW;IACT7oB,CAAC,IAAI,GAAL;;;SAGKA,CAAP;;;AChBF;;;;;AAIA,SAAS8oB,OAAT,CAAiB/c,OAAjB,EAA0B;MAClBlS,IAAI,GAAGkS,OAAO,CAAClS,IAArB;MACMqD,IAAI,GAAG6O,OAAO,CAACvY,CAAR,GAAaqG,IAAI,GAAG,CAAjC;MACMuD,GAAG,GAAG2O,OAAO,CAACpY,CAAR,GAAakG,IAAI,GAAG,CAAhC;MACMiB,MAAM,GAAG,CACb;IAAEtH,CAAC,EAAE0J,IAAL;IAAWvJ,CAAC,EAAEyJ,GAAG,GAAIvD,IAAI,GAAG;GADf,EAEb;IAAErG,CAAC,EAAE0J,IAAI,GAAIrD,IAAI,GAAG,CAApB;IAAwBlG,CAAC,EAAEyJ;GAFd,EAGb;IAAE5J,CAAC,EAAE0J,IAAI,GAAGrD,IAAZ;IAAkBlG,CAAC,EAAEyJ,GAAG,GAAIvD,IAAI,GAAG;GAHtB,EAIb;IAAErG,CAAC,EAAE0J,IAAI,GAAIrD,IAAI,GAAG,CAApB;IAAwBlG,CAAC,EAAEyJ,GAAG,GAAGvD;GAJpB,EAKb;IAAErG,CAAC,EAAE0J,IAAL;IAAWvJ,CAAC,EAAEyJ,GAAG,GAAIvD,IAAI,GAAG;GALf,CAAf;SAQO;IACLhK,IAAI,EAAE,MADD;IAELyG,IAAI,EAAE,OAFD;IAGL0J,CAAC,EAAE4oB,YAAY,CAAC9tB,MAAD;GAHjB;;;AChBK,SAASiuB,mBAAT,CAA6Bv1B,CAA7B,EAAgCG,CAAhC,EAAmCkG,IAAnC,EAAyCmvB,QAAzC,EAAmD;MAClDn0B,CAAC,GAAGgF,IAAI,GAAG,CAAjB;MACMovB,SAAS,GAAGz1B,CAAC,GAAIw1B,QAAQ,GAAG,CAAlC;MACME,QAAQ,GAAGv1B,CAAC,GAAIq1B,QAAQ,GAAG,CAAjC;MACM9rB,IAAI,GAAG1J,CAAC,GAAGqB,CAAjB;MACMuI,GAAG,GAAGzJ,CAAC,GAAGkB,CAAhB;SAEO,CACL;IAAErB,CAAC,EAAEy1B,SAAL;IAAgBt1B,CAAC,EAAEu1B;GADd;;IAEH11B,CAAC,EAAEy1B,SAAL;IAAgBt1B,CAAC,EAAEyJ;GAFd,EAGL;IAAE5J,CAAC,EAAEy1B,SAAS,GAAGD,QAAjB;IAA2Br1B,CAAC,EAAEyJ;GAHzB,EAIL;IAAE5J,CAAC,EAAEy1B,SAAS,GAAGD,QAAjB;IAA2Br1B,CAAC,EAAEu1B;GAJzB;;IAKH11B,CAAC,EAAE0J,IAAI,GAAGrD,IAAZ;IAAkBlG,CAAC,EAAEu1B;GALhB,EAML;IAAE11B,CAAC,EAAE0J,IAAI,GAAGrD,IAAZ;IAAkBlG,CAAC,EAAEu1B,QAAQ,GAAGF;GAN3B,EAOL;IAAEx1B,CAAC,EAAEy1B,SAAS,GAAGD,QAAjB;IAA2Br1B,CAAC,EAAEu1B,QAAQ,GAAGF;GAPpC;;IAQHx1B,CAAC,EAAEy1B,SAAS,GAAGD,QAAjB;IAA2Br1B,CAAC,EAAEyJ,GAAG,GAAGvD;GAR/B,EASL;IAAErG,CAAC,EAAEy1B,SAAL;IAAgBt1B,CAAC,EAAEyJ,GAAG,GAAGvD;GATpB,EAUL;IAAErG,CAAC,EAAEy1B,SAAL;IAAgBt1B,CAAC,EAAEu1B,QAAQ,GAAGF;GAVzB;;IAWHx1B,CAAC,EAAE0J,IAAL;IAAWvJ,CAAC,EAAEu1B,QAAQ,GAAGF;GAXpB,EAYL;IAAEx1B,CAAC,EAAE0J,IAAL;IAAWvJ,CAAC,EAAEu1B;GAZT,CAAP;;;;;;;;AAqBF,SAASC,KAAT,CAAepd,OAAf,EAAwB;MAChBvY,CAAC,GAAGuY,OAAO,CAACvY,CAAlB;MACMG,CAAC,GAAGoY,OAAO,CAACpY,CAAlB;MACMkB,CAAC,GAAGkX,OAAO,CAAClS,IAAR,GAAe,CAAzB;MACM1D,KAAK,GAAG2D,KAAK,CAACiS,OAAO,CAAC5V,KAAT,CAAL,GAAuBtB,CAAC,GAAG,CAA3B,GAA+BkX,OAAO,CAAC5V,KAArD;MACM6yB,QAAQ,GAAGv1B,IAAI,CAACwG,GAAL,CAAS9D,KAAT,EAAgBtB,CAAhB,CAAjB;MAEMiG,MAAM,GAAGiuB,mBAAmB,CAACv1B,CAAD,EAAIG,CAAJ,EAAOoY,OAAO,CAAClS,IAAf,EAAqBmvB,QAArB,CAAlC;SAEO;IACLn5B,IAAI,EAAE,MADD;IAELyG,IAAI,EAAE,OAFD;IAGL0J,CAAC,EAAE4oB,YAAY,CAAC9tB,MAAD;GAHjB;;;ACvCF;;;;;;;;AAQA,AAAO,SAASsuB,aAAT,CAAuB91B,KAAvB,EAA8B;MAC/B+1B,OAAO,GAAG51B,IAAI,CAACgG,KAAL,CAAYnG,KAAK,GAAGG,IAAI,CAACiE,EAAd,GAAoB,CAA/B,IAAoC,CAAlD;MACI4xB,QAAQ,GAAG,CAAE,MAAMD,OAAP,GAAkB,IAAnB,IAA2B51B,IAAI,CAACiE,EAA/C;MACI6xB,EAAE,GAAG91B,IAAI,CAACC,GAAL,CAASD,IAAI,CAAC2O,GAAL,CAASknB,QAAQ,GAAGh2B,KAApB,CAAT,IAAuCG,IAAI,CAACkE,IAAL,CAAU,CAAV,CAAhD;MACInE,CAAC,GAAG+1B,EAAE,GAAG91B,IAAI,CAACC,GAAL,CAASJ,KAAT,CAAb;MACIK,CAAC,GAAG41B,EAAE,GAAG91B,IAAI,CAACG,GAAL,CAASN,KAAT,CAAb;SAEO;IACL4B,EAAE,EAAE1B,CAAC,GAAG,CAAJ,GAAQ,CAAR,GAAY,CADX;IAEL2B,EAAE,EAAExB,CAAC,GAAG,CAAJ,GAAQ,CAAR,GAAY,CAFX;IAGLyB,EAAE,EAAE5B,CAAC,IAAI,CAAL,GAASA,CAAT,GAAaA,CAAC,GAAG,CAHhB;IAIL6B,EAAE,EAAE1B,CAAC,IAAI,CAAL,GAASA,CAAT,GAAaA,CAAC,GAAG;GAJvB;;;;;;;;;;AAeF,AAAO,SAAS61B,SAAT,CAAmBxpB,CAAnB,EAAsB;SAClB,CAACA,CAAF,GAAO,GAAR,GAAevM,IAAI,CAACiE,EAA3B;;AAGF,AAWA;;;;;;;;AAOA,AAAO,SAAS+xB,eAAT,CAAyBzpB,CAAzB,EAA4B;SAC1BopB,aAAa,CAACI,SAAS,CAACxpB,CAAD,CAAV,CAApB;;;ACrDK,SAASoE,KAAT,CAAaslB,EAAb,EAAiBC,EAAjB,EAAqB;SACnB;IACLn2B,CAAC,EAAEk2B,EAAE,CAACl2B,CAAH,GAAOm2B,EAAE,CAACn2B,CADR;IAELG,CAAC,EAAE+1B,EAAE,CAAC/1B,CAAH,GAAOg2B,EAAE,CAACh2B;GAFf;;AAMF,AAAO,SAASi2B,GAAT,CAAaF,EAAb,EAAiBC,EAAjB,EAAqB;SACnB;IACLn2B,CAAC,EAAEk2B,EAAE,CAACl2B,CAAH,GAAOm2B,EAAE,CAACn2B,CADR;IAELG,CAAC,EAAE+1B,EAAE,CAAC/1B,CAAH,GAAOg2B,EAAE,CAACh2B;GAFf;;AAMF,AAAO,SAASk2B,cAAT,CAAwBn7B,CAAxB,EAA2BF,CAA3B,EAA8B;SAC5B;IACLgF,CAAC,EAAE9E,CAAC,CAAC8E,CAAF,GAAMhF,CADJ;IAELmF,CAAC,EAAEjF,CAAC,CAACiF,CAAF,GAAMnF;GAFX;;AAMF,AAQO,SAASs7B,SAAT,CAAmBJ,EAAnB,EAAuBC,EAAvB,EAA2B;SACzBD,EAAE,CAACl2B,CAAH,GAAOm2B,EAAE,CAACn2B,CAAjB;;AAGF,AAAO,SAASu2B,SAAT,CAAmBL,EAAnB,EAAuBC,EAAvB,EAA2B;SACzBD,EAAE,CAAC/1B,CAAH,GAAOg2B,EAAE,CAACh2B,CAAjB;;AAGF,AAAO,SAASq2B,WAAT,CAAqBN,EAArB,EAAyBC,EAAzB,EAA6B;SAC3Bl2B,IAAI,CAACw2B,GAAL,CAASH,SAAS,CAACJ,EAAD,EAAKC,EAAL,CAAlB,EAA4B,CAA5B,IAAiCl2B,IAAI,CAACw2B,GAAL,CAASF,SAAS,CAACL,EAAD,EAAKC,EAAL,CAAlB,EAA4B,CAA5B,CAAxC;;AAGF,AAAO,SAASnb,QAAT,CAAkBkb,EAAlB,EAAsBC,EAAtB,EAA0B;SACxBl2B,IAAI,CAACkE,IAAL,CAAUqyB,WAAW,CAACN,EAAD,EAAKC,EAAL,CAArB,CAAP;;AAGF,AAIO,SAASO,GAAT,CAAaR,EAAb,EAAiBC,EAAjB,EAAqB;SAClBD,EAAE,CAACl2B,CAAH,GAAOm2B,EAAE,CAACn2B,CAAX,GAAiBk2B,EAAE,CAAC/1B,CAAH,GAAOg2B,EAAE,CAACh2B,CAAlC;;AAGF,AAAO,SAASw2B,WAAT,CAAqBT,EAArB,EAAyBC,EAAzB,EAA6B;MAC5Br7B,CAAC,GAAG47B,GAAG,CAACR,EAAD,EAAKC,EAAL,CAAH,GAAcO,GAAG,CAACP,EAAD,EAAKA,EAAL,CAAjB,IAA6B,CAAvC;SACO;IACLn2B,CAAC,EAAEm2B,EAAE,CAACn2B,CAAH,GAAOlF,CADL;IAELqF,CAAC,EAAEg2B,EAAE,CAACh2B,CAAH,GAAOrF;GAFZ;;AAMF,AAAO,SAASyJ,MAAT,CAAgBrJ,CAAhB,EAAmB07B,OAAnB,EAAqD;MAAzBC,MAAyB,uEAAhB;IAAE72B,CAAC,EAAE,CAAL;IAAQG,CAAC,EAAE;GAAK;MACpDD,GAAG,GAAGD,IAAI,CAACC,GAAL,CAAS02B,OAAT,CAAZ;MACMx2B,GAAG,GAAGH,IAAI,CAACG,GAAL,CAASw2B,OAAT,CAAZ;MAEMpzB,EAAE,GAAG4yB,GAAG,CAACl7B,CAAD,EAAI27B,MAAJ,CAAd;MAEMpzB,EAAE,GAAG;IACTzD,CAAC,EAAGE,GAAG,GAAGsD,EAAE,CAACxD,CAAV,GAAgBI,GAAG,GAAGoD,EAAE,CAACrD,CADnB;IAETA,CAAC,EAAGC,GAAG,GAAGoD,EAAE,CAACxD,CAAV,GAAgBE,GAAG,GAAGsD,EAAE,CAACrD;GAF9B;SAKOyQ,KAAG,CAACnN,EAAD,EAAKozB,MAAL,CAAV;;;ACnEF;;;;;;AAKA,SAASC,OAAT,CAAiBve,OAAjB,EAA0B;MAClBqe,OAAO,GAAGZ,SAAS,CAAC,EAAD,CAAzB;MACM30B,CAAC,GAAGkX,OAAO,CAAClS,IAAR,GAAe,CAAzB;MACM1D,KAAK,GAAG2D,KAAK,CAACiS,OAAO,CAAC5V,KAAT,CAAL,GAAuBtB,CAAC,GAAG,CAA3B,GAA+BkX,OAAO,CAAC5V,KAArD;MACM6yB,QAAQ,GAAGv1B,IAAI,CAACwG,GAAL,CAAS9D,KAAT,EAAgBtB,CAAhB,CAAjB;MACI01B,YAAY,GAAGxe,OAAO,CAAClS,IAA3B,CALwB;;MAQlBzL,CAAC,GAAGqF,IAAI,CAACG,GAAL,CAASH,IAAI,CAAC+2B,IAAL,CAAU,CAACJ,OAAX,CAAT,KAAiCpB,QAAQ,GAAG,CAA5C,CAAV;MACM76B,CAAC,GAAG0G,CAAC,GAAGpB,IAAI,CAACG,GAAL,CAAS,CAACw2B,OAAV,CAAd;EACAG,YAAY,IAAI,CAACp8B,CAAC,GAAG0G,CAAL,IAAU,CAA1B;EACA01B,YAAY,IAAIn8B,CAAC,GAAG,CAApB;MAEMq8B,QAAQ,GAAG;IAAEj3B,CAAC,EAAEuY,OAAO,CAACvY,CAAb;IAAgBG,CAAC,EAAEoY,OAAO,CAACpY;GAA5C;MACMmH,MAAM,GAAGiuB,mBAAmB,CAAChd,OAAO,CAACvY,CAAT,EAAYuY,OAAO,CAACpY,CAApB,EAAuB42B,YAAvB,EAAqCvB,QAArC,CAAnB,CACZ95B,GADY,CACR,UAACK,CAAD;WAAOwI,MAAM,CAACxI,CAAD,EAAI66B,OAAJ,EAAaK,QAAb,CAAb;GADQ,CAAf;SAGO;IACL56B,IAAI,EAAE,MADD;IAELyG,IAAI,EAAE,OAFD;IAGL0J,CAAC,EAAE4oB,YAAY,CAAC9tB,MAAD;GAHjB;;;AC3BF;;;;AAIA,SAAS4vB,MAAT,CAAgB3e,OAAhB,EAAyB;MACjBlS,IAAI,GAAGkS,OAAO,CAAClS,IAArB;SAEO;IACLhK,IAAI,EAAE,MADD;IAELyG,IAAI,EAAE,OAFD;IAGL9C,CAAC,EAAEuY,OAAO,CAACvY,CAAR,GAAaqG,IAAI,GAAG,CAHlB;IAILlG,CAAC,EAAEoY,OAAO,CAACpY,CAAR,GAAakG,IAAI,GAAG,CAJlB;IAKL1D,KAAK,EAAE0D,IALF;IAMLzD,MAAM,EAAEyD;GANV;;;ACHF,IAAM8wB,kBAAkB,GAAG;EACzBC,EAAE,EAAE,CADqB;EAEzBC,IAAI,EAAE,GAFmB;EAGzB3tB,IAAI,EAAE,EAHmB;EAIzBC,KAAK,EAAE,CAAC;CAJV;;;;;;;AAYA,SAAS2tB,QAAT,CAAkB/e,OAAlB,EAA2B;MACnBlS,IAAI,GAAGkS,OAAO,CAAClS,IAArB;MACMtK,CAAC,GAAG;IAAEiE,CAAC,EAAEuY,OAAO,CAACvY,CAAb;IAAgBG,CAAC,EAAEoY,OAAO,CAACpY;GAArC;MACMo3B,cAAc,GAAGJ,kBAAkB,CAAC5e,OAAO,CAACif,SAAT,CAAlB,IAAyC,CAAhE;MACMC,QAAQ,GAAIpxB,IAAI,GAAG,CAAzB;MACMqD,IAAI,GAAG6O,OAAO,CAACvY,CAAR,GAAYy3B,QAAzB;MACM7tB,GAAG,GAAG2O,OAAO,CAACpY,CAAR,GAAYs3B,QAAxB;MACInwB,MAAM,GAAG,CACX;IAAEtH,CAAC,EAAE0J,IAAL;IAAWvJ,CAAC,EAAEyJ,GAAG,GAAGvD;GADT,EAEX;IAAErG,CAAC,EAAE0J,IAAI,GAAG+tB,QAAZ;IAAsBt3B,CAAC,EAAEyJ;GAFd,EAGX;IAAE5J,CAAC,EAAE0J,IAAI,GAAGrD,IAAZ;IAAkBlG,CAAC,EAAEyJ,GAAG,GAAGvD;GAHhB,EAIX;IAAErG,CAAC,EAAE0J,IAAL;IAAWvJ,CAAC,EAAEyJ,GAAG,GAAGvD;GAJT,CAAb;MAOMuwB,OAAO,GAAGZ,SAAS,CAACuB,cAAD,CAAzB;EACAjwB,MAAM,GAAGA,MAAM,CAAC5L,GAAP,CAAW,UAACg8B,EAAD;WAAQnzB,MAAM,CAACmzB,EAAD,EAAKd,OAAL,EAAc76B,CAAd,CAAd;GAAX,CAAT;SAEO;IACLM,IAAI,EAAE,MADD;IAELyG,IAAI,EAAE,OAFD;IAGL0J,CAAC,EAAE4oB,YAAY,CAAC9tB,MAAD;GAHjB;;;ACjCF,SAASqwB,kBAAT,OAA4C;MAAd33B,CAAc,QAAdA,CAAc;MAAXG,CAAW,QAAXA,CAAW;MAARkG,IAAQ,QAARA,IAAQ;MACpChF,CAAC,GAAGgF,IAAI,GAAG,CAAjB;SACO;IACLhK,IAAI,EAAE,MADD;IAEL2D,CAAC,EAAEA,CAAC,GAAGqB,CAFF;IAGLlB,CAAC,EAAEA,CAAC,GAAGkB,CAHF;IAILsB,KAAK,EAAE0D,IAJF;IAKLzD,MAAM,EAAEyD;GALV;;;;;;;;;AAcF,SAASyB,MAAT,CAAcyQ,OAAd,EAAuB;MACfqf,UAAU,GAAGrf,OAAO,CAACif,SAAR,KAAsB,UAAzC;MACMn2B,CAAC,GAAGkX,OAAO,CAAClS,IAAR,GAAe,CAAzB;MACMrG,CAAC,GAAGuY,OAAO,CAACvY,CAAlB;MACMG,CAAC,GAAGoY,OAAO,CAACpY,CAAlB;SAEO;IACL9D,IAAI,EAAE,MADD;IAELoD,MAAM,EAAE,OAFH;IAGLmwB,WAAW,EAAE,CAHR;IAILluB,EAAE,EAAE1B,CAAC,IAAI43B,UAAU,GAAG,CAAH,GAAOv2B,CAArB,CAJA;IAKLM,EAAE,EAAExB,CAAC,IAAIy3B,UAAU,GAAGv2B,CAAH,GAAO,CAArB,CALA;IAMLO,EAAE,EAAE5B,CAAC,IAAI43B,UAAU,GAAG,CAAH,GAAOv2B,CAArB,CANA;IAOLQ,EAAE,EAAE1B,CAAC,IAAIy3B,UAAU,GAAGv2B,CAAH,GAAO,CAArB,CAPA;IAQLw2B,QAAQ,EAAEF,kBAAkB,CAACpf,OAAD,CARvB;;GAAP;;;ACnBF;;;;;;;;AAOA,SAASuf,IAAT,CAAcvf,OAAd,EAAuB;MACflS,IAAI,GAAGkS,OAAO,CAAClS,IAArB;MACMiB,MAAM,GAAG,EAAf;MACMywB,WAAW,GAAG1xB,IAAI,GAAG,CAA3B;MACM2xB,UAAU,GAAGzf,OAAO,CAACjR,MAAR,IAAkB,CAArC;MACM2wB,WAAW,GAAIh4B,IAAI,CAACwG,GAAL,CAAS8R,OAAO,CAAC0f,WAAR,IAAuB5xB,IAAI,GAAG,CAAvC,EAA0CA,IAA1C,IAAkD,CAAvE;MACMnD,UAAU,GAAGoD,KAAK,CAACiS,OAAO,CAACrV,UAAT,CAAL,GAA4B,EAA5B,GAAiCqV,OAAO,CAACrV,UAA5D;MACMpD,KAAK,GAAG,MAAMk4B,UAApB;;OAEK,IAAI36B,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAI26B,UAArB,EAAiC36B,CAAC,EAAlC,EAAsC;QAC9B66B,MAAM,GAAIp4B,KAAK,GAAGzC,CAAT,GAAc6F,UAA7B;QACM0zB,OAAO,GAAGZ,SAAS,CAACkC,MAAD,CAAzB;QACMC,YAAY,GAAGnC,SAAS,CAACkC,MAAM,GAAIp4B,KAAK,GAAG,CAAnB,CAA9B;QACMK,CAAC,GAAGF,IAAI,CAACG,GAAL,CAASw2B,OAAT,CAAV;QACM52B,CAAC,GAAGC,IAAI,CAACC,GAAL,CAAS02B,OAAT,CAAV;QACMwB,EAAE,GAAGn4B,IAAI,CAACG,GAAL,CAAS+3B,YAAT,CAAX;QACME,EAAE,GAAGp4B,IAAI,CAACC,GAAL,CAASi4B,YAAT,CAAX;IAEA7wB,MAAM,CAAC5K,IAAP,CAAY;MACVsD,CAAC,EAAEuY,OAAO,CAACvY,CAAR,GAAaA,CAAC,GAAG+3B,WADV;MAEV53B,CAAC,EAAEoY,OAAO,CAACpY,CAAR,GAAaA,CAAC,GAAG43B;KAFtB;IAKAzwB,MAAM,CAAC5K,IAAP,CAAY;MACVsD,CAAC,EAAEuY,OAAO,CAACvY,CAAR,GAAaq4B,EAAE,GAAGJ,WADX;MAEV93B,CAAC,EAAEoY,OAAO,CAACpY,CAAR,GAAai4B,EAAE,GAAGH;KAFvB;;;SAMK;IACL57B,IAAI,EAAE,MADD;IAELyG,IAAI,EAAE,OAFD;IAGL0J,CAAC,EAAE4oB,YAAY,CAAC9tB,MAAD;GAHjB;;;ACpCF;;;;;;;AAMA,SAASgxB,QAAT,CAAkB/f,OAAlB,EAA2B;MACnBjR,MAAM,GAAG,EAAf;MACMixB,MAAM,GAAGhgB,OAAO,CAAClS,IAAR,GAAe,CAA9B;MACM2xB,UAAU,GAAG/3B,IAAI,CAACyG,GAAL,CAASJ,KAAK,CAACiS,OAAO,CAACigB,KAAT,CAAL,GAAuB,CAAvB,GAA2BjgB,OAAO,CAACigB,KAA5C,EAAmD,CAAnD,CAAnB;MACM14B,KAAK,GAAG,MAAMk4B,UAApB;MACM90B,UAAU,GAAGoD,KAAK,CAACiS,OAAO,CAACrV,UAAT,CAAL,GAA4B,CAA5B,GAAgCqV,OAAO,CAACrV,UAA3D;;OAEK,IAAI7F,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAI26B,UAArB,EAAiC36B,CAAC,EAAlC,EAAsC;QAC9Bu5B,OAAO,GAAGZ,SAAS,CAAEl2B,KAAK,GAAGzC,CAAT,GAAc6F,UAAf,CAAzB;QACM/C,CAAC,GAAGF,IAAI,CAACG,GAAL,CAASw2B,OAAT,CAAV;QACM52B,CAAC,GAAGC,IAAI,CAACC,GAAL,CAAS02B,OAAT,CAAV;IACAtvB,MAAM,CAAC5K,IAAP,CAAY;MACVsD,CAAC,EAAEuY,OAAO,CAACvY,CAAR,GAAaA,CAAC,GAAGu4B,MADV;MAEVp4B,CAAC,EAAEoY,OAAO,CAACpY,CAAR,GAAaA,CAAC,GAAGo4B;KAFtB;;;SAMK;IACLl8B,IAAI,EAAE,MADD;IAELyG,IAAI,EAAE,OAFD;IAGL0J,CAAC,EAAE4oB,YAAY,CAAC9tB,MAAD;GAHjB;;;ACtBF;;;;;;AAKA,SAASmxB,GAAT,CAAalgB,OAAb,EAAsB;MACdxc,CAAC,GAAG;IAAEiE,CAAC,EAAEuY,OAAO,CAACvY,CAAb;IAAgBG,CAAC,EAAEoY,OAAO,CAACpY;GAArC;MACMy3B,UAAU,GAAGrf,OAAO,CAACif,SAAR,KAAsB,UAAzC;MACMn2B,CAAC,GAAGkX,OAAO,CAAClS,IAAR,GAAe,CAAzB;MACM1D,KAAK,GAAGtB,CAAC,GAAG,CAAlB;MACMq3B,SAAS,GAAG/1B,KAAK,GAAG,CAA1B;MAEI2E,MAAM,GAAG,CACX;IAAEtH,CAAC,EAAEjE,CAAC,CAACiE,CAAF,GAAMqB,CAAX;IAAclB,CAAC,EAAEpE,CAAC,CAACoE,CAAF,GAAMu4B;GADZ,EAEX;IAAE14B,CAAC,EAAEjE,CAAC,CAACiE,CAAF,GAAMqB,CAAX;IAAclB,CAAC,EAAEpE,CAAC,CAACoE,CAAF,GAAMu4B;GAFZ,EAGX;IAAE14B,CAAC,EAAEjE,CAAC,CAACiE,CAAF,GAAMqB,CAAX;IAAclB,CAAC,EAAEpE,CAAC,CAACoE,CAAF,GAAMu4B;GAHZ,EAIX;IAAE14B,CAAC,EAAEjE,CAAC,CAACiE,CAAF,GAAMqB,CAAX;IAAclB,CAAC,EAAEpE,CAAC,CAACoE,CAAF,GAAMu4B;GAJZ,CAAb;;MAOId,UAAJ,EAAgB;QACRhB,OAAO,GAAGZ,SAAS,CAAC,EAAD,CAAzB;IACA1uB,MAAM,GAAGA,MAAM,CAAC5L,GAAP,CAAW,UAACg8B,EAAD;aAAQnzB,MAAM,CAACmzB,EAAD,EAAKd,OAAL,EAAc76B,CAAd,CAAd;KAAX,CAAT;;;MAGI2G,IAAI,GAAGsF,YAAY,CAACV,MAAD,CAAzB;EACA5E,IAAI,CAACrG,IAAL,GAAY,MAAZ;EACAqG,IAAI,CAACI,IAAL,GAAY,OAAZ;SAEOJ,IAAP;;;ACnBF,IAAMi2B,SAAS,GAAG1nB,eAAQ,EAA1B;AAEA0nB,SAAS,CAAC/nB,GAAV,CAAc,QAAd,EAAwBukB,MAAxB;AACAwD,SAAS,CAAC/nB,GAAV,CAAc,SAAd,EAAyB0kB,OAAzB;AACAqD,SAAS,CAAC/nB,GAAV,CAAc,SAAd,EAAyBkmB,OAAzB;AACA6B,SAAS,CAAC/nB,GAAV,CAAc,QAAd,EAAwBsmB,MAAxB;AACAyB,SAAS,CAAC/nB,GAAV,CAAc,UAAd,EAA0B0mB,QAA1B;AACAqB,SAAS,CAAC/nB,GAAV,CAAc,MAAd,EAAsB9I,MAAtB;AACA6wB,SAAS,CAAC/nB,GAAV,CAAc,MAAd,EAAsBknB,IAAtB;AACAa,SAAS,CAAC/nB,GAAV,CAAc,WAAd,EAA2B0nB,QAA3B;AACAK,SAAS,CAAC/nB,GAAV,CAAc,OAAd,EAAuB+kB,KAAvB;AACAgD,SAAS,CAAC/nB,GAAV,CAAc,KAAd,EAAqB6nB,GAArB;;AAEA,SAASG,SAAT,CAAmB5gB,GAAnB,EAAmC;MAAXZ,IAAW,uEAAJ,EAAI;EACjC1Z,MAAM,CAACgS,IAAP,CAAY0H,IAAZ,EAAkB7K,OAAlB,CAA0B,UAAC3O,GAAD,EAAS;QAC7B,OAAO22B,gBAAgB,CAAC32B,GAAD,CAAvB,KAAiC,WAAjC,IAAgDA,GAAG,KAAK,WAA5D,EAAyE;MACvEoa,GAAG,CAACpa,GAAD,CAAH,GAAWwZ,IAAI,CAACxZ,GAAD,CAAf;;GAFJ;;;;;;;;;;;AAcF,IAAMqa,QAAM,GAAG,SAATA,MAAS;MAAC1H,GAAD,uEAAOooB,SAAP;SAAqB,YAAkB;QAAjBpgB,OAAiB,uEAAP,EAAO;;QAE9C9I,EAAE,GAAGc,GAAG,CAACE,GAAJ,CAAQ8H,OAAO,CAAClc,IAAhB,CAAX;;QACIoT,EAAJ,EAAQ;UACAzU,CAAC,GAAGyU,EAAE,CAAC8I,OAAD,CAAZ;MACAqgB,SAAS,CAAC59B,CAAD,EAAIud,OAAJ,CAAT;;UAEI,OAAOA,OAAO,CAACzc,IAAf,KAAwB,WAA5B,EAAyC;QACvCd,CAAC,CAACc,IAAF,GAASyc,OAAO,CAACzc,IAAjB;;;aAGKd,CAAP;;;WAEKyU,EAAP;GAba;CAAf;AAqBA;;;;;;;;;;;AC/CA,IAAMopB,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,IAAD;SAAU,CACnC,IADmC,EAC7B,eAD6B,EACZ,SADY,EACD,aADC,EACc,SADd,EACyB,QADzB,EAEnC,cAFmC,EAEnB,SAFmB,EAER,cAFQ,EAEQ,QAFR,EAEkB,eAFlB,EAEmC,eAFnC,EAGnC,WAHmC,EAGtB,iBAHsB,EAGH,MAHG,EAGK,UAHL,EAGiB,WAHjB,EAInC,OAJmC,EAI1B,OAJ0B,EAIjB,YAJiB,EAIH,UAJG,EAIS,OAJT,EAIkB,UAJlB,EAI8B,YAJ9B,EAKnC,qBALmC,EAKZ,QALY,EAKF,WALE,EAMnCluB,IANmC,CAM9B,UAACmiB,IAAD;WAAUA,IAAI,KAAK+L,IAAnB;GAN8B,CAAV;CAA3B;;AAQA,SAASC,cAAT,CAAwB9a,GAAxB,EAA6B+a,UAA7B,EAAyC5hB,IAAzC,EAA+C;4BAGzC4hB,UAHyC,CAE3CC,OAF2C;MAE3CA,OAF2C,oCAEjC,EAFiC;;MAIvCC,gBAAgB,GAAGF,UAAU,CAACG,QAAX,IAAuB,EAAhD;MAEE/zB,QAN2C,GAuBzCgS,IAvByC,CAM3ChS,QAN2C;MAO3CiM,SAP2C,GAuBzC+F,IAvByC,CAO3C/F,SAP2C;MAQ3C7M,KAR2C,GAuBzC4S,IAvByC,CAQ3C5S,KAR2C;MAS3C1I,IAT2C,GAuBzCsb,IAvByC,CAS3Ctb,IAT2C;MAU3C8xB,QAV2C,GAuBzCxW,IAvByC,CAU3CwW,QAV2C;MAW3CsC,KAX2C,GAuBzC9Y,IAvByC,CAW3C8Y,KAX2C;MAY3C/qB,UAZ2C,GAuBzCiS,IAvByC,CAY3CjS,UAZ2C;MAa3Cg0B,QAb2C,GAuBzC/hB,IAvByC,CAa3C+hB,QAb2C;MAc3Cp8B,QAd2C,GAuBzCqa,IAvByC,CAc3Cra,QAd2C;MAe3C2F,IAf2C,GAuBzC0U,IAvByC,CAe3C1U,IAf2C;MAgB3CgvB,KAhB2C,GAuBzCta,IAvByC,CAgB3Csa,KAhB2C;MAiB3C0H,UAjB2C,GAuBzChiB,IAvByC,CAiB3CgiB,UAjB2C;MAkB3CC,QAlB2C,GAuBzCjiB,IAvByC,CAkB3CiiB,QAlB2C;MAmB3C1T,MAnB2C,GAuBzCvO,IAvByC,CAmB3CuO,MAnB2C;MAoB3C2T,mBApB2C,GAuBzCliB,IAvByC,CAoB3CkiB,mBApB2C;MAqB3CC,MArB2C,GAuBzCniB,IAvByC,CAqB3CmiB,MArB2C;MAsB3CC,SAtB2C,GAuBzCpiB,IAvByC,CAsB3CoiB,SAtB2C;;EAyB7Cvb,GAAG,CAACyH,IAAJ,GAAW,YAAM,EAAjB;;MAEI8T,SAAJ,EAAe;IACbvb,GAAG,CAACub,SAAJ,GAAgBA,SAAhB;GA5B2C;;;EAgC7C97B,MAAM,CAACC,cAAP,CAAsBsgB,GAAtB,EAA2B,UAA3B,EAAuC;IACrCxN,GAAG,EAAErL;GADP;EAGA1H,MAAM,CAACC,cAAP,CAAsBsgB,GAAtB,EAA2B,MAA3B,EAAmC;IACjCxN,GAAG,EAAE3U;GADP;EAGA4B,MAAM,CAACC,cAAP,CAAsBsgB,GAAtB,EAA2B,WAA3B,EAAwC;IACtCxN,GAAG,EAAEY;GADP;EAGA3T,MAAM,CAACC,cAAP,CAAsBsgB,GAAtB,EAA2B,OAA3B,EAAoC;IAClCxN,GAAG,EAAEjM;GADP;EAGA9G,MAAM,CAACC,cAAP,CAAsBsgB,GAAtB,EAA2B,UAA3B,EAAuC;IACrCxN,GAAG,EAAE0oB;GADP;EAGAz7B,MAAM,CAACC,cAAP,CAAsBsgB,GAAtB,EAA2B,OAA3B,EAAoC;IAClCxN,GAAG,EAAEihB;GADP;EAGAh0B,MAAM,CAACC,cAAP,CAAsBsgB,GAAtB,EAA2B,YAA3B,EAAyC;IACvCxN,GAAG,EAAE2oB;GADP;;MAGI12B,IAAJ,EAAU;IACRhF,MAAM,CAACC,cAAP,CAAsBsgB,GAAtB,EAA2B,MAA3B,EAAmC;MACjCxN,GAAG,EAAE/N;KADP;GAtD2C;;;;;MA8DzC42B,mBAAJ,EAAyB;IACvBrb,GAAG,CAACqb,mBAAJ,GAA0BA,mBAA1B;;;EAGF57B,MAAM,CAACgS,IAAP,CAAYspB,UAAZ,EAAwBzsB,OAAxB,CAAgC,UAAC3O,GAAD,EAAS;QACnC,CAACi7B,kBAAkB,CAACj7B,GAAD,CAAvB,EAA8B;;UAExB,OAAOo7B,UAAU,CAACp7B,GAAD,CAAjB,KAA2B,UAA/B,EAA2C;QACzCqgB,GAAG,CAACrgB,GAAD,CAAH,GAAWo7B,UAAU,CAACp7B,GAAD,CAAV,CAAgB67B,IAAhB,CAAqBxb,GAArB,CAAX;OADF,MAEO;QACLA,GAAG,CAACrgB,GAAD,CAAH,GAAWo7B,UAAU,CAACp7B,GAAD,CAArB;;;GANN,EAlE6C;;EA8E7Cq7B,OAAO,CAAC1sB,OAAR,CAAgB,UAACmtB,GAAD,EAAS;QACnBA,GAAG,KAAK,UAAZ,EAAwB;MACtBh8B,MAAM,CAACC,cAAP,CAAsBsgB,GAAtB,EAA2B,UAA3B,EAAuC;QACrCxN,GAAG,EAAEmd;OADP;KADF,MAIO,IAAI8L,GAAG,KAAK,OAAZ,EAAqB;MAC1Bh8B,MAAM,CAACC,cAAP,CAAsBsgB,GAAtB,EAA2B,OAA3B,EAAoC;QAClCxN,GAAG,EAAEyf;OADP;KADK,MAIA,IAAIwJ,GAAG,KAAK,YAAZ,EAA0B;MAC/Bh8B,MAAM,CAACC,cAAP,CAAsBsgB,GAAtB,EAA2B,YAA3B,EAAyC;QACvCxN,GAAG,EAAEtL;OADP;KADK,MAIA,IAAIu0B,GAAG,KAAK,UAAZ,EAAwB;MAC7Bh8B,MAAM,CAACC,cAAP,CAAsBsgB,GAAtB,EAA2B,UAA3B,EAAuC;QACrCxN,GAAG,EAAE1T;OADP;KADK,MAIA,IAAI28B,GAAG,KAAK,QAAR,IAAoB/T,MAAxB,EAAgC;MACrCjoB,MAAM,CAACC,cAAP,CAAsBsgB,GAAtB,EAA2B,QAA3B,EAAqC;QACnCxN,GAAG,EAAEkV;OADP;KADK,MAIA,IAAI+T,GAAG,KAAK,UAAZ,EAAwB;MAC7Bh8B,MAAM,CAACC,cAAP,CAAsBsgB,GAAtB,EAA2B,UAA3B,EAAuC;QACrCxN,GAAG,EAAE4oB;OADP;KADK,MAIA,IAAIK,GAAG,KAAK,QAAZ,EAAsB;MAC3Bh8B,MAAM,CAACC,cAAP,CAAsBsgB,GAAtB,EAA2B,QAA3B,EAAqC;QACnCxN,GAAG,EAAE8oB;OADP;;GA1BJ;;EAgCA77B,MAAM,CAACgS,IAAP,CAAYwpB,gBAAZ,EAA8B3sB,OAA9B,CAAsC,UAACotB,SAAD,EAAe;IACnD1b,GAAG,CAACkb,QAAJ,CAAavG,EAAb,CAAgB+G,SAAhB,EAA2BT,gBAAgB,CAACS,SAAD,CAAhB,CAA4BF,IAA5B,CAAiCxb,GAAjC,CAA3B;GADF;;;AAKF,SAAS2b,oBAAT,CAA8Bx0B,QAA9B,EAAwCK,aAAxC,EAAuD2J,MAAvD,EAA+D;MACvDyqB,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,QAAD,EAAc;QAClC10B,QAAQ,CAAC00B,QAAD,CAAZ,EAAwB;MACtB1qB,MAAM,CAACE,IAAP,mCAAuCwqB,QAAvC,yDADsB;;aAEf10B,QAAQ,CAAC00B,QAAD,CAAf;;;WAEK10B,QAAQ,CAACkI,MAAT,GAAkBlI,QAAQ,CAACkI,MAAT,CAAgBwsB,QAAhB,CAAlB,GAA8Cp1B,SAArD;GALF;;MAQMmU,GAAG,GAAG,EAAZ;EACAA,GAAG,CAACtT,YAAJ,GAAmBs0B,iBAAiB,CAAC,cAAD,CAApC;EACAhhB,GAAG,CAACvT,IAAJ,GAAWu0B,iBAAiB,CAAC,MAAD,CAA5B;EACAhhB,GAAG,CAACrT,SAAJ,GAAgBq0B,iBAAiB,CAAC,WAAD,CAAjC;EACAhhB,GAAG,CAACnT,iBAAJ,GAAwBm0B,iBAAiB,CAAC,mBAAD,CAAzC,CAb6D;;EAgB7Dz0B,QAAQ,CAACkI,MAAT,GAAkBlI,QAAQ,CAACkI,MAAT,IAAmB,EAArC;EACAlI,QAAQ,CAACkI,MAAT,CAAgB/H,YAAhB,GAA+B,OAAOsT,GAAG,CAACtT,YAAX,KAA4B,WAA5B,GAA0CsT,GAAG,CAACtT,YAA9C,GAA6DH,QAAQ,CAACkI,MAAT,CAAgB/H,YAA5G;EACAH,QAAQ,CAACkI,MAAT,CAAgB9H,SAAhB,GAA4B,OAAOqT,GAAG,CAACrT,SAAX,KAAyB,WAAzB,GAAuCqT,GAAG,CAACrT,SAA3C,GAAuDJ,QAAQ,CAACkI,MAAT,CAAgB9H,SAAnG;EACAJ,QAAQ,CAACkI,MAAT,CAAgBhI,IAAhB,GAAuBuT,GAAG,CAACvT,IAAJ,IAAYF,QAAQ,CAACkI,MAAT,CAAgBhI,IAAnD;EACAF,QAAQ,CAACkI,MAAT,CAAgB5H,iBAAhB,GAAoCmT,GAAG,CAACnT,iBAAJ,IAAyBN,QAAQ,CAACkI,MAAT,CAAgB5H,iBAA7E,CApB6D;;EAuB7DmT,GAAG,CAAClT,IAAJ,GAAWP,QAAQ,CAACO,IAApB;EACAkT,GAAG,CAACpT,aAAJ,GAAoBA,aAApB;SACOoT,GAAP;;;AAGF,SAASkhB,YAAT,CAAsB9b,GAAtB,EAA2B+b,OAA3B,EAAoC50B,QAApC,EAA8C;;EAE5C1H,MAAM,CAACgS,IAAP,CAAYtK,QAAQ,CAACwtB,EAAT,IAAe,EAA3B,EAA+BrmB,OAA/B,CAAuC,UAAC0tB,KAAD,EAAW;IAChDhc,GAAG,CAACic,cAAJ,GAAqBjc,GAAG,CAACic,cAAJ,IAAsB,EAA3C;QACMC,QAAQ,GAAG/0B,QAAQ,CAACwtB,EAAT,CAAYqH,KAAZ,EAAmBR,IAAnB,CAAwBxb,GAAxB,CAAjB;IACAA,GAAG,CAACic,cAAJ,CAAmBx9B,IAAnB,CAAwB;MAAEu9B,KAAK,EAALA,KAAF;MAASE,QAAQ,EAARA;KAAjC;IACAH,OAAO,CAACpH,EAAR,CAAWqH,KAAX,EAAkBE,QAAlB;GAJF;;EAMAlc,GAAG,CAACyH,IAAJ,GAAW,UAACqH,IAAD;sCAAUkN,KAAV;MAAUA,KAAV;;;WAAoBD,OAAO,CAACtU,IAAR,OAAAsU,OAAO,GAAMjN,IAAN,SAAekN,KAAf,EAA3B;GAAX;;;AAGF,SAASG,eAAT,CAAyBnc,GAAzB,EAA8B+b,OAA9B,EAAuC;MACjC/b,GAAG,CAACic,cAAR,EAAwB;IACtBjc,GAAG,CAACic,cAAJ,CAAmB3tB,OAAnB,CAA2B,gBAAyB;UAAtB0tB,KAAsB,QAAtBA,KAAsB;UAAfE,QAAe,QAAfA,QAAe;MAClDH,OAAO,CAAClH,cAAR,CAAuBmH,KAAvB,EAA8BE,QAA9B;KADF;IAGAlc,GAAG,CAACic,cAAJ,CAAmBz9B,MAAnB,GAA4B,CAA5B;;;EAEFwhB,GAAG,CAACyH,IAAJ,GAAW,YAAM,EAAjB;;;;;;;;;;AAaF,SAAS2U,gBAAT,CAA0BrB,UAA1B,EAAoD;MAAdlc,OAAc,uEAAJ,EAAI;;8BAI9Ckc,UAJ8C,CAEhDnc,eAFgD;MAEhDA,eAFgD,sCAE9B,EAF8B;8BAI9Cmc,UAJ8C,CAGhDM,mBAHgD;MAGhDA,mBAHgD,sCAG1B;WAAO,EAAP;GAH0B;;MAMhDpJ,MANgD,GAY9CpT,OAZ8C,CAMhDoT,KANgD;MAOhDoK,SAPgD,GAY9Cxd,OAZ8C,CAOhDwd,SAPgD;MAQhDnB,SARgD,GAY9Crc,OAZ8C,CAQhDqc,QARgD;MAShDC,WATgD,GAY9Ctc,OAZ8C,CAShDsc,UATgD;MAUhDnW,KAVgD,GAY9CnG,OAZ8C,CAUhDmG,KAVgD;MAWhD2K,QAXgD,GAY9C9Q,OAZ8C,CAWhD8Q,QAXgD;MAa5CoM,OAAO,GAAG5U,cAAY,CAACD,KAAb,CAAmB,EAAnB,CAAhB;MACIpc,MAAM,GAAG+T,OAAO,CAAC1X,QAAR,IAAoB,EAAjC;;MACIA,SAAQ,GAAG8B,MAAM,CAAC,IAAD,EAAO,EAAP,EAAW2V,eAAX,EAA4B9T,MAA5B,CAArB;;MACIjN,KAAI,GAAG,EAAX;;MACI0I,MAAJ;;MACI6M,UAAJ;;MACI2iB,OAAJ;MACI3tB,IAAJ;;MACIqrB,MAAJ;;MACI2H,SAAQ,GAAGkB,gBAAgB,CAAC;IAC9BrK,KAAK,EAALA;GAD6B,CAA/B;;MAGIsJ,UAAS,GAAG,KAAhB;MAEMgB,SAAS,GAAG;IAChBxM,KAAK,EAAE,EADS;IAEhBkC,KAAK,EAALA,MAFgB;IAGhBnnB,MAAM,EAAE3D,SAAQ,CAACmlB,KAAT,IAAkB,EAHV;IAIhBqD,QAAQ,EAAE;GAJZ;MAMM6M,aAAa,GAAG;IACpBC,GAAG,EAAE,EADe;IAEpBC,IAAI,EAAE;GAFR;MAIMC,YAAY,GAAG,EAArB;MACMC,iBAAiB,GAAG,EAA1B;MACMC,eAAe,GAAG5zB,MAAM,CAAC,EAAD,EAAK6B,MAAL,CAA9B,CAvCkD;;WA0CzCgyB,cAAT,CAAwBC,MAAxB,EAA+E;QAA/CC,aAA+C,uEAA/B,YAAM,EAAyB;QAApBC,UAAoB,uEAAP,KAAO;WACtE,SAASC,EAAT,GAAqB;UACpBC,YAAY,GAAG,OAAOpC,UAAU,CAACgC,MAAD,CAAjB,KAA8B,WAAnD;UACMK,QAAQ,GAAG,OAAOtyB,MAAM,CAACiyB,MAAD,CAAb,KAA0B,WAA3C;UAEIM,WAAJ;;yCAJoB//B,IAAM;QAANA,IAAM;;;UAKtB6/B,YAAJ,EAAkB;YACZ,OAAOpC,UAAU,CAACgC,MAAD,CAAjB,KAA8B,UAAlC,EAA8C;;;UAC5CM,WAAW,GAAG,sBAAAtC,UAAU,CAACgC,MAAD,CAAV,EAAmBn8B,IAAnB,4BAAwBg8B,iBAAxB,SAA8Ct/B,IAA9C,EAAd;SADF,MAEO,IAAI2/B,UAAJ,EAAgB;UACrBI,WAAW,GAAGtC,UAAU,CAACgC,MAAD,CAAxB;;;;UAIAK,QAAJ,EAAc;YACR,OAAOtyB,MAAM,CAACiyB,MAAD,CAAb,KAA0B,UAA9B,EAA0C;;;UACxCM,WAAW,GAAG,kBAAAvyB,MAAM,CAACiyB,MAAD,CAAN,EAAen8B,IAAf,wBAAoBi8B,eAApB,SAAwCv/B,IAAxC,EAAd;SADF,MAEO,IAAI2/B,UAAJ,EAAgB;UACrBI,WAAW,GAAGvyB,MAAM,CAACiyB,MAAD,CAApB;;;;UAIA,CAACI,YAAD,IAAiB,CAACC,QAAtB,EAAgC;QAC9BC,WAAW,GAAGL,aAAa,CAACp8B,IAAd,OAAAo8B,aAAa,GAAMJ,iBAAN,SAA4Bt/B,IAA5B,EAA3B;;;aAGK+/B,WAAP;KAzBF;;;MA6BI71B,aAAa,GAAGs1B,cAAc,CAAC,eAAD,EAAkB;WAAM,CAAN;GAAlB,EAA2B,IAA3B,CAApC;MACMnuB,MAAM,GAAGmuB,cAAc,CAAC,QAAD,EAAW;QAAGl1B,KAAH,SAAGA,KAAH;WAAeA,KAAf;GAAX,CAA7B;MACM01B,OAAO,GAAGR,cAAc,CAAC,SAAD,CAA9B;MACMS,WAAW,GAAGT,cAAc,CAAC,aAAD,CAAlC;MACMU,OAAO,GAAGV,cAAc,CAAC,SAAD,CAA9B;MACMW,aAAa,GAAGX,cAAc,CAAC,eAAD,CAApC;MACMY,YAAY,GAAGZ,cAAc,CAAC,cAAD,CAAnC;MACM5M,OAAO,GAAG4M,cAAc,CAAC,SAAD,CAA9B;MACMa,YAAY,GAAGb,cAAc,CAAC,cAAD,CAAnC;MACMc,aAAa,GAAGd,cAAc,CAAC,eAAD,CAApC;MACMe,SAAS,GAAGf,cAAc,CAAC,WAAD,CAAhC;MACM1L,MAAM,GAAG2J,UAAU,CAAC3J,MAA1B,CAnFkD;;MAqF5C0M,eAAe,GAAG,SAAlBA,eAAkB,GAAM;QACxB32B,SAAQ,CAACmlB,KAAb,EAAoB;OACjBnlB,SAAQ,CAACmlB,KAAT,CAAeyR,OAAf,IAA0B,EAA3B,EAA+BzvB,OAA/B,CAAuC,UAACtB,CAAD,EAAO;YACxCA,CAAC,CAAC6R,OAAF,IAAa7R,CAAC,CAACymB,KAAnB,EAA0B;UACxBkJ,YAAY,CAACl+B,IAAb,CAAkBu/B,MAAW,CAACzB,SAAD,EAAYvvB,CAAZ,CAA7B;;OAFJ;;GAFJ;;MAUMixB,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;QACzB92B,SAAQ,CAACmlB,KAAb,EAAoB;OACjBnlB,SAAQ,CAACmlB,KAAT,CAAe0I,OAAf,IAA0B,EAA3B,EAA+B1mB,OAA/B,CAAuC,UAACtR,CAAD,EAAO;YACxCA,CAAC,CAAC23B,EAAF,KAAS,MAAb,EAAqB;UACnB6H,aAAa,CAACE,IAAd,CAAmBj+B,IAAnB,CAAwBzB,CAAxB;SADF,MAEO;UACLw/B,aAAa,CAACC,GAAd,CAAkBh+B,IAAlB,CAAuBzB,CAAvB;;OAJJ;;GAFJ;;EAYAyC,MAAM,CAACC,cAAP,CAAsB68B,SAAtB,EAAiC,MAAjC,EAAyC;IACvC/pB,GAAG,EAAE;aAAM3U,KAAN;;GADP;MAIMqgC,UAAU,GAAG/2B,SAAQ,CAACwoB,QAAT,IAAqBoL,UAAU,CAACpL,QAAnD;MACMwO,IAAI,GAAGD,UAAU,GAAGvO,QAAQ,IAAIwL,WAAU,CAACxL,QAAX,CAAoBuO,UAApB,GAAf,GAAmDvO,QAAQ,IAAIwL,WAAU,CAACxL,QAAX,IAAtF;EACA4M,SAAS,CAAC5M,QAAV,GAAqBwO,IAArB;MAEMC,yBAAyB,GAAG;IAAEve,SAAS,EAAEoS,MAAK,CAAC9gB,MAAN,GAAe;MAAEA,MAAM,EAAE8gB,MAAK,CAAC9gB,MAAN;KAAzB,GAA4C;GAA3F;;MACIjK,WAAU,GAAGm3B,UAAgB,CAAC1C,oBAAoB,CAACx0B,SAAD,EAAWK,aAAX,EAA0ByqB,MAAK,CAAC9gB,MAAN,EAA1B,CAArB,EAAgEitB,yBAAhE,CAAjC;;MAEME,mBAAmB,GAAG,SAAtBA,mBAAsB,CAAC7b,IAAD,EAAU;IACpCA,IAAI,CAAC9iB,GAAL,GAAWwH,SAAQ,CAACxH,GAApB;IACA8iB,IAAI,CAACsT,OAAL,GAAeoI,IAAI,CAACpI,OAAL,EAAf;GAFF;;MAKMvkB,EAAE,GAAG,SAALA,EAAK,GAAM,EAAjB;;EAEAA,EAAE,CAACtK,UAAH,GAAgB;WAAMA,WAAN;GAAhB,CA7HkD;;;EAgIlDsK,EAAE,CAAC2X,GAAH,GAAS,YAAe;QAAdhQ,IAAc,uEAAP,EAAO;;QAClBA,IAAI,CAAChS,QAAT,EAAmB;MACjB2D,MAAM,GAAGqO,IAAI,CAAChS,QAAd;MACAA,SAAQ,GAAG8B,MAAM,CAAC,IAAD,EAAO,EAAP,EAAW2V,eAAX,EAA4BzF,IAAI,CAAChS,QAAjC,CAAjB;MACAD,WAAU,GAAGm3B,UAAgB,CAAC1C,oBAAoB,CAACx0B,SAAD,EAAWK,aAAX,EAA0ByqB,MAAK,CAAC9gB,MAAN,EAA1B,CAArB,EAAgEitB,yBAAhE,CAA7B;;;QAGEj3B,SAAQ,CAACZ,KAAb,EAAoB;MAClBA,MAAK,GAAG0rB,MAAK,CAAC1rB,KAAN,CAAYY,SAAQ,CAACZ,KAArB,CAAR;;;QAGEY,SAAQ,CAACtJ,IAAb,EAAmB;MACjBA,KAAI,GAAG2c,OAAW,CAACrT,SAAQ,CAACtJ,IAAV,EAAgB;QAAE0T,OAAO,EAAE0gB,MAAK,CAAC1gB,OAAjB;QAA0B8H,UAAU,EAAE4Y,MAAK,CAACsM;OAA5D,EAA8E;QAAEptB,MAAM,EAAE8gB,MAAK,CAAC9gB,MAAN;OAAxF,EAA0G8gB,MAAK,CAACsM,cAAhH,CAAlB;KADF,MAEO,IAAIh4B,MAAJ,EAAW;MAChB1I,KAAI,GAAG0I,MAAK,CAAC1I,IAAN,EAAP;KADK,MAEA;MACLA,KAAI,GAAG,EAAP;;;QAGE,OAAOsJ,SAAQ,CAACiM,SAAhB,KAA8B,QAAlC,EAA4C;MAC1CA,UAAS,GAAG6e,MAAK,CAAC7e,SAAN,CAAgBjM,SAAQ,CAACiM,SAAzB,CAAZ;KADF,MAEO,IAAI,QAAOjM,SAAQ,CAACiM,SAAhB,MAA8B,QAAlC,EAA4C;MACjDA,UAAS,GAAG6e,MAAK,CAAC7e,SAAN,CAAgBjM,SAAQ,CAACiM,SAAzB,CAAZ;KADK,MAEA,IAAI7M,MAAK,IAAIA,MAAK,CAAC1I,IAAN,GAAamb,MAA1B,EAAkC;MACvC5F,UAAS,GAAG7M,MAAK,CAAC1I,IAAN,GAAamb,MAAb,CAAoB,CAApB,EAAuB5F,SAAvB,EAAZ;;;IAGFqgB,MAAK,GAAGzO,KAAK,CAACyO,KAAN,CAAYtsB,SAAQ,CAACssB,KAAT,IAAkB,EAA9B,CAAR;GA3BF;;EA8BAjiB,EAAE,CAAC7C,MAAH,GAAY,YAA4B;QAA3B/G,KAA2B,uEAAnB,EAAmB;QAAfC,KAAe,uEAAP,EAAO;QAChC22B,OAAO,GAAG7vB,MAAM,CAAC;MACrB/G,KAAK,EAALA,KADqB;MAErBC,KAAK,EAALA;KAFoB,CAAtB;;QAII22B,OAAJ,EAAa;MACXp2B,IAAI,GAAG+1B,IAAI,CAAC/1B,IAAL,CAAUo2B,OAAV,CAAP;KADF,MAEO;MACLp2B,IAAI,GAAG+1B,IAAI,CAAC/1B,IAAL,CAAUR,KAAV,CAAP;;;IAEFi1B,eAAe,CAACp4B,IAAhB,GAAuBwE,MAAM,CAAC,IAAD,EAAO;MAClCw1B,gBAAgB,EAAEr2B,IAAI,CAACq2B,gBADW;MAElCC,aAAa,EAAE72B,KAAK,CAAC6G,QAAN,IAAkB7G,KAFC;MAGlC82B,aAAa,EAAE/2B,KAAK,CAAC8G,QAAN,IAAkB9G;KAHN,EAI1BA,KAJ0B,CAA7B;IAKAQ,IAAI,GAAGa,MAAM,CAAC,IAAD,EAAO;MAClBy1B,aAAa,EAAE72B,KAAK,CAAC6G,QAAN,IAAkB7G,KADf;MAElB82B,aAAa,EAAE/2B,KAAK,CAAC8G,QAAN,IAAkB9G;KAFtB,EAGVQ,IAHU,CAAb;GAfF;;EAqBAoJ,EAAE,CAACotB,OAAH,GAAa;WAAM/B,eAAe,CAACp4B,IAAtB;GAAb;;MAEMo6B,aAAa,GAAG,SAAhBA,aAAgB,GAAM;QACpBC,UAAU,GAAGX,IAAI,CAACW,UAAL,GAAkBX,IAAI,CAACW,UAAL,CAAgBhyB,KAAhB,CAAsB,CAAtB,CAAlB,GAA6C,EAAhE;IACAgyB,UAAU,CAACrgC,IAAX,CAAgB;MACdZ,IAAI,EAAJA;KADF;WAGOihC,UAAP;GALF;;EAQAttB,EAAE,CAAC+rB,WAAH,GAAiBA,WAAjB;;EAEA/rB,EAAE,CAACmsB,YAAH,GAAkB,YAAM;IACtBA,YAAY,CAAC;MACXv1B,IAAI,EAAJA;KADU,CAAZ;GADF;;MAMI6oB,YAAJ;;EAEAzf,EAAE,CAAC4f,MAAH,GAAY,YAAM;QACVrB,KAAK,GAAGwM,SAAS,CAACxM,KAAV,GAAkBqB,MAAM,CAACxwB,IAAP,OAAAwwB,MAAM,GAAMwL,iBAAN,8BAA4BiC,aAAa,EAAzC,GAAtC;IACAV,IAAI,CAAC/M,MAAL,CAAYrB,KAAZ;IACAkB,YAAY,GAAGlB,KAAf;GAHF;;EAMAve,EAAE,CAACutB,IAAH,GAAU,YAAM;IACdvtB,EAAE,CAACwtB,OAAH;IACAb,IAAI,CAAC/1B,IAAL,CAAU;MACRrG,CAAC,EAAE,CADK;MAERG,CAAC,EAAE,CAFK;MAGRwC,KAAK,EAAE,CAHC;MAIRC,MAAM,EAAE;KAJV;IAMAw5B,IAAI,CAAC/U,KAAL;GARF;;EAWA5X,EAAE,CAACksB,YAAH,GAAkB,YAAM;IACtBA,YAAY,CAAC;MACXv2B,QAAQ,EAARA,SADW;MAEXtJ,IAAI,EAAJA;KAFU,CAAZ;GADF;;MAOIohC,YAAJ;;EACAztB,EAAE,CAACkW,MAAH,GAAY,YAAM;QACZuX,YAAJ,EAAkB;MAChBA,YAAY,CAACjO,IAAb;;;QAEIjB,KAAK,GAAGwM,SAAS,CAACxM,KAAV,GAAkBqB,MAAM,CAACxwB,IAAP,OAAAwwB,MAAM,GAAMwL,iBAAN,8BAA4BiC,aAAa,EAAzC,GAAtC,CAJgB;;IAOhBlC,YAAY,CAACruB,OAAb,CAAqB,UAACtB,CAAD;aAAOA,CAAC,CAAC4nB,OAAF,EAAP;KAArB;IACA+H,YAAY,CAACn+B,MAAb,GAAsB,CAAtB;IACAg+B,aAAa,CAACC,GAAd,GAAoB,EAApB;IACAD,aAAa,CAACE,IAAd,GAAqB,EAArB;;QAEIv1B,SAAQ,CAACmlB,KAAb,EAAoB;MAClBwR,eAAe;MACfG,gBAAgB;;;IAGlBtB,YAAY,CAACruB,OAAb,CAAqB,UAAC4wB,EAAD,EAAQ;UACvBA,EAAE,CAAC1R,QAAH,EAAJ,EAAmB;QACjB0R,EAAE,CAACxX,MAAH;;KAFJ;;QAMIuJ,YAAY,IAAI9pB,SAAQ,CAACg4B,UAAzB,IAAuCh4B,SAAQ,CAACg4B,UAAT,CAAoBC,OAA/D,EAAwE;MACtEH,YAAY,GAAGvP,KAAK,CAAC;QACnBhF,GAAG,EAAEuG,YADc;QAEnBtG,OAAO,EAAEoF;OAFS,EAGjB;QAAEJ,QAAQ,EAAEwO;OAHK,EAGGh3B,SAAQ,CAACg4B,UAHZ,CAApB;MAIAF,YAAY,CAAC57B,KAAb;KALF,MAMO;MACL86B,IAAI,CAAC/M,MAAL,CAAYrB,KAAZ;;;IAEFkB,YAAY,GAAGlB,KAAf;;QAEIoO,IAAI,CAACkB,MAAL,IAAe,OAAOv0B,MAAM,CAACnL,GAAd,KAAsB,QAAzC,EAAmD;MACjDw+B,IAAI,CAACkB,MAAL,CAAYv0B,MAAM,CAACnL,GAAnB;;GAnCJ;;EAuCA6R,EAAE,CAAC0e,OAAH,GAAaA,OAAb;;EAEA1e,EAAE,CAAC8tB,OAAH,GAAa,YAAM;IACjB9tB,EAAE,CAACwtB,OAAH;IACApB,aAAa,CAAC7H,OAAD,CAAb;IACAoI,IAAI,CAACmB,OAAL;IACAzB,SAAS;IACT9H,OAAO,GAAG,IAAV;GALF;;;;;;;;;;MAeMwJ,WAAW,GAAG,SAAdA,WAAc,CAACxP,KAAD,EAAW;IAC7BwM,SAAS,CAACxM,KAAV,GAAkBA,KAAlB;IACA4M,YAAY,CAACruB,OAAb,CAAqB,UAAC4wB,EAAD,EAAQ;UACvBA,EAAE,CAAC1R,QAAH,EAAJ,EAAmB;QACjB0R,EAAE,CAACxX,MAAH;;KAFJ;IAKAyW,IAAI,CAAC/M,MAAL,CAAYrB,KAAZ;GAPF,CAxRkD;;;EAmSlD+K,cAAc,CAAC8B,iBAAD,EAAoB7B,UAApB,EAAgC;IAC5C5zB,QAAQ,EAAE;aAAMA,SAAN;KADkC;IAE5CtJ,IAAI,EAAE;aAAMA,KAAN;KAFsC;IAG5C0I,KAAK,EAAE;aAAMA,MAAN;KAHqC;IAI5C6M,SAAS,EAAE;aAAMA,UAAN;KAJiC;IAK5Cuc,QAAQ,EAAE;aAAMwO,IAAN;KALkC;IAM5ClM,KAAK,EAAE;aAAMA,MAAN;KANqC;IAO5C/qB,UAAU,EAAE;aAAMA,WAAN;KAPgC;IAQ5Cg0B,QAAQ,EAAE;aAAMA,SAAN;KARkC;IAS5Cp8B,QAAQ,EAAE;aAAM+9B,eAAN;KATkC;IAU5Cp4B,IAAI,EAAE;aAAMo4B,eAAe,CAACp4B,IAAtB;KAVsC;IAW5CgvB,KAAK,EAAE;aAAMA,MAAN;KAXqC;IAY5C/L,MAAM,EAAE;aAAM6X,WAAN;KAZoC;IAa5CpE,UAAU,EAAE;aAAMA,WAAN;KAbgC;IAc5CC,QAAQ,EAAE;aAAMA,SAAN;KAdkC;IAe5CE,MAAM,EAAE;aAAMkE,QAAmB,CAACrE,WAAU,CAACG,MAAZ,CAAzB;;GAfI,CAAd;EAkBAR,cAAc,CAAC+B,eAAD,EAAkB/xB,MAAlB,EAA0B;IACtC3D,QAAQ,EAAE;aAAMA,SAAN;KAD4B;IAEtCtJ,IAAI,EAAE;aAAMA,KAAN;KAFgC;IAGtC0I,KAAK,EAAE;aAAMA,MAAN;KAH+B;IAItC6M,SAAS,EAAE;aAAMA,UAAN;KAJ2B;IAKtCuc,QAAQ,EAAE;aAAMwO,IAAN;KAL4B;IAMtClM,KAAK,EAAE;aAAMA,MAAN;KAN+B;IAOtC/qB,UAAU,EAAE;aAAMA,WAAN;KAP0B;IAQtCg0B,QAAQ,EAAE;aAAMA,SAAN;KAR4B;IAStCzH,KAAK,EAAE;aAAMA,MAAN;KAT+B;IAUtC4H,mBAAmB,EAAEA,mBAAmB,CAACG,IAApB,CAAyBoB,iBAAzB,CAViB;IAWtCrB,SAAS,EAAE;aAAMA,UAAN;;GAXC,CAAd;;EAcA/pB,EAAE,CAACiuB,gBAAH,GAAsB,SAASA,gBAAT,CAA0BC,QAA1B,EAAoC/Q,IAApC,EAA0CxvB,KAA1C,EAAiD;QAC/DwgC,MAAM,GAAG,EAAf;;QACIx4B,SAAQ,CAACmlB,KAAT,IAAkBnlB,SAAQ,CAACmlB,KAAT,CAAeyR,OAArC,EAA8C;UACtCrK,OAAO,GAAGzB,MAAK,CAAC3F,KAAN,CAAYoT,QAAZ,CAAhB;;UACME,UAAU,GAAGzB,IAAI,CAAC0B,UAAL,CAAgB,GAAhB,CAAnB;;MACA14B,SAAQ,CAACmlB,KAAT,CAAeyR,OAAf,CACG7wB,MADH,CACU,UAAClQ,CAAD;eAAOA,CAAC,CAAC6hB,OAAF,KAAc6gB,QAArB;OADV,EAEGpxB,OAFH,CAEW,UAACyvB,OAAD,EAAa;aACf,IAAI3+B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGwgC,UAAU,CAACphC,MAA/B,EAAuCY,CAAC,EAAxC,EAA4C;cACpCqjB,IAAI,GAAGmd,UAAU,CAACxgC,CAAD,CAAvB;;cACIqjB,IAAI,CAAC5kB,IAAL,IAAa61B,OAAO,CAAChF,kBAAR,CAA2BjM,IAAI,CAAC5kB,IAAhC,EAAsCsB,KAAK,IAAI4+B,OAAO,CAAClgC,IAAvD,EAA6D8wB,IAA7D,CAAjB,EAAqF;YACnF2P,mBAAmB,CAAC7b,IAAD,CAAnB;YACAkd,MAAM,CAAClhC,IAAP,CAAYgkB,IAAZ;YACAmd,UAAU,CAACjhC,MAAX,CAAkBS,CAAlB,EAAqB,CAArB;YACAA,CAAC;;;OATT;;;WAcKugC,MAAP;GAnBF;;EAsBAnuB,EAAE,CAACquB,UAAH,GAAgB,UAACC,QAAD,EAAc;QACtBH,MAAM,GAAGxB,IAAI,CAAC0B,UAAL,CAAgBC,QAAhB,CAAf;;SACK,IAAI1gC,CAAC,GAAG,CAAR,EAAWkK,GAAG,GAAGq2B,MAAM,CAACnhC,MAA7B,EAAqCY,CAAC,GAAGkK,GAAzC,EAA8ClK,CAAC,EAA/C,EAAmD;MACjDk/B,mBAAmB,CAACqB,MAAM,CAACvgC,CAAD,CAAP,CAAnB;;;WAGKugC,MAAP;GANF;;EASAnuB,EAAE,CAACuuB,QAAH,GAAc,UAAC11B,KAAD,EAAsB;QAAd8O,IAAc,uEAAP,EAAO;QAC5BhD,KAAK,GAAGgoB,IAAI,CAACjI,OAAL,CAAa7rB,KAAb,CAAd;QACIs1B,MAAJ;;QAEIxmB,IAAI,IAAIA,IAAI,CAACwc,WAAL,KAAqB,MAA7B,IAAuCxf,KAAK,CAAC3X,MAAN,GAAe,CAA1D,EAA6D;MAC3DmhC,MAAM,GAAG,CAACxpB,KAAK,CAACgL,GAAN,GAAYsB,IAAb,CAAT;KADF,MAEO;MACLkd,MAAM,GAAGxpB,KAAK,CAAC1Y,GAAN,CAAU,UAAC2B,CAAD;eAAOA,CAAC,CAACqjB,IAAT;OAAV,CAAT;;;SAGG,IAAIrjB,CAAC,GAAG,CAAR,EAAWkK,GAAG,GAAGq2B,MAAM,CAACnhC,MAA7B,EAAqCY,CAAC,GAAGkK,GAAzC,EAA8ClK,CAAC,EAA/C,EAAmD;MACjDk/B,mBAAmB,CAACqB,MAAM,CAACvgC,CAAD,CAAP,CAAnB;;;WAGKugC,MAAP;GAdF;;EAiBAnuB,EAAE,CAACwuB,eAAH,GAAqB,UAACL,MAAD,EAA0B;QAAjB3K,OAAiB,uEAAP,EAAO;IAC7CA,OAAO,CAACM,QAAR,GAAmBj1B,KAAK,CAACC,OAAN,CAAc00B,OAAO,CAACM,QAAtB,IAAkCN,OAAO,CAACM,QAA1C,GAAqD,EAAxE;QACMvJ,MAAM,GAAGiJ,OAAO,CAACjJ,MAAR,IAAkB,QAAjC;IAEAwJ,mBAAmB,CAAC;MAClBxF,KAAK,EAAE4P,MADW;MAElB5T,MAAM,EAANA,MAFkB;MAGlBiJ,OAAO,EAAPA,OAHkB;MAIlB/C,KAAK,EAALA,MAJkB;MAKlBp0B,IAAI,EAAE0+B,SAAS,CAAC1+B;KALC,CAAnB;GAJF;;EAaA2T,EAAE,CAACyuB,KAAH,GAAW,YAAM;IACflK,OAAO,GAAGoI,IAAI,CAACpI,OAAL,IAAgBoI,IAAI,CAACpI,OAAL,EAAhB,GAAiCA,OAAjC,GAA2CoI,IAAI,CAAC+B,QAAL,CAAc7D,SAAd,CAArD;;QACI8B,IAAI,CAACkB,MAAL,IAAe,OAAOv0B,MAAM,CAACnL,GAAd,KAAsB,QAAzC,EAAmD;MACjDw+B,IAAI,CAACkB,MAAL,CAAYv0B,MAAM,CAACnL,GAAnB;;;QAGEwH,SAAQ,CAACmlB,KAAb,EAAoB;MAClBwR,eAAe;MACfG,gBAAgB;;;IAGlBnC,YAAY,CAACe,eAAD,EAAkBd,OAAlB,EAA2BjxB,MAA3B,CAAZ;IACAgxB,YAAY,CAACc,iBAAD,EAAoBb,OAApB,EAA6BhB,UAA7B,CAAZ;IAEAQ,UAAS,GAAG,IAAZ;GAdF;;EAiBA/pB,EAAE,CAACgsB,OAAH,GAAa;WAAMA,OAAO,CAACzH,OAAD,CAAb;GAAb;;EAEAvkB,EAAE,CAACwtB,OAAH,GAAa,YAAM;KAChBnC,eAAD,EAAkBD,iBAAlB,EAAqCtuB,OAArC,CAA6C,UAAC0R,GAAD,EAAS;MACpDmc,eAAe,CAACnc,GAAD,EAAM+b,OAAN,CAAf;KADF;IAGAS,aAAa,CAACC,GAAd,GAAoB,EAApB;IACAD,aAAa,CAACE,IAAd,GAAqB,EAArB;IACAC,YAAY,CAACruB,OAAb,CAAqB,UAAC4wB,EAAD,EAAQ;MAC3BA,EAAE,CAACtK,OAAH;KADF;IAGA+H,YAAY,CAACn+B,MAAb,GAAsB,CAAtB;IACAi/B,aAAa;IAEblC,UAAS,GAAG,KAAZ;GAZF;;EAeA/pB,EAAE,CAAC2uB,UAAH,GAAgB,UAACrwB,CAAD,EAAO;IACrB0sB,aAAa,CAACC,GAAd,CAAkBnuB,OAAlB,CAA0B,UAACtR,CAAD,EAAO;UAC3Bo5B,eAAe,CAAC;QAAEtmB,CAAC,EAADA,CAAF;QAAK9S,CAAC,EAADA,CAAL;QAAQ8N,MAAM,EAAEyxB;OAAjB,CAAf,IAAgDv/B,CAAC,CAACojC,iBAAF,KAAwB,MAA5E,EAAoF;QAClFnO,MAAK,CAACoO,cAAN,CAAqB,IAArB;;KAFJ;GADF;;EAQA7uB,EAAE,CAAC8uB,WAAH,GAAiB,UAACxwB,CAAD,EAAO;IACtB0sB,aAAa,CAACE,IAAd,CAAmBpuB,OAAnB,CAA2B,UAACtR,CAAD,EAAO;UAC5Bq5B,gBAAgB,CAAC;QAAEvmB,CAAC,EAADA,CAAF;QAAK9S,CAAC,EAADA,CAAL;QAAQ8N,MAAM,EAAEyxB;OAAjB,CAAhB,IAAiDv/B,CAAC,CAACojC,iBAAF,KAAwB,MAA7E,EAAqF;QACnFnO,MAAK,CAACoO,cAAN,CAAqB,IAArB;;KAFJ;GADF;;;;;;;;EAaA7uB,EAAE,CAACoJ,GAAH,GAASgiB,iBAAT;;;;;;;EAOAprB,EAAE,CAACwO,GAAH,GAAS6c,eAAT;;EAEArrB,EAAE,CAACme,QAAH,GAAc;WAAMwO,IAAN;GAAd;;EAEA3sB,EAAE,CAAC2X,GAAH,CAAO;IAAEhiB,QAAQ,EAAE2D;GAAnB;EACAwyB,OAAO;SAEA9rB,EAAP;;;ACxoBa,SAAS0pB,QAAT,GAAoB;MAC3Bp8B,QAAQ,GAAG,EAAjB;EACAqoB,cAAY,CAACD,KAAb,CAAmBpoB,QAAnB;SACOA,QAAP;;;ACDF,IAAMyhC,OAAO,GAAG,KAAhB;AAEA,AAAO,SAASC,kBAAT,CAA4Bn9B,KAA5B,EAAmCC,GAAnC,EAAwCxF,CAAxC,EAA2C;MAC1C2iC,YAAY,GAAGtI,GAAG,CAACr6B,CAAD,EAAIuF,KAAJ,CAAxB;MACMq9B,UAAU,GAAGvI,GAAG,CAAC70B,GAAD,EAAMD,KAAN,CAAtB;MACMs9B,WAAW,GAAGhuB,KAAG,CAAC+lB,WAAW,CAAC+H,YAAD,EAAeC,UAAf,CAAZ,EAAwCr9B,KAAxC,CAAvB;SACOs9B,WAAP;;AAGF,AAAO,SAASC,aAAT,CAAuBv9B,KAAvB,EAA8BC,GAA9B,EAAmCxF,CAAnC,EAAsC;SACnCif,QAAQ,CAAC1Z,KAAD,EAAQvF,CAAR,CAAR,GAAqBif,QAAQ,CAACzZ,GAAD,EAAMxF,CAAN,CAA9B,GAA0Cif,QAAQ,CAAC1Z,KAAD,EAAQC,GAAR,CAAlD,GAAiEi9B,OAAxE;;AAGF,AAKA;;;;;;;AAMA,AAAO,SAASM,gBAAT,CAA0BpkC,CAA1B,EAA6BuQ,CAA7B,EAAgC;SAC9BvQ,CAAC,CAACsF,CAAF,IAAOiL,CAAC,CAACjL,CAAT,IACEtF,CAAC,CAACsF,CAAF,GAAMtF,CAAC,CAACiI,KAAR,IAAiBsI,CAAC,CAACjL,CAAF,GAAMiL,CAAC,CAACtI,KAD3B,IAEEjI,CAAC,CAACyF,CAAF,IAAO8K,CAAC,CAAC9K,CAFX,IAGEzF,CAAC,CAACyF,CAAF,GAAMzF,CAAC,CAACkI,MAAR,IAAkBqI,CAAC,CAAC9K,CAAF,GAAM8K,CAAC,CAACrI,MAHnC;;;ACZF,SAASm8B,eAAT,CAAyBj3B,IAAzB,EAA+B;SACtBA,IAAI,CAACpG,EAAL,KAAYoG,IAAI,CAAClG,EAAjB,IAAuBkG,IAAI,CAACnG,EAAL,KAAYmG,IAAI,CAACjG,EAA/C;;;AAGF,SAASm9B,aAAT,CAAuBt8B,IAAvB,EAA6B;SACpBA,IAAI,CAACC,KAAL,IAAc,CAAd,IAAmBD,IAAI,CAACE,MAAL,IAAe,CAAzC;;;AAGF,SAASq8B,eAAT,CAAyB9J,MAAzB,EAAiC;SACxBA,MAAM,CAAC9zB,CAAP,IAAY,CAAnB;;;AAGF,SAAS69B,UAAT,CAAoBC,OAApB,EAA6B;SACpBA,OAAO,CAACC,KAAR,CAAc3iC,MAAd,IAAwB,CAA/B;;;;;;;;;;;;;;;;;AAgBF,AAAO,SAAS4iC,eAAT,CAAyBlK,MAAzB,EAAiCt1B,KAAjC,EAAwC;MACzCo/B,eAAe,CAAC9J,MAAD,CAAnB,EAA6B;WACpB,KAAP;;;MAGItuB,MAAM,GAAG;IAAE7G,CAAC,EAAEm1B,MAAM,CAACjtB,EAAZ;IAAgB/H,CAAC,EAAEg1B,MAAM,CAAChtB;GAAzC;MACMm3B,OAAO,GAAG9I,WAAW,CAAC3vB,MAAD,EAAShH,KAAT,CAA3B;;MAEIy/B,OAAO,IAAIr/B,IAAI,CAACw2B,GAAL,CAAStB,MAAM,CAAC9zB,CAAhB,EAAmB,CAAnB,CAAf,EAAsC;WAC7B,IAAP;;;SAEK,KAAP;;;;;;;;;;;;;;;;;;;AAmBF,AAAO,SAASk+B,cAAT,CAAwBpK,MAAxB,EAAgCzyB,IAAhC,EAAsC;MACvCs8B,aAAa,CAACt8B,IAAD,CAAb,IAAuBu8B,eAAe,CAAC9J,MAAD,CAA1C,EAAoD;WAC3C,KAAP;;;MAEIqK,EAAE,GAAG98B,IAAI,CAACC,KAAL,GAAa,CAAxB;MACM88B,EAAE,GAAG/8B,IAAI,CAACE,MAAL,GAAc,CAAzB;MACM88B,GAAG,GAAGh9B,IAAI,CAAC1C,CAAL,GAASw/B,EAArB;MACMG,GAAG,GAAGj9B,IAAI,CAACvC,CAAL,GAASs/B,EAArB;MACMp+B,CAAC,GAAG8zB,MAAM,CAAC9zB,CAAjB;MACM6G,EAAE,GAAGitB,MAAM,CAACjtB,EAAlB;MACMC,EAAE,GAAGgtB,MAAM,CAAChtB,EAAlB;MACMy3B,EAAE,GAAG3/B,IAAI,CAAC2O,GAAL,CAAS1G,EAAE,GAAGw3B,GAAd,CAAX;MACMG,EAAE,GAAG5/B,IAAI,CAAC2O,GAAL,CAASzG,EAAE,GAAGw3B,GAAd,CAAX;;MAEIC,EAAE,GAAGJ,EAAE,GAAGn+B,CAAV,IAAew+B,EAAE,GAAGJ,EAAE,GAAGp+B,CAA7B,EAAgC;WAAS,KAAP;;;MAE9Bu+B,EAAE,IAAIJ,EAAN,IAAYK,EAAE,IAAIJ,EAAtB,EAA0B;WAAS,IAAP;;;MAEtBH,OAAO,GAAGr/B,IAAI,CAACw2B,GAAL,CAASmJ,EAAE,GAAGJ,EAAd,EAAkB,CAAlB,IAAuBv/B,IAAI,CAACw2B,GAAL,CAASoJ,EAAE,GAAGJ,EAAd,EAAkB,CAAlB,CAAvC;SAEOH,OAAO,IAAIr/B,IAAI,CAACw2B,GAAL,CAASp1B,CAAT,EAAY,CAAZ,CAAlB;;;;;;;;;;;;;;;;;;;AAmBF,AAAO,SAASy+B,cAAT,CAAwB3K,MAAxB,EAAgCrtB,IAAhC,EAAsC;MACvCm3B,eAAe,CAAC9J,MAAD,CAAf,IAA2B4J,eAAe,CAACj3B,IAAD,CAA9C,EAAsD;WAC7C,KAAP;;;sBAGeD,YAAY,CAACC,IAAD,CALc;;MAKpCi4B,EALoC;MAKhCC,EALgC;;MAMvCX,eAAe,CAAClK,MAAD,EAAS4K,EAAT,CAAf,IAA+BV,eAAe,CAAClK,MAAD,EAAS6K,EAAT,CAAlD,EAAgE;WACvD,IAAP;;;MAGIn5B,MAAM,GAAG;IAAE7G,CAAC,EAAEm1B,MAAM,CAACjtB,EAAZ;IAAgB/H,CAAC,EAAEg1B,MAAM,CAAChtB;GAAzC;MACMy2B,WAAW,GAAGH,kBAAkB,CAACsB,EAAD,EAAKC,EAAL,EAASn5B,MAAT,CAAtC;MACMo5B,IAAI,GAAGzJ,WAAW,CAACoI,WAAD,EAAc/3B,MAAd,CAAxB;SAEOo5B,IAAI,IAAIhgC,IAAI,CAACw2B,GAAL,CAAStB,MAAM,CAAC9zB,CAAhB,EAAmB,CAAnB,CAAR,IAAiCw9B,aAAa,CAACkB,EAAD,EAAKC,EAAL,EAASpB,WAAT,CAArD;;;;;;;;;;;;;;;;;AAiBF,AAAO,SAASsB,gBAAT,CAA0BC,OAA1B,EAAmCC,OAAnC,EAA4C;MAC7CnB,eAAe,CAACkB,OAAD,CAAf,IAA4BlB,eAAe,CAACmB,OAAD,CAA/C,EAA0D;WAAS,KAAP;;;MAEtD7/B,EAAE,GAAG4/B,OAAO,CAACj4B,EAAR,GAAak4B,OAAO,CAACl4B,EAAhC;MACM1H,EAAE,GAAG2/B,OAAO,CAACh4B,EAAR,GAAai4B,OAAO,CAACj4B,EAAhC;MACMm3B,OAAO,GAAGr/B,IAAI,CAACw2B,GAAL,CAASl2B,EAAT,EAAa,CAAb,IAAkBN,IAAI,CAACw2B,GAAL,CAASj2B,EAAT,EAAa,CAAb,CAAlC;;MAEI8+B,OAAO,IAAIr/B,IAAI,CAACw2B,GAAL,CAAS0J,OAAO,CAAC9+B,CAAR,GAAY++B,OAAO,CAAC/+B,CAA7B,EAAgC,CAAhC,CAAf,EAAmD;WAC1C,IAAP;;;SAEK,KAAP;;;;;;;;;;;;;;;;;;;;;;;;AAwBF,AAAO,SAASg/B,iBAAT,CAA2BlL,MAA3B,EAAmCgK,OAAnC,EAA4C;;MAE7CD,UAAU,CAACC,OAAD,CAAV,IAAuBF,eAAe,CAAC9J,MAAD,CAA1C,EAAoD;WAC3C,KAAP;;;MAGItuB,MAAM,GAAG;IAAE7G,CAAC,EAAEm1B,MAAM,CAACjtB,EAAZ;IAAgB/H,CAAC,EAAEg1B,MAAM,CAAChtB;GAAzC;;MACIm4B,gBAAgB,CAACnB,OAAD,EAAUt4B,MAAV,CAApB,EAAuC;WAC9B,IAAP;;;MAGIU,GAAG,GAAG43B,OAAO,CAACC,KAAR,CAAc3iC,MAA1B;;OAEK,IAAIY,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkK,GAApB,EAAyBlK,CAAC,EAA1B,EAA8B;QACtBkjC,IAAI,GAAGn4B,YAAY,CAAC+2B,OAAO,CAACC,KAAR,CAAc/hC,CAAd,CAAD,CAAzB;;QACIyiC,cAAc,CAAC3K,MAAD,EAASoL,IAAT,CAAlB,EAAkC;aACzB,IAAP;;;;SAIG,KAAP;;;;;;;;;;;;;;;;;;;;;;AAsBF,AAAO,SAASD,gBAAT,CAA0BnB,OAA1B,EAAmCt/B,KAAnC,EAA0C;;MAE3Cq/B,UAAU,CAACC,OAAD,CAAV,IAAuB,CAACqB,aAAa,CAACrB,OAAO,CAACsB,YAAR,EAAD,EAAyB5gC,KAAzB,CAAzC,EAA0E;WACjE,KAAP;;;MAGE6gC,IAAI,GAAG,IAAX;MACMn5B,GAAG,GAAG43B,OAAO,CAAC52B,QAAR,CAAiB9L,MAA7B;MACMkkC,QAAQ,GAAG;IAAE3gC,CAAC,EAAEm/B,OAAO,CAAC33B,IAAR,GAAe,CAApB;IAAuBrH,CAAC,EAAEN,KAAK,CAACM;GAAjD;;OAEK,IAAI9C,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkK,GAAG,GAAG,CAA1B,EAA6BlK,CAAC,EAA9B,EAAkC;QAC1BkjC,IAAI,GAAGn4B,YAAY,CAAC+2B,OAAO,CAACC,KAAR,CAAc/hC,CAAd,CAAD,CAAzB;;QACI,EAAEkjC,IAAI,CAAC5+B,EAAL,GAAU9B,KAAK,CAACM,CAAhB,IAAqBogC,IAAI,CAAC1+B,EAAL,GAAUhC,KAAK,CAACM,CAAvC,KAA6C,EAAEogC,IAAI,CAAC5+B,EAAL,GAAU9B,KAAK,CAACM,CAAhB,IAAqBogC,IAAI,CAAC1+B,EAAL,GAAUhC,KAAK,CAACM,CAAvC,CAAjD,EAA4F;;MAC1FugC,IAAI,GAAGE,YAAY,CAACL,IAAD,EAAOn4B,YAAY,CAAC,CAACu4B,QAAD,EAAW9gC,KAAX,CAAD,CAAnB,CAAZ,GAAsD,CAAC6gC,IAAvD,GAA8DA,IAArE;;;;SAGG,CAACA,IAAR;;;;;;;;;;;;;;;;;;;;;;;;;AAyBF,AAAO,SAASG,eAAT,CAAyB1B,OAAzB,EAAkCr3B,IAAlC,EAAwC;;MAEzCo3B,UAAU,CAACC,OAAD,CAAd,EAAyB;WAChB,KAAP;;;OAGG,IAAI9hC,CAAC,GAAG,CAAR,EAAWkK,GAAG,GAAG43B,OAAO,CAACC,KAAR,CAAc3iC,MAApC,EAA4CY,CAAC,GAAGkK,GAAhD,EAAqDlK,CAAC,EAAtD,EAA0D;QAClDkjC,IAAI,GAAGn4B,YAAY,CAAC+2B,OAAO,CAACC,KAAR,CAAc/hC,CAAd,CAAD,CAAzB;;QACIujC,YAAY,CAAC94B,IAAD,EAAOy4B,IAAP,CAAhB,EAA8B;aACrB,IAAP;;;;uBAIa14B,YAAY,CAACC,IAAD,CAbgB;;MAatCi4B,EAbsC;MAalCC,EAbkC;;SAetCM,gBAAgB,CAACnB,OAAD,EAAUY,EAAV,CAAhB,IACFO,gBAAgB,CAACnB,OAAD,EAAUa,EAAV,CADrB;;;;;;;;;;;;;;;;;;;;;;;;;AA0BF,AAAO,SAASc,eAAT,CAAyB3B,OAAzB,EAAkCz8B,IAAlC,EAAwC;;MAEzCw8B,UAAU,CAACC,OAAD,CAAd,EAAyB;WAChB,KAAP;;;OAGG,IAAI9hC,CAAC,GAAG,CAAR,EAAWkK,GAAG,GAAG43B,OAAO,CAACC,KAAR,CAAc3iC,MAApC,EAA4CY,CAAC,GAAGkK,GAAhD,EAAqDlK,CAAC,EAAtD,EAA0D;QAClDkjC,IAAI,GAAGn4B,YAAY,CAAC+2B,OAAO,CAACC,KAAR,CAAc/hC,CAAd,CAAD,CAAzB;;QACI0jC,YAAY,CAACr+B,IAAD,EAAO69B,IAAP,CAAhB,EAA8B;aACrB,IAAP;;;;sBAIqBx4B,YAAY,CAACrF,IAAD,CAbQ;;MAatCq9B,EAbsC;MAalCC,EAbkC;MAa9BgB,EAb8B;MAa1BC,EAb0B;;SActCX,gBAAgB,CAACnB,OAAD,EAAUY,EAAV,CAAhB,IACFO,gBAAgB,CAACnB,OAAD,EAAUa,EAAV,CADd,IAEFM,gBAAgB,CAACnB,OAAD,EAAU6B,EAAV,CAFd,IAGFV,gBAAgB,CAACnB,OAAD,EAAU8B,EAAV,CAHrB;;;;;;;;;;;;;;;;;;;AAsBF,AAAO,SAASC,YAAT,CAAsBC,KAAtB,EAA6BC,KAA7B,EAAoC;MACrCpC,aAAa,CAACmC,KAAD,CAAb,IAAwBnC,aAAa,CAACoC,KAAD,CAAzC,EAAkD;WACzC,KAAP;;;SAGKD,KAAK,CAACnhC,CAAN,IAAWohC,KAAK,CAACphC,CAAN,GAAUohC,KAAK,CAACz+B,KAA3B,IACFy+B,KAAK,CAACphC,CAAN,IAAWmhC,KAAK,CAACnhC,CAAN,GAAUmhC,KAAK,CAACx+B,KADzB,IAEFw+B,KAAK,CAAChhC,CAAN,IAAWihC,KAAK,CAACjhC,CAAN,GAAUihC,KAAK,CAACx+B,MAFzB,IAGFw+B,KAAK,CAACjhC,CAAN,IAAWghC,KAAK,CAAChhC,CAAN,GAAUghC,KAAK,CAACv+B,MAHhC;;;;;;;;;;;;;;;;;AAoBF,AAAO,SAAS49B,aAAT,CAAuB99B,IAAvB,EAA6B7C,KAA7B,EAAoC;MACrCm/B,aAAa,CAACt8B,IAAD,CAAjB,EAAyB;WAAS,KAAP;;;SAEpB7C,KAAK,CAACG,CAAN,IAAW0C,IAAI,CAAC1C,CAAhB,IACFH,KAAK,CAACG,CAAN,IAAW0C,IAAI,CAAC1C,CAAL,GAAS0C,IAAI,CAACC,KADvB,IAEF9C,KAAK,CAACM,CAAN,IAAWuC,IAAI,CAACvC,CAFd,IAGFN,KAAK,CAACM,CAAN,IAAWuC,IAAI,CAACvC,CAAL,GAASuC,IAAI,CAACE,MAH9B;;;;;;;;;;;;;;;;;;;;AAuBF,AAAO,SAASm+B,YAAT,CAAsBr+B,IAAtB,EAA4BoF,IAA5B,EAAkC;MACnCi3B,eAAe,CAACj3B,IAAD,CAAf,IAAyBk3B,aAAa,CAACt8B,IAAD,CAA1C,EAAkD;WAAS,KAAP;;;uBAEnCmF,YAAY,CAACC,IAAD,CAHU;;MAGhCi4B,EAHgC;MAG5BC,EAH4B;;MAKnCQ,aAAa,CAAC99B,IAAD,EAAOq9B,EAAP,CAAb,IAA2BS,aAAa,CAAC99B,IAAD,EAAOs9B,EAAP,CAA5C,EAAwD;WAC/C,IAAP;;;MAGIqB,SAAS,GAAGt5B,YAAY,CAACrF,IAAD,CAA9B;MACI6E,GAAG,GAAG85B,SAAS,CAAC5kC,MAApB;;OACK,IAAIY,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkK,GAApB,EAAyBlK,CAAC,EAA1B,EAA8B;QACtBkjC,IAAI,GAAGn4B,YAAY,CAAC,CAACi5B,SAAS,CAAChkC,CAAD,CAAV,EAAegkC,SAAS,CAAChkC,CAAC,KAAK,CAAN,GAAUA,CAAC,GAAG,CAAd,GAAkB,CAAnB,CAAxB,CAAD,CAAzB;;QACIujC,YAAY,CAACL,IAAD,EAAOz4B,IAAP,CAAhB,EAA8B;aACrB,IAAP;;;;SAGG,KAAP;;;;;;;;;;;;;;;;;;;AAmBF,AAAO,SAAS84B,YAAT,CAAsBU,KAAtB,EAA6BC,KAA7B,EAAoC;uBACxB15B,YAAY,CAACy5B,KAAD,CADY;;MAClCvB,EADkC;MAC9BC,EAD8B;;uBAExBn4B,YAAY,CAAC05B,KAAD,CAFY;;MAElCP,EAFkC;MAE9BC,EAF8B;;MAGnCO,GAAG,GAAGlL,SAAS,CAAC0J,EAAD,EAAKD,EAAL,CAArB;MACM0B,GAAG,GAAGlL,SAAS,CAACyJ,EAAD,EAAKD,EAAL,CAArB;MACM2B,GAAG,GAAGpL,SAAS,CAAC2K,EAAD,EAAKD,EAAL,CAArB;MACMW,GAAG,GAAGpL,SAAS,CAAC0K,EAAD,EAAKD,EAAL,CAArB;MACMY,GAAG,GAAGtL,SAAS,CAACyJ,EAAD,EAAKiB,EAAL,CAArB;MACMa,GAAG,GAAGtL,SAAS,CAACwJ,EAAD,EAAKiB,EAAL,CAArB;MACIc,EAAE,GAAIH,GAAG,GAAGH,GAAP,GAAeE,GAAG,GAAGD,GAA9B;MACMM,GAAG,GAAIL,GAAG,GAAGG,GAAP,GAAeF,GAAG,GAAGC,GAAjC;MACMI,GAAG,GAAIR,GAAG,GAAGK,GAAP,GAAeJ,GAAG,GAAGG,GAAjC;MACIp+B,EAAJ;MACIC,EAAJ;;MAEI+9B,GAAG,KAAK,CAAR,IAAaC,GAAG,KAAK,CAAzB,EAA4B;;WACnB,KAAP;;;MAGEC,GAAG,KAAK,CAAR,IAAaC,GAAG,KAAK,CAAzB,EAA4B;;WACnB,KAAP;;;MAGEG,EAAE,KAAK,CAAX,EAAc;QACRC,GAAG,KAAK,CAAR,IAAaC,GAAG,KAAK,CAAzB,EAA4B;;UACtBR,GAAG,KAAK,CAAZ,EAAe;YACTC,GAAG,KAAK,CAAZ,EAAe;;iBACN1B,EAAE,CAAC//B,CAAH,KAASggC,EAAE,CAAChgC,CAAZ,IAAiB+/B,EAAE,CAAC5/B,CAAH,KAAS6/B,EAAE,CAAC7/B,CAApC;;;QAEFqD,EAAE,GAAG+yB,SAAS,CAACyK,EAAD,EAAKjB,EAAL,CAAT,GAAoB0B,GAAzB;QACAh+B,EAAE,GAAG8yB,SAAS,CAAC0K,EAAD,EAAKlB,EAAL,CAAT,GAAoB0B,GAAzB;OALF,MAMO;QACLj+B,EAAE,GAAG,CAACw9B,EAAE,CAAChhC,CAAH,GAAO+/B,EAAE,CAAC//B,CAAX,IAAgBwhC,GAArB;QACA/9B,EAAE,GAAG,CAACw9B,EAAE,CAACjhC,CAAH,GAAO+/B,EAAE,CAAC//B,CAAX,IAAgBwhC,GAArB;;;UAEGh+B,EAAE,GAAG,CAAL,IAAUC,EAAE,GAAG,CAAhB,IAAuBD,EAAE,GAAG,CAAL,IAAUC,EAAE,GAAG,CAA1C,EAA8C;eACrC,KAAP;;;aAEK,IAAP;;;WAEK,KAAP,CAjBY;;;MAmBRw+B,EAAE,GAAGF,GAAG,GAAGD,EAAjB;EACAA,EAAE,GAAGE,GAAG,GAAGF,EAAX;;MACIG,EAAE,IAAI,GAAN,IAAaA,EAAE,IAAI,GAAnB,IAA0BH,EAAE,IAAI,GAAhC,IAAuCA,EAAE,IAAI,GAAjD,EAAsD;WAC7C,IAAP;;;SAEK,KAAP;;;;;;;;;;;;;;;;;AAiBF,AAAO,SAASI,aAAT,CAAuBp6B,IAAvB,EAA6BjI,KAA7B,EAAoC;MACrCk/B,eAAe,CAACj3B,IAAD,CAAnB,EAA2B;WAClB,KAAP;;;wBAGeD,YAAY,CAACC,IAAD,CALY;;MAKlCi4B,EALkC;MAK9BC,EAL8B;;SAMlCnB,aAAa,CAACkB,EAAD,EAAKC,EAAL,EAASngC,KAAT,CAApB;;;AC/eF,IAAMsiC,WAAW,GAAG,KAApB;AACA,IAAMC,MAAM,GAAG,SAAf;;AAEA,SAASC,aAAT,CAAuBrnC,CAAvB,EAA0B;QAClB,IAAImS,KAAJ,oCAAqCnS,CAArC,QAAN;;;AAGF,SAASs2B,GAAT,CAAaI,KAAb,EAAoB4Q,UAApB,EAAgCzmC,IAAhC,EAAsC;MAChC,OAAO61B,KAAP,KAAiB,QAArB,EAA+B;QACzB3wB,KAAK,GAAGuhC,UAAU,CAAC5Q,KAAD,CAAtB;;QACI71B,IAAI,CAACuP,OAAL,CAAasmB,KAAb,MAAwB,CAAC,CAA7B,EAAgC;MAC9B2Q,aAAa,CAAC3Q,KAAD,CAAb;;;QAEEyQ,WAAW,CAAC50B,IAAZ,CAAiBxM,KAAjB,CAAJ,EAA6B;MAC3BlF,IAAI,CAACa,IAAL,CAAUg1B,KAAV;aACOJ,GAAG,CAACvwB,KAAD,EAAQuhC,UAAR,EAAoBzmC,IAApB,CAAV;;;WAEKkF,KAAP;;;MAEE4L,QAAQ,GAAG+kB,KAAf;MACMjlB,IAAI,GAAGvF,MAAM,CAAC,IAAD,EAAO,EAAP,EAAWo7B,UAAX,EAAuB5Q,KAAvB,CAAnB;MACM12B,CAAC,GAAG,EAAV;;MAEI02B,KAAK,CAAC0Q,MAAD,CAAT,EAAmB;QACXG,UAAU,GAAG7Q,KAAK,CAAC0Q,MAAD,CAAxB;;QACIvmC,IAAI,CAACuP,OAAL,CAAam3B,UAAb,MAA6B,CAAC,CAAlC,EAAqC;MACnCF,aAAa,CAACE,UAAD,CAAb;;;QAEEC,IAAI,GAAG3mC,IAAI,CAACkP,KAAL,EAAX;IACAy3B,IAAI,CAAC9lC,IAAL,CAAU6lC,UAAV;IACA51B,QAAQ,GAAGzF,MAAM,CAAC,IAAD,EAAO,EAAP,EAAWoqB,GAAG,CAAC7kB,IAAI,CAAC81B,UAAD,CAAL,EAAmBD,UAAnB,EAA+BE,IAA/B,CAAd,EAAoD9Q,KAApD,CAAjB;;;EAGFh0B,MAAM,CAACgS,IAAP,CAAY/C,QAAZ,EAAsBJ,OAAtB,CAA8B,UAAC3O,GAAD,EAAS;QACjC7B,CAAC,GAAGF,IAAI,CAACkP,KAAL,EAAR;;QACInN,GAAG,KAAKwkC,MAAR,IAAkBD,WAAW,CAAC50B,IAAZ,CAAiB3P,GAAjB,CAAtB,EAA6C;;;;IAG7C5C,CAAC,CAAC4C,GAAD,CAAD,GAAS+O,QAAQ,CAAC/O,GAAD,CAAjB;QACImD,KAAK,GAAG/F,CAAC,CAAC4C,GAAD,CAAb;;QACIukC,WAAW,CAAC50B,IAAZ,CAAiBxM,KAAjB,KAA2BA,KAAK,IAAI0L,IAAxC,EAA8C;UACxC5Q,IAAI,CAACuP,OAAL,CAAarK,KAAb,MAAwB,CAAC,CAA7B,EAAgC;QAC9BshC,aAAa,CAACthC,KAAD,CAAb;;;MAEFhF,CAAC,CAACW,IAAF,CAAOqE,KAAP;MACAA,KAAK,GAAG0L,IAAI,CAAC1L,KAAD,CAAZ;;UACI,QAAOA,KAAP,MAAiB,QAArB,EAA+B;QAC7B/F,CAAC,CAAC4C,GAAD,CAAD,GAAS0zB,GAAG,CAACvwB,KAAD,EAAQ0L,IAAR,EAAc1Q,CAAd,CAAZ;OADF,MAEO,IAAIomC,WAAW,CAAC50B,IAAZ,CAAiBxM,KAAjB,KAA2BA,KAAK,IAAI0L,IAAxC,EAA8C;QACnDzR,CAAC,CAAC4C,GAAD,CAAD,GAAS0zB,GAAG,CAACvwB,KAAD,EAAQ0L,IAAR,EAAc1Q,CAAd,CAAZ;OADK,MAEA;QACLf,CAAC,CAAC4C,GAAD,CAAD,GAASmD,KAAT;;KAXJ,MAaO,IAAI,QAAOA,KAAP,MAAiB,QAArB,EAA+B;MACpC/F,CAAC,CAAC4C,GAAD,CAAD,GAAS0zB,GAAG,CAACvwB,KAAD,EAAQ0L,IAAR,EAAc1Q,CAAd,CAAZ;;GArBJ;SAwBOf,CAAP;;;;;;;;;;;;;;;;;;;;;AAoBF,SAASo2B,OAAT,CAAiBM,KAAjB,EAAwB4Q,UAAxB,EAAoC;SAC3BhR,GAAG,CAACI,KAAD,EAAQ4Q,UAAR,EAAoB,EAApB,CAAV;;;AC7EF,SAASG,OAAT,GAA4C;MAA3B/Q,KAA2B,uEAAnB,EAAmB;MAAfgR,QAAe,uEAAJ,EAAI;MACtCC,IAAI,GAAG,EAAX;MACIC,aAAa,GAAGlR,KAApB;;MACMmR,WAAW,GAAG,SAAdA,WAAc,CAAC9mC,CAAD,EAAO;IACzBA,CAAC,CAACwQ,OAAF,CAAU,UAAC2W,OAAD,EAAa;UACf4f,GAAG,GAAGxkC,KAAK,CAACC,OAAN,CAAc2kB,OAAO,CAACG,MAAR,CAAe,CAAf,CAAd,IAAmCH,OAAO,CAACG,MAA3C,GAAoD,CAACH,OAAO,CAACG,MAAT,CAAhE;MACAsf,IAAI,CAACzf,OAAO,CAACtlB,GAAT,CAAJ,GAAoB;QAClBylB,MAAM,EAAEyf,GADU;QAElBC,KAAK,EAAED,GAAG,CAACpnC,GAAJ,CAAQ,UAAC2nB,MAAD;iBAAaA,MAAM,GAAGA,MAAM,CAAC5mB,MAAV,GAAmB,CAAtC;SAAR;OAFT;KAFF;GADF;;MAUMumC,UAAU,GAAG,SAAbA,UAAa,CAACplC,GAAD,EAAM2J,GAAN,EAAc;QACzB2b,OAAO,GAAGyf,IAAI,CAAC/kC,GAAD,CAApB;;QACI,CAACslB,OAAL,EAAc;aACL,EAAP;;;QAEI6f,KAAK,GAAG7f,OAAO,CAAC6f,KAAtB,CAL+B;;SAO1B,IAAI1lC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0lC,KAAK,CAACtmC,MAA1B,EAAkCY,CAAC,EAAnC,EAAuC;UACjCkK,GAAG,IAAIw7B,KAAK,CAAC1lC,CAAD,CAAhB,EAAqB;eACZ6lB,OAAO,CAACG,MAAR,CAAehmB,CAAf,CAAP;;;;WAGG6lB,OAAO,CAACG,MAAR,CAAe0f,KAAK,CAACtmC,MAAN,GAAe,CAA9B,CAAP;GAZF;;;;;;;;MAoBMwmB,KAAK,GAAG;;;;;;IAMZC,OAAO,EAAE,iBAAC6J,IAAD,EAAOxlB,GAAP;aAAey7B,UAAU,CAACjW,IAAD,EAAOxlB,GAAP,CAAzB;KANG;IAQZs7B,WAAW,EAAXA,WARY;;;;;;IAcZnR,KAAK,EAAE,eAAC12B,CAAD;aAAOioC,OAAa,CAACjoC,CAAD,EAAI4nC,aAAJ,CAApB;KAdK;;;;;;IAoBZM,QAAQ,EAAE,kBAACloC,CAAD,EAAO;MACf4nC,aAAa,GAAG17B,MAAM,CAAC,EAAD,EAAKwqB,KAAL,EAAY12B,CAAZ,CAAtB;;GArBJ;EAyBA6nC,WAAW,CAACH,QAAD,CAAX;SAEOzf,KAAP;;;AC5CF;;;;;;;;;;;;;;;;;;;;;;;AAuBA,SAASkgB,iBAAT,CAA2B76B,KAA3B,EAAkC86B,eAAlC,EAAmDC,eAAnD,EAAoE;MAC5D9iC,EAAE,GAAG6iC,eAAe,CAAC15B,IAAhB,GAAuB25B,eAAe,CAAC35B,IAAlD;MACMlJ,EAAE,GAAG4iC,eAAe,CAACx5B,GAAhB,GAAsBy5B,eAAe,CAACz5B,GAAjD;MACMvN,IAAI,GAAGgM,YAAY,CAACC,KAAD,CAAzB;MACMg7B,UAAU,GAAGp8B,MAAM,CAAC,IAAD,EAAO,EAAP,EAAWoB,KAAX,CAAzB;;UAEQjM,IAAR;SACO,QAAL;MACEinC,UAAU,CAACp7B,EAAX,IAAiB3H,EAAjB;MACA+iC,UAAU,CAACn7B,EAAX,IAAiB3H,EAAjB;;;SAEG,SAAL;WACO,IAAInD,CAAC,GAAG,CAAR,EAAWkK,GAAG,GAAG+7B,UAAU,CAAC/6B,QAAX,CAAoB9L,MAA1C,EAAkDY,CAAC,GAAGkK,GAAtD,EAA2DlK,CAAC,EAA5D,EAAgE;YACxDnC,CAAC,GAAGooC,UAAU,CAAC/6B,QAAX,CAAoBlL,CAApB,CAAV;QACAnC,CAAC,CAAC8E,CAAF,IAAOO,EAAP;QACArF,CAAC,CAACiF,CAAF,IAAOK,EAAP;;;;;SAGC,MAAL;MACE8iC,UAAU,CAAC5hC,EAAX,IAAiBnB,EAAjB;MACA+iC,UAAU,CAAC3hC,EAAX,IAAiBnB,EAAjB;MACA8iC,UAAU,CAAC1hC,EAAX,IAAiBrB,EAAjB;MACA+iC,UAAU,CAACzhC,EAAX,IAAiBrB,EAAjB;;;SAEG,OAAL;SACK,MAAL;MACE8iC,UAAU,CAACtjC,CAAX,IAAgBO,EAAhB;MACA+iC,UAAU,CAACnjC,CAAX,IAAgBK,EAAhB;;;;;;;SAMG8iC,UAAP;;;AAGF,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACvP,OAAD,EAAUhrB,IAAV,EAAgByb,KAAhB,EAA0B;MACzC+e,EAAE,GAAGx6B,IAAI,CAACjM,QAAL,CAAc6wB,QAAd,GAAyBoG,OAAzB,EAAX;;MACI1tB,KAAK,CAACme,KAAD,CAAL,IAAgB,CAAC+e,EAAjB,IAAuB,CAACxP,OAAxB,IAAmC,CAACA,OAAO,CAAC7S,QAAhD,EAA0D;;;;MACpD6M,KAAK,GAAGgG,OAAO,CAAC7S,QAAtB;MACM9jB,CAAC,GAAG4C,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAY+d,KAAZ,CAAV;MACM/D,IAAI,GAAGsN,KAAK,CAAC3wB,CAAD,CAAlB;;MACImmC,EAAE,KAAK9iB,IAAX,EAAiB;;;;MACX+iB,YAAY,GAAGz6B,IAAI,CAACjM,QAAL,CAAc8b,GAAd,CAAkB6qB,kBAAlB,IAAwC16B,IAAI,CAACjM,QAAL,CAAc8b,GAAd,CAAkB6qB,kBAAlB,GAAuCv4B,MAAvC,CAA8Cw4B,OAA9C,CAA7D;;MACI3P,OAAO,CAAC4P,YAAR,IAAwB,OAAOljB,IAAP,KAAgB,WAA5C,EAAyD;IACvDsT,OAAO,CAAC4P,YAAR,CAAqBJ,EAArB,EAAyB9iB,IAAzB;;QACI+iB,YAAJ,EAAkB;MAChBA,YAAY,CAACl3B,OAAb,CAAqB,UAACs3B,EAAD,EAAQ;QAC3B7P,OAAO,CAAC4P,YAAR,CAAqBC,EAArB,EAAyBL,EAAzB;OADF;;GAHJ,MAOO;QACDC,YAAJ,EAAkB;MAChBA,YAAY,CAACl3B,OAAb,CAAqB,UAACs3B,EAAD,EAAQ;QAC3B7P,OAAO,CAAC8P,WAAR,CAAoBD,EAApB,EAAwBL,EAAxB;OADF;;;IAIFxP,OAAO,CAAC8P,WAAR,CAAoBN,EAApB;;CArBJ;;AAyBA,AAAO,SAASO,eAAT,CAAyB/P,OAAzB,EAAkCgQ,iBAAlC,EAAqDp2B,KAArD,EAA4D;MAC3Dq2B,OAAO,GAAG,EAAhB;MACIC,WAAW,GAAG,CAAlB;MACMC,OAAO,GAAGv2B,KAAK,GAAGo2B,iBAAiB,CAACj5B,KAAlB,GAA0BC,IAA1B,CAA+B,UAACtQ,CAAD,EAAIuQ,CAAJ;WAAU2C,KAAK,CAACo2B,iBAAiB,CAAC54B,OAAlB,CAA0B1Q,CAA1B,CAAD,CAAL,GAAsCkT,KAAK,CAACo2B,iBAAiB,CAAC54B,OAAlB,CAA0BH,CAA1B,CAAD,CAArD;GAA/B,CAAH,GAAyH+4B,iBAA9I;EACAG,OAAO,CAAC53B,OAAR,CAAgB,UAACvD,IAAD,EAAU;IACxBi7B,OAAO,CAACvnC,IAAR,CAAawnC,WAAb,EADwB;;IAIxBA,WAAW,GAJa;;QAOlBT,YAAY,GAAGz6B,IAAI,CAACjM,QAAL,CAAc8b,GAAd,CAAkB6qB,kBAAlB,IAAwC16B,IAAI,CAACjM,QAAL,CAAc8b,GAAd,CAAkB6qB,kBAAlB,EAA7D;;QACID,YAAJ,EAAkB;MAChBS,WAAW,IAAIT,YAAY,CAAChnC,MAA5B;;GATJ;EAaA0nC,OAAO,CAAC53B,OAAR,CAAgB,UAACvD,IAAD,EAAO3L,CAAP;WAAakmC,cAAc,CAACvP,OAAD,EAAUhrB,IAAV,EAAgBi7B,OAAO,CAAC5mC,CAAD,CAAvB,CAA3B;GAAhB;;;AAGF,SAAS+mC,OAAT,CAAiBpL,UAAjB,EAA6Blc,OAA7B,EAAsC;;;;MASlCkX,OATkC,GAqBhCgF,UArBgC,CASlChF,OATkC;yBAqBhCgF,UArBgC,CAclCl9B,IAdkC;MAclCA,IAdkC,iCAc3B,EAd2B;6BAqBhCk9B,UArBgC,CAmBlC5zB,QAnBkC;MAmBlCA,QAnBkC,qCAmBvB,EAnBuB;uBAqBhC4zB,UArBgC,CAoBlCpG,EApBkC;MAoBlCA,EApBkC,+BAoB7B,EApB6B;MAuB9BwG,UAAU,GAAGtc,OAAO,CAACsc,UAA3B;MACMhqB,MAAM,GAAG0N,OAAO,CAAC1N,MAAvB;MACM6T,KAAK,GAAGwf,OAAO,CAAC3lB,OAAO,CAAC4U,KAAT,EAAgB5U,OAAO,CAAC4lB,QAAxB,CAArB;MAEM2B,SAAS,GAAG,EAAlB;;;;;;MAKMtnC,QAAQ,GAAGmK,MAAM,CACrB,EADqB,EAErB8xB,UAFqB,CAAvB;MAIMG,UAAQ,GAAGmL,QAAe,EAAhC;MACIC,iBAAiB,GAAG,EAAxB,CArCoC;;MAsChCP,iBAAiB,GAAG,EAAxB;MAEIQ,aAAa,GAAG,IAApB,CAxCoC;;MAyChCC,iBAAiB,GAAG,IAAxB,CAzCoC;;MA0ChCC,iBAAiB,GAAG,IAAxB,CA1CoC;;MA2ChCC,mBAAmB,GAAG,EAA1B;;MAEIn1B,OAAO,GAAG,mBAAM,EAApB;;MACIgtB,cAAc,GAAG,0BAAM,EAA3B;;MACM9Q,OAAO,GAAG,EAAhB;MACIkZ,YAAY,GAAG,KAAnB;;MAEMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,YAAD,EAAexK,SAAf,EAA6B;QAC/C,CAAClB,UAAU,CAAClsB,SAAX,CAAqBwD,GAArB,CAAyBo0B,YAAY,CAACzoC,IAAtC,CAAL,EAAkD;MAChD+S,MAAM,CAACE,IAAP,8BAAkCw1B,YAAY,CAACzoC,IAA/C;aACO,KAAP;;;QAEI0oC,mBAAmB,GAAG3L,UAAU,CAAClsB,SAAX,CAAqB43B,YAAY,CAACzoC,IAAlC,CAA5B;QACM2oC,YAAY,GAAG3K,gBAAgB,CAAC0K,mBAAD,EAAsB;MACzD3/B,QAAQ,EAAE0/B,YAD+C;MAEzD5U,KAAK,EAAEnzB,QAFkD;MAGzDo8B,QAAQ,EAARA,UAHyD;MAIzDC,UAAU,EAAVA,UAJyD;MAKzDnW,KAAK,EAALA,KALyD;MAMzDqX,SAAS,EAATA;KANmC,CAArC;WAQO;MACLv9B,QAAQ,EAAEioC,YADL;MAEL5/B,QAAQ,EAAE8B,MAAM,CAAC,IAAD,EAAO,EAAP,EAAW49B,YAAX,CAFX;MAGLlnC,GAAG,EAAEknC,YAAY,CAAClnC,GAHb;MAILqnC,MAAM,EAAE,OAAOH,YAAY,CAAClnC,GAApB,KAA4B;KAJtC;GAdF,CAlDoC;;;WAyE3Bm9B,cAAT,CAAwBC,MAAxB,EAA0D;QAA1BC,aAA0B,uEAAV,YAAM,EAAI;WACjD,SAASE,EAAT,GAAqB;UACpBC,YAAY,GAAG,OAAOpC,UAAU,CAACgC,MAAD,CAAjB,KAA8B,UAAnD;UAEIM,WAAJ;;wCAHoB//B,IAAM;QAANA,IAAM;;;UAItB6/B,YAAJ,EAAkB;;;QAChBE,WAAW,GAAG,sBAAAtC,UAAU,CAACgC,MAAD,CAAV,EAAmBn8B,IAAnB,4BAAwB9B,QAAxB,SAAqCxB,IAArC,EAAd;OADF,MAEO;QACL+/B,WAAW,GAAGL,aAAa,CAACp8B,IAAd,OAAAo8B,aAAa,GAAMl+B,QAAN,SAAmBxB,IAAnB,EAA3B;;;aAEK+/B,WAAP;KATF;;;MAaI4J,aAAa,GAAG,SAAhBA,aAAgB,CAACC,iBAAD,EAAuB;SACtC,IAAI9nC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGknC,iBAAiB,CAAC9nC,MAAtC,EAA8CY,CAAC,EAA/C,EAAmD;UAC7CknC,iBAAiB,CAAClnC,CAAD,CAAjB,CAAqBN,QAArB,KAAkCooC,iBAAtC,EAAyD;eAChDZ,iBAAiB,CAAClnC,CAAD,CAAxB;;;;WAGG,IAAP;GANF;;MASM+nC,uBAAuB,GAAG,SAA1BA,uBAA0B,CAACxnC,GAAD,EAAS;SAClC,IAAIP,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGknC,iBAAiB,CAAC9nC,MAAtC,EAA8CY,CAAC,EAA/C,EAAmD;UAC3CgoC,QAAQ,GAAGd,iBAAiB,CAAClnC,CAAD,CAAlC;;UACIgoC,QAAQ,CAACJ,MAAT,IAAmBI,QAAQ,CAACznC,GAAT,KAAiBA,GAAxC,EAA6C;eACpCP,CAAP;;;;WAGG,CAAC,CAAR;GAPF;;WAUSioC,cAAT,CAAwB9B,EAAxB,EAA4B;QACtB,OAAOA,EAAE,CAACvP,qBAAV,KAAoC,UAAxC,EAAoD;kCACxBuP,EAAE,CAACvP,qBAAH,EADwB;UAC1CtxB,KAD0C,yBAC1CA,KAD0C;UACnCC,MADmC,yBACnCA,MADmC;;aAE3C;QACL5C,CAAC,EAAE,CADE;QACCG,CAAC,EAAE,CADJ;QACOwC,KAAK,EAALA,KADP;QACcC,MAAM,EAANA;OADrB;;;WAIK;MACL5C,CAAC,EAAE,CADE;MACCG,CAAC,EAAE,CADJ;MACOwC,KAAK,EAAE,CADd;MACiBC,MAAM,EAAE;KADhC;;;MAKI0K,MAAM,GAAG,SAATA,MAAS,CAACD,UAAD,EAAgB;QACvBk4B,WAAW,GAAGl4B,UAAU,CAAC3R,GAAX,CAAe,UAACf,CAAD,EAAO;UAClCwK,UAAU,GAAGxK,CAAC,CAACoC,QAAF,CAAWoI,UAAX,EAAnB;aACO;QACLpI,QAAQ,EAAEpC,CAAC,CAACoC,QADP;QAEL6P,MAAM,EAAEjS,CAAC,CAACoC,QAAF,CAAW6P,MAFd;QAGLnH,aAAa,EAAEN,UAAU,CAACS,oBAAX,CAAgC6zB,IAAhC,CAAqCt0B,UAArC,CAHV;QAILC,QAAQ,EAAEzK,CAAC,CAACyK,QAJP;QAKLogC,gBAAgB,EAAE,4BAAM;OAL1B;KAFkB,CAApB;QAUIC,cAAJ;;QACIrgC,QAAQ,CAACqI,UAAb,EAAyB;MACvB2B,MAAM,CAACE,IAAP,CAAY,4EAAZ;MACAm2B,cAAc,GAAGrgC,QAAQ,CAACqI,UAA1B;KAFF,MAGO;MACLg4B,cAAc,GAAGrgC,QAAQ,CAACsgC,QAA1B;;;QAGIj4B,YAAU,GAAGk4B,UAAgB,CAACF,cAAD,CAAnC;QAEM/iC,IAAI,GAAG4iC,cAAc,CAACtR,OAAD,CAA3B;;6BAEmCvmB,YAAU,CAACH,MAAX,CAAkB5K,IAAlB,EAAwB6iC,WAAxB,CAvBN;QAuBrBj7B,OAvBqB,sBAuBrBA,OAvBqB;QAuBZC,MAvBY,sBAuBZA,MAvBY;QAuBJqD,KAvBI,sBAuBJA,KAvBI;;WAwBtB;MACLtD,OAAO,EAAEA,OAAO,CAAC5O,GAAR,CAAY,UAACR,CAAD;eAAOgqC,aAAa,CAAChqC,CAAC,CAAC6B,QAAH,CAApB;OAAZ,CADJ;MAELwN,MAAM,EAAEA,MAAM,CAAC7O,GAAP,CAAW,UAACd,CAAD;eAAOsqC,aAAa,CAACtqC,CAAC,CAACmC,QAAH,CAApB;OAAX,CAFH;MAGL6Q,KAAK,EAALA;KAHF;GAxBF;;MA+BM2tB,OAAO,GAAGR,cAAc,CAAC,SAAD,CAA9B;MACMS,WAAW,GAAGT,cAAc,CAAC,aAAD,CAAlC;MACMU,OAAO,GAAGV,cAAc,CAAC,SAAD,CAA9B;MACMY,YAAY,GAAGZ,cAAc,CAAC,cAAD,CAAnC;MACM5M,OAAO,GAAG4M,cAAc,CAAC,SAAD,CAA9B;MACMa,YAAY,GAAGb,cAAc,CAAC,cAAD,CAAnC;MACMc,aAAa,GAAGd,cAAc,CAAC,eAAD,CAApC;MACMe,SAAS,GAAGf,cAAc,CAAC,WAAD,CAAhC;;MAEM3T,GAAG,GAAG,SAANA,GAAM,CAACwe,KAAD,EAAQC,SAAR,EAA4C;mFAAP,EAAO;QAAvBC,WAAuB,QAAvBA,WAAuB;;+BAKlDD,SALkD,CAEpDjtB,UAFoD;QAEpDA,UAFoD,qCAEvC,EAFuC;2BAKlDitB,SALkD,CAGpD3gB,MAHoD;QAGpDA,MAHoD,iCAG3C,EAH2C;2BAKlD2gB,SALkD,CAIpDE,MAJoD;QAIpDA,MAJoD,iCAI3C,EAJ2C;IAOtDv2B,OAAO,GAAGw2B,QAAW,CAACJ,KAAD,EAAQ;MAAEx2B,MAAM,EAANA,MAAF;MAAUD,KAAK,EAAEiqB,UAAU,CAACt9B;KAApC,CAArB;;QACI,CAACgqC,WAAL,EAAkB;MAChBpoC,MAAM,CAACgS,IAAP,CAAYgc,OAAZ,EAAqBnf,OAArB,CAA6B,UAACtB,CAAD;eAAOygB,OAAO,CAACzgB,CAAD,CAAP,CAAWoc,KAAX,EAAP;OAA7B;;;QAEEwe,SAAS,CAACnD,QAAd,EAAwB;MACtBzf,KAAK,CAAC4f,WAAN,CAAkBgD,SAAS,CAACnD,QAA5B;;;QAEEmD,SAAS,CAACnU,KAAd,EAAqB;MACnBzO,KAAK,CAACigB,QAAN,CAAe2C,SAAS,CAACnU,KAAzB;;;IAEF8K,cAAc,GAAGyJ,MAAe,CAACJ,SAAS,CAAC1tB,WAAX,EAAwB;MAAE3I,OAAO,EAAPA;KAA1B,EAAqC;MAAEJ,MAAM,EAANA;KAAvC,CAAhC;QAEMoJ,IAAI,GAAG;MACXyK,KAAK,EAALA,KADW;MAEX7T,MAAM,EAANA;KAFF;IAIAo1B,aAAa,GAAG0B,YAAe,CAAChhB,MAAD,EAAS;MAAE1V,OAAO,EAAPA,OAAF;MAAW8H,UAAU,EAAEklB;KAAhC,qBAAuDhkB,IAAvD;MAA6DhU,KAAK,EAAE40B,UAAU,CAAC50B;OAA9G;IACAigC,iBAAiB,GAAG0B,UAAmB,CAACvtB,UAAD,EAAa;MAAEpJ,OAAO,EAAPA,OAAF;MAAW8H,UAAU,EAAEklB;KAApC,qBAA2DhkB,IAA3D;MAAiEnH,SAAS,EAAE+nB,UAAU,CAAC/nB;OAA9H;IACAqzB,iBAAiB,GAAG0B,OAAW,CAACL,MAAD,EAASrB,iBAAT,CAA/B;GAzBF;;MA4BMrV,MAAM,GAAG,SAATA,MAAS,GAAM;qBAGfjqB,QAHe;2CAEjBiI,UAFiB;QAEjBA,UAFiB,sCAEJ,EAFI;IAKnBuuB,YAAY;IAEZxU,GAAG,CAACtrB,IAAD,EAAOsJ,QAAP,CAAH;IAEAm/B,iBAAiB,GAAGl3B,UAAU,CAAC3R,GAAX,CAAe,UAACopC,YAAD;aACjCD,eAAe,CAACC,YAAD,EAAe9Q,OAAf,CADkB;KAAf,EAEjB7oB,MAFiB,CAEV,UAACxQ,CAAD;aAAO,CAAC,CAACA,CAAT;KAFU,CAApB;;kBAImC2S,MAAM,CAACi3B,iBAAD,CAbtB;QAaXj6B,OAbW,WAaXA,OAbW;QAaFC,MAbE,WAaFA,MAbE;QAaMqD,KAbN,WAaMA,KAbN;;IAcnBo2B,iBAAiB,GAAG15B,OAApB;IAEAC,MAAM,CAACgC,OAAP,CAAe,UAACvD,IAAD,EAAU;MACvBA,IAAI,CAACjM,QAAL,CAAcigC,IAAd;MACAh0B,IAAI,CAACsB,OAAL,GAAe,KAAf;KAFF;IAKAA,OAAO,CAACiC,OAAR,CAAgB,UAACvD,IAAD;aAAUA,IAAI,CAACjM,QAAL,CAAcy+B,WAAd,EAAV;KAAhB;IACAlxB,OAAO,CAACiC,OAAR,CAAgB,UAACvD,IAAD;aAAUA,IAAI,CAACjM,QAAL,CAAcmhC,KAAd,EAAV;KAAhB;IACA5zB,OAAO,CAACiC,OAAR,CAAgB,UAACvD,IAAD;aAAUA,IAAI,CAACjM,QAAL,CAAc6+B,YAAd,EAAV;KAAhB;IAEAtxB,OAAO,CAACiC,OAAR,CAAgB,UAACvD,IAAD;aAAUA,IAAI,CAACjM,QAAL,CAAcsyB,MAAd,EAAV;KAAhB;IACA/kB,OAAO,CAACiC,OAAR,CAAgB,UAACvD,IAAD;aAAUA,IAAI,CAACjM,QAAL,CAAc0+B,OAAd,EAAV;KAAhB;IACAnxB,OAAO,CAACiC,OAAR,CAAgB,UAACvD,IAAD,EAAU;MAAEA,IAAI,CAACsB,OAAL,GAAe,IAAf;KAA5B;IACAy5B,eAAe,CAAC/P,OAAD,EAAUgQ,iBAAV,EAA6Bp2B,KAA7B,CAAf;GA5BF;;WA+BSy4B,eAAT,GAA4C;QAAnBC,YAAmB,uEAAJ,EAAI;QACpC1d,OAAO,GAAG,EAAhB;QACM2d,OAAO,GAAGD,YAAY,CAACn7B,MAAb,CAAoB,UAACmoB,EAAD;aAAQ,CAAC,CAACA,EAAE,CAAC11B,GAAb;KAApB,EAAsClC,GAAtC,CAA0C,UAAC43B,EAAD;aAAQA,EAAE,CAAC11B,GAAX;KAA1C,CAAhB;IACA+mC,mBAAmB,CAACp4B,OAApB,CAA4B,UAACi6B,GAAD,EAAS;UAC/BA,GAAG,CAAC5oC,GAAJ,IAAW2oC,OAAO,CAACn7B,OAAR,CAAgBo7B,GAAG,CAAC5oC,GAApB,MAA6B,CAAC,CAA7C,EAAgD;;QAC9CgrB,OAAO,CAAC4d,GAAG,CAAC5oC,GAAL,CAAP,GAAmB4oC,GAAnB;OADF,MAEO;QACLA,GAAG,CAACjJ,OAAJ;;KAJJ;IAOAoH,mBAAmB,GAAG2B,YAAY,CAAC5qC,GAAb,CAAiB,UAAC+qC,WAAD,EAAiB;UAChDC,aAAa,GAAGD,WAAW,CAAC7oC,GAAZ,IAAmBgrB,OAAO,CAAC6d,WAAW,CAAC7oC,GAAb,CAA1B,GAA8CgrB,OAAO,CAAC6d,WAAW,CAAC7oC,GAAb,CAArD,GAAyEw7B,UAAU,CAACuN,WAAX,CAAuBF,WAAW,CAACpqC,IAAnC,EAAyCU,QAAzC,EAAmDo8B,UAAnD,EAA6DnF,OAA7D,CAA/F;MACA0S,aAAa,CAACtf,GAAd,CAAkBqf,WAAlB;aACOC,aAAP;KAHoB,CAAtB;;;MAOIE,mBAAmB,GAAG,SAAtBA,mBAAsB,CAAC7qC,CAAD,EAAO;QAC3B8qC,EAAE,GAAG7S,OAAO,CAACC,qBAAR,EAAX;QACMj0B,CAAC,GAAG,aAAajE,CAAb,GAAiBA,CAAC,CAAC8S,OAAnB,GAA6B9S,CAAC,CAACiE,CAAzC;QACMG,CAAC,GAAG,aAAapE,CAAb,GAAiBA,CAAC,CAAC+S,OAAnB,GAA6B/S,CAAC,CAACoE,CAAzC;QACM2mC,EAAE,GAAG;MAAE9mC,CAAC,EAAEA,CAAC,GAAG6mC,EAAE,CAACn9B,IAAZ;MAAkBvJ,CAAC,EAAEA,CAAC,GAAG0mC,EAAE,CAACj9B;KAAvC;QACMsH,GAAG,GAAG,EAAZ;IACA8yB,iBAAiB,CAACz3B,OAAlB,CAA0B,UAAC5R,CAAD,EAAO;UACzB0G,CAAC,GAAG1G,CAAC,CAACoC,QAAF,CAAW8/B,OAAX,EAAV,CAD+B;;UAG3B2D,aAAa,CAACn/B,CAAC,CAACq7B,gBAAF,GAAqBr7B,CAAC,CAACq7B,gBAAvB,GAA0C;QAC1D18B,CAAC,EAAEqB,CAAC,CAACqH,MAAF,CAASgB,IAAT,GAAiBrI,CAAC,CAACrB,CAAF,GAAMqB,CAAC,CAACiK,UAAF,CAAatL,CADmB;QAE1DG,CAAC,EAAEkB,CAAC,CAACqH,MAAF,CAASkB,GAAT,GAAgBvI,CAAC,CAAClB,CAAF,GAAMkB,CAAC,CAACiK,UAAF,CAAanL,CAFoB;QAG1DwC,KAAK,EAAEtB,CAAC,CAACsB,KAAF,GAAUtB,CAAC,CAACiK,UAAF,CAAatL,CAH4B;QAI1D4C,MAAM,EAAEvB,CAAC,CAACuB,MAAF,GAAWvB,CAAC,CAACiK,UAAF,CAAanL;OAJjB,EAKd2mC,EALc,CAAjB,EAKQ;QACN51B,GAAG,CAACxU,IAAJ,CAAS/B,CAAT;;KATJ;WAYOuW,GAAP;GAlBF;;MAqBM61B,wBAAwB,GAAG,SAA3BA,wBAA2B,GAAM;QACjC1C,SAAS,CAAC5nC,MAAV,IAAoB,CAACu3B,OAAzB,EAAkC;;;;IAGlCt2B,MAAM,CAACgS,IAAP,CAAYkjB,EAAZ,EAAgBrmB,OAAhB,CAAwB,UAAC3O,GAAD,EAAS;UACzBu8B,QAAQ,GAAGvH,EAAE,CAACh1B,GAAD,CAAF,CAAQ67B,IAAR,CAAa18B,QAAb,CAAjB;MACAi3B,OAAO,CAACgT,gBAAR,CAAyBppC,GAAzB,EAA8Bu8B,QAA9B;MACAkK,SAAS,CAAC3nC,IAAV,CAAe;QACbkB,GAAG,EAAHA,GADa;QAEbu8B,QAAQ,EAARA;OAFF;KAHF;QASM9rB,SAAS,GAAG,EAAlB;;QACM44B,SAAS,GAAG,SAAZA,SAAY,CAACl5B,CAAD,EAAO;UACnBA,CAAC,CAACm5B,OAAN,EAAe;QACb74B,SAAS,CAACrO,CAAV,GAAc+N,CAAC,CAACm5B,OAAF,CAAU,CAAV,EAAar4B,OAA3B;QACAR,SAAS,CAAClO,CAAV,GAAc4N,CAAC,CAACm5B,OAAF,CAAU,CAAV,EAAap4B,OAA3B;QACAT,SAAS,CAACW,UAAV,GAAuBjB,CAAC,CAACm5B,OAAF,CAAUzqC,MAAV,GAAmB,CAA1C;OAHF,MAIO;QACL4R,SAAS,CAACrO,CAAV,GAAc+N,CAAC,CAACc,OAAhB;QACAR,SAAS,CAAClO,CAAV,GAAc4N,CAAC,CAACe,OAAhB;QACAT,SAAS,CAACW,UAAV,GAAuB,KAAvB;;;MAEFX,SAAS,CAACM,IAAV,GAAiBF,IAAI,CAACC,GAAL,EAAjB;MACAL,SAAS,CAAC84B,KAAV,GAAkBP,mBAAmB,CAACv4B,SAAD,CAArC;KAXF;;QAcM+vB,UAAU,GAAG,SAAbA,UAAa,CAACrwB,CAAD,EAAO;UAClBo5B,KAAK,GAAG94B,SAAS,CAAC84B,KAAV,IAAmBP,mBAAmB,CAAC74B,CAAD,CAApD;;UACIo5B,KAAK,CAACz8B,KAAN,CAAY,UAAC/P,CAAD;eAAOA,CAAC,CAACoC,QAAF,CAAW8b,GAAX,CAAeuuB,eAAtB;OAAZ,CAAJ,EAAwD;;;;UAIpDr5B,CAAC,CAAC1R,IAAF,KAAW,UAAf,EAA2B;QACzB0R,CAAC,CAACs5B,cAAF;;;UAEE,CAACj5B,eAAe,CAACL,CAAD,EAAIM,SAAJ,CAApB,EAAoC;;;;WAI/B,IAAIhR,CAAC,GAAG8pC,KAAK,CAAC1qC,MAAN,GAAe,CAA5B,EAA+BY,CAAC,IAAI,CAApC,EAAuCA,CAAC,EAAxC,EAA4C;YACpC2L,IAAI,GAAGm+B,KAAK,CAAC9pC,CAAD,CAAlB;QACA2L,IAAI,CAACjM,QAAL,CAAcqhC,UAAd,CAAyBrwB,CAAzB;;YACI62B,YAAJ,EAAkB;UAChBA,YAAY,GAAG,KAAf;;;;KAjBN;;QAuBMrG,WAAW,GAAG,SAAdA,WAAc,CAACxwB,CAAD,EAAO;UACnBo5B,KAAK,GAAGP,mBAAmB,CAAC74B,CAAD,CAAjC;;WACK,IAAI1Q,CAAC,GAAG8pC,KAAK,CAAC1qC,MAAN,GAAe,CAA5B,EAA+BY,CAAC,IAAI,CAApC,EAAuCA,CAAC,EAAxC,EAA4C;YACpC2L,IAAI,GAAGm+B,KAAK,CAAC9pC,CAAD,CAAlB;QACA2L,IAAI,CAACjM,QAAL,CAAcwhC,WAAd,CAA0BxwB,CAA1B;;YACI62B,YAAJ,EAAkB;UAChBA,YAAY,GAAG,KAAf;;;;KANN;;QAYM0C,cAAc,GAAG,EAAvB;IAEAA,cAAc,CAAC5qC,IAAf,CAAoB;MAAEkB,GAAG,EAAE,WAAP;MAAoBu8B,QAAQ,EAAE8M;KAAlD;IACAK,cAAc,CAAC5qC,IAAf,CAAoB;MAAEkB,GAAG,EAAE,SAAP;MAAkBu8B,QAAQ,EAAEiE;KAAhD;;QAEItwB,kBAAkB,CAACkmB,OAAD,CAAtB,EAAiC;MAC/BsT,cAAc,CAAC5qC,IAAf,CAAoB;QAAEkB,GAAG,EAAE,YAAP;QAAqBu8B,QAAQ,EAAE8M;OAAnD;MACAK,cAAc,CAAC5qC,IAAf,CAAoB;QAAEkB,GAAG,EAAE,UAAP;QAAmBu8B,QAAQ,EAAEiE;OAAjD;;;IAGFkJ,cAAc,CAAC5qC,IAAf,CAAoB;MAAEkB,GAAG,EAAE,WAAP;MAAoBu8B,QAAQ,EAAEoE;KAAlD;IAEA+I,cAAc,CAAC/6B,OAAf,CAAuB,UAAC0tB,KAAD,EAAW;MAChCjG,OAAO,CAACgT,gBAAR,CAAyB/M,KAAK,CAACr8B,GAA/B,EAAoCq8B,KAAK,CAACE,QAA1C;MACAkK,SAAS,CAAC3nC,IAAV,CAAeu9B,KAAf;KAFF;GA3EF;;MAiFMsN,2BAA2B,GAAG,SAA9BA,2BAA8B,GAAM;IACxClD,SAAS,CAAC93B,OAAV,CAAkB;UAAG3O,GAAH,SAAGA,GAAH;UAAQu8B,QAAR,SAAQA,QAAR;aAAuBnG,OAAO,CAACwT,mBAAR,CAA4B5pC,GAA5B,EAAiCu8B,QAAjC,CAAvB;KAAlB;IACAkK,SAAS,CAAC5nC,MAAV,GAAmB,CAAnB;GAFF,CAhVoC;;;MAsV9ByhC,KAAK,GAAG,SAARA,KAAQ,GAAM;IAClBlK,OAAO,CAACyT,SAAR,GAAoB,EAApB;IAEApY,MAAM;IAEN0X,wBAAwB;IACxBV,eAAe,CAACjhC,QAAQ,CAACkhC,YAAV,CAAf;GANF;;MASMrJ,OAAO,GAAG,SAAVA,OAAU,GAAM;IACpBsK,2BAA2B;IAC3BlB,eAAe;GAFjB;;;;;;;EASAtpC,QAAQ,CAAC4oB,MAAT,GAAkB,YAAmB;QAAlB+hB,QAAkB,uEAAP,EAAO;QAC3B5B,WAD2B,GACa4B,QADb,CAC3B5B,WAD2B;gCACa4B,QADb,CACdC,iBADc;QACdA,iBADc,sCACM,EADN;QAE/BC,YAAJ;;QACIF,QAAQ,CAAC5rC,IAAb,EAAmB;MACjBA,IAAI,GAAG4rC,QAAQ,CAAC5rC,IAAhB;;;QAEE4rC,QAAQ,CAACtiC,QAAb,EAAuB;MACrBA,QAAQ,GAAGsiC,QAAQ,CAACtiC,QAApB;MACAihC,eAAe,CAACqB,QAAQ,CAACtiC,QAAT,CAAkBkhC,YAAnB,CAAf;;;IAGF3K,YAAY;IAEZvU,GAAG,CAACtrB,IAAD,EAAOsJ,QAAP,EAAiB;MAAE0gC,WAAW,EAAXA;KAAnB,CAAH;qBAMI1gC,QAnB+B;QAgBjCwT,UAhBiC,cAgBjCA,UAhBiC;QAiBjCsM,MAjBiC,cAiBjCA,MAjBiC;2CAkBjC7X,UAlBiC;QAkBjCA,UAlBiC,sCAkBpB,EAlBoB;;+BAqB1BhQ,CArB0B;UAsB3BgoC,QAAQ,GAAGd,iBAAiB,CAAClnC,CAAD,CAAlC,CAtBiC;;UAwB7B,CAACgQ,UAAU,CAACzC,IAAX,CAAgB,UAACjQ,CAAD;eAAO0qC,QAAQ,CAACJ,MAAT,IAAmBI,QAAQ,CAACznC,GAAT,KAAiBjD,CAAC,CAACiD,GAA7C;OAAhB,CAAL,EAAwE;;QAEtE2mC,iBAAiB,CAAC3nC,MAAlB,CAAyBS,CAAzB,EAA4B,CAA5B;QACAgoC,QAAQ,CAACtoC,QAAT,CAAkBwgC,OAAlB;;;;SANC,IAAIlgC,CAAC,GAAGknC,iBAAiB,CAAC9nC,MAAlB,GAA2B,CAAxC,EAA2CY,CAAC,IAAI,CAAhD,EAAmDA,CAAC,EAApD,EAAwD;YAA/CA,CAA+C;KArBrB;;;IAgCnCknC,iBAAiB,GAAGl3B,UAAU,CAAC3R,GAAX,CAAe,UAACsN,IAAD,EAAU;UACrC0b,GAAG,GAAG0gB,uBAAuB,CAACp8B,IAAI,CAACpL,GAAN,CAAnC,CAD2C;;UAIvC+pC,iBAAiB,CAACv8B,OAAlB,CAA0BpC,IAAI,CAACpL,GAA/B,IAAsC,CAAC,CAA3C,EAA8C;eACrC2mC,iBAAiB,CAAC7f,GAAD,CAAxB;;;UAGEA,GAAG,KAAK,CAAC,CAAb,EAAgB;;eAEPmgB,eAAe,CAAC77B,IAAD,EAAOgrB,OAAP,CAAtB;OAVyC;;;MAa3CuQ,iBAAiB,CAAC7f,GAAD,CAAjB,CAAuBmjB,UAAvB,GAAoC;QAClCjvB,UAAU,EAAVA,UADkC;QAElCsM,MAAM,EAANA,MAFkC;QAGlCppB,IAAI,EAAJA,IAHkC;QAIlCsJ,QAAQ,EAAE4D;OAJZ;aAMOu7B,iBAAiB,CAAC7f,GAAD,CAAxB;KAnBkB,EAoBjBvZ,MApBiB,CAoBV,UAACxQ,CAAD;aAAO,CAAC,CAACA,CAAT;KApBU,CAApB;IAsBA4pC,iBAAiB,CAACh4B,OAAlB,CAA0B,UAACvD,IAAD,EAAU;UAC9BA,IAAI,CAAC6+B,UAAT,EAAqB;QACnB7+B,IAAI,CAACjM,QAAL,CAAcqqB,GAAd,CAAkBpe,IAAI,CAAC6+B,UAAvB;;KAFJ;IAKAtD,iBAAiB,CAACh4B,OAAlB,CAA0B,UAACvD,IAAD,EAAU;UAC9BA,IAAI,CAAC6+B,UAAT,EAAqB;QACnB7+B,IAAI,CAACjM,QAAL,CAAc4+B,YAAd;;KAFJ;QAMMmM,QAAQ,GAAG,EAAjB;QACMC,QAAQ,GAAG,EAAjB;QACIC,gBAAJ;;QACIlC,WAAJ,EAAiB;MACfvB,iBAAiB,CAACh4B,OAAlB,CAA0B,UAACvD,IAAD,EAAU;YAC9BA,IAAI,CAAC6+B,UAAL,IAAmB7+B,IAAI,CAACsB,OAA5B,EAAqC;UACnCw9B,QAAQ,CAACprC,IAAT,CAAcsM,IAAd;;OAFJ;MAKAg/B,gBAAgB,GAAGF,QAAnB;KANF,MAOO;qBAC8Bx6B,MAAM,CAACi3B,iBAAD,CADpC;UACGj6B,OADH,YACGA,OADH;UACYC,MADZ,YACYA,MADZ;UACoBqD,KADpB,YACoBA,KADpB;;;MAELo2B,iBAAiB,GAAG15B,OAApB;MACA09B,gBAAgB,GAAG19B,OAAnB;MACAs9B,YAAY,GAAGh6B,KAAf;MAEAtD,OAAO,CAACiC,OAAR,CAAgB,UAACvD,IAAD,EAAU;YACpBA,IAAI,CAAC6+B,UAAL,IAAmB7+B,IAAI,CAACsB,OAA5B,EAAqC;UACnCw9B,QAAQ,CAACprC,IAAT,CAAcsM,IAAd;SADF,MAEO;UACL++B,QAAQ,CAACrrC,IAAT,CAAcsM,IAAd;;OAJJ;MAQAuB,MAAM,CAACgC,OAAP,CAAe,UAACvD,IAAD,EAAU;QACvBA,IAAI,CAACjM,QAAL,CAAcigC,IAAd;QACAh0B,IAAI,CAACsB,OAAL,GAAe,KAAf;eACOtB,IAAI,CAAC6+B,UAAZ;OAHF;;;IAOFE,QAAQ,CAACx7B,OAAT,CAAiB,UAACvD,IAAD;aAAUA,IAAI,CAACjM,QAAL,CAAcy+B,WAAd,EAAV;KAAjB;IACAuM,QAAQ,CAACx7B,OAAT,CAAiB,UAACvD,IAAD;aAAUA,IAAI,CAACjM,QAAL,CAAcmhC,KAAd,EAAV;KAAjB;IAEA8J,gBAAgB,CAACz7B,OAAjB,CAAyB,UAACvD,IAAD;aAAUA,IAAI,CAACjM,QAAL,CAAc6+B,YAAd,EAAV;KAAzB;IAEAoM,gBAAgB,CAACz7B,OAAjB,CAAyB,UAACvD,IAAD,EAAU;UAC7BA,IAAI,CAAC6+B,UAAL,IAAmB7+B,IAAI,CAACsB,OAA5B,EAAqC;QACnCtB,IAAI,CAACjM,QAAL,CAAc4oB,MAAd;OADF,MAEO;QACL3c,IAAI,CAACjM,QAAL,CAAcsyB,MAAd;;KAJJ,EArGmC;;;QA+G/B,CAACyW,WAAL,EAAkB;MAChB/B,eAAe,CAAC/P,OAAD,EAAUgQ,iBAAV,EAA6B4D,YAA7B,CAAf;;;IAGFG,QAAQ,CAACx7B,OAAT,CAAiB,UAACvD,IAAD;aAAUA,IAAI,CAACjM,QAAL,CAAc0+B,OAAd,EAAV;KAAjB;IACAqM,QAAQ,CAACv7B,OAAT,CAAiB,UAACvD,IAAD;aAAUA,IAAI,CAACjM,QAAL,CAAcoxB,OAAd,EAAV;KAAjB;IAEA6V,iBAAiB,CAACz3B,OAAlB,CAA0B,UAACvD,IAAD,EAAU;aAC3BA,IAAI,CAAC6+B,UAAZ;MACA7+B,IAAI,CAACsB,OAAL,GAAe,IAAf;KAFF;IAKA6jB,OAAO;GA3HT;;;;;;EAiIApxB,QAAQ,CAACwgC,OAAT,GAAmB,YAAM;IACvB1B,aAAa;IACb0I,iBAAiB,CAACh4B,OAAlB,CAA0B,UAACvD,IAAD;aAAUA,IAAI,CAACjM,QAAL,CAAcwgC,OAAd,EAAV;KAA1B;IACAgH,iBAAiB,GAAG,EAApB;IACAtH,OAAO;WACAlgC,QAAQ,CAAC4oB,MAAhB;WACO5oB,QAAQ,CAACwgC,OAAhB;IACAzB,SAAS;GAPX;;;;;;;;;;;EAkBA/+B,QAAQ,CAACkrC,iBAAT,GAA6B,UAAChqB,GAAD,EAAmC;QAA7B2O,IAA6B,uEAAtB,KAAsB;QAAfxvB,KAAe;QAARQ,GAAQ;QACxDggC,MAAM,GAAG,EAAf;IACA2G,iBAAiB,CAACp5B,MAAlB,CAAyB,UAACnC,IAAD;aAAUpL,GAAG,KAAK8G,SAAR,IAAqB9G,GAAG,KAAK,IAA7B,IAAqCoL,IAAI,CAACpL,GAAL,KAAaA,GAA5D;KAAzB,EAA0F2O,OAA1F,CAAkG,UAACvD,IAAD,EAAU;MAC1G40B,MAAM,CAAClhC,IAAP,OAAAkhC,MAAM,uBAAS50B,IAAI,CAACjM,QAAL,CAAc2gC,gBAAd,CAA+Bzf,GAA/B,EAAoC2O,IAApC,EAA0CxvB,KAA1C,CAAT,EAAN;KADF;WAGOwgC,MAAP;GALF;;;;;;;;;;;;;EAkBA7gC,QAAQ,CAAC+gC,UAAT,GAAsB,UAACC,QAAD,EAAc;QAC5BH,MAAM,GAAG,EAAf;IACAoG,iBAAiB,CAACz3B,OAAlB,CAA0B,UAAC5R,CAAD,EAAO;MAC/BijC,MAAM,CAAClhC,IAAP,OAAAkhC,MAAM,uBAASjjC,CAAC,CAACoC,QAAF,CAAW+gC,UAAX,CAAsBC,QAAtB,CAAT,EAAN;KADF;WAGOH,MAAP;GALF;;;;;;;;EAaA7gC,QAAQ,CAAC6pC,mBAAT,GAA+B,UAAC7qC,CAAD;WAAO6qC,mBAAmB,CAAC7qC,CAAD,CAAnB,CAAuBL,GAAvB,CAA2B,UAACsN,IAAD;aAAUA,IAAI,CAACjM,QAAL,CAAckhB,GAAxB;KAA3B,CAAP;GAA/B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAgCAlhB,QAAQ,CAACihC,QAAT,GAAoB,UAAC11B,KAAD,EAAsB;QAAd8O,IAAc,uEAAP,EAAO;QAClCwU,MAAM,GAAG,EAAf;QACMwX,eAAe,GAAGpP,OAAO,CAACC,qBAAR,EAAxB;QACIkT,KAAK,GAAGnD,iBAAZ,CAHwC;;QAKpC1lC,KAAK,CAACC,OAAN,CAAc6Y,IAAI,CAAC/J,UAAnB,KAAkC+J,IAAI,CAAC/J,UAAL,CAAgB5Q,MAAhB,GAAyB,CAA/D,EAAkE;UAC1DyrC,QAAQ,GAAG9wB,IAAI,CAAC/J,UAAL,CAAgB3R,GAAhB,CAAoB,UAACf,CAAD;eAAOA,CAAC,CAACiD,GAAT;OAApB,CAAjB;MACAupC,KAAK,GAAGnD,iBAAiB,CACtB74B,MADK,CACE,UAACxQ,CAAD;eAAOutC,QAAQ,CAAC98B,OAAT,CAAiBzQ,CAAC,CAACiD,GAAnB,MAA4B,CAAC,CAApC;OADF,EAELlC,GAFK,CAED,UAACf,CAAD;eAAQ;UACXoC,QAAQ,EAAEpC,CAAC,CAACoC,QADD;UAEXqa,IAAI,EAAEA,IAAI,CAAC/J,UAAL,CAAgB66B,QAAQ,CAAC98B,OAAT,CAAiBzQ,CAAC,CAACiD,GAAnB,CAAhB;SAFH;OAFC,CAAR;;;SAQG,IAAIP,CAAC,GAAG8pC,KAAK,CAAC1qC,MAAN,GAAe,CAA5B,EAA+BY,CAAC,IAAI,CAApC,EAAuCA,CAAC,EAAxC,EAA4C;UACpC1C,CAAC,GAAGwsC,KAAK,CAAC9pC,CAAD,CAAf;UACMgmC,eAAe,GAAG1oC,CAAC,CAACoC,QAAF,CAAW6wB,QAAX,GAAsBoG,OAAtB,GAAgCC,qBAAhC,EAAxB;UACMqP,UAAU,GAAGH,iBAAiB,CAAC76B,KAAD,EAAQ86B,eAAR,EAAyBC,eAAzB,CAApC;UACMzF,MAAM,GAAGjjC,CAAC,CAACoC,QAAF,CAAWihC,QAAX,CAAoBsF,UAApB,EAAgC3oC,CAAC,CAACyc,IAAlC,CAAf;UACM+wB,eAAe,GAAGvK,MAAM,CAACnhC,MAAP,GAAgB,CAAhB,IAAqB2a,IAAI,CAACwc,WAAL,KAAqB,MAAlE;MAEAhI,MAAM,CAAClvB,IAAP,OAAAkvB,MAAM,uBAASgS,MAAT,EAAN;;UAEIhS,MAAM,CAACnvB,MAAP,GAAgB,CAAhB,IAAqB0rC,eAAzB,EAA0C;eACjCvc,MAAP;;;;WAGGA,MAAP;GA5BF;;;;;;;;;;;;;;;;;;;;;;;;;;;EAwDA7uB,QAAQ,CAACkhC,eAAT,GAA2B,UAACL,MAAD,EAAyC;QAAhC70B,MAAgC,uEAAvB;MAAEsE,UAAU,EAAE;KAAS;;iCACzDhQ,CADyD;UAE1D+qC,IAAI,GAAGr/B,MAAM,CAACsE,UAAP,CAAkBhQ,CAAlB,EAAqBO,GAAlC;MACAomC,iBAAiB,CAAC74B,MAAlB,CAAyB,UAACxQ,CAAD;eAAOytC,IAAI,KAAKztC,CAAC,CAACiD,GAAlB;OAAzB,EAAgD2O,OAAhD,CAAwD,UAAC5R,CAAD,EAAO;YACzD0tC,UAAU,GAAGzK,MAAM,CAACzyB,MAAP,CAAc,UAAC7C,KAAD;iBAAWA,KAAK,CAAC1K,GAAN,KAAcjD,CAAC,CAACiD,GAA3B;SAAd,CAAjB;QACAjD,CAAC,CAACoC,QAAF,CAAWkhC,eAAX,CAA2BoK,UAA3B,EAAuCt/B,MAAM,CAACsE,UAAP,CAAkBhQ,CAAlB,CAAvC;OAFF;;;SAFG,IAAIA,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0L,MAAM,CAACsE,UAAP,CAAkB5Q,MAAtC,EAA8CY,CAAC,EAA/C,EAAmD;aAA1CA,CAA0C;;GADrD;;;;;;;EAcAN,QAAQ,CAACgpC,MAAT,GAAkB,SAASA,MAAT,GAAkC;QAAlBhZ,IAAkB,uEAAX,SAAW;WAC3C3G,oBAAoB,CAAC2G,IAAD,EAAO2X,iBAAP,CAA3B;GADF;;;;;;;;EASA3nC,QAAQ,CAACyS,OAAT,GAAmB,UAAC5R,GAAD;WAAS4R,OAAO,CAAC5R,GAAD,CAAhB;GAAnB;;EAEAb,QAAQ,CAACy/B,cAAT,GAA0B,UAAC5+B,GAAD;WAAS4+B,cAAc,CAAC5+B,GAAD,CAAvB;GAA1B;;;;;;;EAMAb,QAAQ,CAACmoB,MAAT,GAAkB,SAASA,MAAT,GAAkB;WAC3Bsf,aAAa,CAAC1rB,GAAd,EAAP;GADF;;;;;;;EAQA/b,QAAQ,CAAC6b,UAAT,GAAsB,SAASA,UAAT,GAAsB;WACnC6rB,iBAAiB,CAAC3rB,GAAlB,EAAP;GADF;;;;;;;;EASA/b,QAAQ,CAACwtB,KAAT,GAAiB,SAAS+d,OAAT,GAAmC;QAAlBvb,IAAkB,uEAAX,SAAW;;QAC9C,CAACrB,OAAO,CAACqB,IAAD,CAAZ,EAAoB;MAClBrB,OAAO,CAACqB,IAAD,CAAP,GAAgBxC,KAAK,EAArB;;;WAEKmB,OAAO,CAACqB,IAAD,CAAd;GAJF;;;;;;;;;;;;EAgBAhwB,QAAQ,CAACyH,KAAT,GAAiB,SAASA,KAAT,CAAetJ,CAAf,EAAkB;WAC1BspC,aAAa,CAAC/zB,GAAd,CAAkBvV,CAAlB,CAAP;GADF;;;;;;;;;;;;;;;;;EAkBA6B,QAAQ,CAACsU,SAAT,GAAqB,SAASA,SAAT,CAAmBnW,CAAnB,EAAsB;WAClCupC,iBAAiB,CAACh0B,GAAlB,CAAsBvV,CAAtB,CAAP;GADF;;;;;;EAOA6B,QAAQ,CAACuhC,cAAT,GAA0B,SAASA,cAAT,CAAwBv4B,GAAxB,EAA6B;QACjD,OAAOA,GAAP,KAAe,WAAnB,EAAgC;MAC9B6+B,YAAY,GAAG7+B,GAAf;KADF,MAEO;MACL6+B,YAAY,GAAG,CAACA,YAAhB;;GAJJ;;;;;;;;EAaA7nC,QAAQ,CAACmQ,SAAT,GAAqB,UAACtP,GAAD,EAAS;QACtB8mB,GAAG,GAAG0gB,uBAAuB,CAACxnC,GAAD,CAAnC;;QACI8mB,GAAG,KAAK,CAAC,CAAb,EAAgB;aACP6f,iBAAiB,CAAC7f,GAAD,CAAjB,CAAuB3nB,QAAvB,CAAgCkhB,GAAvC;;;WAEKvZ,SAAP;GALF;;EAQA3H,QAAQ,CAACqS,MAAT,GAAkB;WAAMA,MAAN;GAAlB;;EAEArS,QAAQ,CAACkmB,KAAT,GAAiB;WAAMA,KAAN;GAAjB;;;;;;;;;;;;EAWAvlB,MAAM,CAACC,cAAP,CAAsBZ,QAAtB,EAAgC,cAAhC,EAAgD;IAC9C0T,GAD8C,iBACxC;;;;;UAGF83B,SAAS,EAAE5D,mBAF2B;;;UAItC/R,EAJsC,gBAIjC;YACHmU,wBAAwB;YACxBpC,mBAAmB,CAACp4B,OAApB,CAA4B,UAAClP,CAAD;qBAAOA,CAAC,CAACu1B,EAAF,EAAP;aAA5B;WANoC;;;UAStC4V,GATsC,iBAShC;YACJjB,2BAA2B;YAC3B5C,mBAAmB,CAACp4B,OAApB,CAA4B,UAAClP,CAAD;qBAAOA,CAAC,CAACmrC,GAAF,EAAP;aAA5B;;;;;GAbR;EAmBAjN,OAAO;;MAEHvH,OAAJ,EAAa;IACXwH,WAAW;IACX0C,KAAK,CAAClK,AAAD,CAAL;IACAyH,OAAO,CAACzH,OAAD,CAAP;IACAj3B,QAAQ,CAACi3B,OAAT,GAAmBA,OAAnB;;;SAGKj3B,QAAP;;;ACl4BF,IAAM0rC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACl4B,GAAD,EAAS;MAC5BkD,CAAC,GAAGxC,eAAQ,CAACV,GAAD,CAAhB;;EACAkD,CAAC,CAACi1B,IAAF,GAAS,UAAC3sC,CAAD;WAAQA,CAAC,GAAG0X,CAAC,CAAC9C,OAAF,CAAU5U,CAAC,CAAC,CAAD,CAAX,CAAH,GAAqB,CAAC0X,CAAC,CAAC9C,OAAF,EAAD,CAA9B;GAAT;;EACA8C,CAAC,CAACtE,KAAF,GAAU;WAAMsE,CAAC,CAAC3C,OAAF,EAAN;GAAV;;SACO2C,CAAP;CAJF;;ACAA,IAAMk1B,iBAAiB,GAAG13B,eAAQ,EAAlC;;ACFO,SAAS23B,SAAT,CAAmBC,KAAnB,QAAqC;MAAT1X,KAAS,QAATA,KAAS;;MACtC,OAAO0X,KAAP,KAAiB,QAArB,EAA+B;WACtB1X,KAAK,CAACla,MAAN,CAAa4xB,KAAb,CAAP;GAFwC;;;OAMrC,IAAIxrC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG8zB,KAAK,CAACla,MAAN,CAAaxa,MAAjC,EAAyCY,CAAC,EAA1C,EAA8C;QACxC8zB,KAAK,CAACla,MAAN,CAAa5Z,CAAb,EAAgBO,GAAhB,OAA0BirC,KAA9B,EAAqC;aAC5B1X,KAAK,CAACla,MAAN,CAAa5Z,CAAb,CAAP;;GARsC;;;OAYrC,IAAIA,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAG8zB,KAAK,CAACla,MAAN,CAAaxa,MAAjC,EAAyCY,EAAC,EAA1C,EAA8C;QACxC8zB,KAAK,CAACla,MAAN,CAAa5Z,EAAb,EAAgByW,KAAhB,OAA4B+0B,KAAhC,EAAuC;aAC9B1X,KAAK,CAACla,MAAN,CAAa5Z,EAAb,CAAP;;;;SAGG,IAAP;;AAGF,IAAMyrC,OAAO,GAAG;EACdC,OAAO,EAAE,iBAAC/0B,MAAD;WAAYA,MAAM,CAAC7I,MAAP,CAAc,UAACjQ,CAAD;aAAO,OAAOA,CAAP,KAAa,QAAb,IAAyB,CAACoL,KAAK,CAACpL,CAAD,CAAtC;KAAd,CAAZ;;CADX;AAIA,IAAM8tC,kBAAkB,GAAG;EACzBC,GAAG,EAAE,aAACj1B,MAAD;WAAYA,MAAM,CAACyV,MAAP,CAAc,UAAC/uB,CAAD,EAAIuQ,CAAJ;aAAUvQ,CAAC,GAAGuQ,CAAd;KAAd,EAA+B,CAA/B,CAAZ;;CADP;;;;;;;;;;;AAcA,AAAO,IAAMi+B,QAAQ,GAAG;EACtBC,KAAK,EAAE,eAACn1B,MAAD;WAAYA,MAAM,CAAC,CAAD,CAAlB;GADe;EAEtBo1B,IAAI,EAAE,cAACp1B,MAAD;WAAYA,MAAM,CAACA,MAAM,CAACvX,MAAP,GAAgB,CAAjB,CAAlB;GAFgB;EAGtBgK,GAAG,EAAE,aAACuN,MAAD,EAAY;QACTsE,QAAQ,GAAGwwB,OAAO,CAACC,OAAR,CAAgB/0B,MAAhB,CAAjB;WACO,CAACsE,QAAQ,CAAC7b,MAAV,GAAmBgL,GAAnB,GAAyBxH,IAAI,CAACwG,GAAL,CAAS3F,KAAT,CAAe,IAAf,EAAqBwX,QAArB,CAAhC;GALoB;EAOtB5R,GAAG,EAAE,aAACsN,MAAD,EAAY;QACTsE,QAAQ,GAAGwwB,OAAO,CAACC,OAAR,CAAgB/0B,MAAhB,CAAjB;WACO,CAACsE,QAAQ,CAAC7b,MAAV,GAAmBgL,GAAnB,GAAyBxH,IAAI,CAACyG,GAAL,CAAS5F,KAAT,CAAe,IAAf,EAAqBwX,QAArB,CAAhC;GAToB;EAWtB2wB,GAAG,EAAE,aAACj1B,MAAD,EAAY;QACTsE,QAAQ,GAAGwwB,OAAO,CAACC,OAAR,CAAgB/0B,MAAhB,CAAjB;WACO,CAACsE,QAAQ,CAAC7b,MAAV,GAAmBgL,GAAnB,GAAyB6Q,QAAQ,CAACmR,MAAT,CAAgB,UAAC/uB,CAAD,EAAIuQ,CAAJ;aAAUvQ,CAAC,GAAGuQ,CAAd;KAAhB,EAAiC,CAAjC,CAAhC;GAboB;EAetBo+B,GAAG,EAAE,aAACr1B,MAAD,EAAY;QACTsE,QAAQ,GAAGwwB,OAAO,CAACC,OAAR,CAAgB/0B,MAAhB,CAAjB;QACM0O,GAAG,GAAGpK,QAAQ,CAAC7b,MAArB;WACO,CAACimB,GAAD,GAAOjb,GAAP,GAAauhC,kBAAkB,CAACC,GAAnB,CAAuB3wB,QAAvB,IAAmCoK,GAAvD;;CAlBG;;AAsBP,SAAS4mB,mBAAT,CAA6BxxB,GAA7B,EAAkCtI,OAAlC,EAA2C+5B,cAA3C,EAA2DC,IAA3D,EAAiE;;MAEzDpsC,KAAK,GAAG,EAAd;MACMqsC,SAAS,GAAGD,IAAI,CAACt1B,KAAL,KAAe,OAAO4D,GAAG,CAAC5D,KAAX,KAAqB,WAArB,GAAmC1E,OAAO,CAAC0E,KAAR,CAAc4D,GAAG,CAAC5D,KAAlB,CAAnC,GAA8D,IAA7E,CAAlB;EACAxW,MAAM,CAACgS,IAAP,CAAY65B,cAAZ,EAA4Bh9B,OAA5B,CAAoC,UAAC3O,GAAD,EAAS;QACrC8rC,OAAO,GAAGH,cAAc,CAAC3rC,GAAD,CAA9B;QACMk7B,IAAI,GAAG17B,KAAK,CAACQ,GAAD,CAAL,GAAa,EAA1B;;QACI,CAAC,QAAD,EAAW,QAAX,EAAqB,SAArB,EAAgCwN,OAAhC,SAA+Cs+B,OAA/C,OAA4D,CAAC,CAAjE,EAAoE;MAClE5Q,IAAI,CAACz8B,IAAL,GAAY,WAAZ;MACAy8B,IAAI,CAAC/3B,KAAL,GAAa2oC,OAAb;KAFF,MAGO,IAAI,OAAOA,OAAP,KAAmB,UAAvB,EAAmC;MACxC5Q,IAAI,CAACz8B,IAAL,GAAY,UAAZ;MACAy8B,IAAI,CAAC/3B,KAAL,GAAa2oC,OAAb;MACA5Q,IAAI,CAAC7kB,KAAL,GAAay1B,OAAb;MACA5Q,IAAI,CAAC5kB,KAAL,GAAau1B,SAAb;KAJK,MAKA,IAAI,QAAOC,OAAP,MAAmB,QAAvB,EAAiC;UAClCA,OAAO,CAACzyB,MAAZ,EAAoB;QAClB6hB,IAAI,CAAC7hB,MAAL,GAAcyyB,OAAO,CAACzyB,MAAR,CAAevb,GAAf,CAAmB,UAAC0a,EAAD;iBAAQkzB,mBAAmB,CAACxxB,GAAD,EAAMtI,OAAN,EAAe;YAAEg6B,IAAI,EAAEpzB;WAAvB,EAA6BozB,IAA7B,CAAnB,CAAsDA,IAA9D;SAAnB,CAAd;OADF,MAEO,IAAI,OAAOE,OAAO,CAACx1B,KAAf,KAAyB,WAA7B,EAA0C;QAC/C4kB,IAAI,CAACz8B,IAAL,GAAY,OAAZ;QACAy8B,IAAI,CAAC5kB,KAAL,GAAa1E,OAAO,CAAC0E,KAAR,CAAcw1B,OAAO,CAACx1B,KAAtB,CAAb;QACA4kB,IAAI,CAAC/3B,KAAL,GAAa+3B,IAAI,CAAC5kB,KAAL,CAAWnT,KAAxB;QACA+3B,IAAI,CAAC7kB,KAAL,GAAa6kB,IAAI,CAAC5kB,KAAL,CAAWD,KAAxB;OAJK,MAKA,IAAIw1B,SAAJ,EAAe;QACpB3Q,IAAI,CAAC/3B,KAAL,GAAa0oC,SAAS,CAAC1oC,KAAvB;QACA+3B,IAAI,CAAC7kB,KAAL,GAAaw1B,SAAS,CAACx1B,KAAvB;QACA6kB,IAAI,CAAC5kB,KAAL,GAAau1B,SAAb;;;UAGE,OAAOC,OAAO,CAACv+B,MAAf,KAA0B,UAA9B,EAA0C;QACxC2tB,IAAI,CAAC3tB,MAAL,GAAcu+B,OAAO,CAACv+B,MAAtB;;;UAEE,OAAOu+B,OAAO,CAAC3oC,KAAf,KAAyB,WAA7B,EAA0C;QACxC+3B,IAAI,CAAC/3B,KAAL,GAAa2oC,OAAO,CAAC3oC,KAArB;;;UAEE,OAAO2oC,OAAO,CAACz1B,KAAf,KAAyB,WAA7B,EAA0C;QACxC6kB,IAAI,CAAC7kB,KAAL,GAAay1B,OAAO,CAACz1B,KAArB;;;UAEE,OAAOy1B,OAAO,CAACjgB,MAAf,KAA0B,UAA9B,EAA0C;QACxCqP,IAAI,CAACrP,MAAL,GAAcigB,OAAO,CAACjgB,MAAtB;OADF,MAEO,IAAIigB,OAAO,CAACjgB,MAAZ,EAAoB;QACzBqP,IAAI,CAACrP,MAAL,GAAcyf,QAAQ,CAACQ,OAAO,CAACjgB,MAAT,CAAtB;OADK,MAEA,IAAIqP,IAAI,CAAC5kB,KAAL,IAAc4kB,IAAI,CAAC5kB,KAAL,CAAWuV,MAA7B,EAAqC;QAC1CqP,IAAI,CAACrP,MAAL,GAAc,OAAOqP,IAAI,CAAC5kB,KAAL,CAAWuV,MAAlB,KAA6B,QAA7B,GAAwCyf,QAAQ,CAACpQ,IAAI,CAAC5kB,KAAL,CAAWuV,MAAZ,CAAhD,GAAsEqP,IAAI,CAAC5kB,KAAL,CAAWuV,MAA/F;;;UAGE,OAAOigB,OAAO,CAACC,WAAf,KAA+B,UAAnC,EAA+C;QAC7C7Q,IAAI,CAAC6Q,WAAL,GAAmBD,OAAO,CAACC,WAA3B;OADF,MAEO,IAAID,OAAO,CAACC,WAAZ,EAAyB;QAC9B7Q,IAAI,CAAC6Q,WAAL,GAAmBT,QAAQ,CAACQ,OAAO,CAACC,WAAT,CAA3B;OADK,MAEA,IAAI7Q,IAAI,CAAC5kB,KAAL,IAAc4kB,IAAI,CAAC5kB,KAAL,CAAWy1B,WAA7B,EAA0C;QAC/C7Q,IAAI,CAAC6Q,WAAL,GAAmB,OAAO7Q,IAAI,CAAC5kB,KAAL,CAAWy1B,WAAlB,KAAkC,QAAlC,GAA6CT,QAAQ,CAACpQ,IAAI,CAAC5kB,KAAL,CAAWy1B,WAAZ,CAArD,GAAgF7Q,IAAI,CAAC5kB,KAAL,CAAWy1B,WAA9G;;;GA/CN;SAoDOvsC,KAAP;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BF,AAAO,SAASwsC,YAAT,CAAsB9xB,GAAtB,EAA2BtI,OAA3B,EAAoC;;6BAExB85B,mBAAmB,CAACxxB,GAAD,EAAMtI,OAAN,EAAe;IACjDg6B,IAAI,EAAE;MACJzoC,KAAK,EAAE+W,GAAG,CAAC/W,KADP;MACckT,KAAK,EAAE6D,GAAG,CAAC7D,KADzB;MACgCwV,MAAM,EAAE3R,GAAG,CAAC2R,MAD5C;MACoDte,MAAM,EAAE2M,GAAG,CAAC3M;;GAFpC,EAIjC,EAJiC,CAFK;MAEjCq+B,IAFiC,wBAEjCA,IAFiC;;MAOnCpsC,KAAK,GAAGksC,mBAAmB,CAACxxB,GAAD,EAAMtI,OAAN,EAAesI,GAAG,CAAC1a,KAAJ,IAAa,EAA5B,EAAgCosC,IAAhC,CAAjC;SACO;IAAEpsC,KAAK,EAALA,KAAF;IAASosC,IAAI,EAAJA;GAAhB;;;AAGF,SAASK,YAAT,CAAsBz1B,KAAtB,EAA6B0D,GAA7B,EAAkCzG,SAAlC,EAA6CynB,IAA7C,EAAmD;MAC3C9kB,MAAM,GAAG1V,KAAK,CAAC8V,KAAK,CAAC3X,MAAP,CAApB;MACMkgB,MAAM,GAAGre,KAAK,CAAC8V,KAAK,CAAC3X,MAAP,CAApB;MACI62B,EAAJ;;OACK,IAAIj2B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG+W,KAAK,CAAC3X,MAA1B,EAAkCY,CAAC,EAAnC,EAAuC;IACrCi2B,EAAE,GAAGwF,IAAI,GAAG1kB,KAAK,CAAC/W,CAAD,CAAL,CAASy7B,IAAT,CAAH,GAAoB1kB,KAAK,CAAC/W,CAAD,CAAlC;IACA2W,MAAM,CAAC3W,CAAD,CAAN,GAAYi2B,EAAE,CAACvyB,KAAf;IACA4b,MAAM,CAACtf,CAAD,CAAN,GAAYi2B,EAAE,CAACrf,KAAf;;;MAGIwV,MAAM,GAAG3R,GAAG,CAAC2R,MAAnB;MACMkgB,WAAW,GAAG7xB,GAAG,CAAC6xB,WAAxB;MACMzuC,CAAC,GAAGuuB,MAAM,GAAGA,MAAM,CAACzV,MAAD,CAAT,GAAoBA,MAApC;MACM/I,CAAC,GAAG0+B,WAAW,GAAGA,WAAW,CAAChtB,MAAD,EAASzhB,CAAT,CAAd,GAA6BmW,SAAS,GAAGA,SAAS,CAACnW,CAAD,CAAZ,GAAkBc,MAAM,CAACd,CAAD,CAAnF,CAbiD;;;MAiB3CgW,GAAG,GAAG;IACVnQ,KAAK,EAAE7F,CADG;IAEV+Y,KAAK,EAAEhJ;GAFT;;MAII6tB,IAAI,IAAI1kB,KAAK,CAAC,CAAD,CAAL,CAAS0kB,IAAT,EAAejlB,MAA3B,EAAmC;IACjC3C,GAAG,CAAC2C,MAAJ,GAAaO,KAAK,CAAC,CAAD,CAAL,CAAS0kB,IAAT,EAAejlB,MAA5B;WACO3C,GAAP;;;MAEE,CAAC4nB,IAAD,IAAS1kB,KAAK,CAAC,CAAD,CAAL,CAASP,MAAtB,EAA8B;IAC5B3C,GAAG,CAAC2C,MAAJ,GAAaO,KAAK,CAAC,CAAD,CAAL,CAASP,MAAtB;WACO3C,GAAP;;;SAGKA,GAAP;;;;AAIF,AAAO,SAAS44B,OAAT,CAAiBC,YAAjB,SAIJ;MAHDP,IAGC,SAHDA,IAGC;MAFDQ,QAEC,SAFDA,QAEC;MADD5sC,KACC,SADDA,KACC;MACGsf,SAAS,GAAG,EAAhB;MACMutB,aAAa,GAAGT,IAAI,CAACt1B,KAAL,CAAW7C,SAAX,EAAtB,CAFC;;MAGK64B,eAAe,GAAG,EAAxB;EACAF,QAAQ,CAACz9B,OAAT,CAAiB,UAACusB,IAAD,EAAU;IACzBoR,eAAe,CAACpR,IAAD,CAAf,GAAwB17B,KAAK,CAAC07B,IAAD,CAAL,CAAY5kB,KAAZ,GAAoB9W,KAAK,CAAC07B,IAAD,CAAL,CAAY5kB,KAAZ,CAAkB7C,SAAlB,EAApB,GAAoD,UAACnW,CAAD;aAAOA,CAAP;KAA5E;GADF;EAGAwhB,SAAS,CAAChgB,IAAV,OAAAggB,SAAS,uBAASqtB,YAAY,CAACruC,GAAb,CAAiB,UAACT,CAAD,EAAO;QAClCiW,GAAG,GAAG24B,YAAY,CAAC5uC,CAAC,CAACmZ,KAAH,EAAUo1B,IAAV,EAAgBS,aAAhB,CAAxB;IAEAD,QAAQ,CAACz9B,OAAT,CAAiB,UAACusB,IAAD,EAAU;MACzB5nB,GAAG,CAAC4nB,IAAD,CAAH,GAAY+Q,YAAY,CAAC5uC,CAAC,CAACmZ,KAAH,EAAUhX,KAAK,CAAC07B,IAAD,CAAf,EAAuBoR,eAAe,CAACpR,IAAD,CAAtC,EAA8CA,IAA9C,CAAxB;KADF;WAGO5nB,GAAP;GANgB,CAAT,EAAT;SASOwL,SAAP;;AAGF,AAAO,SAASytB,KAAT,QAOJ;MANDryB,GAMC,SANDA,GAMC;MALDsyB,QAKC,SALDA,QAKC;MAJDpyB,GAIC,SAJDA,GAIC;MAHD7a,MAGC,SAHDA,MAGC;MAFDktC,OAEC,SAFDA,OAEC;MADDC,SACC,SADDA,SACC;MACKC,OAAO,GAAGD,SAAS,KAAK,UAAd,GAA2BxyB,GAAG,CAACqI,OAAJ,CAAYiqB,QAAZ,CAA3B,GAAmDA,QAAQ,CAACtyB,GAAG,CAACqI,OAAL,CAA3E;MACIqqB,WAAW,GAAGH,OAAO,CAACE,OAAD,CAAzB;;MACI,CAACC,WAAL,EAAkB;IAChBA,WAAW,GAAGH,OAAO,CAACE,OAAD,CAAP,GAAmB;MAC/Bn2B,KAAK,EAAE,EADwB;MAE/BR,EAAE,EAAE22B;KAFN;IAIAptC,MAAM,CAACT,IAAP,CAAY8tC,WAAZ;;;EAEFA,WAAW,CAACp2B,KAAZ,CAAkB1X,IAAlB,CAAuBsb,GAAvB;;;AClOF,SAASyyB,YAAT,CAAsBC,OAAtB,EAA+BC,IAA/B,QAEG;MADD/sC,GACC,QADDA,GACC;MACKqiB,KAAK,GAAG;IACZlf,KAAK,EAAE,OAAO2pC,OAAO,CAAC3pC,KAAf,KAAyB,UAAzB,GAAsC2pC,OAAO,CAAC3pC,KAAR,CAAc4pC,IAAd,CAAtC,GAA4D,OAAOD,OAAO,CAAC3pC,KAAf,KAAyB,WAAzB,GAAuC2pC,OAAO,CAAC3pC,KAA/C,GAAuD4pC,IAD9G;;GAAd;EAIA1qB,KAAK,CAAChM,KAAN,GAAc,OAAOy2B,OAAO,CAACz2B,KAAf,KAAyB,UAAzB,GAAsCy2B,OAAO,CAACz2B,KAAR,CAAc02B,IAAd,CAAtC,GAA4D,OAAOD,OAAO,CAACz2B,KAAf,KAAyB,WAAzB,GAAuCjY,MAAM,CAAC0uC,OAAO,CAACz2B,KAAT,CAA7C,GAA+DjY,MAAM,CAACikB,KAAK,CAAClf,KAAP,CAA/I,CALC;;MAOG2pC,OAAO,CAACx2B,KAAZ,EAAmB;IACjB+L,KAAK,CAACpM,MAAN,GAAe;MACbjW,GAAG,EAAHA,GADa;MAEbsW,KAAK,EAAEw2B,OAAO,CAACx2B,KAAR,CAActW,GAAd;KAFT;;;SAMKqiB,KAAP;;;AAGF,AAAe,SAAS/I,SAAT,CAAiBnO,MAAjB,EAAyByG,OAAzB,EAAkC;MACzCo7B,IAAI,GAAGtsC,KAAK,CAACC,OAAN,CAAcwK,MAAd,IAAwBA,MAAxB,GAAiC,CAACA,MAAD,CAA9C;MACI2T,SAAS,GAAG,EAAhB;EACAkuB,IAAI,CAACr+B,OAAL,CAAa,UAACuL,GAAD,EAAS;QAChB,OAAOA,GAAG,CAAC5D,KAAX,KAAqB,WAAzB,EAAsC;;YAC9BT,CAAC,GAAGjE,OAAO,CAAC0E,KAAR,CAAc4D,GAAG,CAAC5D,KAAlB,CAAV;YACM22B,SAAS,GAAGr7B,OAAO,CAAC5R,GAAR,EAAlB;;YACI,CAAC6V,CAAL,EAAQ;gBACAtG,KAAK,kBAAW2K,GAAG,CAAC5D,KAAf,iBAAX;;;4BAEsB01B,YAAY,CAAC9xB,GAAD,EAAMtI,OAAN,CANA;YAM5BpS,KAN4B,iBAM5BA,KAN4B;YAMrBosC,IANqB,iBAMrBA,IANqB;;YAO9BQ,QAAQ,GAAGtsC,MAAM,CAACgS,IAAP,CAAYtS,KAAZ,CAAjB;YAEM+sC,OAAK,GAAG,CAAC,CAACryB,GAAG,CAACqI,OAApB;;YACMmqB,SAAS,WAAUxyB,GAAG,CAACqI,OAAd,CAAf;;YACMkqB,OAAO,GAAG,EAAhB;YACMN,YAAY,GAAG,EAArB;YAEM31B,KAAK,GAAGX,CAAC,CAACW,KAAF,EAAd;YACM02B,MAAM,GAAG,EAAf;;mCACSpmB,GAhB2B;cAiB5BqmB,QAAQ,GAAG32B,KAAK,CAACsQ,GAAD,CAAtB;cACMsmB,OAAO,GAAGxB,IAAI,CAACr+B,MAAL,IAAe,CAACq+B,IAAI,CAACr+B,MAAL,CAAY4/B,QAAZ,CAAhC;;cACIC,OAAJ,EAAa;;;;cAGP95B,GAAG,GAAGu5B,YAAY,CAACjB,IAAD,EAAOuB,QAAP,EAAiB;YAAEntC,GAAG,EAAEitC;WAAxB,CAAxB,CAtBkC;;;UA0BlCb,QAAQ,CAACz9B,OAAT,CAAiB,UAACusB,IAAD,EAAU;gBACnB/8B,CAAC,GAAGqB,KAAK,CAAC07B,IAAD,CAAf;gBACImS,QAAQ,GAAGlvC,CAAC,CAACmY,KAAF,GAAUnY,CAAC,CAACmY,KAAF,CAAQE,KAAR,GAAgBsQ,GAAhB,CAAV,GAAiCqmB,QAAhD;YACA75B,GAAG,CAAC4nB,IAAD,CAAH,GAAY2R,YAAY,CAAC1uC,CAAD,EAAIkvC,QAAJ,EAAc;cAAErtC,GAAG,EAAEitC;aAArB,CAAxB;WAHF,EA1BkC;;;cAkC9BV,OAAJ,EAAW;YACTe,KAAY,CAAC;cACXpzB,GAAG,EAAHA,GADW;cAEXsyB,QAAQ,EAAEW,QAFC;cAGX/yB,GAAG,EAAE9G,GAHM;cAIX/T,MAAM,EAAE4sC,YAJG;cAKXM,OAAO,EAAPA,OALW;cAMXC,SAAS,EAATA;aANU,CAAZ;;;UAUFQ,MAAM,CAACpuC,IAAP,CAAYwU,GAAZ;;;aA7BG,IAAIwT,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGtQ,KAAK,CAAC3X,MAA9B,EAAsCioB,GAAG,EAAzC,EAA6C;2BAApCA,GAAoC;;mCAIzC;SApBgC;;;YAiDhCylB,OAAJ,EAAW;UACTztB,SAAS,CAAChgB,IAAV,OAAAggB,SAAS,uBAASotB,OAAO,CAACC,YAAD,EAAe;YACtCP,IAAI,EAAJA,IADsC;YAEtCQ,QAAQ,EAARA,QAFsC;YAGtC5sC,KAAK,EAALA;WAHuB,CAAhB,EAAT;SADF,MAMO;UACLsf,SAAS,CAAChgB,IAAV,OAAAggB,SAAS,EAASouB,MAAT,CAAT;;;;GAzDN;SA6DOpuB,SAAP;;;AC9EF,IAAMosB,SAAO,GAAG;EACdC,OAAO,EAAE,iBAAC/0B,MAAD;WAAYA,MAAM,CAAC7I,MAAP,CAAc,UAACjQ,CAAD;aAAO,OAAOA,CAAP,KAAa,QAAb,IAAyB,CAACoL,KAAK,CAACpL,CAAD,CAAtC;KAAd,CAAZ;;CADX;;AAIA,SAASiwC,YAAT,OAEG;MADDt3B,MACC,QADDA,MACC;MADO/X,IACP,QADOA,IACP;MADaq1B,KACb,QADaA,KACb;MADoBpoB,MACpB,QADoBA,MACpB;MACGqiC,OAAJ;MACIC,OAAO,GAAGvvC,IAAd;MACMF,KAAK,GAAGmN,MAAM,IAAIA,MAAM,CAACnN,KAA/B;;MACI0C,KAAK,CAACC,OAAN,CAAczC,IAAI,CAAC,CAAD,CAAlB,CAAJ,EAA4B;;QACtBF,KAAK,IAAIA,KAAK,CAACwvC,OAAN,KAAkB,KAA/B,EAAsC;MACpCA,OAAO,GAAGtvC,IAAI,CAAC,CAAD,CAAJ,CAAQJ,GAAR,CAAY,UAACR,CAAD,EAAImC,CAAJ;eAAUA,CAAV;OAAZ,CAAV;KADF,MAEO;MACL+tC,OAAO,GAAGtvC,IAAI,CAAC,CAAD,CAAd;MACAuvC,OAAO,GAAGvvC,IAAI,CAACiP,KAAL,CAAW,CAAX,CAAV;;GALJ,MAOO;IACLqgC,OAAO,GAAG1tC,MAAM,CAACgS,IAAP,CAAY5T,IAAI,CAAC,CAAD,CAAhB,CAAV;;;MAGIwvC,KAAK,GAAG,CAAC,CAAC1vC,KAAF,IAAW,OAAOA,KAAK,CAAC2vC,GAAb,KAAqB,UAAhC,IAA8C3vC,KAAK,CAAC2vC,GAAlE;MACIC,IAAI,GAAGJ,OAAX;;MAEIxvC,KAAK,IAAI,OAAOA,KAAK,CAACqb,MAAb,KAAwB,UAArC,EAAiD;IAC/Cu0B,IAAI,GAAG5vC,KAAK,CAACqb,MAAN,CAAau0B,IAAI,CAACzgC,KAAL,EAAb,CAAP;GADF,MAEO;IACLygC,IAAI,GAAGJ,OAAO,CAAC1vC,GAAR,CAAY,UAACd,CAAD;aAAQ;QACzBgD,GAAG,EAAEhD,CADoB;QAEzBkZ,KAAK,EAAElZ;OAFU;KAAZ,CAAP;;;MAME6wC,WAAJ;;MACIntC,KAAK,CAACC,OAAN,CAAczC,IAAI,CAAC,CAAD,CAAlB,CAAJ,EAA4B;IAC1B2vC,WAAW,GAAGD,IAAI,CAAC9vC,GAAL,CAAS;aAAM,EAAN;KAAT,CAAd;GADF,MAEO;IACL+vC,WAAW,GAAG,EAAd;IACAD,IAAI,CAACj/B,OAAL,CAAa,UAACkH,CAAD,EAAO;MAAEg4B,WAAW,CAACh4B,CAAC,CAAC7V,GAAH,CAAX,GAAqB,EAArB;KAAtB;;;OAGG,IAAIyD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgqC,OAAO,CAAC5uC,MAA5B,EAAoC4E,CAAC,EAArC,EAAyC;QACjCkqC,GAAG,GAAGD,KAAK,GAAGA,KAAK,CAACD,OAAO,CAAChqC,CAAD,CAAR,EAAaA,CAAb,EAAgBmqC,IAAhB,CAAR,GAAgCH,OAAO,CAAChqC,CAAD,CAAxD;;QACI,CAACkqC,GAAL,EAAU;;;;QAGNjtC,KAAK,CAACC,OAAN,CAAcgtC,GAAd,CAAJ,EAAwB;WACjB,IAAI5wC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6wC,IAAI,CAAC/uC,MAAzB,EAAiC9B,CAAC,EAAlC,EAAsC;QACpC8wC,WAAW,CAAC9wC,CAAD,CAAX,CAAe+B,IAAf,CAAoB6uC,GAAG,CAAC5wC,CAAD,CAAvB;;KAFJ,MAIO;WACA,IAAIA,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAG6wC,IAAI,CAAC/uC,MAAzB,EAAiC9B,EAAC,EAAlC,EAAsC;QACpC8wC,WAAW,CAACD,IAAI,CAAC7wC,EAAD,CAAJ,CAAQiD,GAAT,CAAX,CAAyBlB,IAAzB,CAA8B6uC,GAAG,CAACC,IAAI,CAAC7wC,EAAD,CAAJ,CAAQiD,GAAT,CAAjC;;;;;MAIA8tC,EAAE,GAAGptC,KAAK,CAACC,OAAN,CAAcktC,WAAd,IAA8B,UAACpuC,CAAD;WAAOouC,WAAW,CAACpuC,CAAD,CAAlB;GAA9B,GAAwD,UAACA,CAAD;WAAOouC,WAAW,CAACD,IAAI,CAACnuC,CAAD,CAAJ,CAAQO,GAAT,CAAlB;GAAnE;;OACK,IAAIjD,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAG6wC,IAAI,CAAC/uC,MAAzB,EAAiC9B,GAAC,EAAlC,EAAsC;QAC9BqZ,MAAM,GAAG03B,EAAE,CAAC/wC,GAAD,CAAjB;QACMgxC,aAAa,GAAG7C,SAAO,CAACC,OAAR,CAAgB/0B,MAAhB,CAAtB;QACM43B,SAAS,GAAGD,aAAa,CAAClvC,MAAd,GAAuB,CAAzC;QACMJ,IAAI,GAAGuvC,SAAS,GAAG,SAAH,GAAe,WAArC;QACMnlC,GAAG,GAAGmlC,SAAS,GAAG3rC,IAAI,CAACwG,GAAL,OAAAxG,IAAI,uBAAQ0rC,aAAR,EAAP,GAAgClkC,GAArD;QACMf,GAAG,GAAGklC,SAAS,GAAG3rC,IAAI,CAACyG,GAAL,OAAAzG,IAAI,uBAAQ0rC,aAAR,EAAP,GAAgClkC,GAArD;IAEA0pB,KAAK,CAACla,MAAN,CAAava,IAAb,CAAkBwX,KAAK,CAAChN,MAAM,CAAC;MAC7B2M,MAAM,EAANA,MAD6B;MAE7BjW,GAAG,EAAEjD,GAFwB;MAG7BmZ,KAAK,EAAE03B,IAAI,CAAC7wC,GAAD,CAAJ,CAAQmZ,KAHc;MAI7BE,MAAM,EAANA,MAJ6B;MAK7BvN,GAAG,EAAHA,GAL6B;MAM7BC,GAAG,EAAHA,GAN6B;MAO7BrK,IAAI,EAAJA;KAP4B,EAQ3BmvC,IAAI,CAAC7wC,GAAD,CARuB,CAAP,EAQV;MACXoG,KAAK,EAAEyqC,IAAI,CAAC7wC,GAAD,CAAJ,CAAQoG,KADJ;MAEXkT,KAAK,EAAEu3B,IAAI,CAAC7wC,GAAD,CAAJ,CAAQsZ;KAVM,CAAvB;;;;AAeJ,IAAM43B,GAAG,GAAG,SAANA,GAAM,QAAsB;MAAnB/vC,IAAmB,SAAnBA,IAAmB;MAAbiN,MAAa,SAAbA,MAAa;MAC1B+iC,IAAI,GAAGhwC,IAAI,CAAC0R,KAAL,CAAW,IAAX,CAAb;MACMu+B,IAAI,GAAGD,IAAI,CAAC,CAAD,CAAjB;MACME,IAAI,GAAGF,IAAI,CAAC,CAAD,CAAjB;MACIG,SAAS,GAAG,GAAhB;;MACIljC,MAAM,IAAIA,MAAM,CAACnN,KAAjB,IAA0BmN,MAAM,CAACnN,KAAP,CAAaqwC,SAA3C,EAAsD;IACpDA,SAAS,GAAGljC,MAAM,CAACnN,KAAP,CAAaqwC,SAAzB;GADF,MAEO,IAAIF,IAAJ,EAAU;;QACTG,OAAO,GAAG,CAAC,GAAD,EAAM,IAAN,EAAY,GAAZ,CAAhB;;SACK,IAAI7uC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6uC,OAAO,CAACzvC,MAA5B,EAAoCY,CAAC,EAArC,EAAyC;UACjCmP,CAAC,GAAG0/B,OAAO,CAAC7uC,CAAD,CAAjB;;UACI0uC,IAAI,IAAIC,IAAZ,EAAkB;YACZx/B,CAAC,CAACe,IAAF,CAAOw+B,IAAP,KAAgBv/B,CAAC,CAACe,IAAF,CAAOy+B,IAAP,CAAhB,IAAgCD,IAAI,CAACv+B,KAAL,CAAWhB,CAAX,EAAc/P,MAAd,KAAyBuvC,IAAI,CAACx+B,KAAL,CAAWhB,CAAX,EAAc/P,MAA3E,EAAmF;UACjFwvC,SAAS,GAAGz/B,CAAZ;;;OAFJ,MAKO,IAAIA,CAAC,CAACe,IAAF,CAAOw+B,IAAP,CAAJ,EAAkB;QACvBE,SAAS,GAAGz/B,CAAZ;;;;;SAICs/B,IAAI,CAACpwC,GAAL,CAAS,UAAC6vC,GAAD;WAASA,GAAG,CAAC/9B,KAAJ,CAAUy+B,SAAV,CAAT;GAAT,CAAP;CArBF;;AAwBA,IAAME,SAAS,GAAG,SAAZA,SAAY,QAEZ;MADJvuC,GACI,SADJA,GACI;MADC9B,IACD,SADCA,IACD;MADOq1B,KACP,SADOA,KACP;MADcpoB,MACd,SADcA,MACd;;MACA,CAACjN,IAAL,EAAW;;;;MAGPswC,EAAE,GAAGtwC,IAAT;;MAEI,OAAOswC,EAAP,KAAc,QAAlB,EAA4B;;IAC1BA,EAAE,GAAGP,GAAG,CAAC;MAAE/vC,IAAI,EAAJA,IAAF;MAAQiN,MAAM,EAANA;KAAT,CAAR;;;MAGE,CAACzK,KAAK,CAACC,OAAN,CAAc6tC,EAAd,CAAL,EAAwB;WAAA;;;EAIxBjB,YAAY,CAAC;IACXrvC,IAAI,EAAEswC,EADK;IAEXjb,KAAK,EAALA,KAFW;IAGXtd,MAAM,EAAEjW,GAHG;IAIXmL,MAAM,EAANA;GAJU,CAAZ;CAhBF;;;;;;;;AA6BA,SAASyM,EAAT,GAIQ;kFAAJ,EAAI;MAHN5X,IAGM,SAHNA,GAGM;MAFN9B,IAEM,SAFNA,IAEM;MADNiN,MACM,SADNA,MACM;;MACAooB,KAAK,GAAG;IACZla,MAAM,EAAE;GADV;;;;;;MAQMzH,OAAO,GAAG;;;;;IAKd5R,GAAG,EAAE;aAAMA,IAAN;KALS;;;;;;IAWduW,GAAG,EAAE;aAAMrY,IAAN;KAXS;;;;;;;IAkBdoY,KAAK,EAAE,eAAC20B,KAAD;aAAWD,SAAS,CAACC,KAAD,EAAQ;QACjC1X,KAAK,EAALA,KADiC;QAEjC7a,MAAM,EAAExa;OAFiB,CAApB;KAlBO;;;;;;IA2Bdmb,MAAM,EAAE;aAAMka,KAAK,CAACla,MAAN,CAAalM,KAAb,EAAN;KA3BM;;;;;;;IAkCdmM,OAAO,EAAE,iBAACY,GAAD;aAASZ,SAAO,CAACY,GAAD,EAAMtI,OAAN,AAAA,CAAhB;KAlCK;;;;;IAuCdkI,SAAS,EAAE;aAAM,IAAN;;GAvCb;EA0CAy0B,SAAS,CAAC;IACRvuC,GAAG,EAAHA,IADQ;IACH9B,IAAI,EAAJA,IADG;IACGiN,MAAM,EAANA,MADH;IACWooB,KAAK,EAALA;GADZ,CAAT;SAIO3hB,OAAP;;;AAGFgG,EAAE,CAAC62B,IAAH,GAAU;EACRC,eAAe,EAAE1C,YADT;EAERE,OAAO,EAAPA,OAFQ;EAGRK,KAAK,EAALA;CAHF;AAMA,AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnNA,IAAMoC,YAAY,GAAGt7B,eAAQ,EAA7B;AAEAs7B,YAAY,CAAC57B,OAAb,CAAqB,QAArB;AAEA47B,YAAY,CAAC,QAAD,EAAW/8B,EAAX,CAAZ;AAEA+8B,YAAY,CAAC,SAAD,EAAY/8B,EAAZ,CAAZ;;ACRA;;;;AAIA,SAASg9B,MAAT,CAAgBtc,KAAhB,EAAuBiJ,QAAvB,EAAiCnF,OAAjC,EAA0C;MACpCj3B,QAAQ,GAAG;IAAEmzB,KAAK,EAALA,KAAF;IAASiJ,QAAQ,EAARA,QAAT;IAAmBnF,OAAO,EAAPA;GAAlC;MACIyY,YAAY,GAAG,EAAnB;MACIrnC,QAAJ;MACIsnC,KAAJ;MACIC,IAAI,GAAG,IAAX;;;;;;WAMSC,kBAAT,CAA4BC,WAA5B,EAAyC;IACvCH,KAAK,GAAGG,WAAW,CAACjvC,GAApB;IACAwH,QAAQ,GAAGynC,WAAX;IACAznC,QAAQ,CAAC0nC,MAAT,GAAkB1nC,QAAQ,CAAC0nC,MAAT,IAAmB,EAArC;;QACI1nC,QAAQ,CAAC2nC,MAAT,KAAoBroC,SAAxB,EAAmC;MACjCU,QAAQ,CAAC2nC,MAAT,GAAkB,IAAlB;;;;;;;;;WAQKC,SAAT,GAAqB;QACf,OAAO5nC,QAAQ,CAAC2nC,MAAhB,KAA2B,UAA/B,EAA2C;MACzC3nC,QAAQ,CAAC2nC,MAAT,GAAkB3nC,QAAQ,CAAC2nC,MAAT,CAAgBtT,IAAhB,CAAqB18B,QAArB,GAAlB;;;QAEE,CAACqI,QAAQ,CAAC2nC,MAAd,EAAsB;aAAA;;;IAGtBrvC,MAAM,CAACgS,IAAP,CAAYtK,QAAQ,CAAC0nC,MAArB,EAA6BvgC,OAA7B,CAAqC,UAAC3O,GAAD,EAAS;UACtCu8B,QAAQ,GAAG/0B,QAAQ,CAAC0nC,MAAT,CAAgBlvC,GAAhB,EAAqB67B,IAArB,CAA0B18B,QAA1B,CAAjB;MACAi3B,OAAO,CAACgT,gBAAR,CAAyBppC,GAAzB,EAA8Bu8B,QAA9B;MACAsS,YAAY,CAAC/vC,IAAb,CAAkB;QAAEkB,GAAG,EAAHA,GAAF;QAAOu8B,QAAQ,EAARA;OAAzB;KAHF;;;;;;;;WAWO8S,iBAAT,GAA6B;;IAE3BR,YAAY,CAAClgC,OAAb,CAAqB,gBAAuB;UAApB3O,GAAoB,QAApBA,GAAoB;UAAfu8B,QAAe,QAAfA,QAAe;MAC1CnG,OAAO,CAACwT,mBAAR,CAA4B5pC,GAA5B,EAAiCu8B,QAAjC;KADF;IAGAsS,YAAY,GAAG,EAAf;;;SAGK;;;;;QAKD7uC,GAAJ,GAAU;aACD8uC,KAAP;KANG;;;;;;;;;;;;;;IAoBLtlB,GApBK,eAoBDylB,WApBC,EAoBY;MACfD,kBAAkB,CAACC,WAAD,CAAlB;MACAI,iBAAiB;;UACbN,IAAJ,EAAU;QACRK,SAAS;;KAxBR;;;;;;IA+BLxE,GA/BK,iBA+BC;MACJmE,IAAI,GAAG,KAAP;MACAM,iBAAiB;KAjCd;;;;;;IAuCLra,EAvCK,gBAuCA;MACH+Z,IAAI,GAAG,IAAP;;UACIF,YAAY,CAAChwC,MAAb,KAAwB,CAA5B,EAA+B;QAC7BuwC,SAAS;;KA1CR;;;;;;IAiDLzP,OAjDK,qBAiDK;MACR0P,iBAAiB;MACjBlwC,QAAQ,GAAG,IAAX;MACAqI,QAAQ,GAAG,IAAX;;GApDJ;;;ACpDF,IAAMmL,KAAG,GAAGU,eAAQ,EAApB;AAEAV,KAAG,CAAC,QAAD,EAAWi8B,MAAX,CAAH;;ACLA;;;;;;;;AAQA,AAAO,SAASU,GAAT,CAAazmC,GAAb,EAAkBC,GAAlB,EAAuB3F,KAAvB,EAA8B;SAC5Bd,IAAI,CAACyG,GAAL,CAASD,GAAT,EAAcxG,IAAI,CAACwG,GAAL,CAASC,GAAT,EAAc3F,KAAd,CAAd,CAAP;;;;;;;;;;;;;AAaF,AAAO,SAASosC,WAAT,OAEJ;MADD7rC,KACC,QADDA,KACC;MADMC,GACN,QADMA,GACN;wBADW6rC,KACX;MADWA,KACX,2BADmB,GACnB;wBADwBC,KACxB;MADwBA,KACxB,2BADgC,CAChC;MACKC,IAAI,GAAGrtC,IAAI,CAACyG,GAAL,CAASpF,KAAT,EAAgBC,GAAhB,CAAb;MACMgsC,GAAG,GAAGttC,IAAI,CAACwG,GAAL,CAASnF,KAAT,EAAgBC,GAAhB,CAAZ;MACMisC,YAAY,GAAGN,GAAG,CAAC,CAAC,GAAF,EAAO,GAAP,EAAYI,IAAZ,CAAxB;MACMG,WAAW,GAAGP,GAAG,CAAC,CAAC,GAAF,EAAO,GAAP,EAAYK,GAAZ,CAAvB;MAEMG,UAAU,GAAIF,YAAY,GAAGH,KAAhB,GAA0BI,WAAW,GAAGJ,KAA3D;MACMM,UAAU,GAAG1tC,IAAI,CAACyG,GAAL,CAAS0mC,KAAT,EAAgBM,UAAhB,CAAnB;MACME,aAAa,GAAG,CAACD,UAAU,GAAGD,UAAd,IAA4B,CAAlD;MACMG,SAAS,GAAIJ,WAAW,GAAGJ,KAAf,GAAwBO,aAA1C;SAEO;IACLD,UAAU,EAAVA,UADK;IAELC,aAAa,EAAbA,aAFK;IAGLC,SAAS,EAATA;GAHF;;;AChCF;;;;;;;;;;;;;;AAaA,AAAO,SAASC,GAAT,OAEJ;;;MADDl3B,IACC,QADDA,IACC;MADK7V,KACL,QADKA,KACL;MADYgtC,SACZ,QADYA,SACZ;MADuBC,SACvB,QADuBA,SACvB;MADkCC,UAClC,QADkCA,UAClC;MAD8CC,MAC9C,QAD8CA,MAC9C;MADsD3U,MACtD,QADsDA,MACtD;MACGv5B,CAAC,GAAG,GAAR;MACIG,CAAC,GAAG,GAAR;MACIguC,SAAS,GAAGH,SAAhB;MACII,UAAU,GAAGH,UAAjB;MACI/qC,UAAU,GAAGnC,KAAK,GAAG,GAAR,GAAc,EAAd,GAAmB,CAAC,EAArC;;MAEImtC,MAAJ,EAAY;IACVluC,CAAC,GAAG,GAAJ;IACAG,CAAC,GAAG,GAAJ;IACAguC,SAAS,GAAGF,UAAZ;IACAG,UAAU,GAAGJ,SAAb;IACA9qC,UAAU,GAAGnC,KAAK,GAAG,GAAR,GAAc,GAAd,GAAoB,CAAjC;;;SAGKw4B,MAAM,CAACryB,MAAM,CAAC,EAAD,EAAK0P,IAAI,CAACk3B,GAAV,0CACjB9tC,CADiB,EACb+tC,SAAS,GAAGI,SADC,4BAEjBhuC,CAFiB,EAEbF,IAAI,CAACyG,GAAL,CAAUkQ,IAAI,CAACk3B,GAAL,CAASznC,IAAT,GAAgB,CAA1B,EAA8BpG,IAAI,CAACwG,GAAL,CAAS1F,KAAK,GAAGqtC,UAAjB,EAA6BA,UAAU,GAAIx3B,IAAI,CAACk3B,GAAL,CAASznC,IAAT,GAAgB,CAA3D,CAA9B,CAFa,0CAGlBnD,UAHkB,YAAP,CAAb;;;;;;;;;;;;;;AAkBF,AAAO,SAASmrC,GAAT,QAEJ;;;MADDz3B,IACC,SADDA,IACC;MADK03B,QACL,SADKA,QACL;MADeC,UACf,SADeA,UACf;MAD2BP,SAC3B,SAD2BA,SAC3B;MADsCC,UACtC,SADsCA,UACtC;MADkDC,MAClD,SADkDA,MAClD;MACGluC,CAAC,GAAG,GAAR;MACIG,CAAC,GAAG,GAAR;MACIwC,KAAK,GAAG,OAAZ;MACIC,MAAM,GAAG,QAAb;MACIurC,SAAS,GAAGH,SAAhB;MACII,UAAU,GAAGH,UAAjB;;MAEIC,MAAJ,EAAY;IACVluC,CAAC,GAAG,GAAJ;IACAG,CAAC,GAAG,GAAJ;IACAwC,KAAK,GAAG,QAAR;IACAC,MAAM,GAAG,OAAT;IACAurC,SAAS,GAAGF,UAAZ;IACAG,UAAU,GAAGJ,SAAb;;;qBAGgCb,WAAW,CAAC;IAC5C7rC,KAAK,EAAEsV,IAAI,CAACtV,KADgC;IACzBC,GAAG,EAAEqV,IAAI,CAACrV,GADe;IACV6rC,KAAK,EAAEx2B,IAAI,CAACy3B,GAAL,CAASG,WADN;IACmBnB,KAAK,EAAEe;GAD3B,CAjB5C;MAiBOT,UAjBP,gBAiBOA,UAjBP;MAiBmBE,SAjBnB,gBAiBmBA,SAjBnB;;SAqBM3mC,MAAM,CAAC,EAAD,EAAK0P,IAAI,CAACy3B,GAAV;IACXhyC,IAAI,EAAE;+BACL2D,CAFU,EAEN,CAACuuC,UAAU,GAAG33B,IAAI,CAAC63B,KAAnB,IAA4BN,SAFtB,6BAGVhuC,CAHU,EAGN0tC,SAHM,6BAIVjrC,MAJU,EAID+qC,UAJC,6BAKVhrC,KALU,EAKF2rC,QAAQ,GAAGH,SALT,qCAMLv3B,IAAI,CAAC9a,IAAL,IAAa,EANR,yCAOD;IACRO,IAAI,EAAE;GARG,aAAb;;;;;;;;;;;;;;;AAyBF,AAAO,SAASqyC,YAAT,QAEJ;;;MADD93B,IACC,SADDA,IACC;MADK9X,IACL,SADKA,IACL;MADW6vC,EACX,SADWA,EACX;MADeZ,SACf,SADeA,SACf;MAD0BC,SAC1B,SAD0BA,SAC1B;MADqCC,UACrC,SADqCA,UACrC;MADiDC,MACjD,SADiDA,MACjD;MACGxsC,EAAE,GAAG,IAAT;MACIC,EAAE,GAAG,IAAT;MACIC,EAAE,GAAG,IAAT;MACIC,EAAE,GAAG,IAAT;MACIssC,SAAS,GAAGH,SAAhB;MACII,UAAU,GAAGH,UAAjB;;MAEIC,MAAJ,EAAY;IACVxsC,EAAE,GAAG,IAAL;IACAC,EAAE,GAAG,IAAL;IACAC,EAAE,GAAG,IAAL;IACAC,EAAE,GAAG,IAAL;IACAssC,SAAS,GAAGF,UAAZ;IACAG,UAAU,GAAGJ,SAAb;;;SAGK9mC,MAAM,CAAC,EAAD,EAAK0P,IAAI,CAAC9O,IAAV;IACXzL,IAAI,EAAE;+BACLwF,EAFU,EAEL5B,IAAI,CAACgG,KAAL,CAAWnH,IAAI,GAAGsvC,UAAlB,CAFK,6BAGV1sC,EAHU,EAGLqsC,SAAS,GAAGI,SAHP,6BAIVxsC,EAJU,EAIL1B,IAAI,CAACgG,KAAL,CAAW0oC,EAAE,GAAGP,UAAhB,CAJK,6BAKVxsC,EALU,EAKLmsC,SAAS,GAAGI,SALP,qCAMLv3B,IAAI,CAAC9a,IAAL,IAAa,EANR,yCAOD;IACRO,IAAI,EAAE;GARG,aAAb;;;;;;;;;;;;;;;;AA0BF,AAAO,SAASuyC,cAAT,QAEJ;;;MADDh4B,IACC,SADDA,IACC;MADKhZ,GACL,SADKA,GACL;MADU0d,QACV,SADUA,QACV;MADoB3Y,KACpB,SADoBA,KACpB;MAD2BorC,SAC3B,SAD2BA,SAC3B;MADsCC,SACtC,SADsCA,SACtC;MADiDC,UACjD,SADiDA,UACjD;MAD6DC,MAC7D,SAD6DA,MAC7D;MACGxsC,EAAE,GAAG,IAAT;MACIC,EAAE,GAAG,IAAT;MACIC,EAAE,GAAG,IAAT;MACIC,EAAE,GAAG,IAAT;MACIssC,SAAS,GAAGH,SAAhB;MACII,UAAU,GAAGH,UAAjB;;MAEIC,MAAJ,EAAY;IACVxsC,EAAE,GAAG,IAAL;IACAC,EAAE,GAAG,IAAL;IACAC,EAAE,GAAG,IAAL;IACAC,EAAE,GAAG,IAAL;IACAssC,SAAS,GAAGF,UAAZ;IACAG,UAAU,GAAGJ,SAAb;;;MAGItV,SAAS,GAAG/1B,KAAK,GAAG,CAA1B;SAEOuE,MAAM,CAAC;IAAE7K,IAAI,EAAE;GAAT,EAAmBua,IAAI,CAAChZ,GAAD,CAAvB,4CACV+D,EADU,EACL1B,IAAI,CAACgG,KAAL,CAAWqV,QAAQ,GAAG8yB,UAAtB,CADK,6BAEV1sC,EAFU,EAEL,CAACqsC,SAAS,GAAGrV,SAAb,IAA0ByV,SAFrB,6BAGVtsC,EAHU,EAGL5B,IAAI,CAACgG,KAAL,CAAWqV,QAAQ,GAAG8yB,UAAtB,CAHK,6BAIVxsC,EAJU,EAIL,CAACmsC,SAAS,GAAGrV,SAAb,IAA0ByV,SAJrB,kCAKRzV,SAAS,GAAGyV,SALJ,mCAMPJ,SAAS,GAAGI,SANL,mCAOP7yB,QAAQ,GAAG8yB,UAPJ,sCAQJzrC,KAAK,GAAGwrC,SARJ,qCASLv3B,IAAI,CAAC9a,IAAL,IAAa,EATR,yCAUD;IACRO,IAAI,EAAE;GAXG,aAAb;;;;;;;;;;AAuBF,AAAO,SAASwyC,WAAT,CAAqBjyB,SAArB,EAAgChG,IAAhC,EAAsCk4B,aAAtC,EAAqD;kBAChBl4B,IAAI,CAACy3B,GADW;MAClD1rC,KADkD,aAClDA,KADkD;MAC3CosC,UAD2C,aAC3CA,UAD2C;MAC/BC,UAD+B,aAC/BA,UAD+B;MAEpDC,IAAI,GAAGryB,SAAS,IAAI,CAAb,GAAiB,CAAjB,GAAqB,CAAC,CAAnC;MACI0xB,QAAQ,GAAGruC,IAAI,CAACwG,GAAL,CAASwoC,IAAI,GAAGryB,SAAP,GAAmBja,KAA5B,EAAmC2D,KAAK,CAACyoC,UAAD,CAAL,GAAoBD,aAApB,GAAoCC,UAAU,GAAGD,aAApF,CAAf;EACAR,QAAQ,GAAGhoC,KAAK,CAAC0oC,UAAD,CAAL,GAAoBV,QAApB,GAA+BruC,IAAI,CAACyG,GAAL,CAASsoC,UAAU,GAAGF,aAAtB,EAAqCR,QAArC,CAA1C;SACOA,QAAQ,GAAGW,IAAlB;;;AC5La,SAASC,WAAT,OAOZ;MANDvsC,KAMC,QANDA,KAMC;MALDC,MAKC,QALDA,MAKC;MAJDsrC,MAIC,QAJDA,MAIC;MAHD3c,QAGC,QAHDA,QAGC;MAFD7hB,IAEC,QAFDA,IAEC;MADD6pB,MACC,QADDA,MACC;;;;MAKK4V,MAAM,GAAG,EAAf;MACMC,UAAU,GAAG7d,QAAQ,CAACkd,KAAT,CAAer6B,KAAlC;;MAEI,CAACg7B,UAAU,CAAC3yC,MAAhB,EAAwB;WACf0yC,MAAP;;;MAGInB,SAAS,GAAGrrC,KAAlB;MACMsrC,UAAU,GAAGrrC,MAAnB;MACMksC,aAAa,GAAGZ,MAAM,GAAGtrC,MAAH,GAAYD,KAAxC;MACM0sC,aAAa,GAAG9d,QAAQ,CAACkd,KAAT,CAAerpC,QAArC;MACMkqC,UAAU,GAAG,CAAC,OAAD,EAAU,KAAV,EAAiB,KAAjB,EAAwB,KAAxB,EAA+B,KAA/B,EAAsCnkC,MAAtC,CAA6C,UAAC2tB,IAAD;WAAU,OAAOvH,QAAQ,CAACge,KAAT,CAAenqC,QAAf,CAAwB0zB,IAAxB,CAAP,KAAyC,WAAnD;GAA7C,CAAnB;MACM0W,aAAa,GAAGF,UAAU,CAAC7yC,MAAjC;MACMgzC,UAAU,GAAG//B,IAAI,CAACvE,MAAL,CAAY,UAACvN,GAAD;WAASA,GAAG,KAAK,KAAjB;GAAZ,CAAnB;MAEIujB,QAAJ;MACIstB,KAAJ;MACIiB,SAAJ;MACIpB,QAAJ;MACIC,UAAJ;MACIR,SAAJ;MACI4B,kBAAJ;MACIC,mBAAJ;MACIC,aAAJ;MACMC,OAAO,GAAGpgC,IAAI,GAAGA,IAAI,CAACjT,MAAR,GAAiB,CAArC;MACMszC,aAAa,GAAGN,UAAU,GAAGA,UAAU,CAAChzC,MAAd,GAAuB,CAAvD;;WAESuzC,MAAT,GAAkB;;QAEZN,SAAS,CAACrB,GAAV,IAAiBlnC,QAAQ,CAACuoC,SAAS,CAACpuC,KAAX,CAAzB,IAA8C6F,QAAQ,CAACuoC,SAAS,CAACnuC,GAAX,CAA1D,EAA2E;MACzE4f,QAAQ,CAACzkB,IAAT,CAAcuzC,GAAA,CAAoB;QAChCr5B,IAAI,EAAE84B,SAD0B;QACfpB,QAAQ,EAARA,QADe;QACLC,UAAU,EAAVA,UADK;QACOP,SAAS,EAATA,SADP;QACkBC,UAAU,EAAVA,UADlB;QAC8BC,MAAM,EAANA;OADlD,CAAd;;;;WAMKgC,OAAT,GAAmB;;QAEb/oC,QAAQ,CAACuoC,SAAS,CAACjpC,GAAX,CAAR,IAA2BU,QAAQ,CAACuoC,SAAS,CAACpuC,KAAX,CAAvC,EAA0D;MACxD6f,QAAQ,CAACzkB,IAAT,CAAcuzC,YAAA,CAA6B;QACzCr5B,IAAI,EAAE84B,SADmC;QACxB5wC,IAAI,EAAE4wC,SAAS,CAACjpC,GADQ;QACHkoC,EAAE,EAAEe,SAAS,CAACpuC,KADX;QACkBysC,SAAS,EAATA,SADlB;QAC6BC,SAAS,EAATA,SAD7B;QACwCC,UAAU,EAAVA,UADxC;QACoDC,MAAM,EAANA;OADjF,CAAd;;;QAKE/mC,QAAQ,CAACuoC,SAAS,CAAChpC,GAAX,CAAR,IAA2BS,QAAQ,CAACuoC,SAAS,CAACnuC,GAAX,CAAvC,EAAwD;MACtD4f,QAAQ,CAACzkB,IAAT,CAAcuzC,YAAA,CAA6B;QACzCr5B,IAAI,EAAE84B,SADmC;QACxB5wC,IAAI,EAAE4wC,SAAS,CAAChpC,GADQ;QACHioC,EAAE,EAAEe,SAAS,CAACnuC,GADX;QACgBwsC,SAAS,EAATA,SADhB;QAC2BC,SAAS,EAATA,SAD3B;QACsCC,UAAU,EAAVA,UADtC;QACkDC,MAAM,EAANA;OAD/E,CAAd;;;;WAMKiC,SAAT,GAAqB;;QAEfT,SAAS,CAACU,MAAV,IAAoBjpC,QAAQ,CAACuoC,SAAS,CAACW,GAAX,CAAhC,EAAiD;MAC/ClvB,QAAQ,CAACzkB,IAAT,CAAcuzC,cAAA,CAA+B;QAC3Cr5B,IAAI,EAAE84B,SADqC;QAC1B9xC,GAAG,EAAE,QADqB;QACX0d,QAAQ,EAAEo0B,SAAS,CAACW,GADT;QACc1tC,KAAK,EAAE2rC,QADrB;QAC+BP,SAAS,EAATA,SAD/B;QAC0CC,SAAS,EAATA,SAD1C;QACqDC,UAAU,EAAVA,UADrD;QACiEC,MAAM,EAANA;OADhG,CAAd;;;;WAMKoC,UAAT,GAAsB;;QAEhBZ,SAAS,CAACa,OAAd,EAAuB;UACfC,YAAY,GAAGlC,QAAQ,GAAGoB,SAAS,CAACa,OAAV,CAAkB5tC,KAAlD;;UAEIwE,QAAQ,CAACuoC,SAAS,CAACjpC,GAAX,CAAZ,EAA6B;QAC3B0a,QAAQ,CAACzkB,IAAT,CAAcuzC,cAAA,CAA+B;UAC3Cr5B,IAAI,EAAE84B,SADqC;UAC1B9xC,GAAG,EAAE,SADqB;UACV0d,QAAQ,EAAEo0B,SAAS,CAACjpC,GADV;UACe9D,KAAK,EAAE6tC,YADtB;UACoCzC,SAAS,EAATA,SADpC;UAC+CC,SAAS,EAATA,SAD/C;UAC0DC,UAAU,EAAVA,UAD1D;UACsEC,MAAM,EAANA;SADrG,CAAd;;;UAKE/mC,QAAQ,CAACuoC,SAAS,CAAChpC,GAAX,CAAZ,EAA6B;QAC3Bya,QAAQ,CAACzkB,IAAT,CAAcuzC,cAAA,CAA+B;UAC3Cr5B,IAAI,EAAE84B,SADqC;UAC1B9xC,GAAG,EAAE,SADqB;UACV0d,QAAQ,EAAEo0B,SAAS,CAAChpC,GADV;UACe/D,KAAK,EAAE6tC,YADtB;UACoCzC,SAAS,EAATA,SADpC;UAC+CC,SAAS,EAATA,SAD/C;UAC0DC,UAAU,EAAVA,UAD1D;UACsEC,MAAM,EAANA;SADrG,CAAd;;;;;WAOGuC,cAAT,GAA0B;;QAEpBd,kBAAJ,EAAwB;MACtBxuB,QAAQ,CAACzkB,IAAT,CAAcuzC,GAAA,CAAoB;QAChCr5B,IAAI,EAAE84B,SAD0B;QACf3uC,KAAK,EAAE,CADQ;QACLgtC,SAAS,EAATA,SADK;QACMC,SAAS,EAATA,SADN;QACiBC,UAAU,EAAVA,UADjB;QAC6BC,MAAM,EAANA,MAD7B;QACqC3U,MAAM,EAANA;OADzD,CAAd;KADF,MAIO,IAAIqW,mBAAJ,EAAyB;MAC9BzuB,QAAQ,CAACzkB,IAAT,CAAcuzC,GAAA,CAAoB;QAChCr5B,IAAI,EAAE84B,SAD0B;QACf3uC,KAAK,EAAE,CADQ;QACLgtC,SAAS,EAATA,SADK;QACMC,SAAS,EAATA,SADN;QACiBC,UAAU,EAAVA,UADjB;QAC6BC,MAAM,EAANA,MAD7B;QACqC3U,MAAM,EAANA;OADzD,CAAd;;;;MAMEmX,aAAa,GAAG;IACpBrC,GAAG,EAAE2B,MADe;IAEpBloC,IAAI,EAAEooC,OAFc;IAGpBE,MAAM,EAAED,SAHY;IAIpBI,OAAO,EAAED;GAJX;;WAOSK,gBAAT,GAA4B;QACtB5vC,KAAJ;QACI2F,GAAG,GAAG,CAAC/K,MAAM,CAACi1C,SAAlB;QACInqC,GAAG,GAAG9K,MAAM,CAACi1C,SAAjB;;SACK,IAAIn1B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG+zB,aAApB,EAAmC/zB,CAAC,EAApC,EAAwC;MACtC1a,KAAK,GAAG2uC,SAAS,CAACJ,UAAU,CAAC7zB,CAAD,CAAX,CAAjB;;UACItU,QAAQ,CAACpG,KAAD,CAAZ,EAAqB;YACf2F,GAAG,GAAG3F,KAAV,EAAiB;UACf2F,GAAG,GAAG3F,KAAN;;;YAEE0F,GAAG,GAAG1F,KAAV,EAAiB;UACf0F,GAAG,GAAG1F,KAAN;;;;;IAIN4uC,kBAAkB,GAAGjpC,GAAG,GAAG,CAAN,IAAWA,GAAG,KAAK,CAAC/K,MAAM,CAACi1C,SAAhD;IACAhB,mBAAmB,GAAGnpC,GAAG,GAAG,CAAN,IAAWA,GAAG,KAAK9K,MAAM,CAACi1C,SAAhD;IACAf,aAAa,GAAGF,kBAAkB,IAAIC,mBAAtC;;;OAGG,IAAIvyC,CAAC,GAAG,CAAR,EAAWqlB,GAAG,GAAG0sB,UAAU,CAAC3yC,MAAjC,EAAyCY,CAAC,GAAGqlB,GAA7C,EAAkDrlB,CAAC,EAAnD,EAAuD;IACrD8jB,QAAQ,GAAG,EAAX;IACAstB,KAAK,GAAG,IAAR;QACMoC,SAAS,GAAGzB,UAAU,CAAC/xC,CAAD,CAA5B;QACMmP,CAAC,GAAGqkC,SAAS,CAAC/0C,IAApB;QAEIg1C,QAAQ,GAAG,IAAf;QACIC,WAAW,GAAG,IAAlB;;QAEI,OAAO1B,aAAa,CAAC2B,QAArB,KAAkC,WAAtC,EAAmD;;MACjDF,QAAQ,GAAGD,SAAS,CAACG,QAArB;MACAD,WAAW,GAAGF,SAAS,CAACI,MAAxB;MACAxC,KAAK,GAAGY,aAAa,CAAC2B,QAAd,CAAuBxsC,KAA/B;KAHF,MAIO;MACLiqC,KAAK,GAAGY,aAAa,CAACZ,KAAd,CAAoBjqC,KAA5B;MACAssC,QAAQ,GAAGrC,KAAK,GAAGoC,SAAS,CAACpC,KAAb,GAAqB,CAArC;;;QAGE7xB,SAAS,GAAG,CAAhB;;QACI,CAAC6xB,KAAL,EAAY;MACV7xB,SAAS,GAAG,CAAZ;KADF,MAEO,IAAI6xB,KAAK,CAAC7xB,SAAV,EAAqB;MAC1BA,SAAS,GAAG6xB,KAAK,CAAC7xB,SAAN,EAAZ;MACAk0B,QAAQ,IAAKl0B,SAAS,GAAG,CAAzB;KAFK,MAGA;MACLA,SAAS,GAAGm0B,WAAW,GAAGD,QAA1B;;;IAGFpB,SAAS,GAAGxoC,MAAM,CAAC,EAAD,EAAK;MACrBunC,KAAK,EAAEqC,QADc;MAErBI,QAAQ,EAAEH;KAFM,EAGfxf,QAAQ,CAACge,KAAT,CAAen7B,KAAf,CAAqB/W,CAArB,CAHe,CAAlB;;SAKK,IAAI8zC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGrB,OAApB,EAA6BqB,CAAC,EAA9B,EAAkC;MAChCzB,SAAS,CAAChgC,IAAI,CAACyhC,CAAD,CAAL,CAAT,GAAqB5f,QAAQ,CAAC7hB,IAAI,CAACyhC,CAAD,CAAL,CAAR,CAAkB/8B,KAAlB,CAAwB/W,CAAxB,CAArB;;;IAGFixC,QAAQ,GAAG2B,WAAA,CAA4BrzB,SAA5B,EAAuC8yB,SAAvC,EAAkDZ,aAAlD,CAAX;IACAP,UAAU,GAAG,CAAC3xB,SAAS,GAAG0xB,QAAb,IAAyB,CAAtC;IACAP,SAAS,GAAGQ,UAAU,GAAGmB,SAAS,CAACjB,KAAvB,GAAgCH,QAAQ,GAAG,CAAvD;IAEAqC,gBAAgB;;QAEZ,CAACd,aAAL,EAAoB;WACb,IAAIz3B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG23B,aAApB,EAAmC33B,CAAC,EAApC,EAAwC;YAClCs3B,SAAS,CAACD,UAAU,CAACr3B,CAAD,CAAX,CAAT,IAA4Bs3B,SAAS,CAACD,UAAU,CAACr3B,CAAD,CAAX,CAAT,CAAyBzS,IAAzB,KAAkC,KAAlE,EAAyE;;;;QAGzE+qC,aAAa,CAACjB,UAAU,CAACr3B,CAAD,CAAX,CAAb;;KALJ,MAOO,IAAIs3B,SAAS,CAAC5B,GAAd,EAAmB;MACxB2C,cAAc;;;QAGVnW,SAAS,GAAG;MAChBj+B,IAAI,EAAE,WADU;MAEhBP,IAAI,EAAE0Q,CAFU;MAGhBqrB,QAAQ,EAAE;QAAEx7B,IAAI,EAAE;OAHF;MAIhB8kB,QAAQ,EAARA;KAJF;IAOAguB,MAAM,CAACzyC,IAAP,CAAY49B,SAAZ;;;SAGK6U,MAAP;;;ACtMF;;;;;AAIA,AAAe,SAASiC,eAAT,OAEZ;MADD1hC,IACC,QADDA,IACC;MADK5T,IACL,QADKA,IACL;MADW+gB,eACX,QADWA,eACX;MAD4B6U,KAC5B,QAD4BA,KAC5B;MADmCtsB,QACnC,QADmCA,QACnC;MAD6CzC,KAC7C,QAD6CA,KAC7C;MADoDC,MACpD,QADoDA,MACpD;MAD4Dy2B,QAC5D,QAD4DA,QAC5D;MACKpJ,QAAQ,GAAG/oB,MAAM,CAAC,IAAD,EAAO,EAAP,EAAW2V,eAAe,IAAI,EAA9B,EAAkC6U,KAAK,IAAI,EAA3C,CAAvB;MACML,MAAM,GAAG;IACbod,KAAK,EAAErpC,QAAQ,CAACisC,WAAT,KAAyB,YAAzB,GAAwCzuC,MAAxC,GAAiDD,KAD3C;IAEb4sC,KAAK,EAAEnqC,QAAQ,CAACisC,WAAT,KAAyB,YAAzB,GAAwC1uC,KAAxC,GAAgDC;GAFzD;MAKMysC,aAAa,GAAGjqC,QAAQ,CAACqpC,KAA/B;MAEI6C,aAAJ;;MAEI,QAAOjC,aAAP,MAAyB,QAAzB,IAAqC,QAAOA,aAAa,CAAC3iC,GAArB,MAA6B,QAAlE,IAA+E,OAAO2iC,aAAa,CAAC3iC,GAAd,CAAkBpL,KAAzB,KAAmC,WAAnC,IAAkD,OAAO+tC,aAAa,CAAC3iC,GAAd,CAAkBnL,GAAzB,KAAiC,WAAtK,EAAoL;;IAElL+vC,aAAa,GAAGjY,QAAQ,CAACjI,OAAT,CAAiB;MAC/Bt1B,IAAI,EAAJA,IAD+B;MAE/Bm0B,QAAQ,EAAE;QACR3uB,KAAK,EAAE,CADC;QAERC,GAAG,EAAE;OAJwB;MAM/B8vB,MAAM,EAANA,MAN+B;MAO/BjsB,QAAQ,EAAE8B,MAAM,CAAC,IAAD,EAAO,EAAP,EAAW;QACzB8pC,QAAQ,EAAE;UAAExsC,KAAK,EAAEY,QAAQ,CAACqpC,KAAT,CAAejqC,KAAxB;UAA+BkI,GAAG,EAAEtH,QAAQ,CAACqpC,KAAT,CAAe/hC,GAAf,CAAmBpL;SADxC;QAEzB2vC,MAAM,EAAE;UAAEzsC,KAAK,EAAEY,QAAQ,CAACqpC,KAAT,CAAejqC,KAAxB;UAA+BkI,GAAG,EAAEtH,QAAQ,CAACqpC,KAAT,CAAe/hC,GAAf,CAAmBnL;;OAFjD;KAPF,CAAhB;GAFF,MAcO,IAAI,QAAO8tC,aAAP,MAAyB,QAAzB,IAAsC,OAAOA,aAAa,CAAC2B,QAArB,KAAkC,WAAlC,IAAiD,OAAO3B,aAAa,CAAC4B,MAArB,KAAgC,WAA3H,EAAyI;IAC9IK,aAAa,GAAGjY,QAAQ,CAACjI,OAAT,CAAiB;MAC/Bt1B,IAAI,EAAJA,IAD+B;MAE/Bm0B,QAAQ,EAAE;QACR3uB,KAAK,EAAE,CADC;QAERC,GAAG,EAAE;OAJwB;MAM/B8vB,MAAM,EAANA,MAN+B;MAO/BjsB,QAAQ,EAAE8B,MAAM,CAAC,IAAD,EAAO,EAAP,EAAW;QACzB8pC,QAAQ,EAAE;UAAExsC,KAAK,EAAEY,QAAQ,CAACqpC,KAAT,CAAejqC,KAAxB;UAA+BkI,GAAG,EAAE;SADrB;QAEzBukC,MAAM,EAAE;UAAEzsC,KAAK,EAAEY,QAAQ,CAACqpC,KAAT,CAAejqC,KAAxB;UAA+BkI,GAAG,EAAE;;OAF9B,EAGbtH,QAAQ,CAACqpC,KAHI;KAPF,CAAhB;GADK,MAaA;IACL6C,aAAa,GAAGjY,QAAQ,CAACjI,OAAT,CAAiB;MAC/Bt1B,IAAI,EAAJA,IAD+B;MAE/Bu1B,MAAM,EAANA,MAF+B;MAG/BpB,QAAQ,EAAE;QACRwe,KAAK,EAAE;OAJsB;MAM/BrpC,QAAQ,EAAE;QACRqpC,KAAK,EAAErpC,QAAQ,CAACqpC;;KAPJ,CAAhB;;;MAYI8C,aAAa,GAAGnsC,QAAQ,CAACmqC,KAAT,IAAkB,EAAxC;MACMiC,oBAAoB,GAAG,EAA7B;GACC,OAAD,EAAU,KAAV,EAAiB,KAAjB,EAAwB,KAAxB,EAA+B,KAA/B,EAAsCjlC,OAAtC,CAA8C,UAACusB,IAAD,EAAU;QAClDyY,aAAa,CAACzY,IAAD,CAAb,IAAwBh9B,IAAI,CAACsY,KAAL,IAActY,IAAI,CAACsY,KAAL,CAAW3X,MAAzB,IAAmCX,IAAI,CAACsY,KAAL,CAAW,CAAX,EAAc0kB,IAAd,CAA/D,EAAqF;MACnF0Y,oBAAoB,CAAC1Y,IAAD,CAApB,GAA6B;QAAEt0B,KAAK,EAAE+sC,aAAa,CAAC/sC,KAAvB;QAA8BkI,GAAG,EAAEosB;OAAhE;;GAFJ;MAMM2Y,aAAa,GAAGpY,QAAQ,CAACjI,OAAT,CAAiB;IACrCt1B,IAAI,EAAJA,IADqC;IAErCm0B,QAAQ,EAAE;MACR3uB,KAAK,EAAE,CADC;MAERC,GAAG,EAAE;KAJ8B;IAMrC8vB,MAAM,EAANA,MANqC;IAOrCjsB,QAAQ,EAAE8B,MAAM,CAAC,IAAD,EAAO,EAAP,EAAWsqC,oBAAX,EAAiCD,aAAjC;GAPI,CAAtB;MAUI3zC,GAAJ;MACI8zC,GAAG,GAAG;IACRjD,KAAK,EAAE6C,aADC;IAER/B,KAAK,EAAEkC;GAFT;;OAKK,IAAIE,EAAE,GAAG,CAAT,EAAYjvB,GAAG,GAAGhT,IAAI,CAACjT,MAA5B,EAAoCk1C,EAAE,GAAGjvB,GAAzC,EAA8CivB,EAAE,EAAhD,EAAoD;QAC9C,CAACvsC,QAAQ,CAACxH,GAAD,CAAT,IAAkBwH,QAAQ,CAACxH,GAAD,CAAR,CAAc+H,IAAd,KAAuB,KAA7C,EAAoD;MAClD/H,GAAG,GAAG8R,IAAI,CAACiiC,EAAD,CAAV;MACAD,GAAG,CAAC9zC,GAAD,CAAH,GAAWy7B,QAAQ,CAACjI,OAAT,CAAiB;QAC1Bt1B,IAAI,EAAJA,IAD0B;QAE1Bm0B,QAAQ,EAAEA,QAAQ,CAACryB,GAAD,CAFQ;QAG1BwH,QAAQ,EAAEA,QAAQ,CAACxH,GAAD,CAHQ;QAI1ByzB,MAAM,EAANA;OAJS,CAAX;;;;SASGqgB,GAAP;;;AC5FF,IAAME,qBAAqB,GAAG;EAC5B9D,GAAG,EAAE;IACHnoC,IAAI,EAAE,IADH;IAEHtJ,IAAI,EAAE,WAFH;IAGHyG,IAAI,EAAE,MAHH;IAIHrD,MAAM,EAAE,MAJL;IAKHmwB,WAAW,EAAE,CALV;IAMHvpB,IAAI,EAAE,EANH;IAOHmyB,KAAK,EAAE,CAPJ;IAQHt1B,UAAU,EAAE,CAAC;GATa;EAW5BmrC,GAAG,EAAE;IACH1oC,IAAI,EAAE,IADH;IAEH7C,IAAI,EAAE,MAFH;IAGHrD,MAAM,EAAE,MAHL;IAIHmwB,WAAW,EAAE,CAJV;IAKH4E,cAAc,EAAE,OALb;IAMH7xB,KAAK,EAAE,CANJ;IAOHosC,UAAU,EAAErqC,SAPT;IAQHsqC,UAAU,EAAE,CART;IASHR,WAAW,EAAE;GApBa;EAsB5B1mC,IAAI,EAAE;IACJnC,IAAI,EAAE,IADF;IAEJlG,MAAM,EAAE,MAFJ;IAGJmwB,WAAW,EAAE;GAzBa;EA2B5BwgB,MAAM,EAAE;IACNzqC,IAAI,EAAE,IADA;IAENlG,MAAM,EAAE,MAFF;IAGNmwB,WAAW,EAAE;GA9Ba;EAgC5B2gB,OAAO,EAAE;IACP5qC,IAAI,EAAE,IADC;IAEPlG,MAAM,EAAE,MAFD;IAGPmwB,WAAW,EAAE,CAHN;IAIP9sB,IAAI,EAAE,EAJC;IAKPzG,IAAI,EAAE,MALC;IAMPsG,KAAK,EAAE;;CAtCX;AA0CA,IAAMkvC,QAAQ,GAAGn0C,MAAM,CAACgS,IAAP,CAAYkiC,qBAAZ,CAAjB;AAEA,IAAM1kC,SAAS,GAAG;EAChB+rB,OAAO,EAAE,CAAC,OAAD,EAAU,UAAV,EAAsB,QAAtB,CADO;EAEhBpc,eAAe,EAAE;IACfzX,QAAQ,EAAE,EADK;IAEftJ,IAAI,EAAE,EAFS;IAGf41B,KAAK,EAAE;MACL2c,GAAG,EAAE,QADA;MAELvmC,IAAI,EAAE,cAFD;MAGLyoC,OAAO,EAAE,cAHJ;MAILH,MAAM,EAAE;;GATI;EAYhB7U,OAZgB,qBAYN;SACHtQ,KAAL,GAAa,EAAb;GAbc;EAehBoE,MAfgB,wBAeC;;;QAARvzB,IAAQ,QAARA,IAAQ;qBACW,KAAK4G,IADhB;QACPC,KADO,cACPA,KADO;QACAC,MADA,cACAA,MADA;QAGTsrC,MAAM,GAAG,KAAK9oC,QAAL,CAAcA,QAAd,CAAuBisC,WAAvB,KAAuC,YAAtD;QAEQ3f,KALO,GAKqB,IALrB,CAKPA,KALO;QAKA2H,QALA,GAKqB,IALrB,CAKAA,QALA;QAKUE,MALV,GAKqB,IALrB,CAKUA,MALV;QAOT7pB,IAAI,GAAGmiC,QAAQ,CAAC1mC,MAAT,CAAgB,UAACvN,GAAD;aAAS,CAAC,KAAI,CAACwH,QAAL,CAAcA,QAAd,CAAuBxH,GAAvB,CAAD,IAAgC,KAAI,CAACwH,QAAL,CAAcA,QAAd,CAAuBxH,GAAvB,EAA4B+H,IAA5B,KAAqC,KAA9E;KAAhB,CAAb;QACMkX,eAAe,GAAG,EAAxB;IAEAnN,IAAI,CAACnD,OAAL,CAAa,UAAC3O,GAAD;aAASif,eAAe,CAACjf,GAAD,CAAf,GAAuBg0C,qBAAqB,CAACh0C,GAAD,CAArD;KAAb;QAEM2zB,QAAQ,GAAG6f,eAAe,CAAC;MAC/B1hC,IAAI,EAAJA,IAD+B;MAE/B5T,IAAI,EAAJA,IAF+B;MAG/B+gB,eAAe,EAAfA,eAH+B;MAI/B6U,KAAK,EAALA,KAJ+B;MAK/BtsB,QAAQ,EAAE,KAAKA,QAAL,CAAcA,QALO;MAM/BzC,KAAK,EAALA,KAN+B;MAO/BC,MAAM,EAANA,MAP+B;MAQ/By2B,QAAQ,EAARA;KAR8B,CAAhC;QAWQj0B,QAvBO,GAuBamsB,QAvBb,CAuBPnsB,QAvBO;QAuBGgP,KAvBH,GAuBamd,QAvBb,CAuBGnd,KAvBH;QAyBTwpB,MAAM,GAAGsR,WAAW,CAAC;MACzB96B,KAAK,EAALA,KADyB;MAEzBhP,QAAQ,EAARA,QAFyB;MAGzBzC,KAAK,EAALA,KAHyB;MAIzBC,MAAM,EAANA,MAJyB;MAKzBsrC,MAAM,EAANA,MALyB;MAMzB3c,QAAQ,EAARA,QANyB;MAOzB7hB,IAAI,EAAJA,IAPyB;MAQzB6pB,MAAM,EAANA;KARwB,CAA1B;WAWOqE,MAAP;;CAnDJ;;AC7Ce,SAASyQ,KAAT,CAAayD,OAAb,EAAsB;EACnCA,OAAO,CAAC5kC,SAAR,CAAkB,KAAlB,EAAyBA,SAAzB;EACA4kC,OAAO,CAAC5kC,SAAR,CAAkB,YAAlB,EAAgCA,SAAhC,EAFmC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACCrC,IAAM6kC,sBAAsB,GAAG;EAC7BC,UAAU,EAAE;IACV1pC,KAAK,EAAE,SADG;IAEV3F,KAAK,EAAE,CAFG;IAGV0D,IAAI,EAAE,GAHI;IAIVvD,IAAI,EAAE,MAJI;IAKVrD,MAAM,EAAE,MALE;IAMVmwB,WAAW,EAAE;;CAPjB;;;;;;AAeA,IAAMgiB,uBAAqB,GAAG;;;EAG5BtpC,KAAK,EAAE,QAHqB;EAI5B2L,KAAK,EAAE,EAJqB;;;;EAO5BnR,IAAI,EAAE,MAPsB;;;;EAU5BrD,MAAM,EAAE,MAVoB;;;;EAa5BmwB,WAAW,EAAE,CAbe;;;;EAgB5B4E,cAAc,EAAE,OAhBY;;;;EAmB5BhG,OAAO,EAAE,CAnBmB;;;;EAsB5BxuB,CAAC,EAAE,GAtByB;;;;EAyB5BG,CAAC,EAAE,GAzByB;;;;EA4B5BkG,IAAI,EAAE,CA5BsB;EA6B5B0uB,eAAe,EAAE;CA7BnB;;;;;;AAoCA,IAAMkd,WAAW,GAAG;;;EAGlB5E,KAAK,EAAE,KAHW;;;;EAMlBD,KAAK,EAAE,CANW;;;;EASlB8E,YAAY,EAAE,GATI;;;;EAYlBC,YAAY,EAAE,IAZI;;;;EAelBC,cAAc,EAAE,CAfE;;;;EAkBlBC,cAAc,EAAE;CAlBlB;;AAqBA,SAASC,mBAAT,CAA6Bt3C,CAA7B,EAAgCu3C,KAAhC,EAAuC;MACjCv3C,CAAC,IAAI,OAAOA,CAAC,CAAC4hB,SAAT,KAAuB,UAAhC,EAA4C;;WACnC;MACL41B,WAAW,EAAE,IADR;MAELzxC,KAAK,EAAEd,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAY1L,CAAC,CAAC4hB,SAAF,KAAgB21B,KAA5B;KAFT;;;SAKK;IACLC,WAAW,EAAE,KADR;IAELzxC,KAAK,EAAEd,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAY6rC,KAAZ;GAFT;;;AAMF,SAASE,kBAAT,CAA4BzyC,CAA5B,EAA+BG,CAA/B,EAAkCwC,KAAlC,EAAyCC,MAAzC,EAAiD8vC,MAAjD,EAAyD;MACjDC,QAAQ,GAAGL,mBAAmB,CAACtyC,CAAC,GAAGA,CAAC,CAACwE,KAAL,GAAaE,SAAf,EAA0B/B,KAA1B,AAAA,CAApC;MACMiwC,QAAQ,GAAGN,mBAAmB,CAACnyC,CAAC,GAAGA,CAAC,CAACqE,KAAL,GAAaE,SAAf,EAA0B9B,MAA1B,AAAA,CAApC;MACIiwC,SAAS,GAAG5yC,IAAI,CAACwG,GAAL,CAASksC,QAAQ,CAAC5xC,KAAT,GAAiB2xC,MAAM,CAACC,QAAQ,CAACH,WAAT,GAAuB,gBAAvB,GAA0C,cAA3C,CAAhC,EAA4FI,QAAQ,CAAC7xC,KAAT,GAAiB2xC,MAAM,CAACE,QAAQ,CAACJ,WAAT,GAAuB,gBAAvB,GAA0C,cAA3C,CAAnH,CAAhB;MACIM,SAAS,GAAG7yC,IAAI,CAACwG,GAAL,CAASksC,QAAQ,CAAC5xC,KAAT,GAAiB2xC,MAAM,CAACC,QAAQ,CAACH,WAAT,GAAuB,gBAAvB,GAA0C,cAA3C,CAAhC,EAA4FI,QAAQ,CAAC7xC,KAAT,GAAiB2xC,MAAM,CAACE,QAAQ,CAACJ,WAAT,GAAuB,gBAAvB,GAA0C,cAA3C,CAAnH,CAAhB;MACM/rC,GAAG,GAAGxG,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAYzG,IAAI,CAACgG,KAAL,CAAW6sC,SAAX,CAAZ,CAAZ;MACMpsC,GAAG,GAAGzG,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAYzG,IAAI,CAACgG,KAAL,CAAW4sC,SAAX,CAAZ,CAAZ;SACO;IACLpsC,GAAG,EAAHA,GADK;IACAC,GAAG,EAAHA,GADA;IACKqsC,SAAS,EAAEL,MAAM,CAACrF,KADvB;IAC8B2F,SAAS,EAAEN,MAAM,CAACtF;GADvD;;;AAKF,SAAS6F,mBAAT,CAA6BjgB,UAA7B,QAEGkgB,SAFH,EAEcC,OAFd,EAEuB;MADrBxwC,KACqB,QADrBA,KACqB;MADdC,MACc,QADdA,MACc;SACdowB,UAAU,CAAC7nB,MAAX,CAAkB,UAACpP,CAAD;WAAO,CAACuK,KAAK,CAACvK,CAAC,CAACiE,CAAF,GAAMjE,CAAC,CAACoE,CAAT,CAAb;GAAlB,EAA4CzE,GAA5C,CAAgD,UAACK,CAAD,EAAO;QACtDf,CAAC,GAAGoM,SAAS,CAACrL,CAAC,CAACsK,IAAH,CAAT,GAAoB0rC,sBAAsB,CAACC,UAA3C,GAAwDj2C,CAAlE;QACMsK,IAAI,GAAG6sC,SAAS,CAACzsC,GAAV,GAAiBzL,CAAC,CAACqL,IAAF,IAAU6sC,SAAS,CAACxsC,GAAV,GAAgBwsC,SAAS,CAACzsC,GAApC,CAA9B;QACM2sC,SAAS,GAAG;MAChB/2C,IAAI,EAAErB,CAAC,CAACsN,KAAF,KAAY,MAAZ,GAAqB,QAArB,GAAgCtN,CAAC,CAACsN,KADxB;MAEhB2L,KAAK,EAAElY,CAAC,CAACkY,KAFO;MAGhBjU,CAAC,EAAEjE,CAAC,CAACiE,CAAF,GAAM2C,KAHO;MAIhBxC,CAAC,EAAEpE,CAAC,CAACoE,CAAF,GAAMyC,MAJO;MAKhBE,IAAI,EAAE9H,CAAC,CAAC8H,IALQ;MAMhBuD,IAAI,EAAEpG,IAAI,CAACwG,GAAL,CAASysC,SAAS,CAACH,SAAnB,EAA8B9yC,IAAI,CAACyG,GAAL,CAASwsC,SAAS,CAACF,SAAnB,EAA8B3sC,IAA9B,CAA9B,CANU;MAOhB5G,MAAM,EAAEzE,CAAC,CAACyE,MAPM;MAQhBmwB,WAAW,EAAE50B,CAAC,CAAC40B,WARC;MAShBmF,eAAe,EAAE/5B,CAAC,CAAC+5B,eATH;MAUhBvG,OAAO,EAAExzB,CAAC,CAACwzB;KAVb;;QAYIxzB,CAAC,KAAKe,CAAC,CAACi2C,UAAZ,EAAwB;MACtBoB,SAAS,CAACzwC,KAAV,GAAkB3H,CAAC,CAAC2H,KAApB;;;QAEI2F,KAAK,GAAG6qC,OAAO,CAACC,SAAD,CAArB;IAEA9qC,KAAK,CAACxM,IAAN,GAAaC,CAAC,CAACD,IAAf;WACOwM,KAAP;GArBK,CAAP;;;AAyBF,IAAM4E,WAAS,GAAG;EAChB+rB,OAAO,EAAE,CAAC,OAAD,EAAU,UAAV,EAAsB,QAAtB,CADO;EAEhBpc,eAAe,EAAE;IACfzX,QAAQ,EAAE,EADK;IAEftJ,IAAI,EAAE,EAFS;IAGfshC,UAAU,EAAE;MACVC,OAAO,EAAE,KADC;MAEVld,OAAO,EAAE,iBAACO,IAAD;eAAUA,IAAI,CAAC5kB,IAAL,CAAUiF,KAApB;;KALI;IAOf2wB,KAAK,EAAE;MACL9a,IAAI,EAAE;;GAVM;EAahByY,MAbgB,yBAaC;QAARvzB,IAAQ,SAARA,IAAQ;QACTy1B,QAAQ,GAAG,KAAK8H,QAAL,CAAcjI,OAAd,CAAsB;MACrCt1B,IAAI,EAAJA,IADqC;MAErCm0B,QAAQ,EAAE/oB,MAAM,CAAC,EAAD,EAAK0qC,uBAAL,EAA4B,KAAKlgB,KAAL,CAAW9a,IAAvC,CAFqB;MAGrCxR,QAAQ,EAAE,KAAKA,QAAL,CAAcA,QAHa;MAIrCisB,MAAM,EAAE;QACNrxB,CAAC,EAAE,KAAK0C,IAAL,CAAUC,KADP;QAENxC,CAAC,EAAE,KAAKuC,IAAL,CAAUE;;KANA,CAAjB;qBAS0B,KAAKF,IAVhB;QAUPC,KAVO,cAUPA,KAVO;QAUAC,MAVA,cAUAA,MAVA;QAWT8vC,MAAM,GAAGxrC,MAAM,CAAC,EAAD,EAAK+qC,WAAL,EAAkB,KAAK7sC,QAAL,CAAcA,QAAd,CAAuBiuC,UAAzC,CAArB;QACM/rC,MAAM,GAAGiqB,QAAQ,CAACnd,KAAxB;QACM8+B,SAAS,GAAGT,kBAAkB,CAAClhB,QAAQ,CAACnsB,QAAT,CAAkBpF,CAAnB,EAAsBuxB,QAAQ,CAACnsB,QAAT,CAAkBjF,CAAxC,EAA2CwC,KAA3C,EAAkDC,MAAlD,EAA0D8vC,MAA1D,CAApC;WACOO,mBAAmB,CAAC3rC,MAAD,EAAS,KAAK5E,IAAd,EAAoBwwC,SAApB,EAA+B,KAAK9tC,QAAL,CAAc+tC,OAAd,IAAyB,KAAK5Z,MAA7D,CAA1B;;CA3BJ;;AC9HA;;;;;;;;;AAQA,IAAMl9B,IAAI,GAAG,OAAb;AAEA,AAAe,SAASi3C,WAAT,CAAqBxB,OAArB,EAA8B;EAC3CA,OAAO,CAAC5kC,SAAR,CAAkB7Q,IAAlB,EAAwBk3C,WAAxB;EAEAzB,OAAO,CAAC5kC,SAAR,CAAkB,cAAlB,EAAkCqmC,WAAlC,EAH2C;;;ACT7C;;;;;AAIA,IAAM3B,uBAAqB,GAAG;;;EAG5B1uC,UAAU,EAAE,CAHgB;;;;EAM5BD,QAAQ,EAAE,IAAIhD,IAAI,CAACiE,EANS;;;;;EAU5B6G,KAAK,EAAE;IACLkJ,KAAK,EAAE,EADF;;;;IAIL7S,GAAG,EAAE,CAJA;;;;IAOLuE,IAAI,EAAE,IAPD;;;;IAUL7C,IAAI,EAAE,MAVD;;;;IAaLrD,MAAM,EAAE,MAbH;;;;IAgBLmwB,WAAW,EAAE,CAhBR;;;;IAmBL4E,cAAc,EAAE,OAnBX;;;;IAsBLhG,OAAO,EAAE,CAtBJ;;;;IAyBLyJ,WAAW,EAAE,CAzBR;;;;IA4BLF,WAAW,EAAE,GA5BR;;;;IA+BLyb,YAAY,EAAE,CA/BT;;;;IAkCLz9B,MAAM,EAAE;;CA5CZ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgFA,SAAS09B,WAAT,CAAqBxc,QAArB,EAA+BlhB,MAA/B,EAAuCgiB,WAAvC,EAAoDE,WAApD,EAAiE;iCAChDhB,QADgD;MAC1Dyc,EAD0D;MACtDC,EADsD;;MAEzDC,IAAI,GAAG3zC,IAAI,CAACkE,IAAL,CAAWuvC,EAAE,GAAGA,EAAN,GAAaC,EAAE,GAAGA,EAA5B,CAAb;EACAD,EAAE,IAAIE,IAAN;EACAD,EAAE,IAAIC,IAAN;MACMtnC,IAAI,GAAGyrB,WAAW,GAAGE,WAA3B;SACO;IAAEj4B,CAAC,EAAE0zC,EAAE,GAAG39B,MAAL,GAAczJ,IAAnB;IAAyBnM,CAAC,EAAEwzC,EAAE,GAAG59B,MAAL,GAAczJ;GAAjD;;;AAGF,SAASunC,iBAAT,CAA2BC,OAA3B,QAEGC,MAFH,EAEW9K,GAFX,EAEgB;MADdjpC,CACc,QADdA,CACc;MADXG,CACW,QADXA,CACW;MADRwC,KACQ,QADRA,KACQ;MADDC,MACC,QADDA,MACC;MACRoxC,MAAM,GAAG5yC,GAAG,EAAlB;MACMyF,MAAM,GAAG;IAAE7G,CAAC,EAAEA,CAAC,GAAI2C,KAAK,GAAG,CAAlB;IAAsBxC,CAAC,EAAEA,CAAC,GAAIyC,MAAM,GAAG;GAAtD;MACMq1B,WAAW,GAAIh4B,IAAI,CAACwG,GAAL,CAAS9D,KAAT,EAAgBC,MAAhB,IAA0B,CAA/C;MACMm1B,WAAW,GAAI93B,IAAI,CAACwG,GAAL,CAAS9D,KAAT,EAAgBC,MAAhB,IAA0B,CAA/C;MACM4wC,YAAY,GAAGzb,WAAW,GAAG,GAAnC;SACO+b,OAAO,CAACp4C,GAAR,CAAY,UAAChB,CAAD,EAAI2C,CAAJ,EAAU;QACrB0N,KAAK,GAAGgpC,MAAM,CAAC12C,CAAD,CAApB;IACA0N,KAAK,CAAC1O,IAAN,GAAa,MAAb;QACM43C,EAAE,GAAGlc,WAAW,GAAGhtB,KAAK,CAACgtB,WAA/B;QACMmc,EAAE,GAAGjc,WAAW,GAAGltB,KAAK,CAACktB,WAA/B;IACA+b,MAAM,CAAC/b,WAAP,CAAmBic,EAAnB;IACAF,MAAM,CAACjc,WAAP,CAAmBkc,EAAnB;IACAD,MAAM,CAACR,YAAP,CAAoBA,YAAY,GAAGzoC,KAAK,CAACyoC,YAAzC;IACAzoC,KAAK,CAACyB,CAAN,GAAUwnC,MAAM,CAACt5C,CAAD,CAAhB;QACMu8B,QAAQ,GAAG+c,MAAM,CAAC/c,QAAP,CAAgBv8B,CAAhB,CAAjB;QACMqb,MAAM,GAAGhL,KAAK,CAACgL,MAAN,GAAe09B,WAAW,CAACxc,QAAD,EAAWlsB,KAAK,CAACgL,MAAjB,EAAyBk+B,EAAzB,EAA6BC,EAA7B,CAA1B,GAA6D;MAAEl0C,CAAC,EAAE,CAAL;MAAQG,CAAC,EAAE;KAAvF;IACA4K,KAAK,CAAC+pB,SAAN,uBAA+B/e,MAAM,CAAC/V,CAAtC,eAA4C+V,MAAM,CAAC5V,CAAnD,yBAAmE0G,MAAM,CAAC7G,CAA1E,eAAgF6G,MAAM,CAAC1G,CAAvF;IACA4K,KAAK,CAACopC,IAAN,GAAa;MACXC,KAAK,EAAE15C,CAAC,CAACqG,KAAF,GAAUkoC,GADN;MAEXl+B,KAAK,EAAE;QACLzJ,KAAK,EAAE5G,CAAC,CAACwI,UADJ;QAEL3B,GAAG,EAAE7G,CAAC,CAACuI,QAFF;QAGLg1B,WAAW,EAAEic,EAHR;QAILnc,WAAW,EAAEkc,EAJR;QAKLl+B,MAAM,EAAE;UAAE/V,CAAC,EAAE6G,MAAM,CAAC7G,CAAP,GAAW+V,MAAM,CAAC/V,CAAvB;UAA0BG,CAAC,EAAE0G,MAAM,CAAC1G,CAAP,GAAW4V,MAAM,CAAC5V;;;KAP3D;WAWO4K,KAAP;GAvBK,CAAP;;;AA2BF,AAAO,SAASspC,QAAT,CAAkBt3B,KAAlB,EAAyBnG,IAAzB,EAA+B;MAChCmG,KAAK,CAAChS,KAAN,IAAe,SAASgS,KAAK,CAAChS,KAAlC,EAAyC;WAChC6L,IAAI,CAACxV,GAAZ;;;SAEKwV,IAAI,CAAC9a,IAAL,CAAUiF,KAAjB;;AAGF,IAAMuzC,YAAY,GAAG;EACnBrb,OAAO,EAAE,CAAC,OAAD,EAAU,UAAV,CADU;EAEnBpc,eAAe,EAAE;IACfzX,QAAQ,EAAE;MACRlC,UAAU,EAAE,CADJ;MAERD,QAAQ,EAAE,IAAIhD,IAAI,CAACiE,EAFX;MAGRqwC,QAAQ,EAAE,CAHF;MAIRxpC,KAAK,EAAE;KALM;IAOf2mB,KAAK,EAAE;MACL3mB,KAAK,EAAE;KARM;IAUfjP,IAAI,EAAE;GAZW;EAcnBuzB,MAdmB,yBAcF;QAARvzB,IAAQ,SAARA,IAAQ;QACT04C,SAAS,GAAG,EAAlB;QACMT,MAAM,GAAG,EAAf;QACMh3B,KAAK,GAAG,KAAK3X,QAAL,CAAcA,QAA5B;;gCACkB,KAAKi0B,QAAL,CAAcjI,OAAd,CAAsB;MACtCt1B,IAAI,EAAJA,IADsC;MAEtCm0B,QAAQ,EAAE/oB,MAAM,CAAC,EAAD,EAAK0qC,uBAAqB,CAAC7mC,KAA3B,EAAkC,KAAK2mB,KAAL,CAAW3mB,KAA7C,CAFsB;MAGtC3F,QAAQ,EAAE2X,KAAK,CAAChS;KAHA,CAJH;QAIPqJ,KAJO,yBAIPA,KAJO;;QAUX60B,GAAG,GAAG,CAAV;;SACK,IAAI5rC,CAAC,GAAG,CAAR,EAAWqlB,GAAG,GAAGtO,KAAK,CAAC3X,MAA5B,EAAoCY,CAAC,GAAGqlB,GAAxC,EAA6CrlB,CAAC,EAA9C,EAAkD;UAC1C0I,GAAG,GAAGsuC,QAAQ,CAACt3B,KAAD,EAAQ3I,KAAK,CAAC/W,CAAD,CAAb,CAApB;;UACI0I,GAAG,GAAG,CAAN,IAAWqO,KAAK,CAAC/W,CAAD,CAAL,CAAS06B,WAAT,IAAwB3jB,KAAK,CAAC/W,CAAD,CAAL,CAAS46B,WAAhD,EAA6D;QAC3Duc,SAAS,CAAC93C,IAAV,CAAeqJ,GAAf;QACAguC,MAAM,CAACr3C,IAAP,CAAY0X,KAAK,CAAC/W,CAAD,CAAjB;QACA4rC,GAAG,IAAIljC,GAAP;;;;QAIE0uC,MAAM,GAAGC,GAAG,GAAGC,UAAN,CAAiB,IAAjB,CAAf;IACAF,MAAM,CAACvxC,UAAP,CAAkB6Z,KAAK,CAAC7Z,UAAxB;IACAuxC,MAAM,CAACxxC,QAAP,CAAgB8Z,KAAK,CAAC9Z,QAAtB;IACAwxC,MAAM,CAACF,QAAP,CAAgBx3B,KAAK,CAACw3B,QAAtB;QACMT,OAAO,GAAGW,MAAM,CAACD,SAAD,CAAtB;WAEOX,iBAAiB,CACtBC,OADsB,EAEtB5sC,MAAM,CAAC,EAAD,EAAK,KAAKxE,IAAV,EAAgB;MAAE1C,CAAC,EAAE,CAAL;MAAQG,CAAC,EAAE;KAA3B,CAFgB,EAGtB4zC,MAHsB,EAItB9K,GAJsB,CAAxB;;CAxCJ;;ACxIe,SAASyL,KAAT,CAAa5C,OAAb,EAAsB;EACnCA,OAAO,CAAC5kC,SAAR,CAAkB,KAAlB,EAAyBonC,YAAzB;;;ACHF;;;;;;;;;;;;;;;;;;AAkBA,AAAO,SAASM,iBAAT,CAA2BC,QAA3B,EAAqC;;MAEtCA,QAAQ,KAAKnwC,SAAjB,EAA4B;IAC1BmwC,QAAQ,GAAG,EAAX;IAEAA,QAAQ,CAAC/sC,IAAT,GAAgB;MACdgtC,MAAM,EAAE,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,CADM;MAEd35B,KAAK,EAAE,EAFO;MAGd45B,SAAS,EAAE,mBAACn+B,IAAD;eAAWA,IAAI,CAAClV,EAAL,KAAYkV,IAAI,CAAChV,EAAjB,IAAuBgV,IAAI,CAACjV,EAAL,KAAYiV,IAAI,CAAC/U,EAAnD;OAHG;MAIdmzC,eAAe,EAAE,yBAACp+B,IAAD;eAAUA,IAAI,CAACgZ,WAAL,GAAmB,CAAnB,KAAyB,CAAnC;;KAJnB;IAOAilB,QAAQ,CAACnyC,IAAT,GAAgB;MACdoyC,MAAM,EAAE,CAAC,GAAD,EAAM,GAAN,CADM;MAEd35B,KAAK,EAAE,CAAC,OAAD,EAAU,QAAV,CAFO;MAGd45B,SAAS,EAAE;eAAM,IAAN;OAHG;MAIdC,eAAe,EAAE,yBAACp+B,IAAD;eAAUA,IAAI,CAACgZ,WAAL,GAAmB,CAAnB,KAAyB,CAAnC;;KAJnB;GAZwC;;;EAqB1ClyB,MAAM,CAACgS,IAAP,CAAYmlC,QAAZ,EAAsBtoC,OAAtB,CAA8B,UAAClQ,IAAD,EAAU;QAChC44C,IAAI,GAAGJ,QAAQ,CAACx4C,IAAD,CAArB;IAEA44C,IAAI,CAAC7gC,KAAL,GAAa,EAAb;IAEA6gC,IAAI,CAACH,MAAL,CAAYvoC,OAAZ,CAAoB,UAAC2oC,QAAD,EAAc;MAChCD,IAAI,CAAC7gC,KAAL,CAAW1X,IAAX,CAAgB;QACdkB,GAAG,EAAEs3C,QADS;QAEd74C,IAAI,EAAE;OAFR;KADF;IAOA44C,IAAI,CAAC95B,KAAL,CAAW5O,OAAX,CAAmB,UAAC2oC,QAAD,EAAc;MAC/BD,IAAI,CAAC7gC,KAAL,CAAW1X,IAAX,CAAgB;QACdkB,GAAG,EAAEs3C,QADS;QAEd74C,IAAI,EAAE;OAFR;KADF;GAZF;;;;;;;;WA0BS84C,SAAT,CAAmBv+B,IAAnB,EAAyB;QACnBi+B,QAAQ,CAACj+B,IAAI,CAACva,IAAN,CAAR,IAAuBw4C,QAAQ,CAACj+B,IAAI,CAACva,IAAN,CAAR,CAAoB04C,SAApB,CAA8Bn+B,IAA9B,CAA3B,EAAgE;UACxDq+B,IAAI,GAAGJ,QAAQ,CAACj+B,IAAI,CAACva,IAAN,CAArB;UACM+4C,QAAQ,GAAGH,IAAI,CAACD,eAAL,KAAyBtwC,SAAzB,IAAsCuwC,IAAI,CAACD,eAAL,CAAqBp+B,IAArB,CAAvD;MAEAq+B,IAAI,CAAC7gC,KAAL,CAAW7H,OAAX,CAAmB,UAAClP,CAAD,EAAO;YAClBg4C,OAAO,GAAGp1C,IAAI,CAACkb,KAAL,CAAWvE,IAAI,CAACvZ,CAAC,CAACO,GAAH,CAAf,CAAhB;YACM0O,IAAI,GAAGsK,IAAI,CAACvZ,CAAC,CAACO,GAAH,CAAJ,GAAcy3C,OAA3B;QACAz+B,IAAI,CAACvZ,CAAC,CAACO,GAAH,CAAJ,GAAcy3C,OAAd;;YAEID,QAAQ,IAAI/3C,CAAC,CAAChB,IAAF,KAAW,QAA3B,EAAqC;cAC/BiQ,IAAI,GAAG,CAAX,EAAc;YACZsK,IAAI,CAACvZ,CAAC,CAACO,GAAH,CAAJ,IAAe,GAAf;WADF,MAEO;YACLgZ,IAAI,CAACvZ,CAAC,CAACO,GAAH,CAAJ,IAAe,GAAf;;;OATN;;;;;;;;;;;;EAuBJu3C,SAAS,CAACG,QAAV,GAAqB,UAAClhC,KAAD;WAAWA,KAAK,CAAC7H,OAAN,CAAc,UAACqK,IAAD;aAAUu+B,SAAS,CAACv+B,IAAD,CAAnB;KAAd,CAAX;GAArB;;SAEOu+B,SAAP;;AAGF,IAAMI,UAAU,GAAGX,iBAAiB,EAApC;;IChGMY;;;;;;wBAIkB;;;SACf1jC,KAAL;SAEKpV,IAAL;;;;;;;;;;;;;;;;;;;;;wCA6CkBkB,KAAK63C,YAAYvH,QAAQ;UACvC,OAAOuH,UAAP,KAAsB,QAAtB,IAAkCC,QAAQ,CAACD,UAAD,CAA9C,EAA4D;YACpDE,SAAS,GAAG/3C,GAAG,CAACg4C,SAAJ,CAAc,CAAd,EAAiB,CAAjB,CAAlB;;YAEID,SAAS,KAAK,GAAd,IAAqB/3C,GAAG,KAAK,IAAjC,EAAuC;iBAC9B63C,UAAU,GAAG,KAAK9yC,KAAzB;;;YAEE/E,GAAG,KAAK,OAAZ,EAAqB;iBACZ63C,UAAU,GAAG,KAAK9yC,KAAzB;;;YAEE/E,GAAG,KAAK,GAAZ,EAAiB;iBACR63C,UAAU,IAAI,CAACvH,MAAD,GAAU,KAAKvrC,KAAf,GAAuB,KAAKC,MAAhC,CAAjB;;;YAEE+yC,SAAS,KAAK,GAAd,IAAqB/3C,GAAG,KAAK,IAAjC,EAAuC;iBAC9B63C,UAAU,GAAG,KAAK7yC,MAAzB;;;YAEEhF,GAAG,KAAK,QAAZ,EAAsB;iBACb63C,UAAU,GAAG,KAAK7yC,MAAzB;;;;aAIG6yC,UAAP;;;;;;;;;;;2BASa;;;4BACRI,OAAL,EAAan5C,IAAb;;aACO,IAAP;;;;gCAGUka,MAAM;UACZk/B,OAAO,GAAG,EAAd;UACM5H,MAAM,GAAI,OAAOt3B,IAAI,CAACs3B,MAAZ,KAAuB,WAAvB,GAAqCt3B,IAAI,CAACs3B,MAA1C,GAAmD,KAAKA,MAAxE;UACM6H,KAAK,GAAI,OAAOn/B,IAAI,CAACm/B,KAAZ,KAAsB,WAAtB,GAAoCn/B,IAAI,CAACm/B,KAAzC,GAAiD,KAAKA,KAArE;;UAEIn/B,IAAI,CAACnH,EAAL,IAAW,OAAOmH,IAAI,CAACnH,EAAZ,KAAmB,UAAlC,EAA8C;YACxC9M,KAAK,GAAGurC,MAAM,GAAG,KAAKtrC,MAAR,GAAiB,KAAKD,KAAxC;YACIC,MAAM,GAAGsrC,MAAM,GAAG,KAAKvrC,KAAR,GAAgB,KAAKC,MAAxC;QAEAgU,IAAI,GAAGA,IAAI,CAACnH,EAAL,CAAQ;UAAE9M,KAAK,EAALA,KAAF;UAASC,MAAM,EAANA,MAAT;UAAiBsrC,MAAM,EAANA;SAAzB,CAAP;YAEM8H,UAAU,GAAGt4C,MAAM,CAACgS,IAAP,CAAYkH,IAAZ,CAAnB;;aAEK,IAAI+6B,EAAE,GAAG,CAAT,EAAYsE,EAAE,GAAGD,UAAU,CAACv5C,MAAjC,EAAyCk1C,EAAE,GAAGsE,EAA9C,EAAkDtE,EAAE,EAApD,EAAwD;cAClD/zC,GAAG,GAAGo4C,UAAU,CAACrE,EAAD,CAApB;cACMuE,IAAI,GAAGV,UAAU,CAACW,WAAX,CAAuBv4C,GAAvB,EAA4BswC,MAA5B,CAAb;UACA4H,OAAO,CAACI,IAAD,CAAP,GAAgBt/B,IAAI,CAAChZ,GAAD,CAApB;;OAXJ,MAaO;YACCo4C,WAAU,GAAGt4C,MAAM,CAACgS,IAAP,CAAYkH,IAAZ,CAAnB;;aAEK,IAAI+6B,GAAE,GAAG,CAAT,EAAYsE,GAAE,GAAGD,WAAU,CAACv5C,MAAjC,EAAyCk1C,GAAE,GAAGsE,GAA9C,EAAkDtE,GAAE,EAApD,EAAwD;cAClD/zC,IAAG,GAAGo4C,WAAU,CAACrE,GAAD,CAApB;;cACMuE,KAAI,GAAGV,UAAU,CAACW,WAAX,CAAuBv4C,IAAvB,EAA4BswC,MAA5B,CAAb;;cACMkI,IAAI,GAAG,KAAKC,mBAAL,CAAyBH,KAAzB,EAA+Bt/B,IAAI,CAAChZ,IAAD,CAAnC,EAA0CswC,MAA1C,CAAb;UACA4H,OAAO,CAACI,KAAD,CAAP,GAAgBE,IAAhB;;;;UAIAL,KAAJ,EAAW;QACTO,UAAQ,CAACR,OAAD,CAAR;;;aAGKA,OAAP;;;;;;;;;;6BAQO;UACH1hC,KAAK,GAAG,EAAZ;;WAEK,IAAI/W,CAAC,GAAG,CAAR,EAAWxC,CAAC,GAAG,KAAKg7C,OAAL,CAAap5C,MAAjC,EAAyCY,CAAC,GAAGxC,CAA7C,EAAgDwC,CAAC,EAAjD,EAAqD;YAC/Cy4C,OAAO,GAAG,KAAKS,WAAL,CAAiB,KAAKV,OAAL,CAAax4C,CAAb,CAAjB,CAAd;QAEA+W,KAAK,CAAC1X,IAAN,CAAWo5C,OAAX;;;aAGK1hC,KAAP;;;;;;;;;;4BAQM;WACDyhC,OAAL,GAAe,EAAf;WACK3H,MAAL,GAAc,KAAd;WACK6H,KAAL,GAAa,KAAb;WAEKpzC,KAAL,GAAa,CAAb;WACKC,MAAL,GAAc,CAAd;;;;gCAvIiBhF,KAAKswC,QAAQ;UAC1BA,MAAJ,EAAY;YACJyH,SAAS,GAAG/3C,GAAG,CAACg4C,SAAJ,CAAc,CAAd,EAAiB,CAAjB,CAAlB;YACMY,IAAI,GAAG54C,GAAG,CAACg4C,SAAJ,CAAc,CAAd,CAAb;;YAEID,SAAS,KAAK,GAAlB,EAAuB;4BACVa,IAAX;;;YAEEb,SAAS,KAAK,GAAlB,EAAuB;4BACVa,IAAX;;;YAEE54C,GAAG,KAAK,IAAZ,EAAkB;iBACT,IAAP;;;YAEEA,GAAG,KAAK,IAAZ,EAAkB;iBACT,IAAP;;;YAEEA,GAAG,KAAK,OAAZ,EAAqB;iBACZ,QAAP;;;YAEEA,GAAG,KAAK,QAAZ,EAAsB;iBACb,OAAP;;;;aAIGA,GAAP;;;;;;;AAkHJ,AAAO,SAAS64C,UAAT,GAA8B;oCAAPriC,KAAO;IAAPA,KAAO;;;oBACxBohC,UAAX,EAAyBphC,KAAzB;;;AC1JF;;;;;;;;;;AASA,SAASsiC,OAAT,CAAiBlyC,KAAjB,EAAwBwW,QAAxB,EAAkC;MAC5B,CAACxW,KAAD,IAAU,CAACwW,QAAf,EAAyB;WAChB,EAAP;;;SAEMxW,KAAK,CAAC6Z,WAAN,IAAqB7Z,KAAK,CAAC6Z,WAAN,EAAtB,IAA8C7Z,KAAK,CAACmW,KAAN,CAAY;IAAEK,QAAQ,EAARA;GAAd,CAArD;;;AAGF,IAAM27B,iBAAiB,GAAG;EACxBpb,OADwB,qBACd,EADc;EAIxBtC,OAAO,EAAE,CAAC,OAAD,EAAU,UAAV,EAAsB,UAAtB,CAJe;EAKxBpc,eAAe,EAAE;IACfvP,MAAM,EAAE;MACN/H,YAAY,EAAE;KAFD;IAIfmsB,KAAK,EAAE;;MACL/W,KAAK,EAAE,aADF;MAELwB,UAAU,EAAE;;GAXQ;EAexByf,YAfwB,0BAeT;SACRgb,SAAL,GAAiBH,UAAU,EAA3B;SAEKG,SAAL,CAAej0C,KAAf,GAAuB,KAAKD,IAAL,CAAUC,KAAjC;SACKi0C,SAAL,CAAeh0C,MAAf,GAAwB,KAAKF,IAAL,CAAUE,MAAlC;SACKg0C,SAAL,CAAe52C,CAAf,GAAmB,KAAK0C,IAAL,CAAU1C,CAA7B;SACK42C,SAAL,CAAez2C,CAAf,GAAmB,KAAKuC,IAAL,CAAUvC,CAA7B;SACKy2C,SAAL,CAAeb,KAAf,GAAuB,IAAvB;GAtBsB;EAyBxB1mB,MAzBwB,oBAyBf;;;;SAEFrvB,CAAL,GAAS,KAAKoF,QAAL,CAAcpF,CAAd,GAAkB,KAAKkwB,KAAL,CAAW1rB,KAAX,CAAiB,KAAKY,QAAL,CAAcpF,CAA/B,CAAlB,GAAsD,IAA/D;SACKG,CAAL,GAAS,KAAKiF,QAAL,CAAcjF,CAAd,GAAkB,KAAK+vB,KAAL,CAAW1rB,KAAX,CAAiB,KAAKY,QAAL,CAAcjF,CAA/B,CAAlB,GAAsD,IAA/D;IACA4wB,eAAe,CAAC,IAAD,EAAO,GAAP,EAAY,KAAKruB,IAAL,CAAUC,KAAtB,CAAf;IACAouB,eAAe,CAAC,IAAD,EAAO,GAAP,EAAY,KAAKruB,IAAL,CAAUE,MAAtB,CAAf,CALO;;QAQH,CAAC,KAAK5C,CAAN,IAAW,CAAC,KAAKG,CAArB,EAAwB;aACf,EAAP;;;SAGGiF,QAAL,CAAcuV,KAAd,GAAsBzT,MAAM,CAAC;MAAEvB,IAAI,EAAE;KAAT,EAAiB,KAAK+rB,KAAL,CAAW/W,KAA5B,EAAmC,KAAKvV,QAAL,CAAcuV,KAAd,IAAuB,EAA1D,CAA5B;SACKvV,QAAL,CAAc+W,UAAd,GAA2BjV,MAAM,CAAC;MAAEvB,IAAI,EAAE;KAAT,EAAkB,KAAK+rB,KAAL,CAAWvV,UAA7B,EAAyC,KAAK/W,QAAL,CAAc+W,UAAd,IAA4B,EAArE,CAAjC,CAbO;;SAgBF06B,KAAL,GAAa;MACX72C,CAAC,EAAE,EADQ;MAEXG,CAAC,EAAE;KAFL,CAhBO;;SAsBF02C,KAAL,CAAW72C,CAAX,GAAe02C,OAAO,CAAC,KAAK12C,CAAN,EAAS,KAAK0C,IAAL,CAAUC,KAAnB,CAAtB;SACKk0C,KAAL,CAAW12C,CAAX,GAAeu2C,OAAO,CAAC,KAAKv2C,CAAN,EAAS,KAAKuC,IAAL,CAAUE,MAAnB,CAAtB,CAvBO;;;SA2BFi0C,KAAL,CAAW12C,CAAX,GAAe,KAAK02C,KAAL,CAAW12C,CAAX,CAAazE,GAAb,CAAiB,UAAC2B,CAAD;aAAO6J,MAAM,CAAC7J,CAAD,EAAI;QAAE6wC,MAAM,EAAE;OAAd,CAAb;KAAjB,CAAf;;QAEI4I,QAAQ,GAAG,SAAXA,QAAW,OAAsB;UAAnBC,GAAmB,QAAnBA,GAAmB;UAAdx7B,OAAc,QAAdA,OAAc;;UAC/BnH,KAAK,GAAG,KAAI,CAACyiC,KAAL,CAAWE,GAAX,EAAgB5rC,MAAhB,CAAuB,UAACkQ,IAAD;eAAU,CAAC,CAACA,IAAI,CAACE,OAAP,KAAmBA,OAA7B;OAAvB,CAAZ;;UACInW,QAAQ,GAAGmW,OAAO,GAAG,KAAI,CAACnW,QAAL,CAAc+W,UAAjB,GAA8B,KAAI,CAAC/W,QAAL,CAAcuV,KAAlE;;UACIA,KAAK,GAAG,KAAI,CAAC0e,QAAL,CAAcjI,OAAd,CAAsB;QAChChsB,QAAQ,EAARA,QADgC;QAEhCtJ,IAAI,EAAE;UACJsY,KAAK,EAALA,KADI;UAEJ2iC,GAAG,EAAHA;;OAJQ,EAMT3iC,KANH;;MAQAuG,KAAK,CAACpO,OAAN,CAAc,UAACmlB,KAAD,EAAW;YACnB31B,CAAC,GAAG21B,KAAK,CAAC51B,IAAd,CADuB;;YAInB41B,KAAK,CAAC/rB,IAAV,EAAgB;;UAEd,KAAI,CAACixC,SAAL,CAAel6C,IAAf,CAAoB;YAClBL,IAAI,EAAE,MADY;YAElBqF,EAAE,EAAE3F,CAAC,CAACuf,QAFY;YAGlB3Z,EAAE,EAAE,CAHc;YAIlBC,EAAE,EAAE7F,CAAC,CAACuf,QAJY;YAKlBzZ,EAAE,EAAE,CALc;YAMlBpC,MAAM,EAAEiyB,KAAK,CAACjyB,MAAN,IAAgB,OANN;YAOlBmwB,WAAW,EAAE,OAAO8B,KAAK,CAAC9B,WAAb,KAA6B,WAA7B,GAA2C8B,KAAK,CAAC9B,WAAjD,GAA+D,CAP1D;YAQlBmF,eAAe,EAAE,OAAOrD,KAAK,CAACqD,eAAb,KAAiC,WAAjC,GAA+CrD,KAAK,CAACqD,eAArD,GAAuErwB,SARtE;YASlBwpC,MAAM,EAAEnyC,CAAC,CAACmyC,MAAF,IAAY,KATF;;WAApB;;OANJ;KAXF;;IAgCA4I,QAAQ,CAAC;MAAEC,GAAG,EAAE,GAAP;MAAYx7B,OAAO,EAAE;KAAtB,CAAR;IACAu7B,QAAQ,CAAC;MAAEC,GAAG,EAAE,GAAP;MAAYx7B,OAAO,EAAE;KAAtB,CAAR;IACAu7B,QAAQ,CAAC;MAAEC,GAAG,EAAE,GAAP;MAAYx7B,OAAO,EAAE;KAAtB,CAAR;IACAu7B,QAAQ,CAAC;MAAEC,GAAG,EAAE,GAAP;MAAYx7B,OAAO,EAAE;KAAtB,CAAR;WAEO,KAAKq7B,SAAL,CAAezH,MAAf,EAAP;;CA3FJ;;AClBA;;;;;;;;;;;;;;;;;;AAkBA,AAAe,SAAS6H,QAAT,CAAkBlF,OAAlB,EAA2B;EACxCA,OAAO,CAAC5kC,SAAR,CAAkB,WAAlB,EAA+BypC,iBAA/B;;;ACrBF;;;;;;;;;;AAUA,AAAO,SAASM,eAAT,CAAyBj3C,CAAzB,EAA4BG,CAA5B,EAA+BkB,CAA/B,EAAgD;MAAdmL,CAAc,uEAAV,QAAU;EACrDnL,CAAC,IAAI,GAAL;;MACImL,CAAC,KAAK,MAAN,IAAgBA,CAAC,KAAK,OAA1B,EAAmC;QAC7B7C,KAAK,GAAG6C,CAAC,KAAK,OAAlB;+BAEMxM,CADN,cACWG,CAAC,GAAGkB,CADf,uBAEMA,CAAC,GAAG,IAFV,cAEkBA,CAAC,GAAG,IAFtB,qBAEqCsI,KAAK,GAAG,CAAH,GAAO,CAFjD,eAEuD3J,CAFvD,cAE4DG,CAAC,GAAGkB,CAFhE,uBAGMsI,KAAK,GAAG3J,CAAC,GAAGqB,CAAP,GAAWrB,CAAC,GAAGqB,CAH1B,cAG+BlB,CAH/B;;;MAME0J,MAAM,GAAG2C,CAAC,KAAK,QAAnB;2BAEMxM,CAAC,GAAGqB,CADV,cACelB,CADf,qBAEMkB,CAAC,GAAG,IAFV,cAEkBA,CAAC,GAAG,IAFtB,qBAEqCwI,MAAM,GAAG,CAAH,GAAO,CAFlD,eAEwD7J,CAAC,GAAGqB,CAF5D,cAEiElB,CAFjE,qBAGMH,CAHN,cAGW6J,MAAM,GAAG1J,CAAC,GAAGkB,CAAP,GAAWlB,CAAC,GAAGkB,CAHhC;;;AAOF,SAAS61C,iBAAT,CAA2Bl3C,CAA3B,EAA8BG,CAA9B,EAAiCkB,CAAjC,EAAkD;MAAdmL,CAAc,uEAAV,QAAU;EAChDnL,CAAC,IAAI,IAAL;;MACImL,CAAC,KAAK,MAAN,IAAgBA,CAAC,KAAK,OAA1B,EAAmC;QAC7B7C,KAAK,GAAG6C,CAAC,KAAK,OAAlB;IACAxM,CAAC,IAAK2J,KAAK,GAAGtI,CAAC,GAAG,GAAP,GAAa,EAAEA,CAAC,GAAG,GAAN,CAAxB;+BAEMrB,CADN,cACWG,CAAC,GAAGkB,CADf,uBAEMrB,CAFN,cAEWG,CAAC,GAAGkB,CAFf,uBAGMsI,KAAK,GAAG3J,CAAC,GAAGqB,CAAP,GAAWrB,CAAC,GAAGqB,CAH1B,cAG+BlB,CAH/B;;;MAME0J,MAAM,GAAG2C,CAAC,KAAK,QAAnB;EACArM,CAAC,IAAK0J,MAAM,GAAGxI,CAAC,GAAG,GAAP,GAAa,EAAEA,CAAC,GAAG,GAAN,CAAzB;2BAEMrB,CAAC,GAAGqB,CADV,cACelB,CADf,qBAEMH,CAAC,GAAGqB,CAFV,cAEelB,CAFf,qBAGMH,CAHN,cAGW6J,MAAM,GAAG1J,CAAC,GAAGkB,CAAP,GAAWlB,CAAC,GAAGkB,CAHhC;;;;;;;;;;;;;AAgBF,AAAO,SAAS81C,UAAT,OAEJ;MADDP,SACC,QADDA,SACC;MADU9I,GACV,QADUA,GACV;MADe1oC,QACf,QADeA,QACf;MADyBgP,KACzB,QADyBA,KACzB;MACKgjC,OAAO,GAAG15C,MAAM,CAACgS,IAAP,CAAYo+B,GAAZ,CAAhB;MACIpc,KAAK,GAAGtsB,QAAQ,CAACssB,KAAT,CAAeoc,GAAf,IAAsB,EAAlC;;6BAESzwC,CAJR,EAIeqlB,GAJf;QAKO9kB,GAAG,GAAGw5C,OAAO,CAAC/5C,CAAD,CAAnB;QACM0D,KAAK,GAAG+sC,GAAG,CAAClwC,GAAD,CAAjB;;QAEImD,KAAK,CAACtE,MAAN,GAAe,CAAnB,EAAsB;UAChB6e,QAAQ,GAAI1d,GAAG,CAACy5C,MAAJ,CAAW,CAAX,CAAhB;UACInJ,MAAM,GAAGtwC,GAAG,CAACy5C,MAAJ,CAAW,CAAX,MAAkB,GAA/B;UAEIC,QAAQ,GAAG5lB,KAAK,CAAClS,OAAN,CAAcxf,CAAd,GAAmB0xB,KAAK,CAAC/uB,KAAxC;UACI40C,QAAQ,GAAG7lB,KAAK,CAAClS,OAAN,CAAcrf,CAAd,GAAkBuxB,KAAK,CAAC/uB,KAAvC;UACI60B,SAAS,GAAG,QAAhB;;UAEI0W,MAAJ,EAAY;QACV1W,SAAS,GAAIlc,QAAQ,KAAK,GAAb,GAAmB,QAAnB,GAA8B,KAA3C;OADF,MAEO;QACLkc,SAAS,GAAIlc,QAAQ,KAAK,GAAb,GAAmB,OAAnB,GAA6B,MAA1C;;;UAGEk8B,SAAS,GAAGZ,SAAS,CAACL,WAAV,CAAsB;QACpC9mC,EAAE,EAAE,mBAAuB;cAApB9M,KAAoB,SAApBA,KAAoB;cAAbC,MAAa,SAAbA,MAAa;;;cACrB5C,CAAC,GAAIsb,QAAQ,GAAG3Y,KAAZ,IAAsB2Y,QAAQ,KAAK,GAAb,GAAmB,CAACg8B,QAApB,GAA+BA,QAArD,CAAR;cACIn3C,CAAC,GAAG+tC,MAAM,GAAGqJ,QAAH,GAAc30C,MAAM,GAAG20C,QAArC;;cAEI7lB,KAAK,CAACr1B,IAAN,KAAe,KAAnB,EAA0B;mBACjB;cACLA,IAAI,EAAE,MADD;cAELmQ,CAAC,EAAEyqC,eAAe,CAAC/I,MAAM,GAAG/tC,CAAH,GAAOH,CAAd,EAAiBkuC,MAAM,GAAGluC,CAAH,GAAOG,CAA9B,EAAiCuxB,KAAK,CAAC/uB,KAAvC,EAA8C60B,SAA9C,CAFb;cAGLx3B,CAAC,EAADA,CAHK;cAILG,CAAC,EAADA,CAJK;cAKLV,MAAM,EAAEiyB,KAAK,CAACjyB,MALT;cAMLqD,IAAI,EAAE4uB,KAAK,CAAC5uB,IANP;cAOL8sB,WAAW,EAAE8B,KAAK,CAAC9B,WAAN,IAAqB;aAPpC;;;iBAWK;YACLvzB,IAAI,EAAE,QADD;YAEL6L,EAAE,EAAElI,CAFC;YAGLmI,EAAE,EAAEhI,CAHC;YAILkB,CAAC,EAAEqwB,KAAK,CAAC/uB,KAJJ;YAKLlD,MAAM,EAAEiyB,KAAK,CAACjyB,MALT;YAMLqD,IAAI,EAAE4uB,KAAK,CAAC5uB,IANP;YAOL8sB,WAAW,EAAE8B,KAAK,CAAC9B,WAAN,IAAqB,CAP7B;YAQLpB,OAAO,EAAEkD,KAAK,CAAClD,OARV;YASL1yB,IAAI,EAAEiF;WATR;SAjBkC;QA6BpCmtC,MAAM,EAANA;OA7Bc,CAAhB;UAgCIluC,CAAC,GAAGw3C,SAAS,CAACtvC,EAAV,IAAgBsvC,SAAS,CAACx3C,CAAlC;UACIG,CAAC,GAAGq3C,SAAS,CAACrvC,EAAV,IAAgBqvC,SAAS,CAACr3C,CAAlC;UAEIutB,IAAI,GAAG;QACTrxB,IAAI,EAAE,MADG;QAETqxB,IAAI,EAAE3sB,KAAK,CAACtE,MAAN,IAAgB,EAFb;QAGTuD,CAAC,EAAEA,CAAC,GAAI0xB,KAAK,CAAC/uB,KAAN,GAAc,GAHb;QAITxC,CAAC,EAAEA,CAAC,GAAIuxB,KAAK,CAAC/uB,KAAN,GAAc,GAJb;QAKT6sB,UAAU,EAAEkC,KAAK,CAAChE,IAAN,CAAW8B,UALd;QAMTC,QAAQ,YAAKiC,KAAK,CAAC/uB,KAAN,GAAc,GAAnB,OANC;QAOTlD,MAAM,EAAEiyB,KAAK,CAAChE,IAAN,CAAWjuB,MAPV;QAQTqD,IAAI,EAAE4uB,KAAK,CAAChE,IAAN,CAAW5qB,IARR;QAST8sB,WAAW,EAAE8B,KAAK,CAAChE,IAAN,CAAWkC,WAAX,IAA0B,CAT9B;QAUTpB,OAAO,EAAEkD,KAAK,CAAChE,IAAN,CAAWc;OAVtB;UAaI8I,QAAQ,GAAG;QACbj7B,IAAI,EAAE,MADO;QAEbmQ,CAAC,EAAE0qC,iBAAiB,CAACl3C,CAAD,EAAIG,CAAJ,EAAOuxB,KAAK,CAAC/uB,KAAb,EAAoB60B,SAApB,CAFP;QAGbx3B,CAAC,EAADA,CAHa;QAIbG,CAAC,EAADA,CAJa;QAKbV,MAAM,EAAEiyB,KAAK,CAAC4F,QAAN,CAAe73B,MALV;QAMbqD,IAAI,EAAE4uB,KAAK,CAAC4F,QAAN,CAAex0B,IANR;QAOb8sB,WAAW,EAAE8B,KAAK,CAAC4F,QAAN,CAAe1H,WAAf,IAA8B,CAP9B;QAQbpB,OAAO,EAAEkD,KAAK,CAAC4F,QAAN,CAAe9I;OAR1B;MAWApa,KAAK,CAAC1X,IAAN,CAAW86C,SAAX,EAAsB9pB,IAAtB,EAA4B4J,QAA5B;;;;OA7EC,IAAIj6B,CAAC,GAAG,CAAR,EAAWqlB,GAAG,GAAG00B,OAAO,CAAC36C,MAA9B,EAAsCY,CAAC,GAAGqlB,GAA1C,EAA+CrlB,CAAC,EAAhD,EAAoD;UAA3CA,CAA2C,AAAA;;;;ACzD/C,SAASo6C,uBAAT,GAAmC;SACjC;IACL30C,IAAI,EAAE,MADD;IAEL0sB,UAAU,EAAE,OAFP;IAGLC,QAAQ,EAAE,MAHL;IAILjB,OAAO,EAAE,CAJJ;IAKLqG,QAAQ,EAAE,CALL;IAMLka,UAAU,EAAE,IANP;IAOLvvB,OAAO,EAAE,CAPJ;IAQLk4B,UAAU,EAAE;MACV50C,IAAI,EAAE,MADI;MAEVrD,MAAM,EAAE,aAFE;MAGVmwB,WAAW,EAAE,CAHH;MAIVpB,OAAO,EAAE;;GAZb;;;;;;;;;;AAwBF,AAAO,SAASmpB,iBAAT,CAA2BnxC,KAA3B,EAAkC;MACnC,OAAOA,KAAP,KAAiB,WAArB,EAAkC;WACzB,CAAP;;;MAEE,OAAOA,KAAP,KAAiB,QAAjB,IAA6BkvC,QAAQ,CAAClvC,KAAD,CAAzC,EAAkD;WACzCA,KAAP;;;MAEE,OAAOA,KAAP,KAAiB,QAArB,EAA+B;YACrBA,KAAR;WACO,QAAL;WACK,QAAL;eACS,GAAP;;WACG,QAAL;WACK,OAAL;eACS,CAAP;;WACG,KAAL;WACK,MAAL;;eAES,CAAP;;;;SAIC,CAAP;;;;;;;;;;;;;AAaF,AAAO,SAASoxC,mBAAT,OAEJ;MADD1nB,KACC,QADDA,KACC;MADM0mB,SACN,QADMA,SACN;MADiBhpB,QACjB,QADiBA,QACjB;MAD2B7xB,CAC3B,QAD2BA,CAC3B;MAD8BqJ,QAC9B,QAD8BA,QAC9B;MADwCgP,KACxC,QADwCA,KACxC;MACGyjC,cAAc,GAAG,IAArB;MACI/vC,IAAI,GAAG,KAAX;MACIpF,IAAI,GAAG,KAAX;MACIuR,KAAK,GAAG,KAAZ;MACIlT,KAAK,GAAG,KAAZ;MACI2wB,KAAK,GAAGxqB,MAAM,CAAC,IAAD,EAAO,EAAP,EAAW9B,QAAQ,CAACssB,KAAT,CAAe5pB,IAA1B,EAAgC/L,CAAC,CAAC+L,IAAF,IAAU,EAA1C,CAAlB,CANC;;EASDA,IAAI,GAAG8uC,SAAS,CAACL,WAAV,CAAsB;IAC3Bl6C,IAAI,EAAE,MADqB;IAE3BqF,EAAE,EAAE3F,CAAC,CAACuf,QAFqB;IAG3B3Z,EAAE,EAAE,CAHuB;IAI3BC,EAAE,EAAE7F,CAAC,CAACuf,QAJqB;IAK3BzZ,EAAE,EAAE,CALuB;IAM3BpC,MAAM,EAAEiyB,KAAK,CAACjyB,MAAN,IAAgB,OANG;IAO3BmwB,WAAW,EAAE8B,KAAK,CAAC9B,WAAN,IAAqB,CAPP;IAQ3Bse,MAAM,EAAEnyC,CAAC,CAACmyC,MAAF,IAAY,KARO;;GAAtB,CAAP;;MAWInyC,CAAC,CAACkY,KAAN,EAAa;QACL2C,IAAI,GAAG1P,MAAM,CAAC,IAAD,EAAOuwC,uBAAuB,EAA9B,EAAkCryC,QAAQ,CAACssB,KAAT,CAAezd,KAAf,IAAwB,EAA1D,EAA8D;MAAEnR,IAAI,EAAE4uB,KAAK,CAACjyB;KAA5E,EAAsF1D,CAAC,CAACkY,KAAxF,CAAnB;QACI5C,SAAJ;QACIymC,aAAa,GAAG;MAClBn1C,KAAK,EAAE,CADW;MAElBC,MAAM,EAAE;KAFV;QAIIm1C,WAAW,GAAG,EAAlB;;QAEI,OAAOh8C,CAAC,CAACsV,SAAT,KAAuB,QAA3B,EAAqC;MACnCA,SAAS,GAAG6e,KAAK,CAAC7e,SAAN,CAAgBtV,CAAC,CAACsV,SAAlB,CAAZ;KADF,MAEO,IAAI,QAAOtV,CAAC,CAACsV,SAAT,MAAuB,QAA3B,EAAqC;MAC1CA,SAAS,GAAG6e,KAAK,CAAC7e,SAAN,CAAgBtV,CAAC,CAACsV,SAAlB,CAAZ;KADK,MAEA,IAAI,OAAOtV,CAAC,CAACyI,KAAT,KAAmB,WAAnB,IAAkCzI,CAAC,CAACyI,KAAF,CAAQ1I,IAA9C,EAAoD;;UAEnDk8C,SAAS,GAAGj8C,CAAC,CAACyI,KAAF,CAAQ1I,IAAR,MAAkBC,CAAC,CAACyI,KAAF,CAAQ1I,IAAR,GAAemb,MAAnD;MACA5F,SAAS,GAAG2mC,SAAS,IAAIA,SAAS,CAAC,CAAD,CAAtB,GAA4BA,SAAS,CAAC,CAAD,CAAT,CAAa3mC,SAAb,EAA5B,GAAuD,IAAnE;;;QAGEA,SAAJ,EAAe;MACb0mC,WAAW,eAAQ1mC,SAAS,CAACtV,CAAC,CAACgF,KAAH,CAAjB,MAAX;KADF,MAEO,IAAIhF,CAAC,CAACyI,KAAN,EAAa;MAClBuzC,WAAW,eAAQh8C,CAAC,CAACgF,KAAV,MAAX;;;QAGEg3C,WAAJ,EAAiB;MACfD,aAAa,GAAGlqB,QAAQ,CAACqqB,WAAT,CAAqB;QACnCvqB,IAAI,EAAEqqB,WAD6B;QAEnCvoB,UAAU,EAAE5Y,IAAI,CAAC4Y,UAFkB;QAGnCC,QAAQ,EAAE7Y,IAAI,CAAC6Y;OAHD,CAAhB;KA1BS;;;QAkCPyoB,aAAa,GAAGtqB,QAAQ,CAACqqB,WAAT,CAAqB;MACvCvqB,IAAI,EAAE9W,IAAI,CAAC8W,IAAL,IAAa,EADoB;MAEvC8B,UAAU,EAAE5Y,IAAI,CAAC4Y,UAFsB;MAGvCC,QAAQ,EAAE7Y,IAAI,CAAC6Y;KAHG,CAApB;QAMI0oB,QAAQ,GAAG;MACbx1C,KAAK,EAAEu1C,aAAa,CAACv1C,KAAd,GAAsBm1C,aAAa,CAACn1C,KAD9B;MAEbC,MAAM,EAAE3C,IAAI,CAACyG,GAAL,CAASwxC,aAAa,CAACt1C,MAAvB,EAA+Bk1C,aAAa,CAACl1C,MAA7C;KAFV;QAKIw1C,YAAY,GAAGxhC,IAAI,CAAC4I,OAAxB,CA7CW;;QAiDPhZ,KAAK,GAAGmxC,iBAAiB,CAAC57C,CAAC,CAACmyC,MAAF,GAAWt3B,IAAI,CAACyhC,MAAhB,GAAyBzhC,IAAI,CAACpQ,KAA/B,CAA7B;QACI6xC,MAAM,GAAGV,iBAAiB,CAAC57C,CAAC,CAACmyC,MAAF,GAAWt3B,IAAI,CAACpQ,KAAhB,GAAwBoQ,IAAI,CAACyhC,MAA9B,CAA9B;QAEIC,SAAS,GAAGr4C,IAAI,CAACwG,GAAL,CAAS,IAAI0xC,QAAQ,CAACx1C,KAAb,GAAsBy1C,YAAY,GAAG,CAA9C,EAAkDxhC,IAAI,CAACie,QAAL,GAAgB+hB,SAAS,CAACj0C,KAA5E,EAAmFiU,IAAI,CAACm4B,UAAxF,CAAhB;QACIwJ,UAAU,GAAGJ,QAAQ,CAACv1C,MAAT,GAAmBw1C,YAAY,GAAG,CAAnD;QAEII,SAAS,GAAIz8C,CAAC,CAACmyC,MAAF,GAAWqK,UAAX,GAAwBD,SAAzC;QACIG,UAAU,GAAI18C,CAAC,CAACmyC,MAAF,GAAWoK,SAAX,GAAuBC,UAAzC;IAEA71C,IAAI,GAAGk0C,SAAS,CAACL,WAAV,CAAsB;MAC3B9mC,EAAE,EAAE,mBAAuB;YAApB9M,KAAoB,SAApBA,KAAoB;YAAbC,MAAa,SAAbA,MAAa;YACrB5C,CAAC,GAAIjE,CAAC,CAACuf,QAAF,GAAa3Y,KAAd,GAAwB,CAAC5G,CAAC,CAACmyC,MAAF,GAAWqK,UAAX,GAAwBD,SAAzB,KAAuC,IAAI9xC,KAA3C,CAAhC;QACAxG,CAAC,GAAGjE,CAAC,CAACmyC,MAAF,GAAWluC,CAAX,GAAeC,IAAI,CAACyG,GAAL,CAAS1G,CAAT,EAAY,CAAZ,CAAnB;YACMG,CAAC,GAAGF,IAAI,CAACyG,GAAL,CAASzG,IAAI,CAAC2O,GAAL,CAAUypC,MAAM,GAAGz1C,MAAV,GAAqB61C,UAAU,GAAGJ,MAA3C,CAAT,EAA8D,CAA9D,CAAV;eACO;UACLh8C,IAAI,EAAE,MADD;UAEL2D,CAAC,EAADA,CAFK;UAGLG,CAAC,EAADA,CAHK;UAILwC,KAAK,EAAE5G,CAAC,CAACmyC,MAAF,GAAWsK,SAAX,GAAuBv4C,IAAI,CAACwG,GAAL,CAAS+xC,SAAT,EAAoB5B,SAAS,CAACj0C,KAAV,GAAkB3C,CAAtC,CAJzB;UAKL4C,MAAM,EAAE61C,UALH;UAMLh5C,MAAM,EAAEmX,IAAI,CAAC8gC,UAAL,CAAgBj4C,MANnB;UAOLmwB,WAAW,EAAEhZ,IAAI,CAAC8gC,UAAL,CAAgB9nB,WAPxB;UAQL9sB,IAAI,EAAE8T,IAAI,CAAC8gC,UAAL,CAAgB50C,IARjB;UASL0rB,OAAO,EAAE5X,IAAI,CAAC8gC,UAAL,CAAgBlpB;SAT3B;OALyB;MAiB3B0f,MAAM,EAAEnyC,CAAC,CAACmyC,MAAF,IAAY,KAjBO;;KAAtB,CAAP;;QAqBExrC,IAAI,CAAC1C,CAAL,GAAS,CAAC,CAAV,IAAgB0C,IAAI,CAAC1C,CAAL,GAAS0C,IAAI,CAACC,KAAf,GAAyBi0C,SAAS,CAACj0C,KAAV,GAAkB,CAA1D,IACGD,IAAI,CAACvC,CAAL,GAAS,CAAC,CADb,IACmBuC,IAAI,CAACvC,CAAL,GAASuC,IAAI,CAACE,MAAf,GAA0Bg0C,SAAS,CAACh0C,MAAV,GAAmB,CAFjE,EAGE;;MAEAF,IAAI,GAAGgC,SAAP;KALF,MAMO;;;;MAILuP,KAAK,GAAG;QACN5X,IAAI,EAAE,MADA;QAENqxB,IAAI,EAAE9W,IAAI,CAAC8W,IAAL,IAAa,EAFb;QAGN5qB,IAAI,EAAE8T,IAAI,CAAC9T,IAHL;QAIN0rB,OAAO,EAAE5X,IAAI,CAAC4X,OAJR;QAKNgB,UAAU,EAAE5Y,IAAI,CAAC4Y,UALX;QAMNC,QAAQ,EAAE7Y,IAAI,CAAC6Y,QANT;QAONzvB,CAAC,EAAE0C,IAAI,CAAC1C,CAAL,GAASo4C,YAPN;QAQNj4C,CAAC,EAAEuC,IAAI,CAACvC,CAAL,GAAUuC,IAAI,CAACE,MAAL,GAAc,CAAxB,GAA8Bu1C,QAAQ,CAACv1C,MAAT,GAAkB,CAR7C;QASNiyB,QAAQ,EAAEnyB,IAAI,CAACC,KAAL,GAAcy1C,YAAY,GAAG,CAA7B,GAAkCN,aAAa,CAACn1C,KATpD;QAUNgyB,MAAM,EAAE;OAVV;;UAaIojB,WAAJ,EAAiB;QACfh3C,KAAK,GAAG;UACN1E,IAAI,EAAE,MADA;UAENqxB,IAAI,EAAEqqB,WAAW,IAAI,EAFf;UAGNj1C,IAAI,EAAE8T,IAAI,CAAC9T,IAHL;UAIN0rB,OAAO,EAAE5X,IAAI,CAAC4X,OAJR;UAKNgB,UAAU,EAAE5Y,IAAI,CAAC4Y,UALX;UAMNC,QAAQ,EAAE7Y,IAAI,CAAC6Y,QANT;UAONzvB,CAAC,EAAEiU,KAAK,CAACjU,CAAN,GAAU,CAAV,IAAe0C,IAAI,CAACC,KAAL,IAAcm1C,aAAa,CAACn1C,KAAd,GAAuBy1C,YAAY,GAAG,CAApD,CAAf,CAPG;UAQNj4C,CAAC,EAAE8T,KAAK,CAAC9T;SARX;OAlBG;;;WA+BA,IAAI9C,CAAC,GAAG,CAAR,EAAWqlB,GAAG,GAAGtO,KAAK,CAAC3X,MAA5B,EAAoCY,CAAC,GAAGqlB,GAAxC,EAA6CrlB,CAAC,EAA9C,EAAkD;YAC5Cq7C,OAAO,GAAGtkC,KAAK,CAAC/W,CAAD,CAAnB;;YAEIq7C,OAAO,CAACr8C,IAAR,KAAiB,MAArB,EAA6B;;;cAGvB6kC,YAAY,CAACx+B,IAAD,EAAOg2C,OAAP,CAAhB,EAAiC;YAC/Bb,cAAc,GAAG,KAAjB;;SAJJ,MAMO,IAAIa,OAAO,CAACr8C,IAAR,KAAiB,MAArB,EAA6B;;;cAG9BN,CAAC,CAACmyC,MAAF,KAAawK,OAAO,CAACxK,MAArB,IAA+BnN,YAAY,CAACr+B,IAAD,EAAOg2C,OAAP,CAA/C,EAAgE;YAC9Db,cAAc,GAAG,KAAjB;;;;;GApJT;;;;;EA8JDzjC,KAAK,CAAC1X,IAAN,CAAWoL,IAAX,EA9JC;;MAiKG+vC,cAAc,IAAIn1C,IAAlB,IAA0BuR,KAA9B,EAAqC;IACnCG,KAAK,CAAC1X,IAAN,CAAWgG,IAAX,EAAiBuR,KAAjB;;QACIlT,KAAJ,EAAW;MACTqT,KAAK,CAAC1X,IAAN,CAAWqE,KAAX;;;;;ACnON,SAAS43C,aAAT,CAAuB7wC,IAAvB,EAA6B;MACrBhM,IAAI,GAAG;IACXiF,KAAK,EAAE+G,IAAI,CAAC/G;GADd;;MAII+G,IAAI,CAACmM,KAAT,EAAgB;IACdnY,IAAI,CAACmY,KAAL,GAAanM,IAAI,CAACmM,KAAL,CAAWyZ,IAAxB;;;SAGK5xB,IAAP;;;AAGF,SAAS88C,oBAAT,CAA8B9wC,IAA9B,EAAoC;SAC3B,OAAOA,IAAI,CAAC/G,KAAZ,KAAsB,WAA7B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FF,IAAM83C,gBAAgB,GAAG;EACvB5f,OAAO,EAAE,CAAC,OAAD,EAAU,UAAV,CADc;EAEvBpc,eAAe,EAAE;IACfvP,MAAM,EAAE;MACN/H,YAAY,EAAE;KAFD;IAIfmsB,KAAK,EAAE;MACLoc,GAAG,EAAE;QACHnoC,IAAI,EAAE,IADH;QAEHhD,KAAK,EAAE,EAFJ;QAGHG,IAAI,EAAE,SAHH;QAIHrD,MAAM,EAAE,aAJL;QAKHmwB,WAAW,EAAE,CALV;QAMHpB,OAAO,EAAE,CANN;QAOHd,IAAI,EAAE;UACJ8B,UAAU,EAAE,OADR;UAEJ/vB,MAAM,EAAE,aAFJ;UAGJqD,IAAI,EAAE,MAHF;UAIJ8sB,WAAW,EAAE,CAJT;UAKJpB,OAAO,EAAE;SAZR;QAcH8I,QAAQ,EAAE;UACRx0B,IAAI,EAAE,SADE;UAERrD,MAAM,EAAE,aAFA;UAGRmwB,WAAW,EAAE,CAHL;UAIRpB,OAAO,EAAE;SAlBR;QAoBHhP,OAAO,EAAE;UACPxf,CAAC,EAAE,EADI;UAEPG,CAAC,EAAE;;OAvBF;MA0BL2H,IAAI,EAAE;QACJrI,MAAM,EAAE;OA3BL;MA6BLwU,KAAK,EAAE;QACL2b,WAAW,EAAE;;;GApCI;EAyCvBnqB,aAzCuB,2BAyCP;WACP,EAAP;GA1CqB;EA6CvBm2B,YA7CuB,0BA6CR;SACRgb,SAAL,GAAiBH,UAAU,EAA3B;SAEKG,SAAL,CAAej0C,KAAf,GAAuB,KAAKD,IAAL,CAAUC,KAAjC;SACKi0C,SAAL,CAAeh0C,MAAf,GAAwB,KAAKF,IAAL,CAAUE,MAAlC;SACKg0C,SAAL,CAAe52C,CAAf,GAAmB,KAAK0C,IAAL,CAAU1C,CAA7B;SACK42C,SAAL,CAAez2C,CAAf,GAAmB,KAAKuC,IAAL,CAAUvC,CAA7B;SACKy2C,SAAL,CAAeb,KAAf,GAAuB,IAAvB;GApDqB;EAuDvB1mB,MAvDuB,oBAuDd;;;QACHjqB,QAAQ,GAAG,KAAKA,QAApB,CADO;;SAIFyxC,KAAL,GAAa;MACX72C,CAAC,EAAE,EADQ;MAEXG,CAAC,EAAE;KAFL;SAKK02C,KAAL,CAAW72C,CAAX,GAAgBoF,QAAQ,CAACyxC,KAAT,IAAkBzxC,QAAQ,CAACyxC,KAAT,CAAe72C,CAAlC,IAAwC,EAAvD;SACK62C,KAAL,CAAW12C,CAAX,GAAgBiF,QAAQ,CAACyxC,KAAT,IAAkBzxC,QAAQ,CAACyxC,KAAT,CAAe12C,CAAlC,IAAwC,EAAvD;;QAEI,KAAK02C,KAAL,CAAW72C,CAAX,CAAavD,MAAb,KAAwB,CAAxB,IAA6B,KAAKo6C,KAAL,CAAW12C,CAAX,CAAa1D,MAAb,KAAwB,CAAzD,EAA4D;aACnD,EAAP;;;QAGIqxC,GAAG,GAAG;MACVgL,EAAE,EAAE,EADM;MAEVp3C,EAAE,EAAE,EAFM;MAGVq3C,EAAE,EAAE,EAHM;MAIVp3C,EAAE,EAAE;KAJN,CAhBO;;SAwBFk1C,KAAL,CAAW72C,CAAX,GAAe,KAAK62C,KAAL,CAAW72C,CAAX,CAAamL,MAAb,CAAoBytC,oBAApB,EAA0Cl9C,GAA1C,CAA8C,UAACoM,IAAD,EAAU;UACjEA,IAAI,CAACtD,KAAT,EAAgB;YACVA,KAAK,GAAG,KAAI,CAAC0rB,KAAL,CAAW1rB,KAAX,CAAiBsD,IAAI,CAACtD,KAAtB,CAAZ;;eACO0C,MAAM,CAACY,IAAD,EAAO;UAAEtD,KAAK,EAALA,KAAF;UAAS8W,QAAQ,EAAE9W,KAAK,CAACsD,IAAI,CAAC/G,KAAN;SAA/B,CAAb;;;aAGKmG,MAAM,CAACY,IAAD,EAAO;QAAEwT,QAAQ,EAAExT,IAAI,CAAC/G;OAAxB,CAAb;KANa,CAAf,CAxBO;;;SAkCF81C,KAAL,CAAW12C,CAAX,GAAe,KAAK02C,KAAL,CAAW12C,CAAX,CAAagL,MAAb,CAAoBytC,oBAApB,EAA0Cl9C,GAA1C,CAA8C,UAACoM,IAAD,EAAU;UACjEA,IAAI,CAACtD,KAAT,EAAgB;YACVA,KAAK,GAAG,KAAI,CAAC0rB,KAAL,CAAW1rB,KAAX,CAAiBsD,IAAI,CAACtD,KAAtB,CAAZ;;eACO0C,MAAM,CAACY,IAAD,EAAO;UAAEtD,KAAK,EAALA,KAAF;UAAS8W,QAAQ,EAAE9W,KAAK,CAACsD,IAAI,CAAC/G,KAAN,CAAxB;UAAsCmtC,MAAM,EAAE;SAArD,CAAb;;;aAGKhnC,MAAM,CAACY,IAAD,EAAO;QAAEwT,QAAQ,EAAExT,IAAI,CAAC/G,KAAjB;QAAwBmtC,MAAM,EAAE;OAAvC,CAAb;KANa,CAAf,CAlCO;;SA4CF2I,KAAL,CAAW72C,CAAX,GAAe,KAAK62C,KAAL,CAAW72C,CAAX,CAAamL,MAAb,CAAoB,UAACrD,IAAD,EAAU;UACvCA,IAAI,CAACwT,QAAL,GAAgB,CAAhB,IAAqBxT,IAAI,CAACwT,QAAL,GAAgB,CAAzC,EAA4C;QAC1CwyB,GAAG,YAAKhmC,IAAI,CAACwT,QAAL,GAAgB,CAAhB,GAAoB,CAApB,GAAwB,CAA7B,EAAH,CAAqC5e,IAArC,CAA0Ci8C,aAAa,CAAC7wC,IAAD,CAAvD;eACO,KAAP;;;aAEK,IAAP;KALa,CAAf;SAQK+uC,KAAL,CAAW12C,CAAX,GAAe,KAAK02C,KAAL,CAAW12C,CAAX,CAAagL,MAAb,CAAoB,UAACrD,IAAD,EAAU;UACvCA,IAAI,CAACwT,QAAL,GAAgB,CAAhB,IAAqBxT,IAAI,CAACwT,QAAL,GAAgB,CAAzC,EAA4C;QAC1CwyB,GAAG,YAAKhmC,IAAI,CAACwT,QAAL,GAAgB,CAAhB,GAAoB,CAApB,GAAwB,CAA7B,EAAH,CAAqC5e,IAArC,CAA0Ci8C,aAAa,CAAC7wC,IAAD,CAAvD;eACO,KAAP;;;aAEK,IAAP;KALa,CAAf;QAQIsM,KAAK,GAAG,EAAZ,CA5DO;;mCA+DH,KAAKyiC,KAAL,CAAW72C,CAAf,wBAAqB,KAAK62C,KAAL,CAAW12C,CAAhC,GAAmCoM,OAAnC,CAA2C,UAACxQ,CAAD,EAAO;UAC5C4J,IAAI,GAAG5J,CAAC,CAAC4J,IAAF,KAAW,IAAX,IAAmB,OAAO5J,CAAC,CAAC4J,IAAT,KAAkB,WAAhD;;UAEIA,IAAJ,EAAU;;QAERiyC,mBAAmB,CAAC;UAClB1nB,KAAK,EAAE,KAAI,CAACA,KADM;UACC0mB,SAAS,EAAE,KAAI,CAACA,SADjB;UAC4BhpB,QAAQ,EAAE,KAAI,CAACA,QAD3C;UACqD7xB,CAAC,EAADA,CADrD;UACwDqJ,QAAQ,EAARA,QADxD;UACkEgP,KAAK,EAALA;SADnE,CAAnB;;KALJ,EA/DO;;QA2EHhP,QAAQ,CAACssB,KAAT,CAAeoc,GAAf,CAAmBnoC,IAAvB,EAA6B;MAC3BwxC,UAAU,CAAC;QACTP,SAAS,EAAE,KAAKA,SADP;QACkB9I,GAAG,EAAHA,GADlB;QACuB1oC,QAAQ,EAARA,QADvB;QACiCgP,KAAK,EAALA;OADlC,CAAV;;;WAKKA,KAAP;;CAxIJ;;AC3Ge,SAAS4kC,OAAT,CAAiBlH,OAAjB,EAA0B;EACvCA,OAAO,CAAC5kC,SAAR,CAAkB,UAAlB,EAA8B2rC,gBAA9B;;;ACDF,SAASI,WAAT,CAAqBC,MAArB,EAA6BC,SAA7B,EAAwC;EACtCjyC,MAAM,CAACgyC,MAAD,EAASC,SAAS,CAACznB,KAAnB,CAAN;MACMgH,SAAS,GAAGwgB,MAAM,CAACtpB,WAAP,GAAqB,CAAvC;;MAEIupB,SAAS,CAAC3yC,KAAV,KAAoB,KAAxB,EAA+B;IAC7B0yC,MAAM,CAACv3C,EAAP,IAAa+2B,SAAb;IACAwgB,MAAM,CAACr3C,EAAP,IAAa62B,SAAb;GAFF,MAGO,IAAIygB,SAAS,CAAC3yC,KAAV,KAAoB,QAAxB,EAAkC;IACvC0yC,MAAM,CAACv3C,EAAP,IAAa+2B,SAAb;IACAwgB,MAAM,CAACr3C,EAAP,IAAa62B,SAAb;GAFK,MAGA,IAAIygB,SAAS,CAAC3yC,KAAV,KAAoB,MAAxB,EAAgC;IACrC0yC,MAAM,CAACx3C,EAAP,IAAag3B,SAAb;IACAwgB,MAAM,CAACt3C,EAAP,IAAa82B,SAAb;GAFK,MAGA,IAAIygB,SAAS,CAAC3yC,KAAV,KAAoB,OAAxB,EAAiC;IACtC0yC,MAAM,CAACx3C,EAAP,IAAag3B,SAAb;IACAwgB,MAAM,CAACt3C,EAAP,IAAa82B,SAAb;;;;AAIJ,AAAe,SAAS0gB,SAAT,CAAmBD,SAAnB,EAA8B;MACrCD,MAAM,GAAG;IACb78C,IAAI,EAAE,MADO;IAEbqF,EAAE,EAAE,CAFS;IAGbE,EAAE,EAAE,CAHS;IAIbD,EAAE,EAAE,CAJS;IAKbE,EAAE,EAAE,CALS;IAMbg2B,QAAQ,EAAE;MACRx7B,IAAI,EAAE;;GAPV;;MAWI88C,SAAS,CAAC3yC,KAAV,KAAoB,KAApB,IAA6B2yC,SAAS,CAAC3yC,KAAV,KAAoB,QAArD,EAA+D;IAC7D0yC,MAAM,CAACx3C,EAAP,GAAYy3C,SAAS,CAACE,SAAV,CAAoBr5C,CAApB,GAAwBm5C,SAAS,CAAC3tC,SAAV,CAAoBxL,CAAxD;IACAk5C,MAAM,CAACt3C,EAAP,GAAYu3C,SAAS,CAACE,SAAV,CAAoB12C,KAApB,GAA4Bw2C,SAAS,CAACE,SAAV,CAAoBr5C,CAA5D;IACAk5C,MAAM,CAACv3C,EAAP,GAAYu3C,MAAM,CAACr3C,EAAP,GAAYs3C,SAAS,CAAC3yC,KAAV,KAAoB,KAApB,GAA4B2yC,SAAS,CAACE,SAAV,CAAoBz2C,MAApB,GAA6Bu2C,SAAS,CAAC35B,OAAnE,GAA6E25B,SAAS,CAAC35B,OAA/G;GAHF,MAIO;IACL05B,MAAM,CAACx3C,EAAP,GAAYw3C,MAAM,CAACt3C,EAAP,GAAYu3C,SAAS,CAAC3yC,KAAV,KAAoB,MAApB,GAA6B2yC,SAAS,CAACE,SAAV,CAAoB12C,KAApB,GAA4Bw2C,SAAS,CAAC35B,OAAnE,GAA6E25B,SAAS,CAAC35B,OAA/G;IACA05B,MAAM,CAACv3C,EAAP,GAAYw3C,SAAS,CAACE,SAAV,CAAoBl5C,CAApB,GAAwBg5C,SAAS,CAAC3tC,SAAV,CAAoBrL,CAAxD;IACA+4C,MAAM,CAACr3C,EAAP,GAAYs3C,SAAS,CAACE,SAAV,CAAoBz2C,MAApB,GAA6Bu2C,SAAS,CAACE,SAAV,CAAoBl5C,CAA7D;;;EAGF84C,WAAW,CAACC,MAAD,EAASC,SAAT,CAAX;SAEOD,MAAP;;;AC3CF,SAASI,SAAT,CAAmB5rB,IAAnB,EAAyB;SAChB,OAAOA,IAAP,KAAgB,QAAhB,IAA4B,OAAOA,IAAP,KAAgB,QAA5C,GAAuDA,IAAvD,GAA8D,GAArE;;;AAGF,SAASurB,aAAT,CAAqBC,MAArB,EAA6BC,SAA7B,EAAwC;GACrC,MAAD,EAAS,UAAT,EAAqB,YAArB,EAAmC5sC,OAAnC,CAA2C,UAACmlB,KAAD,EAAW;IACpDwnB,MAAM,CAACxnB,KAAD,CAAN,GAAgBynB,SAAS,CAACznB,KAAV,CAAgBA,KAAhB,CAAhB;GADF;;;AAKF,SAAS6nB,SAAT,CAAmBL,MAAnB,EAA2BC,SAA3B,EAAsC;MAChCA,SAAS,CAACK,MAAV,IAAoBL,SAAS,CAACp3B,QAAlC,EAA4C;;;;MAIxCo3B,SAAS,CAAC3yC,KAAV,KAAoB,KAApB,IAA6B2yC,SAAS,CAAC3yC,KAAV,KAAoB,QAArD,EAA+D;QACvDizC,YAAY,GAAG,CAArB;QACMC,aAAa,GAAGP,SAAS,CAAC3tC,SAAV,CAAoB7I,KAA1C;QACMg3C,SAAS,GAAG15C,IAAI,CAACwG,GAAL,CAAS0yC,SAAS,CAACtkB,QAAV,GAAqB,CAA9B,EAAiCskB,SAAS,CAACS,QAAV,CAAmBj3C,KAAnB,GAA2B,CAA5D,CAAlB;QACMk3C,gBAAgB,GAAGX,MAAM,CAACl5C,CAAP,GAAW25C,SAApC;QACMG,iBAAiB,GAAGZ,MAAM,CAACl5C,CAAP,GAAW25C,SAArC;;QACIE,gBAAgB,GAAGJ,YAAvB,EAAqC;MACnCP,MAAM,CAACvkB,MAAP,GAAgB,OAAhB;MACAukB,MAAM,CAACl5C,CAAP,GAAWm5C,SAAS,CAACE,SAAV,CAAoBr5C,CAApB,GAAwBm5C,SAAS,CAAC3tC,SAAV,CAAoBxL,CAAvD;KAFF,MAGO,IAAI85C,iBAAiB,GAAGJ,aAAxB,EAAuC;MAC5CR,MAAM,CAACvkB,MAAP,GAAgB,KAAhB;MACAukB,MAAM,CAACl5C,CAAP,GAAWm5C,SAAS,CAACE,SAAV,CAAoB12C,KAApB,GAA4Bw2C,SAAS,CAACE,SAAV,CAAoBr5C,CAA3D;;GAXJ,MAaO;QACC+5C,WAAW,GAAG,CAApB;QACMC,cAAc,GAAGb,SAAS,CAAC3tC,SAAV,CAAoB5I,MAA3C;QACMq3C,UAAU,GAAGd,SAAS,CAACe,SAAV,GAAsB,CAAzC;QACMC,eAAe,GAAGjB,MAAM,CAAC/4C,CAAP,GAAW85C,UAAnC;QACMG,kBAAkB,GAAGlB,MAAM,CAAC/4C,CAAP,GAAW85C,UAAtC;;QACIE,eAAe,GAAGJ,WAAtB,EAAmC;MACjCb,MAAM,CAAC/4C,CAAP,GAAWg5C,SAAS,CAACE,SAAV,CAAoBl5C,CAApB,GAAwBg5C,SAAS,CAAC3tC,SAAV,CAAoBrL,CAAvD;MACA+4C,MAAM,CAACzkB,QAAP,GAAkB,kBAAlB;KAFF,MAGO,IAAI2lB,kBAAkB,GAAGJ,cAAzB,EAAyC;MAC9Cd,MAAM,CAAC/4C,CAAP,GAAWg5C,SAAS,CAACE,SAAV,CAAoBz2C,MAApB,IAA8Bu2C,SAAS,CAACE,SAAV,CAAoBl5C,CAApB,GAAwBg5C,SAAS,CAAC3tC,SAAV,CAAoBrL,CAA1E,CAAX;MACA+4C,MAAM,CAACzkB,QAAP,GAAkB,iBAAlB;;;;;AAKN,SAAS4lB,aAAT,CAAuBnB,MAAvB,EAA+BC,SAA/B,EAA0C;MACpCA,SAAS,CAAC3yC,KAAV,KAAoB,KAAxB,EAA+B;IAC7B0yC,MAAM,CAAC/4C,CAAP,IAAYg5C,SAAS,CAAC35B,OAAtB;GADF,MAEO,IAAI25B,SAAS,CAAC3yC,KAAV,KAAoB,QAAxB,EAAkC;IACvC0yC,MAAM,CAAC/4C,CAAP,IAAYg5C,SAAS,CAAC35B,OAAV,GAAoB25B,SAAS,CAACe,SAA1C;GADK,MAEA,IAAIf,SAAS,CAAC3yC,KAAV,KAAoB,MAAxB,EAAgC;IACrC0yC,MAAM,CAACl5C,CAAP,IAAYm5C,SAAS,CAAC35B,OAAtB;GADK,MAEA,IAAI25B,SAAS,CAAC3yC,KAAV,KAAoB,OAAxB,EAAiC;IACtC0yC,MAAM,CAACl5C,CAAP,IAAYm5C,SAAS,CAAC35B,OAAtB;;;;AAIJ,SAAS86B,aAAT,CAAuBpB,MAAvB,EAA+BC,SAA/B,EAA0C;MACpCA,SAAS,CAACK,MAAd,EAAsB;QACdn4C,CAAC,GAAG,CAAC83C,SAAS,CAACr5C,KAArB;QACM82B,OAAO,GAAGv1B,CAAC,IAAIpB,IAAI,CAACiE,EAAL,GAAU,GAAd,CAAjB;;QAEIi1C,SAAS,CAAC3yC,KAAV,KAAoB,QAAxB,EAAkC;MAChC0yC,MAAM,CAACl5C,CAAP,IAAam5C,SAAS,CAACe,SAAV,GAAsBj6C,IAAI,CAACG,GAAL,CAASw2B,OAAT,CAAvB,GAA4C,CAAxD;MACAsiB,MAAM,CAAC/4C,CAAP,IAAYg5C,SAAS,CAACe,SAAtB;MACAhB,MAAM,CAAC/4C,CAAP,IAAag5C,SAAS,CAACe,SAAV,GAAsBj6C,IAAI,CAACC,GAAL,CAAS02B,OAAT,CAAvB,GAA4C,CAAxD;KAHF,MAIO;MACLsiB,MAAM,CAACl5C,CAAP,IAAam5C,SAAS,CAACe,SAAV,GAAsBj6C,IAAI,CAACG,GAAL,CAASw2B,OAAT,CAAvB,GAA4C,CAAxD;;;IAGFsiB,MAAM,CAACpkB,SAAP,oBAA6BzzB,CAA7B,eAAmC63C,MAAM,CAACl5C,CAA1C,eAAgDk5C,MAAM,CAAC/4C,CAAvD;IACA+4C,MAAM,CAACvkB,MAAP,GAAiBwkB,SAAS,CAAC3yC,KAAV,KAAoB,QAArB,KAAoC2yC,SAAS,CAACr5C,KAAV,GAAkB,CAAtD,GAA2D,OAA3D,GAAqE,KAArF,CAboB;;QAgBd65C,SAAS,GAAG15C,IAAI,CAACC,GAAL,CAAS02B,OAAT,IAAoBuiB,SAAS,CAACtkB,QAAhD;;QACKskB,SAAS,CAAC3yC,KAAV,KAAoB,QAArB,KAAoC2yC,SAAS,CAACr5C,KAAV,GAAkB,CAA1D,EAA8D;;UAEtD45C,aAAa,GAAGP,SAAS,CAAC3tC,SAAV,CAAoB7I,KAApB,GAA4Bw2C,SAAS,CAACoB,UAA5D;UACMT,iBAAiB,GAAGZ,MAAM,CAACl5C,CAAP,GAAW25C,SAArC;;UACIG,iBAAiB,GAAGJ,aAAxB,EAAuC;QACrCR,MAAM,CAACrkB,QAAP,GAAkB,CAAC6kB,aAAa,GAAGR,MAAM,CAACl5C,CAAvB,GAA2B,EAA5B,IAAkCC,IAAI,CAACC,GAAL,CAAS02B,OAAT,CAApD;;KALJ,MAOO;;UAEC6iB,YAAY,GAAGN,SAAS,CAACoB,UAA/B;UACMV,gBAAgB,GAAGX,MAAM,CAACl5C,CAAP,GAAW25C,SAApC;;UACIE,gBAAgB,GAAGJ,YAAvB,EAAqC;QACnCP,MAAM,CAACrkB,QAAP,GAAkB,CAACqkB,MAAM,CAACl5C,CAAP,GAAWy5C,YAAX,GAA0B,EAA3B,IAAiCx5C,IAAI,CAACC,GAAL,CAAS02B,OAAT,CAAnD;;;;;;AAMR,SAAS4jB,iBAAT,CAA2Bn/B,IAA3B,EAAiC69B,MAAjC,EAAyCC,SAAzC,EAAoD;MAC9CA,SAAS,CAAC3yC,KAAV,KAAoB,QAApB,IAAgC2yC,SAAS,CAAC3yC,KAAV,KAAoB,KAAxD,EAA+D;QACvDi0C,UAAU,GAAGp/B,IAAI,CAACC,QAAL,GAAgB69B,SAAS,CAACE,SAAV,CAAoB12C,KAAvD;QACM82C,YAAY,GAAGgB,UAAU,IAAItB,SAAS,CAACE,SAAV,CAAoBr5C,CAApB,GAAwBm5C,SAAS,CAAC3tC,SAAV,CAAoBxL,CAA5C,GAAiDm5C,SAAS,CAACp3B,QAAV,GAAqB,CAA1E,CAA/B;IACAm3B,MAAM,CAACrhB,QAAP,GAAkB;MAChBx7B,IAAI,EAAE,MADU;MAEhB2D,CAAC,EAAEy5C,YAFa;MAGhBt5C,CAAC,EAAE,CAHa;MAIhBwC,KAAK,EAAE82C,YAAY,GAAG,CAAf,GAAmBN,SAAS,CAACp3B,QAAV,GAAqB03B,YAAxC,GAAuDN,SAAS,CAACp3B,QAJxD;;MAKhBnf,MAAM,EAAEu2C,SAAS,CAACE,SAAV,CAAoBz2C;KAL9B;GAHF,MAUO;QACC63C,WAAU,GAAGp/B,IAAI,CAACC,QAAL,GAAgB69B,SAAS,CAACE,SAAV,CAAoBz2C,MAAvD;;QACMm3C,WAAW,GAAGU,WAAU,IAAItB,SAAS,CAACE,SAAV,CAAoBl5C,CAApB,GAAwBg5C,SAAS,CAAC3tC,SAAV,CAAoBrL,CAA5C,GAAiDg5C,SAAS,CAACp3B,QAAV,GAAqB,CAA1E,CAA9B;IACAm3B,MAAM,CAACrhB,QAAP,GAAkB;MAChBx7B,IAAI,EAAE,MADU;MAEhB2D,CAAC,EAAE,CAFa;MAGhBG,CAAC,EAAE45C,WAHa;MAIhBp3C,KAAK,EAAEw2C,SAAS,CAACE,SAAV,CAAoB12C,KAJX;MAKhBC,MAAM,EAAEm3C,WAAW,GAAG,CAAd,GAAkBZ,SAAS,CAACp3B,QAAV,GAAqBg4B,WAAvC,GAAqDZ,SAAS,CAACp3B,QALvD;;KAAlB;GAdgD;;;MAwB5C8V,QAAQ,GAAGqhB,MAAM,CAACrhB,QAAxB;EACAA,QAAQ,CAAC73B,CAAT,GAAaC,IAAI,CAACyG,GAAL,CAASmxB,QAAQ,CAAC73B,CAAlB,EAAqB,CAArB,CAAb;EACA63B,QAAQ,CAAC13B,CAAT,GAAaF,IAAI,CAACyG,GAAL,CAASmxB,QAAQ,CAAC13B,CAAlB,EAAqB,CAArB,CAAb;MACMu6C,SAAS,GAAI7iB,QAAQ,CAAC73B,CAAT,GAAa63B,QAAQ,CAACl1B,KAAvB,IAAiCw2C,SAAS,CAAC3tC,SAAV,CAAoBxL,CAApB,GAAwBm5C,SAAS,CAAC3tC,SAAV,CAAoB7I,KAA7E,CAAlB;EACAk1B,QAAQ,CAACl1B,KAAT,GAAiB+3C,SAAS,GAAG,CAAZ,GAAgB7iB,QAAQ,CAACl1B,KAAT,GAAiB+3C,SAAjC,GAA6C7iB,QAAQ,CAACl1B,KAAvE;MACMg4C,UAAU,GAAI9iB,QAAQ,CAAC13B,CAAT,GAAa03B,QAAQ,CAACj1B,MAAvB,IAAkCu2C,SAAS,CAAC3tC,SAAV,CAAoBrL,CAApB,GAAwBg5C,SAAS,CAAC3tC,SAAV,CAAoB5I,MAA9E,CAAnB;EACAi1B,QAAQ,CAACj1B,MAAT,GAAkB+3C,UAAU,GAAG,CAAb,GAAiB9iB,QAAQ,CAACj1B,MAAT,GAAkB+3C,UAAnC,GAAgD9iB,QAAQ,CAACj1B,MAA3E;;;AAGF,SAASg4C,cAAT,CAAwBv/B,IAAxB,EAA8B69B,MAA9B,EAAsC;EACpCA,MAAM,CAACrhB,QAAP,GAAkB;IAChBx7B,IAAI,EAAE,SADU;IAEhBkM,QAAQ,EAAE,CACR;MAAEvI,CAAC,EAAEk5C,MAAM,CAACzY,YAAP,CAAoBzgC,CAAzB;MAA4BG,CAAC,EAAE+4C,MAAM,CAACzY,YAAP,CAAoBtgC;KAD3C,EAER;MAAEH,CAAC,EAAEk5C,MAAM,CAACzY,YAAP,CAAoBzgC,CAApB,GAAwBk5C,MAAM,CAACzY,YAAP,CAAoB99B,KAAjD;MAAwDxC,CAAC,EAAE+4C,MAAM,CAACzY,YAAP,CAAoBtgC;KAFvE,EAGR;MAAEH,CAAC,EAAEk5C,MAAM,CAACzY,YAAP,CAAoBzgC,CAApB,GAAwBk5C,MAAM,CAACzY,YAAP,CAAoB99B,KAAjD;MAAwDxC,CAAC,EAAE+4C,MAAM,CAACzY,YAAP,CAAoBtgC,CAApB,GAAwB+4C,MAAM,CAACzY,YAAP,CAAoB79B;KAH/F,EAIR;MAAE5C,CAAC,EAAEk5C,MAAM,CAACzY,YAAP,CAAoBzgC,CAAzB;MAA4BG,CAAC,EAAE+4C,MAAM,CAACzY,YAAP,CAAoBtgC,CAApB,GAAwB+4C,MAAM,CAACzY,YAAP,CAAoB79B;KAJnE;GAFZ;;;AAWF,SAASi4C,cAAT,CAAwBx/B,IAAxB,EAA8B69B,MAA9B,EAAsCC,SAAtC,EAAiD;MACzCviB,OAAO,GAAGuiB,SAAS,CAACr5C,KAAV,IAAmBG,IAAI,CAACiE,EAAL,GAAU,GAA7B,CAAhB;MACMw0B,SAAS,GAAGz4B,IAAI,CAACyG,GAAL,CAASyyC,SAAS,CAACp3B,QAAV,GAAqB,CAA9B,EAAiCm3B,MAAM,CAACzY,YAAP,CAAoB79B,MAApB,GAA6B,CAA9D,CAAlB,CAF+C;;MAGzCk4C,WAAW,GAAG5B,MAAM,CAACvkB,MAAP,KAAkB,OAAtC;MACMomB,EAAE,GAAG7B,MAAM,CAACvkB,MAAP,KAAkB,KAAlB,IAA2BiC,OAAO,GAAG,CAAhD;MACMokB,EAAE,GAAG9B,MAAM,CAACvkB,MAAP,KAAkB,OAAlB,IAA6BiC,OAAO,IAAI,CAAnD;MACMz2B,CAAC,GAAG+4C,MAAM,CAACzY,YAAP,CAAoBtgC,CAApB,IAAyB66C,EAAE,IAAID,EAAN,GAAW7B,MAAM,CAACzY,YAAP,CAAoB79B,MAA/B,GAAwC,CAAjE,CAAV,CAN+C;;MAQzC0E,MAAM,GAAG,CACb;IAAEtH,CAAC,EAAEk5C,MAAM,CAACl5C,CAAP,GAAW04B,SAAhB;IAA2Bv4B,CAAC,EAADA;GADd,EAEb;IAAEH,CAAC,EAAEk5C,MAAM,CAACl5C,CAAP,GAAW04B,SAAhB;IAA2Bv4B,CAAC,EAADA;GAFd,EAGbzE,GAHa,CAGT,UAACK,CAAD;WAAOk/C,MAAY,CAACl/C,CAAD,EAAI66B,OAAJ,EAAa;MAAE52B,CAAC,EAAEk5C,MAAM,CAACl5C,CAAZ;MAAeG,CAAC,EAAE+4C,MAAM,CAAC/4C;KAAtC,CAAnB;GAHS,CAAf,CAR+C;;;MAczCuI,MAAM,GAAG,EAAf,CAd+C;;MAezCwyC,SAAS,GAAG;IAChBl7C,CAAC,EAAE86C,WAAW,GAAG5B,MAAM,CAACzY,YAAP,CAAoBzgC,CAApB,GAAwBk5C,MAAM,CAACzY,YAAP,CAAoB99B,KAA5C,GAAoD+F,MAAvD,GAAgEwwC,MAAM,CAACzY,YAAP,CAAoBzgC,CAApB,GAAwB0I,MADtF;IAEhBvI,CAAC,EAAE+4C,MAAM,CAACzY,YAAP,CAAoBtgC,CAApB,GAAwB+4C,MAAM,CAACzY,YAAP,CAAoB79B;GAFjD;MAKMu4C,UAAU,GAAG;IACjBn7C,CAAC,EAAE86C,WAAW,GAAG5B,MAAM,CAACzY,YAAP,CAAoBzgC,CAApB,GAAwBk5C,MAAM,CAACzY,YAAP,CAAoB99B,KAA5C,GAAoD+F,MAAvD,GAAgEwwC,MAAM,CAACzY,YAAP,CAAoBzgC,CAApB,GAAwB0I,MADrF;IAEjBvI,CAAC,EAAE+4C,MAAM,CAACzY,YAAP,CAAoBtgC;GAFzB;MAKMi7C,aAAa,GAAGxkB,OAAO,IAAI,CAAX,GAAe,CAACskB,SAAD,EAAYC,UAAZ,CAAf,GAAyC,CAACA,UAAD,EAAaD,SAAb,CAA/D;EACA5zC,MAAM,CAAC5K,IAAP,OAAA4K,MAAM,EAAS8zC,aAAT,CAAN;EAEAlC,MAAM,CAACrhB,QAAP,GAAkB;IAChBx7B,IAAI,EAAE,SADU;IAEhBkM,QAAQ,EAAEjB;GAFZ;;;AAMF,SAAS+zC,cAAT,CAAwBhgC,IAAxB,EAA8B69B,MAA9B,EAAsCC,SAAtC,EAAiD;MAC3CA,SAAS,CAACmC,OAAV,IAAqB,CAACnC,SAAS,CAACp3B,QAApC,EAA8C;IAC5C64B,cAAc,CAACv/B,IAAD,EAAO69B,MAAP,CAAd;GADF,MAEO,IAAIC,SAAS,CAACK,MAAd,EAAsB;IAC3BqB,cAAc,CAACx/B,IAAD,EAAO69B,MAAP,EAAeC,SAAf,CAAd;GADK,MAEA;IACLqB,iBAAiB,CAACn/B,IAAD,EAAO69B,MAAP,EAAeC,SAAf,CAAjB;;;;AAIJ,SAASoC,YAAT,CAAsBrC,MAAtB,EAA8BC,SAA9B,EAAyC;EACvCD,MAAM,CAACzY,YAAP,GAAsB0Y,SAAS,CAACqC,UAAV,CAAqBtC,MAArB,CAAtB;;;AAGF,SAASrkC,MAAT,CAAgBskC,SAAhB,EAA2BvhB,UAA3B,EAAuC;MAC/Bl9B,CAAC,GAAG4L,KAAK,CAAC6yC,SAAS,CAACznB,KAAV,CAAgBlrB,KAAjB,CAAL,GAA+B,GAA/B,GAAqCvG,IAAI,CAACwG,GAAL,CAASxG,IAAI,CAACyG,GAAL,CAASyyC,SAAS,CAACznB,KAAV,CAAgBlrB,KAAzB,EAAgC,CAAhC,CAAT,EAA6C,CAA7C,CAA/C;MACI9C,CAAC,GAAG,CAAR;;MACIy1C,SAAS,CAACK,MAAd,EAAsB;IACpB91C,CAAC,GAAIy1C,SAAS,CAACp3B,QAAV,GAAqBrnB,CAA1B;GADF,MAEO;QACC2L,IAAI,GAAGuxB,UAAU,GAAGuhB,SAAS,CAACS,QAAV,CAAmBh3C,MAAtB,GAA+Bu2C,SAAS,CAACS,QAAV,CAAmBj3C,KAAzE;IACAe,CAAC,GAAGzD,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAYyyC,SAAS,CAACp3B,QAAV,GAAqB1b,IAAjC,IAAyC3L,CAA7C;;;SAGKgJ,CAAP;;;AAGF,AAAe,SAAS+3C,SAAT,CAAmBpgC,IAAnB,EAAyB89B,SAAzB,EAAoC;MAC3CD,MAAM,GAAG;IACb78C,IAAI,EAAE,MADO;IAEbqxB,IAAI,EAAE4rB,SAAS,CAACj+B,IAAI,CAACpH,KAAN,CAFF;IAGbjU,CAAC,EAAE,CAHU;IAIbG,CAAC,EAAE,CAJU;IAKb00B,QAAQ,EAAEskB,SAAS,CAACtkB,QALP;IAMbqlB,SAAS,EAAEf,SAAS,CAACe;GANvB;;MASIf,SAAS,CAAC3yC,KAAV,KAAoB,KAApB,IAA6B2yC,SAAS,CAAC3yC,KAAV,KAAoB,QAArD,EAA+D;IAC7D0yC,MAAM,CAACl5C,CAAP,GAAYqb,IAAI,CAAC/Z,KAAL,GAAa63C,SAAS,CAACE,SAAV,CAAoB12C,KAAlC,IAA4Cw2C,SAAS,CAACE,SAAV,CAAoBr5C,CAApB,GAAwBm5C,SAAS,CAAC3tC,SAAV,CAAoBxL,CAAxF,IAA6F6U,MAAM,CAACskC,SAAD,EAAY,KAAZ,CAA9G;IACAD,MAAM,CAAC/4C,CAAP,GAAWg5C,SAAS,CAAC3yC,KAAV,KAAoB,KAApB,GAA4B2yC,SAAS,CAACE,SAAV,CAAoBz2C,MAAhD,GAAyD,CAApE;IACAs2C,MAAM,CAACvkB,MAAP,GAAgBwkB,SAAS,CAACp3B,QAAV,GAAqB,OAArB,GAA+B,QAA/C;IAEAm3B,MAAM,CAACl5C,CAAP,IAAYsG,KAAK,CAAC6yC,SAAS,CAACznB,KAAV,CAAgB3b,MAAjB,CAAL,GAAgC,CAAhC,GAAoC,CAACojC,SAAS,CAACznB,KAAV,CAAgB3b,MAAjE;GALF,MAMO;IACLmjC,MAAM,CAAC/4C,CAAP,GAAYkb,IAAI,CAAC/Z,KAAL,GAAa63C,SAAS,CAACE,SAAV,CAAoBz2C,MAAlC,IAA6Cu2C,SAAS,CAACE,SAAV,CAAoBl5C,CAApB,GAAwBg5C,SAAS,CAAC3tC,SAAV,CAAoBrL,CAAzF,IAA8F0U,MAAM,CAACskC,SAAD,EAAY,IAAZ,CAA/G;IACAD,MAAM,CAACl5C,CAAP,GAAWm5C,SAAS,CAAC3yC,KAAV,KAAoB,MAApB,GAA6B2yC,SAAS,CAACE,SAAV,CAAoB12C,KAAjD,GAAyD,CAApE;IACAu2C,MAAM,CAACvkB,MAAP,GAAgBwkB,SAAS,CAAC3yC,KAAV,KAAoB,MAApB,GAA6B,KAA7B,GAAqC,OAArD;IACA0yC,MAAM,CAACzkB,QAAP,GAAkB0kB,SAAS,CAACp3B,QAAV,GAAqB,kBAArB,GAA0C,SAA5D;IAEAm3B,MAAM,CAAC/4C,CAAP,IAAYmG,KAAK,CAAC6yC,SAAS,CAACznB,KAAV,CAAgB3b,MAAjB,CAAL,GAAgC,CAAhC,GAAoC,CAACojC,SAAS,CAACznB,KAAV,CAAgB3b,MAAjE;;;EAGFkjC,aAAW,CAACC,MAAD,EAASC,SAAT,CAAX;EACAI,SAAS,CAACL,MAAD,EAASC,SAAT,CAAT;EACAkB,aAAa,CAACnB,MAAD,EAASC,SAAT,CAAb;EACAmB,aAAa,CAACpB,MAAD,EAASC,SAAT,CAAb;EACAoC,YAAY,CAACrC,MAAD,EAASC,SAAT,CAAZ;EACAkC,cAAc,CAAChgC,IAAD,EAAO69B,MAAP,EAAeC,SAAf,CAAd;SAEOD,MAAP;;;ACtOF,SAASD,aAAT,CAAqBC,MAArB,EAA6BC,SAA7B,EAAwC;EACtCjyC,MAAM,CAACgyC,MAAD,EAASC,SAAS,CAACznB,KAAnB,CAAN;;;AAGF,SAAS2oB,eAAT,CAAuBnB,MAAvB,EAA+BC,SAA/B,EAA0C;MACpCA,SAAS,CAAC3yC,KAAV,KAAoB,KAAxB,EAA+B;IAC7B0yC,MAAM,CAACv3C,EAAP,IAAaw3C,SAAS,CAAC35B,OAAvB;IACA05B,MAAM,CAACr3C,EAAP,IAAas3C,SAAS,CAAC35B,OAAvB;GAFF,MAGO,IAAI25B,SAAS,CAAC3yC,KAAV,KAAoB,QAAxB,EAAkC;IACvC0yC,MAAM,CAACv3C,EAAP,IAAaw3C,SAAS,CAAC35B,OAAvB;IACA05B,MAAM,CAACr3C,EAAP,IAAas3C,SAAS,CAAC35B,OAAvB;GAFK,MAGA,IAAI25B,SAAS,CAAC3yC,KAAV,KAAoB,MAAxB,EAAgC;IACrC0yC,MAAM,CAACx3C,EAAP,IAAay3C,SAAS,CAAC35B,OAAvB;IACA05B,MAAM,CAACt3C,EAAP,IAAau3C,SAAS,CAAC35B,OAAvB;GAFK,MAGA,IAAI25B,SAAS,CAAC3yC,KAAV,KAAoB,OAAxB,EAAiC;IACtC0yC,MAAM,CAACx3C,EAAP,IAAay3C,SAAS,CAAC35B,OAAvB;IACA05B,MAAM,CAACt3C,EAAP,IAAau3C,SAAS,CAAC35B,OAAvB;;;;AAIJ,SAASk8B,aAAT,CAAuBxC,MAAvB,EAA+BC,SAA/B,EAA0C;MAClCzgB,SAAS,GAAGwgB,MAAM,CAACtpB,WAAP,GAAqB,CAAvC;;MAEIspB,MAAM,CAACx3C,EAAP,KAAcy3C,SAAS,CAACE,SAAV,CAAoB12C,KAAtC,EAA6C;;IAC3Cu2C,MAAM,CAACx3C,EAAP,IAAag3B,SAAb;IACAwgB,MAAM,CAACt3C,EAAP,IAAa82B,SAAb;GAFF,MAGO,IAAIwgB,MAAM,CAACx3C,EAAP,KAAc,CAAlB,EAAqB;;IAC1Bw3C,MAAM,CAACx3C,EAAP,IAAag3B,SAAb;IACAwgB,MAAM,CAACt3C,EAAP,IAAa82B,SAAb;GAFK,MAGA,IAAIwgB,MAAM,CAACv3C,EAAP,KAAcw3C,SAAS,CAACE,SAAV,CAAoBz2C,MAAtC,EAA8C;IACnDs2C,MAAM,CAACv3C,EAAP,IAAa+2B,SAAb;IACAwgB,MAAM,CAACr3C,EAAP,IAAa62B,SAAb;GAFK,MAGA,IAAIwgB,MAAM,CAACv3C,EAAP,KAAc,CAAlB,EAAqB;IAC1Bu3C,MAAM,CAACv3C,EAAP,IAAa+2B,SAAb;IACAwgB,MAAM,CAACr3C,EAAP,IAAa62B,SAAb;;;;AAIJ,AAAe,SAAS+iB,WAAT,CAAmBpgC,IAAnB,EAAyB89B,SAAzB,EAAoC;MAC3CD,MAAM,GAAG;IACb78C,IAAI,EAAE,MADO;IAEbqF,EAAE,EAAE,CAFS;IAGbE,EAAE,EAAE,CAHS;IAIbD,EAAE,EAAE,CAJS;IAKbE,EAAE,EAAE,CALS;IAMbg2B,QAAQ,EAAE;MACRx7B,IAAI,EAAE;;GAPV;;MAWI88C,SAAS,CAAC3yC,KAAV,KAAoB,KAApB,IAA6B2yC,SAAS,CAAC3yC,KAAV,KAAoB,QAArD,EAA+D;IAC7D0yC,MAAM,CAACx3C,EAAP,GAAYw3C,MAAM,CAACt3C,EAAP,GAAayZ,IAAI,CAACC,QAAL,GAAgB69B,SAAS,CAACE,SAAV,CAAoB12C,KAArC,IAA+Cw2C,SAAS,CAACE,SAAV,CAAoBr5C,CAApB,GAAwBm5C,SAAS,CAAC3tC,SAAV,CAAoBxL,CAA3F,CAAxB;IACAk5C,MAAM,CAACv3C,EAAP,GAAYw3C,SAAS,CAAC3yC,KAAV,KAAoB,KAApB,GAA4B2yC,SAAS,CAACE,SAAV,CAAoBz2C,MAAhD,GAAyD,CAArE;IACAs2C,MAAM,CAACr3C,EAAP,GAAYs3C,SAAS,CAAC3yC,KAAV,KAAoB,KAApB,GAA4B0yC,MAAM,CAACv3C,EAAP,GAAYw3C,SAAS,CAACwC,QAAlD,GAA6DzC,MAAM,CAACv3C,EAAP,GAAYw3C,SAAS,CAACwC,QAA/F;GAHF,MAIO;IACLzC,MAAM,CAACv3C,EAAP,GAAYu3C,MAAM,CAACr3C,EAAP,GAAawZ,IAAI,CAACC,QAAL,GAAiB69B,SAAS,CAACE,SAAV,CAAoBz2C,MAAtC,IAAkDu2C,SAAS,CAACE,SAAV,CAAoBl5C,CAApB,GAAwBg5C,SAAS,CAAC3tC,SAAV,CAAoBrL,CAA9F,CAAxB;IACA+4C,MAAM,CAACx3C,EAAP,GAAYy3C,SAAS,CAAC3yC,KAAV,KAAoB,MAApB,GAA6B2yC,SAAS,CAACE,SAAV,CAAoB12C,KAAjD,GAAyD,CAArE;IACAu2C,MAAM,CAACt3C,EAAP,GAAYu3C,SAAS,CAAC3yC,KAAV,KAAoB,MAApB,GAA6B0yC,MAAM,CAACx3C,EAAP,GAAYy3C,SAAS,CAACwC,QAAnD,GAA8DzC,MAAM,CAACx3C,EAAP,GAAYy3C,SAAS,CAACwC,QAAhG;;;EAGF1C,aAAW,CAACC,MAAD,EAASC,SAAT,CAAX;EACAkB,eAAa,CAACnB,MAAD,EAASC,SAAT,CAAb;EACAuC,aAAa,CAACxC,MAAD,EAASC,SAAT,CAAb;SACOD,MAAP;;;ACjEF,SAAS0C,WAAT,CAAqBvgC,IAArB,EAA2B;SAClB,CAACA,IAAI,CAACE,OAAN,IAAiBF,IAAI,CAACC,QAAL,IAAiB,CAAlC,IAAuCD,IAAI,CAACC,QAAL,IAAiB,CAA/D;;;AAGF,SAASugC,0BAAT,OAIG;MAHDhhC,UAGC,QAHDA,UAGC;MAFDo9B,WAEC,QAFDA,WAEC;MADDv1C,IACC,QADDA,IACC;MACK2D,IAAI,GAAG3D,IAAI,CAACE,MAAlB;MACMq3C,UAAU,GAAGhC,WAAW,CAAC,GAAD,CAAX,CAAiBr1C,MAApC;;MACIiY,UAAU,CAACpe,MAAX,GAAoB,CAAxB,EAA2B;WAClB,KAAP;;;MAGI+P,CAAC,GAAGnG,IAAI,GAAGpG,IAAI,CAAC2O,GAAL,CAASiM,UAAU,CAAC,CAAD,CAAV,CAAcS,QAAd,GAAyBT,UAAU,CAAC,CAAD,CAAV,CAAcS,QAAhD,CAAjB;;MACI9O,CAAC,GAAGytC,UAAR,EAAoB;WACX,IAAP;;;SAGK,KAAP;;;AAGF,SAAS6B,4BAAT,QAKG;MAJDjhC,UAIC,SAJDA,UAIC;MAHDo9B,WAGC,SAHDA,WAGC;MAFDv1C,IAEC,SAFDA,IAEC;MADDuoB,KACC,SADDA,KACC;;;;;;;MAMKnwB,CAAC,GAAGmwB,KAAK,CAACtO,MAAN,CAAao/B,UAAb,KAA4B,SAA5B,GAAwC,CAAxC,GAA4C,CAAtD;MACM11C,IAAI,GAAG3D,IAAI,CAACC,KAAlB;MACMg5C,QAAQ,GAAG9gC,UAAU,CACxBnf,GADc,CACV,UAAC2f,IAAD;WAAUA,IAAI,CAACpH,KAAf;GADU,EAEdvY,GAFc,CAEV,UAACb,CAAD;qBAAUA,CAAC,CAACkQ,KAAF,CAAQ,CAAR,EAAW,CAAX,CAAV,SAA0BlQ,CAAC,CAAC4B,MAAF,GAAW,CAAX,GAAe,GAAf,GAAqB,EAA/C;GAFU;GAGdf,GAHc,CAGVu8C,WAHU,EAIdv8C,GAJc,CAIV,UAAC2F,CAAD;WAAOA,CAAC,CAACsB,KAAT;GAJU,CAAjB;;OAKK,IAAItF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGwd,UAAU,CAACpe,MAA/B,EAAuC,EAAEY,CAAzC,EAA4C;QACpCge,IAAI,GAAGR,UAAU,CAACxd,CAAD,CAAvB;QACM2+C,EAAE,GAAGlhD,CAAC,GAAGuL,IAAJ,GAAWpG,IAAI,CAAC2O,GAAL,CAASyM,IAAI,CAAC/Z,KAAL,GAAa+Z,IAAI,CAAC9Z,GAA3B,CAAtB;QACM06C,EAAE,GAAGN,QAAQ,CAACt+C,CAAD,CAAnB;;QACI2+C,EAAE,GAAGC,EAAT,EAAa;aACJ,IAAP;;;;SAGG,KAAP;;;AAGF,SAASC,cAAT,QAMG;MALDrhC,UAKC,SALDA,UAKC;MAJDshC,OAIC,SAJDA,OAIC;MAHDz5C,IAGC,SAHDA,IAGC;MAFDuoB,KAEC,SAFDA,KAEC;MADD7lB,QACC,SADDA,QACC;MACKg3C,UAAU,GAAGh3C,QAAQ,CAACuX,MAAT,CAAgB0/B,aAAnC;MACMvhD,CAAC,GAAGmwB,KAAK,CAACtO,MAAN,CAAao/B,UAAb,KAA4B,SAA5B,GAAwC,CAAxC,GAA4C,CAAtD;MACMO,uBAAuB,GAAGl3C,QAAQ,CAACuX,MAAT,CAAgB4/B,aAAhB,GAAgCn3C,QAAQ,CAACuX,MAAT,CAAgB4/B,aAAhD,GAAgE,GAAhG,CAHC;;MAIKC,cAAc,GAAGL,OAAO,CAAC,GAAD,CAAP,CAAax5C,KAApC,CAJC;;MAKK0D,IAAI,GAAG3D,IAAI,CAACC,KAAlB;MACI85C,aAAa,GAAG,CAApB;MACIT,EAAE,GAAG,CAAT;;MAEI,CAAC11C,KAAK,CAAC81C,UAAD,CAAV,EAAwB;QAChBM,YAAY,GAAG7hC,UAAU,CAAC4O,MAAX,CAAkB,UAACkzB,IAAD,EAAOC,IAAP;aAAgB38C,IAAI,CAACwG,GAAL,CAASxG,IAAI,CAAC2O,GAAL,CAASguC,IAAI,CAACt7C,KAAL,GAAas7C,IAAI,CAACr7C,GAA3B,CAAT,EAA0Co7C,IAA1C,CAAhB;KAAlB,EAAmFE,QAAnF,CAArB;IACAb,EAAE,GAAGlhD,CAAC,GAAGuL,IAAJ,GAAWq2C,YAAhB;IACAD,aAAa,GAAGN,OAAO,CAAC,GAAD,CAAP,CAAax5C,KAAb,GAAqB25C,uBAArB,GAA+CF,UAA/D;;QACIK,aAAa,GAAGD,cAAhB,GAAiCR,EAArC,EAAyC;aAChC,IAAP;;GALJ,MAOO;SACA,IAAI3+C,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGwd,UAAU,CAACpe,MAA/B,EAAuCY,CAAC,EAAxC,EAA4C;UACpCge,IAAI,GAAGR,UAAU,CAACxd,CAAD,CAAvB;UACM4W,KAAK,GAAGoH,IAAI,CAACpH,KAAnB;UACMtR,KAAK,GAAGw5C,OAAO,CAACloC,KAAD,CAAP,CAAetR,KAAf,IAAwBsR,KAAK,CAACxX,MAAN,GAAe,CAAf,GAAmB6/C,uBAAnB,GAA6C,CAArE,CAAd;MACAN,EAAE,GAAGlhD,CAAC,GAAGuL,IAAJ,GAAWpG,IAAI,CAAC2O,GAAL,CAASyM,IAAI,CAAC/Z,KAAL,GAAa+Z,IAAI,CAAC9Z,GAA3B,CAAhB;;UACIoB,KAAK,GAAG65C,cAAR,GAAyBR,EAA7B,EAAiC;eACxB,IAAP;;;;;SAKC,KAAP;;;AAGF,SAASc,wBAAT,QAMG;MALDjiC,UAKC,SALDA,UAKC;MAJDo9B,WAIC,SAJDA,WAIC;MAHDv1C,IAGC,SAHDA,IAGC;MAFDq6C,SAEC,SAFDA,SAEC;MADDj9C,KACC,SADDA,KACC;;MACG+a,UAAU,CAACpe,MAAX,GAAoB,CAAxB,EAA2B;WAClB,KAAP;;;MAEEqD,KAAK,KAAK,CAAd,EAAiB;WACR,IAAP,CADe;;;MAGXk9C,QAAQ,GAAG/8C,IAAI,CAAC2O,GAAL,CAAS9O,KAAT,CAAjB;MACMuG,IAAI,GAAG3D,IAAI,CAACC,KAAL,GAAao6C,SAA1B;MACMh7B,QAAQ,GAAG1b,IAAI,GAAGpG,IAAI,CAAC2O,GAAL,CAASiM,UAAU,CAAC,CAAD,CAAV,CAAcS,QAAd,GAAyBT,UAAU,CAAC,CAAD,CAAV,CAAcS,QAAhD,CAAxB;MACM2+B,UAAU,GAAGhC,WAAW,CAAC,GAAD,CAAX,CAAiBr1C,MAApC;MACMq6C,UAAU,GAAG,IAAIl7B,QAAvB,CAXC;;MAYKm7B,qBAAqB,GAAGj9C,IAAI,CAACG,GAAL,CAAS48C,QAAQ,IAAI/8C,IAAI,CAACiE,EAAL,GAAU,GAAd,CAAjB,IAAuC+4C,UAArE;SAEOhD,UAAU,GAAGiD,qBAApB;;;AAGF,SAASC,SAAT,QAMG;MALDz6C,IAKC,SALDA,IAKC;MAJDuoB,KAIC,SAJDA,KAIC;MAHDpQ,UAGC,SAHDA,UAGC;MAFDshC,OAEC,SAFDA,OAEC;MADDiB,UACC,SADDA,UACC;;MACGA,UAAJ,EAAgB;WACPtB,4BAA4B,CAAC;MAClCjhC,UAAU,EAAVA,UADkC;MAElCo9B,WAAW,EAAEkE,OAFqB;MAGlCz5C,IAAI,EAAJA,IAHkC;MAIlCuoB,KAAK,EAALA;KAJiC,CAAnC;;;SAQK4wB,0BAA0B,CAAC;IAChChhC,UAAU,EAAVA,UADgC;IAEhCo9B,WAAW,EAAEkE,OAFmB;IAGhCz5C,IAAI,EAAJA,IAHgC;IAIhCuoB,KAAK,EAALA;GAJ+B,CAAjC;;;AAQF,AAAO,SAASoyB,eAAT,QAEJ;MADDt8C,KACC,SADDA,KACC;MADMu8C,QACN,SADMA,QACN;MADgBC,QAChB,SADgBA,QAChB;MAD0B5mC,KAC1B,SAD0BA,KAC1B;MADiC6mC,QACjC,SADiCA,QACjC;;MACG,CAACl3C,KAAK,CAACqQ,KAAD,CAAN,IAAiB,CAACrQ,KAAK,CAACk3C,QAAD,CAA3B,EAAuC;IACrCz8C,KAAK,GAAG4V,KAAK,GAAG6mC,QAAhB;;;MAGEz8C,KAAK,GAAGu8C,QAAZ,EAAsB;IACpBv8C,KAAK,GAAGu8C,QAAR;;;MAGEv8C,KAAK,GAAGw8C,QAAZ,EAAsB;IACpBx8C,KAAK,GAAGw8C,QAAR;;;SAGKx8C,KAAP;;AAGF,AAAe,SAAS08C,OAAT,QAQZ;MAPDC,UAOC,SAPDA,UAOC;MANDh7C,IAMC,SANDA,IAMC;MALD2O,SAKC,SALDA,SAKC;MAJD4mC,WAIC,SAJDA,WAIC;MAHDzzC,KAGC,SAHDA,KAGC;MAFDY,QAEC,SAFDA,QAEC;MADD6lB,KACC,SADDA,KACC;MACG5kB,IAAI,GAAG,CAAX;MACM8C,SAAS,GAAG;IAChBO,IAAI,EAAE,CADU;IACPE,GAAG,EAAE,CADE;IACCD,KAAK,EAAE,CADR;IACWE,MAAM,EAAE;GADrC;yBAMIzE,QAAQ,CAACuX,MARZ;MAMc2gC,QANd,oBAMCK,WAND;MAOcJ,QAPd,oBAOCK,WAPD;;MAUGx4C,QAAQ,CAACuX,MAAT,CAAgBhX,IAApB,EAA0B;QAClBa,KAAK,GAAGpB,QAAQ,CAACoB,KAAvB;QACM42C,UAAU,GAAG52C,KAAK,KAAK,KAAV,IAAmBA,KAAK,KAAK,QAAhD;QACMwU,QAAQ,GAAGoiC,UAAU,GAAG16C,IAAI,CAACC,KAAR,GAAgBD,IAAI,CAACE,MAAhD;QACMiY,UAAU,GAAGrW,KAAK,CAACmW,KAAN,CAAY;MAC7BvV,QAAQ,EAARA,QAD6B;MAE7B4V,QAAQ,EAARA,QAF6B;MAG7B3J,SAAS,EAATA;KAHiB,EAIhBlG,MAJgB,CAITywC,WAJS,CAAnB;;QAMMO,OAAO,GAAG,SAAVA,OAAU,CAACzuB,IAAD,EAAU;UAClB5yB,CAAC,GAAGm9C,WAAW,CAAC;QACpBvqB,IAAI,EAAJA,IADoB;QAEpB+B,QAAQ,EAAErqB,QAAQ,CAACuX,MAAT,CAAgB8S,QAFN;QAGpBD,UAAU,EAAEpqB,QAAQ,CAACuX,MAAT,CAAgB6S;OAHT,CAArB;MAKA10B,CAAC,CAAC6H,KAAF,GAAU06C,eAAe,CAAC;QAAEt8C,KAAK,EAAEjG,CAAC,CAAC6H,KAAX;QAAkB26C,QAAQ,EAARA,QAAlB;QAA4BC,QAAQ,EAARA;OAA7B,CAAzB;aACOziD,CAAP;KAPF;;QAUI4iD,UAAU,IAAIN,UAAd,IAA4Bh4C,QAAQ,CAACuX,MAAT,CAAgBiQ,IAAhB,KAAyB,MAAzD,EAAiE;UAC3DsvB,cAAc,CAAC;QACjBrhC,UAAU,EAAVA,UADiB;QACLshC,OAAO,EAAPA,OADK;QACIz5C,IAAI,EAAJA,IADJ;QACUuoB,KAAK,EAALA,KADV;QACiB7lB,QAAQ,EAARA;OADlB,CAAlB,EAEI;QACF6lB,KAAK,CAACtO,MAAN,CAAao/B,UAAb,GAA0B,QAA1B;OAHF,MAIO;QACL9wB,KAAK,CAACtO,MAAN,CAAao/B,UAAb,GAA0B,YAA1B;;;;QAIA,CAAC32C,QAAQ,CAACuX,MAAT,CAAgBkhC,iBAAjB,IAAsC5yB,KAAK,CAACtO,MAAN,CAAao/B,UAAb,KAA4B,QAAlE,IAA8EoB,SAAS,CAAC;MAC1Fz6C,IAAI,EAAJA,IAD0F;MACpFuoB,KAAK,EAALA,KADoF;MAC7EpQ,UAAU,EAAVA,UAD6E;MACjEshC,OAAO,EAAPA,OADiE;MACxDiB,UAAU,EAAVA;KADuD,CAA3F,EAEI;UACIU,WAAW,GAAG79C,IAAI,CAACyG,GAAL,CAAShE,IAAI,CAACC,KAAd,EAAqBD,IAAI,CAACE,MAA1B,CAApB,CADE;;aAEK;QAAEyD,IAAI,EAAEy3C,WAAR;QAAqBX,SAAS,EAAE;OAAvC;;;QAGEY,gBAAJ;;QACI9yB,KAAK,CAACtO,MAAN,CAAao/B,UAAb,KAA4B,QAAhC,EAA0C;UAClCnlB,OAAO,GAAG32B,IAAI,CAAC2O,GAAL,CAASxJ,QAAQ,CAACuX,MAAT,CAAgBqhC,SAAzB,KAAuC/9C,IAAI,CAACiE,EAAL,GAAU,GAAjD,CAAhB,CADwC;;MAExC65C,gBAAgB,GAAG,0BAAC18C,CAAD;eAAQg8C,eAAe,CAAC;UAAEt8C,KAAK,EAAEM,CAAC,CAACsB,KAAX;UAAkB26C,QAAQ,EAARA,QAAlB;UAA4BC,QAAQ,EAARA;SAA7B,CAAf,GAA0Dt9C,IAAI,CAACG,GAAL,CAASw2B,OAAT,CAA3D,GAAiFv1B,CAAC,CAACuB,MAAF,GAAW3C,IAAI,CAACC,GAAL,CAAS02B,OAAT,CAAnG;OAAnB;KAFF,MAGO,IAAIwmB,UAAJ,EAAgB;MACrBW,gBAAgB,GAAG,0BAAC18C,CAAD;eAAOA,CAAC,CAACuB,MAAT;OAAnB;KADK,MAEA;MACLm7C,gBAAgB,GAAG,0BAAC18C,CAAD;eAAOg8C,eAAe,CAAC;UAAEt8C,KAAK,EAAEM,CAAC,CAACsB,KAAX;UAAkB26C,QAAQ,EAARA,QAAlB;UAA4BC,QAAQ,EAARA;SAA7B,CAAtB;OAAnB;;;QAGE5gC,MAAJ;;QACIygC,UAAU,IAAInyB,KAAK,CAACtO,MAAN,CAAao/B,UAAb,KAA4B,QAA9C,EAAwD;MACtDp/B,MAAM,GAAG,CAAC,GAAD,CAAT;KADF,MAEO,IAAI,CAACrW,KAAK,CAAClB,QAAQ,CAACuX,MAAT,CAAgB0/B,aAAjB,CAAV,EAA2C;UAC5CpoC,KAAK,GAAG,EAAZ;;WACK,IAAI5W,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG+H,QAAQ,CAACuX,MAAT,CAAgB0/B,aAApC,EAAmDh/C,CAAC,EAApD,EAAwD;QACtD4W,KAAK,IAAI,GAAT;;;MAEF0I,MAAM,GAAG,CAAC1I,KAAD,CAAT;KALK,MAMA;MACL0I,MAAM,GAAG9B,UAAU,CAACnf,GAAX,CAAe,UAAC2f,IAAD;eAAUA,IAAI,CAACpH,KAAf;OAAf,CAAT;;;QAEIgqC,YAAY,GAAGthC,MAAM,CAACjhB,GAAP,CAAWygD,OAAX,CAArB;QACM+B,UAAU,GAAGD,YAAY,CAACviD,GAAb,CAAiBqiD,gBAAjB,CAAnB;QACMI,QAAQ,GAAGl+C,IAAI,CAACyG,GAAL,OAAAzG,IAAI,uBAAQi+C,UAAR,UAAoB,CAApB,GAArB;IACA73C,IAAI,IAAI83C,QAAR;IACA93C,IAAI,IAAIjB,QAAQ,CAACuX,MAAT,CAAgBjU,MAAxB;;QAEIuiB,KAAK,CAACtO,MAAN,CAAao/B,UAAb,KAA4B,SAAhC,EAA2C;MACzC11C,IAAI,IAAI,CAAR;;;QAGE4kB,KAAK,CAACtO,MAAN,CAAao/B,UAAb,KAA4B,QAAhC,EAA0C;UAClCqC,UAAU,GAAIh5C,QAAQ,CAACoB,KAAT,KAAmB,QAApB,KAAmCpB,QAAQ,CAACuX,MAAT,CAAgBqhC,SAAhB,IAA6B,CAAnF;;UACMpnB,QAAO,GAAG32B,IAAI,CAAC2O,GAAL,CAASxJ,QAAQ,CAACuX,MAAT,CAAgBqhC,SAAzB,KAAuC/9C,IAAI,CAACiE,EAAL,GAAU,GAAjD,CAAhB,CAFwC;;;UAGlCtJ,CAAC,GAAGq9C,WAAW,CAAC,GAAD,CAAX,CAAiBr1C,MAA3B;UACMiyB,QAAQ,GAAG,CAACspB,QAAQ,GAAIvjD,CAAC,GAAGqF,IAAI,CAACC,GAAL,CAAS02B,QAAT,CAAjB,IAAuC32B,IAAI,CAACG,GAAL,CAASw2B,QAAT,CAAxD;;UACMynB,UAAU,GAAG,SAAbA,UAAa,CAACh9C,CAAD;eAAQpB,IAAI,CAACwG,GAAL,CAASouB,QAAT,EAAmBxzB,CAAC,CAACsB,KAArB,IAA8B1C,IAAI,CAACC,GAAL,CAAS02B,QAAT,CAA/B,GAAoDv1B,CAAC,CAACuB,MAA7D;OAAnB;;UACM07C,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACtjD,CAAD,EAAIqC,CAAJ,EAAU;YAC3BkhD,GAAG,GAAG1jC,UAAU,CAACxd,CAAD,CAAV,GAAgBwd,UAAU,CAACxd,CAAD,CAAV,CAAcie,QAA9B,GAAyC,CAArD;;YACI8iC,UAAJ,EAAgB;iBACPpjD,CAAC,GAAIujD,GAAG,GAAG77C,IAAI,CAACC,KAAvB;;;eAEK3H,CAAC,GAAI,CAAC,IAAIujD,GAAL,IAAY77C,IAAI,CAACC,KAA7B;OALF;;UAOMo6C,SAAS,GAAG98C,IAAI,CAACwG,GAAL,CAASrB,QAAQ,CAACuX,MAAT,CAAgB6hC,YAAzB,EAAuCv+C,IAAI,CAACyG,GAAL,OAAAzG,IAAI,uBAAQg+C,YAAY,CAACviD,GAAb,CAAiB2iD,UAAjB,EAA6B3iD,GAA7B,CAAiC4iD,gBAAjC,CAAR,UAA4D,CAA5D,GAA3C,IAA6Gl5C,QAAQ,CAACm1C,UAAxI;UACMkE,QAAQ,GAAGL,UAAU,GAAG,MAAH,GAAY,OAAvC;MACAj1C,SAAS,CAACs1C,QAAD,CAAT,GAAsB1B,SAAtB;;UAEI,CAAC33C,QAAQ,CAACuX,MAAT,CAAgBkhC,iBAAjB,IAAsCf,wBAAwB,CAAC;QACjEjiC,UAAU,EAAVA,UADiE;QACrDo9B,WAAW,EAAXA,WADqD;QACxCv1C,IAAI,EAAJA,IADwC;QAClCq6C,SAAS,EAATA,SADkC;QACvBj9C,KAAK,EAAEsF,QAAQ,CAACuX,MAAT,CAAgBqhC;OADD,CAAlE,EAEI;eACK;UAAE33C,IAAI,EAAEpG,IAAI,CAACyG,GAAL,CAAShE,IAAI,CAACC,KAAd,EAAqBD,IAAI,CAACE,MAA1B,CAAR;UAA2Cu6C,SAAS,EAAE;SAA7D;;;;;SAKC;IAAE92C,IAAI,EAAJA,IAAF;IAAQ8C,SAAS,EAATA;GAAf;;;AC1QF,IAAMu1C,OAAO,GAAG,CAAhB;;AAEA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACj8C,IAAD,EAAOpB,KAAP,EAAcC,GAAd;SAAsBmB,IAAI,CAACC,KAAL,GAAa1C,IAAI,CAAC2O,GAAL,CAAStN,KAAK,CAACga,QAAN,GAAiB/Z,GAAG,CAAC+Z,QAA9B,CAAnC;CAArB;;AAEA,IAAMsjC,gBAAgB,GAAG,SAAnBA,gBAAmB,OAKnB;MAJJvF,SAII,QAJJA,SAII;MAHJ7tC,SAGI,QAHJA,SAGI;MAFJ6P,IAEI,QAFJA,IAEI;MADJwjC,SACI,QADJA,SACI;MACEC,aAAa,GAAGzF,SAAS,CAACr5C,CAAV,GAAcwL,SAAS,CAACxL,CAA9C;MACM0J,IAAI,GAAI2vC,SAAS,CAAC12C,KAAV,GAAkB0Y,IAAI,CAACC,QAAxB,GAAoCwjC,aAAjD;MACMC,SAAS,GAAG9+C,IAAI,CAACwG,GAAL,CAASo4C,SAAT,EAAoBn1C,IAApB,IAA4B,CAA9C;MACM1C,QAAQ,GAAGqU,IAAI,CAACC,QAAL,KAAkB,CAAlB,GAAuB+9B,SAAS,CAAC12C,KAAV,GAAkB,CAAnB,GAAwB+7C,OAA9C,GAAwD,CAAzE;SAEOz+C,IAAI,CAACyG,GAAL,CAASm4C,SAAT,EAAoBE,SAApB,EAA+B/3C,QAA/B,CAAP;CAXF;;AAcA,IAAMg4C,iBAAiB,GAAG,SAApBA,iBAAoB,QAKpB;MAJJ3F,SAII,SAJJA,SAII;MAHJ7tC,SAGI,SAHJA,SAGI;MAFJ6P,IAEI,SAFJA,IAEI;MADJ4jC,SACI,SADJA,SACI;MACEH,aAAa,GAAGzF,SAAS,CAACr5C,CAAV,GAAcwL,SAAS,CAACxL,CAA9C;MACMk/C,cAAc,GAAI1zC,SAAS,CAAC7I,KAAV,GAAkB02C,SAAS,CAAC12C,KAA7B,GAAsCm8C,aAA7D;MACMn1C,KAAK,GAAI0vC,SAAS,CAAC12C,KAAV,GAAmB02C,SAAS,CAAC12C,KAAV,GAAkB0Y,IAAI,CAACC,QAA3C,GAAwD4jC,cAAtE;MACMH,SAAS,GAAG9+C,IAAI,CAACwG,GAAL,CAASw4C,SAAT,EAAoBt1C,KAApB,IAA6B,CAA/C;MACM3C,QAAQ,GAAGqU,IAAI,CAACC,QAAL,KAAkB,CAAlB,GAAuB+9B,SAAS,CAAC12C,KAAV,GAAkB,CAAnB,GAAwB+7C,OAA9C,GAAwD,CAAzE;SAEOz+C,IAAI,CAACyG,GAAL,CAASu4C,SAAT,EAAoBF,SAApB,EAA+B/3C,QAA/B,CAAP;CAZF;;AAeA,AAAe,SAASm4C,kBAAT,QAOZ;MAND7D,OAMC,SANDA,OAMC;MALD7M,KAKC,SALDA,KAKC;MAJD4K,SAIC,SAJDA,SAIC;MAHD7tC,SAGC,SAHDA,SAGC;MAFD6P,IAEC,SAFDA,IAEC;MADDoJ,KACC,SADDA,KACC;MACKvJ,IAAI,GAAGogC,OAAO,GAAG,CAAH,GAAO,CAA3B;MACMqB,IAAI,GAAGlO,KAAK,CAAChqB,KAAK,GAAGvJ,IAAT,CAAlB;MACMkkC,IAAI,GAAG3Q,KAAK,CAAChqB,KAAK,GAAGvJ,IAAT,CAAlB;MACM+jC,SAAS,GAAGtC,IAAI,GAAIgC,YAAY,CAACtF,SAAD,EAAYh+B,IAAZ,EAAkBshC,IAAlB,CAAZ,GAAsC,CAAvC,GAA4C+B,OAA/C,GAAyD7B,QAA/E;MACMgC,SAAS,GAAGO,IAAI,GAAIT,YAAY,CAACtF,SAAD,EAAYh+B,IAAZ,EAAkB+jC,IAAlB,CAAZ,GAAsC,CAAvC,GAA4CV,OAA/C,GAAyD7B,QAA/E;;MAEIpO,KAAK,CAAChyC,MAAN,GAAe,CAAnB,EAAsB;WACb48C,SAAS,CAAC12C,KAAjB;;;MAGE,CAACg6C,IAAL,EAAW;WACFiC,gBAAgB,CAAC;MACtBvF,SAAS,EAATA,SADsB;MAEtB7tC,SAAS,EAATA,SAFsB;MAGtB6P,IAAI,EAAJA,IAHsB;MAItBwjC,SAAS,EAATA;KAJqB,CAAvB;;;MAQE,CAACO,IAAL,EAAW;WACFJ,iBAAiB,CAAC;MACvB3F,SAAS,EAATA,SADuB;MAEvB7tC,SAAS,EAATA,SAFuB;MAGvB6P,IAAI,EAAJA,IAHuB;MAIvB4jC,SAAS,EAATA;KAJsB,CAAxB;;;SAQKh/C,IAAI,CAACwG,GAAL,CAASw4C,SAAT,EAAoBJ,SAApB,IAAiC,CAAxC;;;AC3DF,SAASQ,WAAT,CAAqBj6C,QAArB,EAA+B;MACzBk6C,OAAO,GAAG,CAAd;EACAA,OAAO,IAAIl6C,QAAQ,CAACm6C,YAApB;EACAD,OAAO,IAAIl6C,QAAQ,CAAC0C,IAAT,CAAcnC,IAAd,GAAqBP,QAAQ,CAAC0C,IAAT,CAAc8nB,WAAnC,GAAiD,CAA5D;EACA0vB,OAAO,IAAIl6C,QAAQ,CAACuV,KAAT,CAAehV,IAAf,GAAsBP,QAAQ,CAACuV,KAAT,CAAejS,MAArC,GAA8C,CAAzD;SACO42C,OAAP;;;AAGF,SAASE,gBAAT,CAA0Bp6C,QAA1B,EAAoC;SAC3BA,QAAQ,CAAC0C,IAAT,CAAc8nB,WAAd,GAA4BxqB,QAAQ,CAAC+W,UAAT,CAAoBzT,MAAvD;;;AAGF,SAAS+2C,aAAT,CAAuBr6C,QAAvB,EAAiC;MAC3Bk6C,OAAO,GAAG,CAAd;EACAA,OAAO,IAAIl6C,QAAQ,CAACuV,KAAT,CAAehV,IAAf,GAAsBP,QAAQ,CAACuV,KAAT,CAAeghC,QAArC,GAAgD,CAA3D;EACA2D,OAAO,IAAID,WAAW,CAACj6C,QAAD,CAAX,GAAwBA,QAAQ,CAACuX,MAAT,CAAgBjU,MAAnD;SACO42C,OAAP;;;AAGF,SAASI,kBAAT,OAA0D;MAA5BhuB,KAA4B,QAA5BA,KAA4B;MAArBumB,WAAqB,QAArBA,WAAqB;MAAR58B,IAAQ,QAARA,IAAQ;SACjD48B,WAAW,CAAC;IACjBvqB,IAAI,EAAErS,IAAI,CAACpH,KADM;IAEjBwb,QAAQ,EAAEiC,KAAK,CAACjC,QAFC;IAGjBD,UAAU,EAAEkC,KAAK,CAAClC;GAHF,CAAlB;;;AAOF,SAAS3U,UAAT,CAAoBF,KAApB,EAA2B;SAClBA,KAAK,CAACxP,MAAN,CAAa,UAAClQ,CAAD;WAAO,CAACA,CAAC,CAACsgB,OAAV;GAAb,CAAP;;;AAGF,SAASY,UAAT,CAAoBxB,KAApB,EAA2B;SAClBA,KAAK,CAACxP,MAAN,CAAa,UAAClQ,CAAD;WAAOA,CAAC,CAACsgB,OAAT;GAAb,CAAP;;;AAGF,SAASokC,WAAT,CAAqBhlC,KAArB,EAA4Bw+B,SAA5B,EAAuC;SAC9Bx+B,KAAK,CAACjf,GAAN,CAAU,UAAC2f,IAAD;WAAUukC,WAAS,CAACvkC,IAAD,EAAO89B,SAAP,CAAnB;GAAV,CAAP;;;AAGF,SAAS0G,aAAT,CAAuBr7C,KAAvB,EAA8B6W,IAA9B,EAAoC;SAC3BA,IAAI,GAAGpb,IAAI,CAAC2O,GAAL,CAASyM,IAAI,CAAC9Z,GAAL,GAAW8Z,IAAI,CAAC/Z,KAAzB,CAAH,GAAqCkD,KAAK,CAACoY,SAAN,EAAhD;;;AAGF,SAASkjC,YAAT,CAAsBnlC,KAAtB,EAA6Bw+B,SAA7B,EAAwC4G,eAAxC,EAAyD;SAChDplC,KAAK,CAACjf,GAAN,CAAU,UAAC2f,IAAD,EAAOqJ,GAAP,EAAe;IAC9Bq7B,eAAe,CAAC1kC,IAAD,EAAOqJ,GAAP,CAAf;QACMzQ,KAAK,GAAG+rC,SAAU,CAAC3kC,IAAD,EAAO89B,SAAP,CAAxB;IACAllC,KAAK,CAACnY,IAAN,GAAauf,IAAI,CAACvf,IAAlB;WACOmY,KAAP;GAJK,CAAP;;;AAQF,SAASgsC,mBAAT,CAA6BtlC,KAA7B,EAAoCw+B,SAApC,EAA+C/zC,QAA/C,EAAyD26C,eAAzD,EAA0E;MAClEvgC,OAAO,GAAG25B,SAAS,CAAC35B,OAA1B;MACM8/B,OAAO,GAAGG,aAAa,CAACr6C,QAAD,CAA7B;SACOuV,KAAK,CAACjf,GAAN,CAAU,UAAC2f,IAAD,EAAOqJ,GAAP,EAAe;IAC9Bq7B,eAAe,CAAC1kC,IAAD,EAAOqJ,GAAP,CAAf;QACMw7B,QAAQ,GAAGZ,OAAO,GAAGnG,SAAS,CAACe,SAApB,GAAgC90C,QAAQ,CAACuX,MAAT,CAAgBjU,MAAjE;IACAywC,SAAS,CAACgH,KAAV,GAAkBz7B,GAAG,GAAG,CAAxB;IACAy0B,SAAS,CAAC35B,OAAV,GAAoBkF,GAAG,GAAG,CAAN,KAAY,CAAZ,GAAgBlF,OAAhB,GAA0B0gC,QAA9C;QACMjsC,KAAK,GAAG+rC,SAAU,CAAC3kC,IAAD,EAAO89B,SAAP,CAAxB;IACAllC,KAAK,CAACnY,IAAN,GAAauf,IAAI,CAACvf,IAAlB;WACOmY,KAAP;GAPK,CAAP;;;AAWF,AAAO,SAASmsC,uBAAT,CAAiCzjC,MAAjC,EAAyChC,KAAzC,EAAgDw+B,SAAhD,EAA2D;MAC5DkH,aAAa,GAAG,uBAAChjD,CAAD,EAAI+a,CAAJ,EAAU;QACtB+oB,KAAK,GAAG34B,UAAU,CAAC,CAAD,EAAImU,MAAM,CAACtf,CAAD,CAAN,CAAUojC,YAAd,CAAxB;QACMW,KAAK,GAAG54B,UAAU,CAAC,CAAD,EAAImU,MAAM,CAACvE,CAAD,CAAN,CAAUqoB,YAAd,CAAxB;WAEOS,YAAY,CAACC,KAAD,EAAQC,KAAR,CAAnB;GAJF;;MAOI+X,SAAS,IAAIA,SAAS,CAACK,MAA3B,EAAmC;QAC3BwD,QAAQ,GAAG/8C,IAAI,CAAC2O,GAAL,CAASuqC,SAAS,CAACr5C,KAAnB,CAAjB;;IAEAugD,aAAa,GAAG,uBAAChjD,CAAD,EAAI+a,CAAJ,EAAU;UAClB2J,QAAQ,GAAG9hB,IAAI,CAAC2O,GAAL,CAAS+N,MAAM,CAACtf,CAAD,CAAN,CAAU2C,CAAV,GAAc2c,MAAM,CAACvE,CAAD,CAAN,CAAUpY,CAAjC,CAAjB;UACMi9C,UAAU,GAAG,IAAIl7B,QAAvB;UACMm7B,qBAAqB,GAAGj9C,IAAI,CAACG,GAAL,CAAS48C,QAAQ,IAAI/8C,IAAI,CAACiE,EAAL,GAAU,GAAd,CAAjB,IAAuC+4C,UAArE;aAEOtgC,MAAM,CAACtf,CAAD,CAAN,CAAUojC,YAAV,CAAuB79B,MAAvB,GAAgCs6C,qBAAvC;KALF;;;OASG,IAAI7/C,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAIsf,MAAM,CAAClgB,MAAP,GAAgB,CAArC,EAAwCY,CAAC,EAAzC,EAA6C;SACtC,IAAI+a,CAAC,GAAG/a,CAAC,GAAG,CAAjB,EAAoB+a,CAAC,IAAInY,IAAI,CAACwG,GAAL,CAASpJ,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAIsf,MAAM,CAAClgB,MAAP,GAAgB,CAApB,CAAjB,CAAzB,EAAmE2b,CAAC,EAApE,EAAwE;;UAClEuE,MAAM,CAACtf,CAAD,CAAN,IAAasf,MAAM,CAACvE,CAAD,CAAnB,IAA0BioC,aAAa,CAAChjD,CAAD,EAAI+a,CAAJ,CAA3C,EAAmD;YAC7CA,CAAC,KAAKuE,MAAM,CAAClgB,MAAP,GAAgB,CAA1B,EAA6B;;UAC3BkgB,MAAM,CAAC/f,MAAP,CAAcS,CAAd,EAAiB,CAAjB;;cACIsd,KAAJ,EAAW;YAAEA,KAAK,CAAC/d,MAAN,CAAaS,CAAb,EAAgB,CAAhB;;SAFf,MAGO;UACLsf,MAAM,CAAC/f,MAAP,CAAcwb,CAAd,EAAiB,CAAjB;;cACIuC,KAAJ,EAAW;YAAEA,KAAK,CAAC/d,MAAN,CAAawb,CAAb,EAAgB,CAAhB;;;;QAEfA,CAAC;QACD/a,CAAC;;;;;;AAMT,SAASijD,uBAAT,QAEG;MADDC,WACC,SADDA,WACC;MADYn7C,QACZ,SADYA,QACZ;MADsBi0C,SACtB,SADsBA,SACtB;MADiC70C,KACjC,SADiCA,KACjC;MADwCg1C,MACxC,SADwCA,MACxC;MADgD8B,OAChD,SADgDA,OAChD;MADyDjgC,IACzD,SADyDA,IACzD;MACKzgB,CAAC,GAAG2lD,WAAW,CAAC39C,MAAtB;MAEMga,SAAS,GAAGijC,aAAa,CAACr7C,KAAD,EAAQ6W,IAAR,CAA/B;MAEMu+B,QAAQ,GAAG;IAAEj3C,KAAK,EAAE,CAAT;IAAYC,MAAM,EAAEhI;GAArC;;MACIwK,QAAQ,CAACoB,KAAT,KAAmB,MAAnB,IAA6BpB,QAAQ,CAACoB,KAAT,KAAmB,OAApD,EAA6D;IAC3DozC,QAAQ,CAACj3C,KAAT,GAAiB02C,SAAS,CAAC12C,KAAV,GAAkB88C,aAAa,CAACr6C,QAAD,CAA/B,GAA4CA,QAAQ,CAACm1C,UAAtE;GADF,MAEO,IAAIe,OAAJ,EAAa;IAClB1B,QAAQ,CAACj3C,KAAT,GAAkBia,SAAS,GAAGy8B,SAAS,CAAC12C,KAAvB,GAAgC,CAAjD;GADK,MAEA,IAAI62C,MAAJ,EAAY;QACX5iB,OAAO,GAAG32B,IAAI,CAAC2O,GAAL,CAASxJ,QAAQ,CAACuX,MAAT,CAAgBqhC,SAAzB,KAAuC/9C,IAAI,CAACiE,EAAL,GAAU,GAAjD,CAAhB;IACA01C,QAAQ,CAACj3C,KAAT,GAAiB,CAAC02C,SAAS,CAACz2C,MAAV,GAAmB68C,aAAa,CAACr6C,QAAD,CAAhC,GAA6CA,QAAQ,CAACm1C,UAAtD,GAAoE3/C,CAAC,GAAGqF,IAAI,CAACC,GAAL,CAAS02B,OAAT,CAAzE,IAA+F32B,IAAI,CAACG,GAAL,CAASw2B,OAAT,CAAhH;GAFK,MAGA;IACLgjB,QAAQ,CAACj3C,KAAT,GAAiBia,SAAS,GAAGy8B,SAAS,CAAC12C,KAAvC;;;EAGFi3C,QAAQ,CAACj3C,KAAT,GAAiB06C,eAAe,CAAC;IAAEt8C,KAAK,EAAE64C,QAAQ,CAACj3C,KAAlB;IAAyB26C,QAAQ,EAAEl4C,QAAQ,CAACuX,MAAT,CAAgBghC,WAAnD;IAAgEJ,QAAQ,EAAEn4C,QAAQ,CAACuX,MAAT,CAAgBihC;GAA3F,CAAhC;SAEOhE,QAAP;;;AAGF,SAAS4G,yBAAT,QAEG;MADDD,WACC,SADDA,WACC;MADYn7C,QACZ,SADYA,QACZ;MADsBi0C,SACtB,SADsBA,SACtB;MADiC7tC,SACjC,SADiCA,SACjC;MAD4CguC,MAC5C,SAD4CA,MAC5C;MADoD8B,OACpD,SADoDA,OACpD;MAD6DjgC,IAC7D,SAD6DA,IAC7D;MADmEoJ,KACnE,SADmEA,KACnE;MAD0EgqB,KAC1E,SAD0EA,KAC1E;MACK7zC,CAAC,GAAG2lD,WAAW,CAAC39C,MAAtB;MAEMg3C,QAAQ,GAAG;IAAEj3C,KAAK,EAAE,CAAT;IAAYC,MAAM,EAAEhI;GAArC;;MACIwK,QAAQ,CAACoB,KAAT,KAAmB,MAAnB,IAA6BpB,QAAQ,CAACoB,KAAT,KAAmB,OAApD,EAA6D;IAC3DozC,QAAQ,CAACj3C,KAAT,GAAiB02C,SAAS,CAAC12C,KAAV,GAAkB88C,aAAa,CAACr6C,QAAD,CAA/B,GAA4CA,QAAQ,CAACm1C,UAAtE;GADF,MAEO,IAAIf,MAAJ,EAAY;QACX5iB,OAAO,GAAG32B,IAAI,CAAC2O,GAAL,CAASxJ,QAAQ,CAACuX,MAAT,CAAgBqhC,SAAzB,KAAuC/9C,IAAI,CAACiE,EAAL,GAAU,GAAjD,CAAhB;IACA01C,QAAQ,CAACj3C,KAAT,GAAiB,CAAC02C,SAAS,CAACz2C,MAAV,GAAmB68C,aAAa,CAACr6C,QAAD,CAAhC,GAA6CA,QAAQ,CAACm1C,UAAtD,GAAoE3/C,CAAC,GAAGqF,IAAI,CAACC,GAAL,CAAS02B,OAAT,CAAzE,IAA+F32B,IAAI,CAACG,GAAL,CAASw2B,OAAT,CAAhH;GAFK,MAGA;IACLgjB,QAAQ,CAACj3C,KAAT,GAAiB89C,kBAA4B,CAAC;MAC5CnF,OAAO,EAAPA,OAD4C;MAE5C7M,KAAK,EAALA,KAF4C;MAG5C4K,SAAS,EAATA,SAH4C;MAI5C7tC,SAAS,EAATA,SAJ4C;MAK5C6P,IAAI,EAAJA,IAL4C;MAM5CoJ,KAAK,EAALA;KAN2C,CAA7C;;;EAUFm1B,QAAQ,CAACj3C,KAAT,GAAiB06C,eAAe,CAAC;IAAEt8C,KAAK,EAAE64C,QAAQ,CAACj3C,KAAlB;IAAyB26C,QAAQ,EAAEl4C,QAAQ,CAACuX,MAAT,CAAgBghC,WAAnD;IAAgEJ,QAAQ,EAAEn4C,QAAQ,CAACuX,MAAT,CAAgBihC;GAA3F,CAAhC;SAEOhE,QAAP;;;AAGF,SAAS8G,aAAT,QAEG;MADDrH,SACC,SADDA,SACC;MADU70C,KACV,SADUA,KACV;MADiBY,QACjB,SADiBA,QACjB;MAD2BiW,IAC3B,SAD2BA,IAC3B;MACKhV,IAAI,GAAGjB,QAAQ,CAACoB,KAAT,KAAmB,KAAnB,IAA4BpB,QAAQ,CAACoB,KAAT,KAAmB,QAA/C,GAA0D6yC,SAAS,CAAC12C,KAApE,GAA4E02C,SAAS,CAACz2C,MAAnG;MACMga,SAAS,GAAGijC,aAAa,CAACr7C,KAAD,EAAQ6W,IAAR,CAA/B;SACOhV,IAAI,GAAGuW,SAAd;;;AAGF,AAAe,SAAS+jC,WAAT,CAAqBjD,UAArB,EAAiC;MAC1CkD,gBAAJ;;WAESC,UAAT,GAAsB;IACpBD,gBAAgB,GAAGJ,yBAAnB;WACOK,UAAP;;;WAGOC,QAAT,GAAoB;IAClBF,gBAAgB,GAAGN,uBAAnB;WACOQ,QAAP;;;WAGOC,KAAT,QAEG;QADD37C,QACC,SADDA,QACC;QADSZ,KACT,SADSA,KACT;QADgB60C,SAChB,SADgBA,SAChB;QAD2B7tC,SAC3B,SAD2BA,SAC3B;QADsCysC,WACtC,SADsCA,WACtC;QADmDt9B,KACnD,SADmDA,KACnD;QAD0DsQ,KAC1D,SAD0DA,KAC1D;QADiEuwB,UACjE,SADiEA,UACjE;QACKxtB,KAAK,GAAG,EAAd;QACMygB,KAAK,GAAG5zB,UAAU,CAACF,KAAD,CAAxB;QACM40B,KAAK,GAAGpzB,UAAU,CAACxB,KAAD,CAAxB;QACMw+B,SAAS,GAAG;MAChBE,SAAS,EAATA,SADgB;MAEhB7yC,KAAK,EAAEpB,QAAQ,CAACoB,KAFA;MAGhBgF,SAAS,EAATA;KAHF;QAKMguC,MAAM,GAAGvuB,KAAK,CAACtO,MAAN,CAAao/B,UAAb,KAA4B,QAA3C;QACMT,OAAO,GAAGrwB,KAAK,CAACtO,MAAN,CAAao/B,UAAb,KAA4B,SAA5C;QACIiF,cAAJ;;QAEI57C,QAAQ,CAAC0C,IAAT,CAAcnC,IAAlB,EAAwB;MACtBwzC,SAAS,CAACznB,KAAV,GAAkBtsB,QAAQ,CAAC0C,IAA3B;MACAqxC,SAAS,CAAC35B,OAAV,GAAoBpa,QAAQ,CAACm6C,YAA7B;MAEAvxB,KAAK,CAACtxB,IAAN,CAAW08C,SAAS,CAACD,SAAD,CAApB;;;QAEE/zC,QAAQ,CAACuV,KAAT,CAAehV,IAAnB,EAAyB;MACvBwzC,SAAS,CAACznB,KAAV,GAAkBtsB,QAAQ,CAACuV,KAA3B;MACAw+B,SAAS,CAACwC,QAAV,GAAqBv2C,QAAQ,CAACuV,KAAT,CAAeghC,QAApC;MACAxC,SAAS,CAAC35B,OAAV,GAAoB6/B,WAAW,CAACj6C,QAAD,CAA/B;MAEA47C,cAAc,GAAGrB,WAAW,CAAClR,KAAD,EAAQ0K,SAAR,CAA5B;;;QAEE/zC,QAAQ,CAACuX,MAAT,CAAgBhX,IAApB,EAA0B;UAClB6Z,OAAO,GAAGigC,aAAa,CAACr6C,QAAD,CAA7B;MACA+zC,SAAS,CAACznB,KAAV,GAAkBtsB,QAAQ,CAACuX,MAA3B;MACAw8B,SAAS,CAAC35B,OAAV,GAAoBA,OAApB;MACA25B,SAAS,CAACK,MAAV,GAAmBA,MAAnB;MACAL,SAAS,CAACmC,OAAV,GAAoBA,OAApB;MACAnC,SAAS,CAACr5C,KAAV,GAAkBsF,QAAQ,CAACuX,MAAT,CAAgBqhC,SAAlC;MACA7E,SAAS,CAACoB,UAAV,GAAuBn1C,QAAQ,CAACm1C,UAAhC;MACApB,SAAS,CAACqC,UAAV,GAAuBA,UAAvB;;UACMuE,eAAe,GAAG,SAAlBA,eAAkB,CAAC1kC,IAAD,EAAOoJ,KAAP,EAAiB;QACvC00B,SAAS,CAACS,QAAV,GAAqB8F,kBAAkB,CAAC;UAAErkC,IAAI,EAAJA,IAAF;UAAQ48B,WAAW,EAAXA,WAAR;UAAqBvmB,KAAK,EAAEynB,SAAS,CAACznB;SAAvC,CAAvC;YACMuvB,OAAO,GAAGL,gBAAgB,CAAC;UAC/BL,WAAW,EAAEpH,SAAS,CAACS,QADQ;UACEx0C,QAAQ,EAARA,QADF;UACYi0C,SAAS,EAATA,SADZ;UACuB7tC,SAAS,EAATA,SADvB;UACkChH,KAAK,EAALA,KADlC;UACyCg1C,MAAM,EAANA,MADzC;UACiD8B,OAAO,EAAPA,OADjD;UAC0DjgC,IAAI,EAAJA,IAD1D;UACgEozB,KAAK,EAALA,KADhE;UACuEhqB,KAAK,EAALA;SADxE,CAAhC;QAGA00B,SAAS,CAACtkB,QAAV,GAAqBosB,OAAO,CAACt+C,KAA7B;QACAw2C,SAAS,CAACe,SAAV,GAAsB+G,OAAO,CAACr+C,MAA9B;QACAu2C,SAAS,CAACp3B,QAAV,GAAqB2+B,aAAa,CAAC;UACjCrH,SAAS,EAATA,SADiC;UACtB70C,KAAK,EAALA,KADsB;UACfmW,KAAK,EAALA,KADe;UACRvV,QAAQ,EAARA,QADQ;UACEiW,IAAI,EAAJA;SADH,CAAlC;OAPF;;UAYI6lC,UAAU,GAAG,EAAjB;;UACI5F,OAAO,KAAKl2C,QAAQ,CAACoB,KAAT,KAAmB,KAAnB,IAA4BpB,QAAQ,CAACoB,KAAT,KAAmB,QAApD,CAAX,EAA0E;QACxE06C,UAAU,GAAGjB,mBAAmB,CAACxR,KAAD,EAAQ0K,SAAR,EAAmB/zC,QAAnB,EAA6B26C,eAA7B,CAAhC;OADF,MAEO;QACLmB,UAAU,GAAGpB,YAAY,CAACrR,KAAD,EAAQ0K,SAAR,EAAmB4G,eAAnB,CAAzB;OAzBsB;;;UA6BpB36C,QAAQ,CAACuX,MAAT,CAAgBkhC,iBAApB,EAAuC;QACrCuC,uBAAuB,CAACc,UAAD,EAAaF,cAAb,EAA6B7H,SAA7B,CAAvB;;;MAGFnrB,KAAK,CAACtxB,IAAN,OAAAsxB,KAAK,uBAASkzB,UAAT,EAAL;;;QAGE97C,QAAQ,CAAC+W,UAAT,IAAuB/W,QAAQ,CAAC+W,UAAT,CAAoBxW,IAA3C,IAAmD4pC,KAAK,CAAC9yC,MAAN,GAAe,CAAtE,EAAyE;MACvE08C,SAAS,CAACznB,KAAV,GAAkBtsB,QAAQ,CAAC+W,UAA3B;MACAg9B,SAAS,CAACwC,QAAV,GAAqBv2C,QAAQ,CAAC+W,UAAT,CAAoBw/B,QAAzC;MACAxC,SAAS,CAAC35B,OAAV,GAAoBggC,gBAAgB,CAACp6C,QAAD,CAApC;MAEA4oB,KAAK,CAACtxB,IAAN,OAAAsxB,KAAK,uBAAS2xB,WAAW,CAACpQ,KAAD,EAAQ4J,SAAR,CAApB,EAAL;;;QAGE6H,cAAJ,EAAoB;MAClBhzB,KAAK,CAACtxB,IAAN,OAAAsxB,KAAK,uBAASgzB,cAAT,EAAL;;;WAGKhzB,KAAP;;;EAGF6yB,UAAU,CAACE,KAAX,GAAmBA,KAAnB;EACAD,QAAQ,CAACC,KAAT,GAAiBA,KAAjB;SAEOrD,UAAU,GAAGoD,QAAQ,EAAX,GAAgBD,UAAU,EAA3C;;;AC3QF;;;;;;;;;;;;;;;;;;AAkBA,IAAMM,yBAAyB,GAAG;;;;EAIhCxkC,MAAM,EAAE;;;IAGNhX,IAAI,EAAE,IAHA;;;;IAMNq4C,SAAS,EAAE,EANL;;;;;IAUNzB,aAAa,EAAE,GAVT;;;;IAaNiC,YAAY,EAAE3B,QAbR;;;;IAgBNn0C,MAAM,EAAE,CAhBF;;;;IAmBNi1C,WAAW,EAAE,GAnBP;;;;IAsBNC,WAAW,EAAE,CAtBP;;;;IAyBNhxB,IAAI,EAAE,MAzBA;;;;IA4BNyvB,aAAa,EAAE50C,GA5BT;;;;IA+BNjB,KAAK,EAAE,GA/BD;;;;IAkCNuP,MAAM,EAAE,CAlCF;;;;;;;IAwCN8nC,iBAAiB,EAAE;GA5CW;;;;;EAiDhCljC,KAAK,EAAE;;;IAGLhV,IAAI,EAAE,KAHD;;;;IAML+C,MAAM,EAAE,CANH;;;;IASLizC,QAAQ,EAAE;GA1DoB;;;;;EA+DhC7zC,IAAI,EAAE;;;IAGJnC,IAAI,EAAE;GAlEwB;;;;EAsEhC45C,YAAY,EAAE,CAtEkB;;;;EAyEhChF,UAAU,EAAE,EAzEoB;;;;EA4EhC/zC,KAAK,EAAE;CA5ET;;;;;;;AAoFA,IAAM46C,2BAA2B,GAAG;;;;EAIlCzkC,MAAM,EAAE;;;IAGNhX,IAAI,EAAE,IAHA;;;;IAMN+C,MAAM,EAAE,CANF;;;;IASNi1C,WAAW,EAAE,GATP;;;;IAYNC,WAAW,EAAE,CAZP;;;;IAeNp3C,KAAK,EAAE,GAfD;;;;IAkBNuP,MAAM,EAAE,CAlBF;;;;;;;IAwBN8nC,iBAAiB,EAAE;GA5Ba;;;;;EAiClCljC,KAAK,EAAE;;;IAGLhV,IAAI,EAAE,IAHD;;;;IAML+C,MAAM,EAAE,CANH;;;;IASLizC,QAAQ,EAAE;GA1CsB;;;;;EA+ClCx/B,UAAU,EAAE;;;IAGVxW,IAAI,EAAE,KAHI;;;;IAMVg2C,QAAQ,EAAE,CANA;;;;IASVjzC,MAAM,EAAE;GAxDwB;;;;;EA6DlCZ,IAAI,EAAE;;;IAGJnC,IAAI,EAAE;GAhE0B;;;;EAoElC45C,YAAY,EAAE,CApEoB;;;;EAuElChF,UAAU,EAAE,EAvEsB;;;;EA0ElC/zC,KAAK,EAAE;CA1ET;;ACpGe,SAAS66C,gBAAT,OAQZ;MAPD3D,UAOC,QAPDA,UAOC;MANDh7C,IAMC,QANDA,IAMC;MALD2O,SAKC,QALDA,SAKC;MAJD4mC,WAIC,QAJDA,WAIC;MAHDzzC,KAGC,QAHDA,KAGC;MAFDY,QAEC,QAFDA,QAEC;MADD6lB,KACC,QADDA,KACC;MACG5kB,IAAI,GAAG,CAAX;;sBAEkDi7C,OAAY,CAAC;IAC7D5D,UAAU,EAAVA,UAD6D;IAE7Dh7C,IAAI,EAAJA,IAF6D;IAG7D2O,SAAS,EAATA,SAH6D;IAI7D4mC,WAAW,EAAXA,WAJ6D;IAK7DzzC,KAAK,EAALA,KAL6D;IAM7DY,QAAQ,EAARA,QAN6D;IAO7D6lB,KAAK,EAALA;GAP4D,CAH7D;MAGas2B,SAHb,iBAGOl7C,IAHP;MAGwB8C,SAHxB,iBAGwBA,SAHxB;MAGmCg0C,SAHnC,iBAGmCA,SAHnC;;EAaD92C,IAAI,IAAIk7C,SAAR;;MAEIpE,SAAJ,EAAe;WACN;MAAE92C,IAAI,EAAJA;KAAT;;;MAGEjB,QAAQ,CAACuV,KAAT,CAAehV,IAAnB,EAAyB;IACvBU,IAAI,IAAIjB,QAAQ,CAACuV,KAAT,CAAejS,MAAvB;IACArC,IAAI,IAAIjB,QAAQ,CAACuV,KAAT,CAAeghC,QAAvB;;;MAEEv2C,QAAQ,CAAC+W,UAAT,IAAuB/W,QAAQ,CAAC+W,UAAT,CAAoBxW,IAA/C,EAAqD;QAC7C67C,cAAc,GAAGp8C,QAAQ,CAAC+W,UAAT,CAAoBzT,MAApB,GAA6BtD,QAAQ,CAAC+W,UAAT,CAAoBw/B,QAAxE;;QACI6F,cAAc,GAAGn7C,IAArB,EAA2B;MACzBA,IAAI,GAAGm7C,cAAP;;;;MAGAp8C,QAAQ,CAAC0C,IAAT,CAAcnC,IAAlB,EAAwB;IACtBU,IAAI,IAAIjB,QAAQ,CAAC0C,IAAT,CAAc8nB,WAAtB;;;EAEFvpB,IAAI,IAAIjB,QAAQ,CAACm6C,YAAjB;EACAl5C,IAAI,IAAIjB,QAAQ,CAACm1C,UAAjB;SAEO;IAAEl0C,IAAI,EAAJA,IAAF;IAAQ8C,SAAS,EAATA;GAAf;;;AClCF,SAASs4C,cAAT,OAA0C;MAAhBj7C,KAAgB,QAAhBA,KAAgB;MAATX,KAAS,QAATA,KAAS;;MACpCW,KAAK,KAAK,MAAd,EAAsB;WACb;MAAExG,CAAC,EAAE6F,KAAK,CAAClD,KAAN,GAAckD,KAAK,CAAC7F;KAAhC;;;MAEEwG,KAAK,KAAK,OAAV,IAAqBA,KAAK,KAAK,QAAnC,EAA6C;WACpCX,KAAP;;;SAEK;IAAE1F,CAAC,EAAE0F,KAAK,CAAC1F,CAAN,GAAU0F,KAAK,CAACjD;GAA5B;;;AAGF,SAAS8+C,YAAT,CAAsBl7C,KAAtB,EAA6BlB,IAA7B,EAAmC;MAC3B83C,UAAU,GAAG,CAAC,KAAD,EAAQ,QAAR,CAAnB;MACMuE,QAAQ,GAAG,CAAC,MAAD,EAAS,OAAT,CAAjB;;MACIvE,UAAU,CAAChyC,OAAX,CAAmB5E,KAAnB,MAA8B,CAAC,CAA/B,IAAoCm7C,QAAQ,CAACv2C,OAAT,CAAiB9F,IAAjB,MAA2B,CAAC,CAApE,EAAuE;WAC9DkB,KAAP;;;MAEEm7C,QAAQ,CAACv2C,OAAT,CAAiB5E,KAAjB,MAA4B,CAAC,CAA7B,IAAkC42C,UAAU,CAAChyC,OAAX,CAAmB9F,IAAnB,MAA6B,CAAC,CAApE,EAAuE;WAC9DkB,KAAP;;;SAEKlB,IAAP,CATiC;;;;;;;;AAgBnC,SAASs8C,oBAAT,QAIG;MAHD32B,KAGC,SAHDA,KAGC;MAFDyG,KAEC,SAFDA,KAEC;MADDtsB,QACC,SADDA,QACC;MACKy8C,YAAY,GAAG36C,MAAM,CAAC,IAAD,EAAO,EAAP,EAAW+jB,KAAK,CAACyyB,UAAN,GAAmByD,yBAAnB,GAA+CC,2BAA1D,EAAuF1vB,KAAvF,CAA3B;MACMowB,UAAU,GAAG56C,MAAM,CAAC,IAAD,EAAO,EAAP,EAAW26C,YAAX,EAAyBz8C,QAAQ,CAACA,QAAlC,CAAzB;MAEME,IAAI,GAAGF,QAAQ,CAACkI,MAAT,CAAgBhI,IAAhB,IAAwB2lB,KAAK,CAAC82B,WAA3C;EACAD,UAAU,CAACx8C,IAAX,GAAkBA,IAAlB;EACAw8C,UAAU,CAACt7C,KAAX,GAAmBk7C,YAAY,CAACt8C,QAAQ,CAACA,QAAT,CAAkBoB,KAAnB,EAA0BlB,IAA1B,CAA/B;EACAw8C,UAAU,CAACnlC,MAAX,CAAkBqhC,SAAlB,GAA8B/9C,IAAI,CAACyG,GAAL,CAAS,CAAC,EAAV,EAAczG,IAAI,CAACwG,GAAL,CAASq7C,UAAU,CAACnlC,MAAX,CAAkBqhC,SAA3B,EAAsC,EAAtC,CAAd,CAA9B;SAEO8D,UAAP;;;AAGF,SAASE,gBAAT,CAA0B/2B,KAA1B,EAAiC7lB,QAAjC,EAA2Cs4C,UAA3C,EAAuD;MAC/C9wB,IAAI,GAAGxnB,QAAQ,CAACuX,MAAT,CAAgBiQ,IAA7B;;MAEI,CAAC8wB,UAAD,IAAe,CAACzyB,KAAK,CAACg3B,YAA1B,EAAwC;WAC/B,YAAP;;;MAGEr1B,IAAI,KAAK,MAAb,EAAqB;WACZ3B,KAAK,CAACtO,MAAN,CAAao/B,UAApB;;;MAEE,CAAC,SAAD,EAAY,QAAZ,EAAsB3wC,OAAtB,CAA8BhG,QAAQ,CAACuX,MAAT,CAAgBiQ,IAA9C,MAAwD,CAAC,CAAzD,IAA8D,CAAC,KAAD,EAAQ,QAAR,EAAkBxhB,OAAlB,CAA0BhG,QAAQ,CAACE,IAAnC,MAA6C,CAAC,CAAhH,EAAmH;WAC1GsnB,IAAP;;;SAEK,YAAP;;;AAGF,IAAMs1B,aAAa,GAAG;EACpBjpB,OAAO,EAAE,CAAC,OAAD,EAAU,UAAV,EAAsB,YAAtB,CADW;EAEpBpc,eAAe,EAAE;IACfvP,MAAM,EAAE;MACN/H,YAAY,EAAE,CADR;MAENC,SAAS,EAAE;KAHE;IAKfJ,QAAQ,EAAE,EALK;IAMfssB,KAAK,EAAE;MACL/U,MAAM,EAAE,QADH;MAELhC,KAAK,EAAE,aAFF;MAGLwB,UAAU,EAAE,oBAHP;MAILrU,IAAI,EAAE;;GAZU;EAepByzB,OAfoB,qBAeV;;SAEHtQ,KAAL,GAAa;MACXyyB,UAAU,EAAE,CAAC,CAAC,KAAKl5C,KAAL,CAAWoY,SADd;MAEXqlC,YAAY,EAAE,KAFH;MAGXtlC,MAAM,EAAE;QACNo/B,UAAU,EAAE;OAJH;MAMXphC,KAAK,EAAE,EANI;MAOX0+B,SAAS,EAAE;QACT12C,KAAK,EAAE,CADE;QACCC,MAAM,EAAE,CADT;QACY5C,CAAC,EAAE,CADf;QACkBG,CAAC,EAAE;OARrB;MAUXqL,SAAS,EAAE;QACT7I,KAAK,EAAE,CADE;QACCC,MAAM,EAAE,CADT;QACY5C,CAAC,EAAE,CADf;QACkBG,CAAC,EAAE;OAXrB;MAaX4hD,WAAW,EAAEr9C,SAbF;MAcXy9C,mBAAmB,EAAEz9C,SAdV;MAeXU,QAAQ,EAAEV;KAfZ;;QAkBI,KAAKumB,KAAL,CAAWyyB,UAAf,EAA2B;WACpBzyB,KAAL,CAAW82B,WAAX,GAAyB,QAAzB;KADF,MAEO;WACA92B,KAAL,CAAW82B,WAAX,GAAyB,MAAzB;;;SAGGK,QAAL,CAAc,KAAKh9C,QAAnB;GAzCkB;EA2CpBg9C,QA3CoB,sBA2CT;SACJn3B,KAAL,CAAWyyB,UAAX,GAAwB,CAAC,CAAC,KAAKl5C,KAAL,CAAWoY,SAArC;SACKqO,KAAL,CAAW7lB,QAAX,GAAsBw8C,oBAAoB,CAAC,IAAD,CAA1C;SAEK32B,KAAL,CAAWk3B,mBAAX,GAAiCxB,WAAW,CAAC,KAAK11B,KAAL,CAAWyyB,UAAZ,CAA5C;SAEKv4C,UAAL,CAAgBG,IAAhB,CAAqB,KAAK2lB,KAAL,CAAW7lB,QAAX,CAAoBE,IAAzC,EANS;;SAQJ2lB,KAAL,CAAWg3B,YAAX,GAA0B,KAAKh3B,KAAL,CAAW7lB,QAAX,CAAoBoB,KAApB,KAA8B,KAA9B,IAAuC,KAAKykB,KAAL,CAAW7lB,QAAX,CAAoBoB,KAApB,KAA8B,QAA/F;SACKykB,KAAL,CAAWtO,MAAX,CAAkBo/B,UAAlB,GAA+BiG,gBAAgB,CAAC,KAAK/2B,KAAN,EAAa,KAAKA,KAAL,CAAW7lB,QAAxB,EAAkC,KAAK6lB,KAAL,CAAWyyB,UAA7C,CAA/C;GApDkB;EAsDpBj4C,aAtDoB,yBAsDN2R,IAtDM,EAsDA;QAEhB/F,SAFgB,GAKd,IALc,CAEhBA,SAFgB;QAGhB4Z,KAHgB,GAKd,IALc,CAGhBA,KAHgB;QAIhBzmB,KAJgB,GAKd,IALc,CAIhBA,KAJgB;QAOZwW,QAAQ,GAAG,KAAKiQ,KAAL,CAAWg3B,YAAX,GAA0B7qC,IAAI,CAACvR,KAAL,CAAWlD,KAArC,GAA6CyU,IAAI,CAACvR,KAAL,CAAWjD,MAAzE;SAEKqoB,KAAL,CAAW7K,OAAX,GAAqB6Q,aAAa,CAACzsB,KAAD,EAAQwW,QAAR,CAAlC;QAEMqnC,OAAO,GAAGhB,gBAAgB,CAAC;MAC/B3D,UAAU,EAAE,KAAKzyB,KAAL,CAAWyyB,UADQ;MAE/Bh7C,IAAI,EAAE0U,IAAI,CAACvR,KAFoB;MAG/BwL,SAAS,EAATA,SAH+B;MAI/B4mC,WAAW,EAAE,KAAKrqB,QAAL,CAAcqqB,WAJI;MAK/BzzC,KAAK,EAAE,KAAKymB,KAAL,CAAW7K,OALa;MAM/Bhb,QAAQ,EAAE,KAAK6lB,KAAL,CAAW7lB,QANU;MAO/B6lB,KAAK,EAALA;KAP8B,CAAhC;WAUOo3B,OAAP;GA3EkB;EA6EpB1mB,YA7EoB,0BA6EI;QAAXvkB,IAAW,uEAAJ,EAAI;QAEpBhS,QAFoB,GAGlBgS,IAHkB,CAEpBhS,QAFoB;SAIjBg9C,QAAL,CAAch9C,QAAd;GAjFkB;EAmFpBwH,MAnFoB,kBAmFbwK,IAnFa,EAmFP;QAETvR,KAFS,GAIPuR,IAJO,CAETvR,KAFS;QAGTC,KAHS,GAIPsR,IAJO,CAGTtR,KAHS;QAMLw8C,aAAa,GAAGp7C,MAAM,CAAC,EAAD,EAAKrB,KAAL,EAAY47C,cAAc,CAAC;MACrDj7C,KAAK,EAAE,KAAKykB,KAAL,CAAW7lB,QAAX,CAAoBoB,KAD0B;MAErDX,KAAK,EAALA;KAFoD,CAA1B,CAA5B;QAKM08C,UAAU,GAAGz8C,KAAK,IAAIw8C,aAA5B;IACAp7C,MAAM,CAAC,KAAK+jB,KAAL,CAAWouB,SAAZ,EAAuBiJ,aAAvB,CAAN;IACAp7C,MAAM,CAAC,KAAK+jB,KAAL,CAAWzf,SAAZ,EAAuB+2C,UAAvB,CAAN;WAEOz8C,KAAP;GAlGkB;EAoGpB81B,YApGoB,0BAoGL;QAEXp3B,KAFW,GAIT,IAJS,CAEXA,KAFW;QAGX6M,SAHW,GAIT,IAJS,CAGXA,SAHW;QAMP2J,QAAQ,GAAG,KAAKiQ,KAAL,CAAWg3B,YAAX,GAA0B,KAAKh3B,KAAL,CAAWouB,SAAX,CAAqB12C,KAA/C,GAAuD,KAAKsoB,KAAL,CAAWouB,SAAX,CAAqBz2C,MAA7F;SAEKqoB,KAAL,CAAW7K,OAAX,GAAqB6Q,aAAa,CAACzsB,KAAD,EAAQwW,QAAR,CAAlC;SACKiQ,KAAL,CAAWtQ,KAAX,GAAmB,KAAKsQ,KAAL,CAAW7K,OAAX,CAAmBzF,KAAnB,CAAyB;MAC1CK,QAAQ,EAARA,QAD0C;MAE1C3J,SAAS,EAATA;KAFiB,EAGhBlG,MAHgB,CAGT,UAAClQ,CAAD;aAAOA,CAAC,CAACqgB,QAAF,IAAc,CAAd,IAAmBrgB,CAAC,CAACqgB,QAAF,IAAc,CAAxC;KAHS,CAAnB;GA7GkB;EAkHpB+T,MAlHoB,oBAkHX;QAELpE,KAFK,GAGH,IAHG,CAELA,KAFK;QAKD+C,KAAK,GAAG,EAAd;IACAA,KAAK,CAACtxB,IAAN,OAAAsxB,KAAK,uBAAS,KAAK/C,KAAL,CAAWk3B,mBAAX,CAA+BpB,KAA/B,CAAqC;MACjD37C,QAAQ,EAAE,KAAK6lB,KAAL,CAAW7lB,QAD4B;MAEjDZ,KAAK,EAAE,KAAKymB,KAAL,CAAW7K,OAF+B;MAGjDi5B,SAAS,EAAE,KAAKpuB,KAAL,CAAWouB,SAH2B;MAIjD7tC,SAAS,EAAE,KAAKyf,KAAL,CAAWzf,SAJ2B;MAKjDysC,WAAW,EAAE,KAAKrqB,QAAL,CAAcqqB,WALsB;MAMjDuD,UAAU,EAAE,KAAK5tB,QAAL,CAAc4tB,UANuB;MAOjD7gC,KAAK,EAAE,KAAKsQ,KAAL,CAAWtQ,KAP+B;MAQjDsQ,KAAK,EAALA;KARY,CAAT,EAAL;IAWAqrB,UAAQ,CAAChB,QAAT,CAAkBtnB,KAAlB;WAEOA,KAAP;;CArIJ;;ACnEA;;;;;;;;;AASA,IAAM3xB,MAAI,GAAG,MAAb;AAEA,AAAe,SAASmmD,IAAT,CAAc1Q,OAAd,EAAuB;EACpCA,OAAO,CAAC5kC,SAAR,CAAkB7Q,MAAlB,EAAwB6lD,aAAxB;;;ACZF,SAASO,UAAT,CAAoB/0B,IAApB,EAA0B1W,IAA1B,EAAgCxS,KAAhC,EAAuC;MACjCsP,KAAK,GAAG,EAAZ;;MACI,OAAO4Z,IAAP,KAAgB,UAApB,EAAgC;IAC9B5Z,KAAK,GAAG4Z,IAAI,EAAZ;GADF,MAEO,IAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;IACnC5Z,KAAK,GAAG4Z,IAAR;GADK,MAEA,IAAIlpB,KAAJ,EAAW;QACZ1I,IAAI,GAAG0I,KAAK,CAAC1I,IAAN,EAAX;QACM4mD,MAAM,GAAG,CAAC5mD,IAAI,CAACmb,MAAL,IAAe,EAAhB,EAAoBvb,GAApB,CAAwB,UAACwY,KAAD;aAAWA,KAAK,CAACJ,KAAN,EAAX;KAAxB,CAAf;IACAA,KAAK,GAAG4uC,MAAM,CAAC1rC,IAAP,CAAYA,IAAZ,CAAR;;;SAGKlD,KAAP;;;AAGF,SAAS6uC,aAAT,CAAuBr9C,IAAvB,EAA6BqvB,MAA7B,EAAqC;MAC/B5uB,GAAG,GAAG,QAAV;;MACIT,IAAI,KAAK,MAAb,EAAqB;QACfqvB,MAAM,KAAK,KAAf,EAAsB;MACpB5uB,GAAG,GAAG,KAAN;KADF,MAEO,IAAI4uB,MAAM,KAAK,QAAf,EAAyB;MAC9B5uB,GAAG,GAAG,OAAN;;GAJJ,MAMO,IAAIT,IAAI,KAAK,OAAb,EAAsB;QACvBqvB,MAAM,KAAK,KAAf,EAAsB;MACpB5uB,GAAG,GAAG,OAAN;KADF,MAEO,IAAI4uB,MAAM,KAAK,QAAf,EAAyB;MAC9B5uB,GAAG,GAAG,KAAN;;GAJG,MAMA,IAAI4uB,MAAM,KAAK,MAAf,EAAuB;IAC5B5uB,GAAG,GAAG,OAAN;GADK,MAEA,IAAI4uB,MAAM,KAAK,OAAf,EAAwB;IAC7B5uB,GAAG,GAAG,KAAN;;;SAEKA,GAAP;;;AAGF,SAAS68C,aAAT,OAOG;MAND9uC,KAMC,QANDA,KAMC;MALD+uC,kBAKC,QALDA,kBAKC;MAJDv9C,IAIC,QAJDA,IAIC;MAHD5C,IAGC,QAHDA,IAGC;MAFDu1C,WAEC,QAFDA,WAEC;MADDvmB,KACC,QADDA,KACC;MACKwnB,MAAM,GAAG;IACb78C,IAAI,EAAE,MADO;IAEbqxB,IAAI,EAAE5Z,KAFO;IAGb9T,CAAC,EAAE,CAHU;IAIbG,CAAC,EAAE,CAJU;IAKbI,EAAE,EAAE,CALS;IAMbC,EAAE,EAAE,CANS;IAObm0B,MAAM,EAAEguB,aAAa,CAACr9C,IAAD,EAAOu9C,kBAAkB,CAACluB,MAA1B,CAPR;IAQbF,QAAQ,EAAE;GARZ;EAWAvtB,MAAM,CAACgyC,MAAD,EAASxnB,KAAK,CAAChE,IAAf,CAAN;MACMksB,QAAQ,GAAG3B,WAAW,CAACiB,MAAD,CAA5B;;MAEI5zC,IAAI,KAAK,KAAT,IAAkBA,IAAI,KAAK,QAA/B,EAAyC;QACnCtF,CAAC,GAAG0C,IAAI,CAACC,KAAL,GAAa,CAArB;;QACIkgD,kBAAkB,CAACluB,MAAnB,KAA8B,MAAlC,EAA0C;MACxC30B,CAAC,GAAG6iD,kBAAkB,CAACC,WAAnB,IAAkC,CAAtC;KADF,MAEO,IAAID,kBAAkB,CAACluB,MAAnB,KAA8B,OAAlC,EAA2C;MAChD30B,CAAC,GAAG0C,IAAI,CAACC,KAAL,IAAckgD,kBAAkB,CAACE,YAAnB,IAAmC,CAAjD,CAAJ;;;IAGF7J,MAAM,CAACl5C,CAAP,GAAWA,CAAX;IACAk5C,MAAM,CAAC/4C,CAAP,GAAWmF,IAAI,KAAK,KAAT,GAAiB5C,IAAI,CAACE,MAAL,GAAcigD,kBAAkB,CAACtD,YAAlD,GAAiEsD,kBAAkB,CAACtD,YAAnB,GAAkC3F,QAAQ,CAACh3C,MAAvH;IACAs2C,MAAM,CAAC14C,EAAP,GAAY8E,IAAI,KAAK,KAAT,GAAiB,EAAEs0C,QAAQ,CAACh3C,MAAT,GAAkB,CAApB,CAAjB,GAA0C,EAAEg3C,QAAQ,CAACh3C,MAAT,GAAkB,CAApB,CAAtD;IACAs2C,MAAM,CAACrkB,QAAP,GAAkBnyB,IAAI,CAACC,KAAL,GAAa,GAA/B;GAXF,MAYO;QACDxC,CAAC,GAAGuC,IAAI,CAACE,MAAL,GAAc,CAAtB;;QACIigD,kBAAkB,CAACluB,MAAnB,KAA8B,KAAlC,EAAyC;MACvCx0B,CAAC,GAAG0iD,kBAAkB,CAACtD,YAAvB;KADF,MAEO,IAAIsD,kBAAkB,CAACluB,MAAnB,KAA8B,QAAlC,EAA4C;MACjDx0B,CAAC,GAAGuC,IAAI,CAACE,MAAL,GAAcigD,kBAAkB,CAACtD,YAArC;;;IAGFrG,MAAM,CAAC/4C,CAAP,GAAWA,CAAX;IACA+4C,MAAM,CAACl5C,CAAP,GAAWsF,IAAI,KAAK,MAAT,GAAkB5C,IAAI,CAACC,KAAL,GAAakgD,kBAAkB,CAACtD,YAAlD,GAAiEsD,kBAAkB,CAACtD,YAA/F;IACArG,MAAM,CAAC34C,EAAP,GAAY+E,IAAI,KAAK,MAAT,GAAkB,EAAEs0C,QAAQ,CAACh3C,MAAT,GAAkB,CAApB,CAAlB,GAA4Cg3C,QAAQ,CAACh3C,MAAT,GAAkB,CAA1E;QACMogD,QAAQ,GAAG19C,IAAI,KAAK,MAAT,GAAkB,GAAlB,GAAwB,EAAzC;IACA4zC,MAAM,CAACpkB,SAAP,oBAA6BkuB,QAA7B,eAA0C9J,MAAM,CAACl5C,CAAP,GAAWk5C,MAAM,CAAC34C,EAA5D,eAAmE24C,MAAM,CAAC/4C,CAAP,GAAW+4C,MAAM,CAAC14C,EAArF;IACA04C,MAAM,CAACrkB,QAAP,GAAkBnyB,IAAI,CAACE,MAAL,GAAc,GAAhC;;;MAGE,CAAC0D,KAAK,CAACu8C,kBAAkB,CAAClF,WAApB,CAAV,EAA4C;IAC1CzE,MAAM,CAACrkB,QAAP,GAAkB50B,IAAI,CAACwG,GAAL,CAASyyC,MAAM,CAACrkB,QAAhB,EAA0BguB,kBAAkB,CAAClF,WAA7C,CAAlB;;;SAGKzE,MAAP;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCF,IAAM+J,aAAa,GAAG;EACpBhqB,OAAO,EAAE,CAAC,UAAD,EAAa,OAAb,CADW;EAEpBpc,eAAe,EAAE;IACfvP,MAAM,EAAE;MACNhI,IAAI,EAAE,QADA;MAENC,YAAY,EAAE,CAFR;MAGNC,SAAS,EAAE;KAJE;IAMfJ,QAAQ,EAAE;MACRm6C,YAAY,EAAE,CADN;MAERhF,UAAU,EAAE,CAFJ;MAGRuI,WAAW,EAAE,CAHL;MAIRC,YAAY,EAAE,CAJN;MAKRpuB,MAAM,EAAE,QALA;MAMR3d,IAAI,EAAE,IANE;MAOR2mC,WAAW,EAAEl2C;KAbA;IAefiqB,KAAK,EAAE;MACLhE,IAAI,EAAE;;GAlBU;EAsBpB6N,OAtBoB,qBAsBV;SACHsnB,kBAAL,GAA0B,KAAKz9C,QAAL,CAAcA,QAAxC;QAEMsoB,IAAI,GAAG,KAAKtoB,QAAL,CAAcsoB,IAA3B;QACM1W,IAAI,GAAG,KAAK6rC,kBAAL,CAAwB7rC,IAArC;SACKlD,KAAL,GAAa2uC,UAAU,CAAC/0B,IAAD,EAAO1W,IAAP,EAAa,KAAKxS,KAAlB,CAAvB;GA3BkB;EA8BpBiB,aA9BoB,2BA8BJ;QACR7C,MAAM,GAAG,KAAKgrB,QAAL,CAAcqqB,WAAd,CAA0B;MACvCvqB,IAAI,EAAE,KAAK5Z,KAD4B;MAEvC2b,QAAQ,EAAE,KAAKiC,KAAL,CAAWhE,IAAX,CAAgB+B,QAFa;MAGvCD,UAAU,EAAE,KAAKkC,KAAL,CAAWhE,IAAX,CAAgB8B;KAHf,EAIZ5sB,MAJH;WAKOA,MAAM,GAAG,KAAKigD,kBAAL,CAAwBtD,YAAjC,GAAgD,KAAKsD,kBAAL,CAAwBtI,UAA/E;GApCkB;EAuCpBlrB,MAvCoB,oBAuCX;QAELvb,KAFK,GAKH,IALG,CAELA,KAFK;QAGL+uC,kBAHK,GAKH,IALG,CAGLA,kBAHK;QAILngD,IAJK,GAKH,IALG,CAILA,IAJK;QAMDsrB,KAAK,GAAG,EAAd;IACAA,KAAK,CAACtxB,IAAN,CAAWkmD,aAAa,CAAC;MACvB9uC,KAAK,EAALA,KADuB;MAEvBxO,IAAI,EAAE,KAAKF,QAAL,CAAckI,MAAd,CAAqBhI,IAFJ;MAGvBu9C,kBAAkB,EAAlBA,kBAHuB;MAIvBngD,IAAI,EAAJA,IAJuB;MAKvBu1C,WAAW,EAAE,KAAKrqB,QAAL,CAAcqqB,WALJ;MAMvBvmB,KAAK,EAAE,KAAKA;KANU,CAAxB;WAQO1D,KAAP;GAtDkB;EAyDpB2N,YAzDoB,wBAyDPvkB,IAzDO,EAyDD;QACbA,IAAI,CAAChS,QAAT,EAAmB;MACjB8B,MAAM,CAAC,KAAK9B,QAAN,EAAgBgS,IAAI,CAAChS,QAArB,CAAN;WACKy9C,kBAAL,GAA0BzrC,IAAI,CAAChS,QAAL,CAAcA,QAAxC;;;QAEIsoB,IAAI,GAAG,KAAKtoB,QAAL,CAAcsoB,IAA3B;QACM1W,IAAI,GAAG,KAAK6rC,kBAAL,CAAwB7rC,IAArC;SACKlD,KAAL,GAAa2uC,UAAU,CAAC/0B,IAAD,EAAO1W,IAAP,EAAa,KAAKxS,KAAlB,CAAvB;;CAhEJ;;AC3He,SAASkpB,IAAT,CAAcokB,OAAd,EAAuB;EACpCA,OAAO,CAAC5kC,SAAR,CAAkB,MAAlB,EAA0B+1C,aAA1B;;;ACHF;;;;;;;;;;;AAYA,SAAS3hD,KAAT,CAAe4hD,UAAf,EAA2B3E,GAA3B,EAAgC;MACxBj5C,IAAI,GAAG49C,UAAU,CAAC99C,QAAX,CAAoBkI,MAApB,CAA2BhI,IAAxC;MACM4X,MAAM,GAAGgmC,UAAU,CAAC99C,QAAX,CAAoBA,QAApB,CAA6B8X,MAA5C;MACMkgC,UAAU,GAAG93C,IAAI,KAAK,KAAT,IAAkBA,IAAI,KAAK,QAA9C;MACM69C,UAAU,GAAG/F,UAAU,GAAG,OAAH,GAAa,QAA1C;MACM3gD,MAAM,GAAGymD,UAAU,CAACxgD,IAAX,CAAgBygD,UAAhB,CAAf;;MACMpd,MAAM,GAAGmd,UAAU,CAAChzB,KAAX,CAAiB6V,MAAjB,CAAwBmd,UAAU,CAAC99C,QAAX,CAAoB2gC,MAA5C,CAAf;;MACIqd,WAAJ;;;QAGMrtC,MAAM,GAAGwoC,GAAG,CAACnB,UAAU,GAAG,GAAH,GAAS,GAApB,CAAhB;;QACIlgC,MAAJ,EAAY;MACVnH,MAAM,GAAGtZ,MAAM,GAAGsZ,MAAlB;;;QAEIstC,WAAW,GAAGtd,MAAM,CAAClgB,QAAP,EAApB;IAEAu9B,WAAW,GAAG;MACZE,WAAW,EAAEvtC,MADD;MAEZwtC,WAAW,EAAEF,WAAW,CAAC/hD,KAFb;MAGZkiD,KAAK,EAAE;KAHT,CAPF;;QAcQC,WAAW,GAAK1tC,MAAM,GAAGtZ,MAAV,IAAqB4mD,WAAW,CAAC38C,GAAZ,GAAkB28C,WAAW,CAAC58C,GAAnD,CAAD,GAA4D48C,WAAW,CAAC58C,GAA5F;;QACIg9C,WAAW,GAAGJ,WAAW,CAAC/hD,KAA9B,EAAqC;MACnC8hD,WAAW,CAACG,WAAZ,GAA0BE,WAA1B;KADF,MAEO,IAAIA,WAAW,GAAGJ,WAAW,CAAC/hD,KAAZ,GAAoB+hD,WAAW,CAAC99B,QAAlD,EAA4D;MACjE69B,WAAW,CAACG,WAAZ,GAA0BE,WAAW,GAAGJ,WAAW,CAAC99B,QAApD;;;;MAIEI,MAAM,GAAG,SAATA,MAAS,CAAC5pB,CAAD,EAAO;QAChBga,MAAM,GAAGha,CAAC,CAACqhD,UAAU,GAAG,GAAH,GAAS,GAApB,CAAd;;QACIlgC,MAAJ,EAAY;MACVnH,MAAM,GAAGtZ,MAAM,GAAGsZ,MAAlB;;;QAEE,CAACqtC,WAAW,CAACI,KAAjB,EAAwB;UAClBvjD,IAAI,CAAC2O,GAAL,CAASw0C,WAAW,CAACE,WAAZ,GAA0BvtC,MAAnC,KAA8C,CAAlD,EAAqD;;;;MAGrDqtC,WAAW,CAACI,KAAZ,GAAoB,IAApB;;;QAGIH,WAAW,GAAGtd,MAAM,CAAClgB,QAAP,EAApB;QACM69B,UAAU,GAAI,CAAC3tC,MAAM,GAAGqtC,WAAW,CAACE,WAAtB,IAAqC7mD,MAAtC,IAAiD4mD,WAAW,CAAC38C,GAAZ,GAAkB28C,WAAW,CAAC58C,GAA/E,CAAnB;QACMk9C,WAAW,GAAGP,WAAW,CAACG,WAAZ,GAA0BG,UAA9C;IACA3d,MAAM,CAAC7kC,MAAP,CAAcyiD,WAAd;GAfF;;MAiBMpiD,GAAG,GAAG,SAANA,GAAM,CAACxF,CAAD,EAAO;QACbga,MAAM,GAAGha,CAAC,CAACqhD,UAAU,GAAG,GAAH,GAAS,GAApB,CAAd;;QACIlgC,MAAJ,EAAY;MACVnH,MAAM,GAAGtZ,MAAM,GAAGsZ,MAAlB;;;QAEIstC,WAAW,GAAGtd,MAAM,CAAClgB,QAAP,EAApB;;QACIu9B,WAAW,CAACI,KAAhB,EAAuB;UACfE,UAAU,GAAI,CAAC3tC,MAAM,GAAGqtC,WAAW,CAACE,WAAtB,IAAqC7mD,MAAtC,IAAiD4mD,WAAW,CAAC38C,GAAZ,GAAkB28C,WAAW,CAAC58C,GAA/E,CAAnB;UACMk9C,WAAW,GAAGP,WAAW,CAACG,WAAZ,GAA0BG,UAA9C;MACA3d,MAAM,CAAC7kC,MAAP,CAAcyiD,WAAd;KAHF,MAIO;UACCC,YAAY,GAAK7tC,MAAM,GAAGtZ,MAAV,IAAqB4mD,WAAW,CAAC38C,GAAZ,GAAkB28C,WAAW,CAAC58C,GAAnD,CAAD,GAA4D48C,WAAW,CAAC58C,GAA7F;;UACMk9C,YAAW,GAAGC,YAAY,GAAIP,WAAW,CAAC99B,QAAZ,GAAuB,CAA3D;;MACAwgB,MAAM,CAAC7kC,MAAP,CAAcyiD,YAAd;;GAbJ;;SAiBO;IACLh+B,MAAM,EAANA,MADK;IAELpkB,GAAG,EAAHA;GAFF;;;AAMF,SAASsiD,WAAT,CAAqB5pB,KAArB,EAA4BrM,QAA5B,EAAsC;MAC9BznB,aAAa,GAAGynB,QAAQ,CAACoG,OAAT,GAAmBC,qBAAnB,EAAtB;SACO;IACLj0B,CAAC,EAAEi6B,KAAK,CAACpzB,MAAN,CAAa7G,CAAb,GAAiBmG,aAAa,CAACuD,IAD7B;IAELvJ,CAAC,EAAE85B,KAAK,CAACpzB,MAAN,CAAa1G,CAAb,GAAiBgG,aAAa,CAACyD;GAFpC;;;AAMF,IAAMk6C,kBAAkB,GAAG;EACzB7qB,OAAO,EAAE,CAAC,OAAD,EAAU,UAAV,CADgB;EAEzBrG,EAAE,EAAE;IACFmxB,QADE,oBACO9pB,KADP,EACc;UACRskB,GAAG,GAAGsF,WAAW,CAAC5pB,KAAD,EAAQ,KAAKrM,QAAb,CAAvB;UACMo2B,QAAQ,GAAG;QACfhkD,CAAC,EAAEu+C,GAAG,CAACv+C,CAAJ,GAAQi6B,KAAK,CAACgqB,MADF;QAEf9jD,CAAC,EAAEo+C,GAAG,CAACp+C,CAAJ,GAAQ85B,KAAK,CAACiqB;OAFnB;WAIKd,WAAL,GAAmB9hD,KAAK,CAAC,IAAD,EAAO0iD,QAAP,CAAxB;WACKZ,WAAL,CAAiBz9B,MAAjB,CAAwB44B,GAAxB;KARA;IAUF4F,OAVE,mBAUMlqB,KAVN,EAUa;UACT,CAAC,KAAKmpB,WAAV,EAAuB;;;;UACjB7E,GAAG,GAAGsF,WAAW,CAAC5pB,KAAD,EAAQ,KAAKrM,QAAb,CAAvB;WACKw1B,WAAL,CAAiBz9B,MAAjB,CAAwB44B,GAAxB;KAbA;IAeF6F,MAfE,kBAeKnqB,KAfL,EAeY;UACR,CAAC,KAAKmpB,WAAV,EAAuB;;;;UACjB7E,GAAG,GAAGsF,WAAW,CAAC5pB,KAAD,EAAQ,KAAKrM,QAAb,CAAvB;WACKw1B,WAAL,CAAiB7hD,GAAjB,CAAqBg9C,GAArB;WACK6E,WAAL,GAAmB,IAAnB;KAnBA;IAqBFiB,SArBE,uBAqBU;WACLjB,WAAL,GAAmB,IAAnB;KAtBA;IAwBF1oB,GAxBE,eAwBET,KAxBF,EAwBS;UACHskB,GAAG,GAAGsF,WAAW,CAAC5pB,KAAD,EAAQ,KAAKrM,QAAb,CAAvB;UACMpI,IAAI,GAAGlkB,KAAK,CAAC,IAAD,EAAOi9C,GAAP,CAAlB;MACA/4B,IAAI,CAACjkB,GAAL,CAASg9C,GAAT;;GA7BqB;EAgCzB1hC,eAAe,EAAE;IACfzX,QAAQ,EAAE;MACRuqB,eAAe,EAAE,MADT;MAER20B,UAAU,EAAE,MAFJ;MAGR3hD,KAAK,EAAE,EAHC;;;GAjCa;EAwCzB8C,aAAa,EAAE,SAASA,aAAT,CAAuB/C,IAAvB,EAA6B;QACpC2gD,WAAW,GAAG,KAAKnzB,KAAL,CAAW6V,MAAX,CAAkB,KAAK3gC,QAAL,CAAc2gC,MAAhC,EAAwClgB,QAAxC,EAApB,CAD0C;;QAGtCw9B,WAAW,CAAC99B,QAAZ,IAAwB89B,WAAW,CAAC38C,GAAZ,GAAkB28C,WAAW,CAAC58C,GAA1D,EAA+D;UACvDq3C,WAAW,GAAG79C,IAAI,CAACyG,GAAL,CAAShE,IAAI,CAACC,KAAd,EAAqBD,IAAI,CAACE,MAA1B,CAApB;aACOk7C,WAAP;;;WAEK,KAAK14C,QAAL,CAAcA,QAAd,CAAuBzC,KAA9B;GA/CuB;EAkDzB0sB,MAAM,EAAE,SAASA,MAAT,CAAgBz0B,CAAhB,EAAmB;;;QACnB0K,IAAI,GAAG,KAAKF,QAAL,CAAckI,MAAd,CAAqBhI,IAAlC;QACM4X,MAAM,GAAG,KAAK9X,QAAL,CAAcA,QAAd,CAAuB8X,MAAtC;QACMkgC,UAAU,GAAG93C,IAAI,KAAK,KAAT,IAAkBA,IAAI,KAAK,QAA9C;QACM69C,UAAU,GAAG/F,UAAU,GAAG,OAAH,GAAa,QAA1C;QAEMmH,KAAK,GAAG,KAAK7hD,IAAnB;QACMjG,MAAM,GAAG8nD,KAAK,CAACpB,UAAD,CAApB;QAEME,WAAW,GAAG,KAAKnzB,KAAL,CAAW6V,MAAX,CAAkB,KAAK3gC,QAAL,CAAc2gC,MAAhC,EAAwClgB,QAAxC,EAApB;QACI2+B,UAAU,GAAI/nD,MAAM,IAAI4mD,WAAW,CAAC/hD,KAAZ,GAAoB+hD,WAAW,CAAC58C,GAApC,CAAP,IAAoD48C,WAAW,CAAC38C,GAAZ,GAAkB28C,WAAW,CAAC58C,GAAlF,CAAjB;QACMg+C,UAAU,GAAIhoD,MAAM,GAAG4mD,WAAW,CAAC99B,QAAtB,IAAmC89B,WAAW,CAAC38C,GAAZ,GAAkB28C,WAAW,CAAC58C,GAAjE,CAAnB;;QAEIyW,MAAJ,EAAY;MACVsnC,UAAU,GAAG/nD,MAAM,GAAG+nD,UAAT,GAAsBC,UAAnC;;;WAGK7pD,CAAC,CACN,KADM,EAEN;MACE82B,KAAK,EAAE;QACLpW,QAAQ,EAAE,UADL;QAEL3Y,KAAK,EAAE,MAFF;QAGLC,MAAM,EAAE,MAHH;QAIL80C,UAAU,EAAE,KAAKtyC,QAAL,CAAcA,QAAd,CAAuBuqB,eAJ9B;QAKL+0B,aAAa,EAAE;;KARb,EAWN,GAAG/nD,MAAH,CAAU/B,CAAC,CAAC,KAAD,EAAQ;MACjB+pD,KAAK,EAAE,UADU;MAEjBjzB,KAAK;QACHpW,QAAQ,EAAE;iCACT8hC,UAAU,GAAG,MAAH,GAAY,KAFpB,YAE+BoH,UAF/B,kCAGFpH,UAAU,GAAG,KAAH,GAAW,MAHnB,EAG4B,KAH5B,2BAIFA,UAAU,GAAG,QAAH,GAAc,OAJtB,EAIgC,KAJhC,2BAKF+F,UALE,YAKcljD,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAY+9C,UAAZ,CALd,gDAMS,KAAKr/C,QAAL,CAAcA,QAAd,CAAuBk/C,UANhC;KAFI,CAAX,CAXM,CAAR;GAnEuB;EA4FzB12B,QAAQ,EAAE;CA5FZ;AA+FA,AAAe,SAASg3B,SAAT,CAAmB9S,OAAnB,EAA4B;EACzCA,OAAO,CAAC5kC,SAAR,CAAkB,WAAlB,EAA+B42C,kBAA/B;;;AC3LF,IAAMe,WAAW,GAAG,CAApB;AACA,IAAMC,QAAQ,GAAG,CAAjB;AACA,IAAMC,UAAU,GAAG,CAAnB;;ACMA,SAAS3L,WAAT,OAEG;MADDx+C,CACC,QADDA,CACC;MADEg9B,UACF,QADEA,UACF;MADc72B,KACd,QADcA,KACd;MADqBw9C,GACrB,QADqBA,GACrB;MAD0B/3C,KAC1B,QAD0BA,KAC1B;MADiCw+C,SACjC,QADiCA,SACjC;MAD4C/5B,KAC5C,QAD4CA,KAC5C;MADmDvG,GACnD,QADmDA,GACnD;MACKugC,YAAY,GAAGz+C,KAAK,KAAK,KAA/B;MACM0+C,UAAU,GAAG;IAAEx7C,IAAI,EAAE,GAAR;IAAaE,GAAG,EAAE;GAArC;MACMu7C,QAAQ,GAAG;IAAEx7C,KAAK,EAAE,GAAT;IAAcE,MAAM,EAAE;GAAvC;MACMu7C,UAAU,GAAGH,YAAY,GAAGC,UAAH,GAAgBC,QAA/C;MACI7jD,KAAK,GAAG,CAAZ;MACIqB,KAAK,GAAG,MAAZ;MACIC,MAAM,GAAG,MAAb;;MAEIqoB,KAAK,CAACo6B,UAAN,IAAoBp6B,KAAK,CAAC7lB,QAAN,CAAekgD,OAAf,CAAuB9+C,KAAvB,KAAiC,OAAzD,EAAkE;IAChE7D,KAAK,aAAMsoB,KAAK,CAACo6B,UAAN,CAAiBrlD,CAAjB,GAAqBirB,KAAK,CAACo6B,UAAN,CAAiB1iD,KAA5C,OAAL;IACAC,MAAM,aAAMqoB,KAAK,CAACo6B,UAAN,CAAiBllD,CAAjB,GAAqB8qB,KAAK,CAACo6B,UAAN,CAAiBziD,MAA5C,OAAN;GAFF,MAGO,IAAIqoB,KAAK,CAACo6B,UAAN,IAAoBp6B,KAAK,CAAC7lB,QAAN,CAAekgD,OAAf,CAAuB9+C,KAAvB,KAAiC,KAAzD,EAAgE;IACrElF,KAAK,GAAGs2B,UAAU,GAAG3M,KAAK,CAACo6B,UAAN,CAAiBrlD,CAApB,GAAwBirB,KAAK,CAACo6B,UAAN,CAAiBllD,CAA3D;IACAwC,KAAK,aAAMsoB,KAAK,CAACvoB,IAAN,CAAWC,KAAX,GAAmBrB,KAAzB,OAAL;IACAsB,MAAM,aAAMqoB,KAAK,CAACvoB,IAAN,CAAWE,MAAX,GAAoBtB,KAA1B,OAAN;;;MAGE,CAAC2jD,YAAL,EAAmB;IACjB1G,GAAG,IAAIyG,SAAP;GAnBD;;;SAuBMpqD,CAAC,CAAC,KAAD,EAAQ;IACd2qD,WADc,uBACFx3C,CADE,EACC;MACbA,CAAC,CAACy3C,UAAF,CAAarkC,QAAb,CAAsB,CAAtB,EAAyBuQ,KAAzB,CAA+B/B,eAA/B,GAAiD,MAAjD;MACA5hB,CAAC,CAACy3C,UAAF,CAAarkC,QAAb,CAAsB,CAAtB,EAAyBuQ,KAAzB,CAA+BkG,UAAU,GAAG,QAAH,GAAc,OAAvD,IAAkE,KAAlE;KAHY;IAKd6tB,UALc,sBAKH13C,CALG,EAKA;MACZA,CAAC,CAACy3C,UAAF,CAAarkC,QAAb,CAAsB,CAAtB,EAAyBuQ,KAAzB,CAA+B/B,eAA/B,GAAiD1E,KAAK,CAACyG,KAAN,CAAY5pB,IAAZ,CAAiBrI,MAAlE;MACAsO,CAAC,CAACy3C,UAAF,CAAarkC,QAAb,CAAsB,CAAtB,EAAyBuQ,KAAzB,CAA+BkG,UAAU,GAAG,QAAH,GAAc,OAAvD,IAAkE,KAAlE;KAPY;kBASA72B,KATA;gBAUF,CAACkqB,KAAK,CAACrtB,GAAP,EAAY,MAAZ,EAAoB8mB,GAApB,EAAyB1N,IAAzB,CAA8B,GAA9B,CAVE;IAWd0a,KAAK,EAAE;MACLg0B,MAAM,EAAE9tB,UAAU,GAAG,WAAH,GAAiB,WAD9B;MAELtc,QAAQ,EAAE,UAFL;MAGL5R,IAAI,EAAEkuB,UAAU,aAAMt2B,KAAN,oBAAqBi9C,GAArB,OAHX;MAIL30C,GAAG,EAAEguB,UAAU,aAAM2mB,GAAN,oBAAmBj9C,KAAnB,OAJV;MAKLsB,MAAM,EAAEg1B,UAAU,aAAMotB,SAAN,UAAsBpiD,MALnC;MAMLD,KAAK,EAAEi1B,UAAU,GAAGj1B,KAAH,aAAcqiD,SAAd,OANZ;MAOLN,aAAa,EAAE;;GAlBX,EAoBL;EAED9pD,CAAC,CAAC,KAAD,EAAQ;IACP82B,KAAK,EAAExqB,MAAM,CACX;MACEyoB,eAAe,EAAE1E,KAAK,CAACyG,KAAN,CAAY5pB,IAAZ,CAAiBrI,MADpC;MAEE6b,QAAQ,EAAE,UAFZ;MAGE1Y,MAAM,EAAEg1B,UAAU,aAAM,CAAN,UAAc,MAHlC;MAIEj1B,KAAK,EAAEi1B,UAAU,GAAG,MAAH,aAAe,CAAf,OAJnB;MAKE8sB,aAAa,EAAE;KANN,EAQXU,UARW;GADd,CAFA,CApBK,CAAR;;;AAqCF,SAASO,WAAT,QAEG;;;MADD/qD,CACC,SADDA,CACC;MADEg9B,UACF,SADEA,UACF;MADc3jB,KACd,SADcA,KACd;MADqB2xC,UACrB,SADqBA,UACrB;MADiCC,QACjC,SADiCA,QACjC;MAD2CnhC,GAC3C,SAD2CA,GAC3C;MADgD65B,GAChD,SADgDA,GAChD;MADqD/3C,KACrD,SADqDA,KACrD;MAD4DykB,KAC5D,SAD4DA,KAC5D;MADmElqB,KACnE,SADmEA,KACnE;MACKkkD,YAAY,GAAGz+C,KAAK,KAAK,KAA/B;MACMs/C,SAAS,GAAG76B,KAAK,CAAC7lB,QAAN,CAAekgD,OAAf,CAAuBS,SAAvB,KAAqC,SAAvD;MACIC,OAAO,GAAG,MAAd;MACIC,UAAJ;;MACIruB,UAAJ,EAAgB;IACdquB,UAAU,GAAGhB,YAAY,GAAG,MAAH,GAAY,OAArC;;QACIa,SAAJ,EAAe;MACbE,OAAO,GAAGf,YAAY,GAAG,wBAAH,GAA8B,uBAApD;;GAHJ,MAKO;IACLgB,UAAU,GAAGhB,YAAY,GAAG,KAAH,GAAW,QAApC;;QACIa,SAAJ,EAAe;MACbE,OAAO,GAAGf,YAAY,GAAG,uBAAH,GAA6B,uBAAnD;;;;MAIAiB,MAAM,GAAGj7B,KAAK,CAACk7B,IAAN,IAAcl7B,KAAK,CAACk7B,IAAN,CAAWN,QAAX,KAAwBA,QAAtC,IAAkD56B,KAAK,CAACk7B,IAAN,CAAWC,SAAX,KAAyB1hC,GAAxF;MAEM2hC,WAAW,GAAG;IAClB/qC,QAAQ,EAAE,UADQ;IAElBgrC,YAAY,YAAKr7B,KAAK,CAACyG,KAAN,CAAY60B,MAAZ,CAAmBD,YAAxB,OAFM;IAGlBE,MAAM,YAAKv7B,KAAK,CAACyG,KAAN,CAAY60B,MAAZ,CAAmB32B,WAAxB,sBAA+C3E,KAAK,CAACyG,KAAN,CAAY60B,MAAZ,CAAmB9mD,MAAlE,CAHY;IAIlBkwB,eAAe,EAAE1E,KAAK,CAACyG,KAAN,CAAY60B,MAAZ,CAAmBzjD,IAJlB;IAKlB4sB,KAAK,EAAEzE,KAAK,CAACyG,KAAN,CAAY60B,MAAZ,CAAmB72B,KALR;IAMlBF,UAAU,EAAEvE,KAAK,CAACyG,KAAN,CAAY60B,MAAZ,CAAmB/2B,UANb;IAOlBC,QAAQ,EAAExE,KAAK,CAACyG,KAAN,CAAY60B,MAAZ,CAAmB92B,QAPX;IAQlBjQ,OAAO,EAAE,SARS;IASlBinC,SAAS,EAAE,QATO;IAUlBC,QAAQ,EAAE,QAVQ;IAWlBC,YAAY,EAAE,UAXI;IAYlBC,UAAU,EAAE,QAZM;IAalB/xB,QAAQ,EAAE,OAbQ;IAclB7tB,QAAQ,EAAE,MAdQ;IAelBC,SAAS,EAAE,KAfO;IAgBlBy9C,aAAa,EAAE,MAhBG;IAiBlB5vB,SAAS,EAAE8C,UAAU,GAAG,mBAAH,GAAyB,mBAjB5B;IAkBlB8tB,MAAM,EAAE9tB,UAAU,GAAG,WAAH,GAAiB;GAlBrC;MAqBIivB,kBAAkB,GAAG57B,KAAK,CAACyG,KAAN,CAAY60B,MAAZ,CAAmB9mD,MAA5C;MAEM8mD,MAAM,GAAGL,MAAM,GAAGtrD,CAAC,CAAC,OAAD,EAAU;IACjCyB,IAAI,EAAE,MAD2B;IAEjC0E,KAAK,EAALA,KAFiC;IAGjC2wB,KAAK,qBACA20B,WADA;MAEHI,SAAS,EAAE,OAFR;MAGHE,YAAY,EAAE,EAHX;MAIHl3B,QAAQ,EAAE,MAJP;;MAH4B;IASjCq3B,OATiC,mBASzB/4C,CATyB,EAStB;UACLA,CAAC,CAACnQ,GAAF,KAAU,OAAd,EAAuB;QACrBmQ,CAAC,CAACs5B,cAAF;QACAt5B,CAAC,CAACo6B,eAAF;YACM4e,QAAQ,GAAGC,UAAU,CAACj5C,CAAC,CAAC5Q,MAAF,CAAS4D,KAAV,CAA3B;;YACIuF,KAAK,CAACygD,QAAD,CAAT,EAAqB;UACnBF,kBAAkB,GAAG,wBAArB;UACA94C,CAAC,CAAC5Q,MAAF,CAASu0B,KAAT,CAAe80B,MAAf,aAA2Bv7B,KAAK,CAACyG,KAAN,CAAY60B,MAAZ,CAAmB32B,WAA9C,sBAAqEi3B,kBAArE;SAFF,MAGO;UACL57B,KAAK,CAACg8B,eAAN,CAAsBpB,QAAtB,EAAgCkB,QAAhC,EAA0CnB,UAA1C;;OARJ,MAUO,IAAI73C,CAAC,CAACnQ,GAAF,KAAU,QAAd,EAAwB;QAC7BmQ,CAAC,CAACs5B,cAAF;QACAt5B,CAAC,CAACo6B,eAAF;QACAld,KAAK,CAACi8B,cAAN;;;GAvBmB,CAAJ,GA0BhBtsD,CAAC,CAAC,KAAD,EAAQ;gBACA,CAACqwB,KAAK,CAACrtB,GAAP,EAAY,QAAZ,EAAsBioD,QAAtB,EAAgC7uC,IAAhC,CAAqC,GAArC,CADA;wBAEQ4uC,UAFR;gBAGAC,QAHA;iBAICnhC,GAJD;IAKZgN,KAAK,EAAE20B;GALH,EAMH,CAACpyC,KAAD,CANG,CA1BN,CA1CC;;SA6EMrZ,CAAC,CAAC,KAAD,EAAQ;IACd82B,KAAK;MACHpW,QAAQ,EAAE;+BACT2qC,UAFE,EAEW,GAFX,2BAGFruB,UAAU,GAAG,KAAH,GAAW,MAHnB,YAG+B2mB,GAH/B,+CAIQyH,OAJR;GADC,EAOL;EAEDO,MAFC,CAPK,CAAR;;;AAaF,SAASY,SAAT,QAEG;MADDvsD,CACC,SADDA,CACC;MADEg9B,UACF,SADEA,UACF;MADchuB,GACd,SADcA,GACd;MADmBhH,MACnB,SADmBA,MACnB;MAD2B8sB,KAC3B,SAD2BA,KAC3B;MADkCkD,EAClC,SADkCA,EAClC;MADsCpE,OACtC,SADsCA,OACtC;SACM5zB,CAAC,CAAC,KAAD,EAAQsM,MAAM,CAAC;IACrBwqB,KAAK,EAAE;MACL/B,eAAe,EAAED,KADZ;MAELlB,OAAO,EAAPA,OAFK;MAGLlT,QAAQ,EAAE,UAHL;MAIL5R,IAAI,EAAEkuB,UAAU,GAAG,CAAH,aAAUhuB,GAAV,OAJX;MAKLA,GAAG,EAAEguB,UAAU,aAAMhuB,GAAN,UAAgB,CAL1B;MAMLhH,MAAM,EAAEg1B,UAAU,aAAMh1B,MAAN,UAAmB,MANhC;MAOLD,KAAK,EAAEi1B,UAAU,GAAG,MAAH,aAAeh1B,MAAf,OAPZ;MAQL8hD,aAAa,EAAE;;GATG,EAWnB9xB,EAXmB,CAAd,EAWA,EAXA,CAAR;;;AAcF,AAAe,SAASw0B,UAAT,QAEZ;MADDpC,SACC,SADDA,SACC;MADUqC,GACV,SADUA,GACV;MADezvB,UACf,SADeA,UACf;MAD2B3M,KAC3B,SAD2BA,KAC3B;MADkCq8B,MAClC,SADkCA,MAClC;MAD0CC,IAC1C,SAD0CA,IAC1C;MADgD7iC,GAChD,SADgDA,GAChD;MACG8iC,YAAY,GAAG,CAAnB;;MACIv8B,KAAK,CAACo6B,UAAV,EAAsB;IACpBmC,YAAY,GAAG5vB,UAAU,GAAG3M,KAAK,CAACo6B,UAAN,CAAiBllD,CAApB,GAAwB8qB,KAAK,CAACo6B,UAAN,CAAiBrlD,CAAlE;;;MAEIynD,QAAQ,GAAG,CAAC,CAACx8B,KAAK,CAACzmB,KAAzB;MACMlD,KAAK,GAAGmmD,QAAQ,GAAGx8B,KAAK,CAACzmB,KAAN,CAAY8a,IAAZ,CAAiBgoC,MAAjB,IAA2Br8B,KAAK,CAAC5kB,IAApC,GAA2CihD,MAAjE;MACM/lD,GAAG,GAAGkmD,QAAQ,GAAGx8B,KAAK,CAACzmB,KAAN,CAAY8a,IAAZ,CAAiBioC,IAAjB,IAAyBt8B,KAAK,CAAC5kB,IAAlC,GAAyCkhD,IAA7D;MACM3kD,MAAM,GAAG3C,IAAI,CAAC2O,GAAL,CAAStN,KAAK,GAAGC,GAAjB,CAAf;MACMqI,GAAG,GAAG3J,IAAI,CAACwG,GAAL,CAASnF,KAAT,EAAgBC,GAAhB,IAAuBimD,YAAnC;MACM39C,MAAM,GAAGD,GAAG,GAAGhH,MAArB;;MAEIqoB,KAAK,CAACo6B,UAAV,EAAsB;QACdloD,MAAM,GAAG8tB,KAAK,CAACy8B,cAAN,IAAwBz8B,KAAK,CAACo6B,UAA7C;QACMsC,UAAU,GAAG/vB,UAAU,GAAGz6B,MAAM,CAACyF,MAAV,GAAmBzF,MAAM,CAACwF,KAAvD;QACMilD,WAAW,GAAGH,QAAQ,GAAGx8B,KAAK,CAACzmB,KAAN,CAAY8a,IAAZ,CAAiBgoC,MAAjB,IAA2BK,UAA9B,GAA2CL,MAAvE;QACMO,SAAS,GAAGJ,QAAQ,GAAGx8B,KAAK,CAACzmB,KAAN,CAAY8a,IAAZ,CAAiBioC,IAAjB,IAAyBI,UAA5B,GAAyCJ,IAAnE;QACMO,YAAY,GAAG7nD,IAAI,CAAC2O,GAAL,CAASg5C,WAAW,GAAGC,SAAvB,CAArB;QACME,SAAS,GAAG9nD,IAAI,CAACwG,GAAL,CAASmhD,WAAT,EAAsBC,SAAtB,CAAlB;QACMG,UAAU,GAAG;MACjBptD,CAAC,EAAEqwB,KAAK,CAACrwB,CADQ;MAEjBg9B,UAAU,EAAVA,UAFiB;MAGjBhuB,GAAG,EAAEm+C,SAHY;MAIjBnlD,MAAM,EAAEklD,YAJS;MAKjBp4B,KAAK,EAAEzE,KAAK,CAACyG,KAAN,CAAYv0B,MAAZ,CAAmB2F,IALT;MAMjB0rB,OAAO,EAAEvD,KAAK,CAACyG,KAAN,CAAYv0B,MAAZ,CAAmBqxB;KAN9B;;QAQIvD,KAAK,CAACyG,KAAN,CAAYv0B,MAAZ,CAAmBqxB,OAAnB,GAA6B,GAAjC,EAAsC;MACpCw5B,UAAU,CAACp1B,EAAX,GAAgB;QACd2yB,WADc,uBACFx3C,CADE,EACC;UACbA,CAAC,CAACy3C,UAAF,CAAa9zB,KAAb,CAAmBlD,OAAnB,GAA6BvD,KAAK,CAACyG,KAAN,CAAYv0B,MAAZ,CAAmBqxB,OAAnB,GAA6B,GAA1D;SAFY;QAIdi3B,UAJc,sBAIH13C,CAJG,EAIA;UACZA,CAAC,CAACy3C,UAAF,CAAa9zB,KAAb,CAAmBlD,OAAnB,GAA6BvD,KAAK,CAACyG,KAAN,CAAYv0B,MAAZ,CAAmBqxB,OAAhD;;OALJ;;;IASF64B,GAAG,CAAC3qD,IAAJ,CAASuuB,KAAK,CAACrwB,CAAN,CAAQ,KAAR,EAAe;MACtB82B,KAAK,EAAE;QACLpW,QAAQ,EAAE,UADL;QAEL5R,IAAI,YAAKvM,MAAM,CAAC6C,CAAZ,OAFC;QAGL4J,GAAG,YAAKzM,MAAM,CAACgD,CAAZ,OAHE;QAILyC,MAAM,YAAKzF,MAAM,CAACyF,MAAZ,OAJD;QAKLD,KAAK,YAAKxF,MAAM,CAACwF,KAAZ;;KANA,EAQN,CACDwkD,SAAS,CAACa,UAAD,CADR,CARM,CAAT;GArCD;;;;;;;;;;MA2DKC,QAAQ,GAAG3mD,KAAK,GAAGC,GAAR,GAAc+lD,MAAd,GAAuBC,IAAxC;MACMW,MAAM,GAAG5mD,KAAK,GAAGC,GAAR,GAAcgmD,IAAd,GAAqBD,MAApC;;cACmBG,QAAQ,GAAGx8B,KAAK,CAACzmB,KAAN,CAAYiY,MAAZ,EAAH,GAA0B,CAACxc,IAAI,CAACwG,GAAL,CAAS6gD,MAAT,EAAiBC,IAAjB,CAAD,EAAyBtnD,IAAI,CAACyG,GAAL,CAAS4gD,MAAT,EAAiBC,IAAjB,CAAzB,CA7DpD;;MA6DM9gD,GA7DN;MA6DWC,GA7DX;;MA+DKyhD,cAAc,GAAGF,QAAQ,GAAG,IAAX,IAAmBxhD,GAAnB,IAA0BwhD,QAAQ,GAAG,IAAX,IAAmBvhD,GAApE,CA/DC;;MAgEK0hD,YAAY,GAAGF,MAAM,GAAG,IAAT,IAAiBxhD,GAAjB,IAAwBwhD,MAAM,GAAG,IAAT,IAAiBzhD,GAA9D;;MAEI0hD,cAAJ,EAAoB;IAClBd,GAAG,CAAC3qD,IAAJ,CAAS08C,WAAS,CAAC;MACjBx+C,CAAC,EAAEqwB,KAAK,CAACrwB,CADQ;MAEjBg9B,UAAU,EAAVA,UAFiB;MAGjBotB,SAAS,EAATA,SAHiB;MAIjBjkD,KAAK,EAAEknD,QAJU;MAKjB1J,GAAG,EAAE30C,GALY;MAMjBpD,KAAK,EAAE,OANU;MAOjBykB,KAAK,EAALA,KAPiB;MAQjBvG,GAAG,EAAHA;KARgB,CAAlB;;;MAYE0jC,YAAJ,EAAkB;IAChBf,GAAG,CAAC3qD,IAAJ,CAAS08C,WAAS,CAAC;MACjBx+C,CAAC,EAAEqwB,KAAK,CAACrwB,CADQ;MAEjBg9B,UAAU,EAAVA,UAFiB;MAGjBotB,SAAS,EAATA,SAHiB;MAIjBjkD,KAAK,EAAEmnD,MAJU;MAKjB3J,GAAG,EAAE10C,MALY;MAMjBrD,KAAK,EAAE,KANU;MAOjBykB,KAAK,EAALA,KAPiB;MAQjBvG,GAAG,EAAHA;KARgB,CAAlB;;;MAYI4gC,OAAO,GAAGr6B,KAAK,CAAC7lB,QAAN,CAAekgD,OAA/B;;MACIA,OAAO,IAAIA,OAAO,CAAC3/C,IAAvB,EAA6B;QACrB8pB,QAAQ,GAAG61B,OAAO,CAAC71B,QAAzB;QACMD,UAAU,GAAG81B,OAAO,CAAC91B,UAA3B;QACM1sB,IAAI,GAAGwiD,OAAO,CAACxiD,IAArB;QACM4uB,KAAK,GAAG;MACZjC,QAAQ,EAARA,QADY;MAEZD,UAAU,EAAVA,UAFY;MAGZE,KAAK,EAAE5sB;KAHT;QAMM6T,KAAK,GAAG,CAAC2wC,MAAD,EAASC,IAAT,CAAd;;QAEIY,cAAJ,EAAoB;MAClBd,GAAG,CAAC3qD,IAAJ,CAASipD,WAAW,CAAC;QACnB/qD,CAAC,EAAEqwB,KAAK,CAACrwB,CADU;QAEnBg9B,UAAU,EAAVA,UAFmB;QAGnBpxB,KAAK,EAAE8+C,OAAO,CAAC9+C,KAHI;QAInBkrB,KAAK,EAALA,KAJmB;QAKnBm0B,QAAQ,EAAEnhC,GALS;QAMnBA,GAAG,EAAE,CANc;QAOnBkhC,UAAU,EAAEsC,MAPO;QAQnBnnD,KAAK,EAAEknD,QARY;QASnBh0C,KAAK,YAAKgX,KAAK,CAACtZ,MAAN,CAAas2C,QAAb,EAAuBtxC,KAAvB,CAAL,CATc;QAUnB4nC,GAAG,EAAE30C,GAVc;QAWnBqhB,KAAK,EAALA;OAXkB,CAApB;;;QAeEm9B,YAAJ,EAAkB;MAChBf,GAAG,CAAC3qD,IAAJ,CAASipD,WAAW,CAAC;QACnB/qD,CAAC,EAAEqwB,KAAK,CAACrwB,CADU;QAEnBg9B,UAAU,EAAVA,UAFmB;QAGnBpxB,KAAK,EAAE8+C,OAAO,CAAC9+C,KAHI;QAInBkrB,KAAK,EAALA,KAJmB;QAKnBm0B,QAAQ,EAAEnhC,GALS;QAMnBA,GAAG,EAAE,CANc;QAOnBkhC,UAAU,EAAEqC,QAPO;QAQnBlnD,KAAK,EAAEmnD,MARY;QASnBj0C,KAAK,YAAKgX,KAAK,CAACtZ,MAAN,CAAau2C,MAAb,EAAqBvxC,KAArB,CAAL,CATc;QAUnB4nC,GAAG,EAAE10C,MAVc;QAWnBohB,KAAK,EAALA;OAXkB,CAApB;;;;AAiBN,AAAO,SAASo9B,YAAT,CAAsBp9B,KAAtB,EAA6B;MAC5Bq9B,QAAQ,GAAGr9B,KAAK,CAAC4G,MAAN,CAAa02B,SAAb,GAAyBt9B,KAAK,CAAC4G,MAAN,CAAatwB,GAAvD;MACMinD,QAAQ,GAAGv9B,KAAK,CAAC4G,MAAN,CAAa42B,QAAb,GAAwBx9B,KAAK,CAAC4G,MAAN,CAAavwB,KAAtD;MACIonD,KAAK,GAAGz9B,KAAK,CAACrC,OAAN,GAAgBqC,KAAK,CAAC3pB,KAAlC;;MACIonD,KAAK,GAAG,CAAZ,EAAe;IACbA,KAAK,GAAGzoD,IAAI,CAACyG,GAAL,CAASgiD,KAAT,EAAgBF,QAAhB,CAAR;GADF,MAEO;IACLE,KAAK,GAAGzoD,IAAI,CAACwG,GAAL,CAASiiD,KAAT,EAAgBJ,QAAhB,CAAR;;;SAGKI,KAAP;;AAGF,AAAO,SAAS16B,KAAT,CAAe/C,KAAf,EAAsB;MACvBo8B,GAAG,GAAG,EAAV;MAEMzvB,UAAU,GAAG3M,KAAK,CAACuM,SAAN,KAAoBstB,QAAvC;;MAEIxmD,KAAK,CAACC,OAAN,CAAc0sB,KAAK,CAACxD,MAApB,CAAJ,EAAiC;;IAE/BwD,KAAK,CAACxD,MAAN,CAAalb,OAAb,CAAqB,UAAClL,CAAD,EAAIhE,CAAJ,EAAU;UACzB,CAAC4tB,KAAK,CAAC4G,MAAP,IAAiBx0B,CAAC,KAAK4tB,KAAK,CAAC4G,MAAN,CAAanN,GAAxC,EAA6C;QAC3C0iC,UAAU,CAAC;UACTpC,SAAS,EAAEH,WADF;UAETwC,GAAG,EAAHA,GAFS;UAGTzvB,UAAU,EAAVA,UAHS;UAIT3M,KAAK,EAALA,KAJS;UAKTq8B,MAAM,EAAErnD,IAAI,CAACwG,GAAL,CAASpF,CAAC,CAACoF,GAAX,EAAgBpF,CAAC,CAACqF,GAAlB,CALC;UAMT6gD,IAAI,EAAEtnD,IAAI,CAACyG,GAAL,CAASrF,CAAC,CAACoF,GAAX,EAAgBpF,CAAC,CAACqF,GAAlB,CANG;UAOTge,GAAG,EAAErnB;SAPG,CAAV;;KAFJ;;;MAeE4tB,KAAK,CAAC4G,MAAV,EAAkB;;QAEZy1B,MAAM,GAAGr8B,KAAK,CAAC3pB,KAAnB;QACIimD,IAAI,GAAGt8B,KAAK,CAACrC,OAAjB;;QACIqC,KAAK,CAAC4G,MAAN,CAAanN,GAAb,KAAqB,CAAC,CAA1B,EAA6B;UACvBuG,KAAK,CAAC4G,MAAN,CAAajF,IAAb,KAAsB,KAA1B,EAAiC;QAC/B06B,MAAM,GAAGrnD,IAAI,CAACwG,GAAL,CAASwkB,KAAK,CAAC4G,MAAN,CAAavwB,KAAtB,EAA6B2pB,KAAK,CAAC4G,MAAN,CAAatwB,GAA1C,CAAT;QACAgmD,IAAI,GAAGtnD,IAAI,CAACyG,GAAL,CAASukB,KAAK,CAAC4G,MAAN,CAAavwB,KAAtB,EAA6B2pB,KAAK,CAAC4G,MAAN,CAAatwB,GAA1C,CAAP;OAFF,MAGO,IAAI0pB,KAAK,CAAC4G,MAAN,CAAajF,IAAb,KAAsB,QAA1B,EAAoC;QACzC06B,MAAM,GAAGrnD,IAAI,CAACwG,GAAL,CAASwkB,KAAK,CAAC3pB,KAAf,EAAsB2pB,KAAK,CAACrC,OAA5B,CAAT;QACA2+B,IAAI,GAAGtnD,IAAI,CAACyG,GAAL,CAASukB,KAAK,CAAC3pB,KAAf,EAAsB2pB,KAAK,CAACrC,OAA5B,CAAP;OAFK,MAGA;YACC8/B,KAAK,GAAGL,YAAY,CAACp9B,KAAD,CAA1B;QACAq8B,MAAM,GAAGr8B,KAAK,CAAC4G,MAAN,CAAavwB,KAAb,GAAqBonD,KAA9B;QACAnB,IAAI,GAAGt8B,KAAK,CAAC4G,MAAN,CAAatwB,GAAb,GAAmBmnD,KAA1B;;;;IAIJtB,UAAU,CAAC;MACTpC,SAAS,EAAEH,WADF;MAETwC,GAAG,EAAHA,GAFS;MAGTzvB,UAAU,EAAVA,UAHS;MAIT3M,KAAK,EAALA,KAJS;MAKTq8B,MAAM,EAANA,MALS;MAMTC,IAAI,EAAJA,IANS;MAOT7iC,GAAG,EAAEuG,KAAK,CAAC4G,MAAN,CAAanN;KAPV,CAAV;;;SAWK2iC,GAAP;;;AC7XF,SAASsB,WAAT,CAAqB19B,KAArB,EAA4B;SACnB;IACLxkB,GAAG,EAAEwkB,KAAK,CAACzmB,KAAN,CAAYiC,GAAZ,EADA;IAELC,GAAG,EAAEukB,KAAK,CAACzmB,KAAN,CAAYkC,GAAZ;GAFP;;;AAMF,SAASkiD,UAAT,CAAoB39B,KAApB,EAA2B;SAClB;IACLxkB,GAAG,EAAE,CADA;IAELC,GAAG,EAAEukB,KAAK,CAACuM,SAAN,GAAkBvM,KAAK,CAACvoB,IAAN,CAAWC,KAA7B,GAAqCsoB,KAAK,CAACvoB,IAAN,CAAWE;GAFvD;;;AAMF,SAASimD,UAAT,CAAoB59B,KAApB,EAA2BlqB,KAA3B,EAAkC2xC,MAAlC,EAA0C;MACpCoW,EAAE,GAAG79B,KAAK,CAACxD,MAAf;MACIpqB,CAAJ;MACIi1B,SAAS,GAAG,CAAC,CAAjB;;OACKj1B,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGyrD,EAAE,CAACrsD,MAAnB,EAA2BY,CAAC,EAA5B,EAAgC;QAC1ByrD,EAAE,CAACzrD,CAAD,CAAF,CAAMoJ,GAAN,IAAa1F,KAAb,IAAsBA,KAAK,IAAI+nD,EAAE,CAACzrD,CAAD,CAAF,CAAMqJ,GAAzC,EAA8C;MAC5C4rB,SAAS,GAAGj1B,CAAZ;MACAq1C,MAAM,CAACjsC,GAAP,GAAapJ,CAAC,GAAGyrD,EAAE,CAACzrD,CAAC,GAAG,CAAL,CAAF,CAAUqJ,GAAb,GAAmBgsC,MAAM,CAACjsC,GAAxC;MACAisC,MAAM,CAAChsC,GAAP,GAAarJ,CAAC,GAAG,CAAJ,GAAQyrD,EAAE,CAACrsD,MAAX,GAAoBqsD,EAAE,CAACzrD,CAAC,GAAG,CAAL,CAAF,CAAUoJ,GAA9B,GAAoCisC,MAAM,CAAChsC,GAAxD;;KAHF,MAKO,IAAI3F,KAAK,GAAG+nD,EAAE,CAACzrD,CAAD,CAAF,CAAMoJ,GAAlB,EAAuB;MAC5BisC,MAAM,CAAChsC,GAAP,GAAaoiD,EAAE,CAACzrD,CAAD,CAAF,CAAMoJ,GAAnB;MACAisC,MAAM,CAACjsC,GAAP,GAAapJ,CAAC,GAAGyrD,EAAE,CAACzrD,CAAC,GAAG,CAAL,CAAF,CAAUqJ,GAAb,GAAmBgsC,MAAM,CAACjsC,GAAxC;;;;;MAIA6rB,SAAS,KAAK,CAAC,CAAf,IAAoBw2B,EAAE,CAACrsD,MAAvB,IAAiCY,CAAC,IAAIyrD,EAAE,CAACrsD,MAA7C,EAAqD;IACnDi2C,MAAM,CAACjsC,GAAP,GAAaqiD,EAAE,CAACA,EAAE,CAACrsD,MAAH,GAAY,CAAb,CAAF,CAAkBiK,GAA/B;;;MAGEqiD,WAAJ;;MAEIz2B,SAAS,KAAK,CAAC,CAAnB,EAAsB;IACpBy2B,WAAW,GAAG;MACZrkC,GAAG,EAAE4N,SADO;MAEZhxB,KAAK,EAAEwnD,EAAE,CAACx2B,SAAD,CAAF,CAAc7rB,GAFT;MAGZlF,GAAG,EAAEunD,EAAE,CAACx2B,SAAD,CAAF,CAAc5rB,GAHP;MAIZ+hD,QAAQ,EAAE/V,MAAM,CAACjsC,GAJL;MAKZ8hD,SAAS,EAAE7V,MAAM,CAAChsC,GALN;MAMZkmB,IAAI,EAAE;KANR;;;EASF3B,KAAK,CAAC4G,MAAN,GAAek3B,WAAf;;;AAGF,AAAO,SAASC,SAAT,OAEJ;MADD/9B,KACC,QADDA,KACC;MADMld,CACN,QADMA,CACN;MADS6f,QACT,QADSA,QACT;MADmBnG,MACnB,QADmBA,MACnB;MAD2BkgC,UAC3B,QAD2BA,UAC3B;;MACG18B,KAAK,CAAC6D,OAAV,EAAmB;;;;MAGb9uB,CAAC,GAAI+N,CAAC,CAAClH,MAAF,CAAS7G,CAAT,GAAa+N,CAAC,CAACk2C,MAA1B;MACM9jD,CAAC,GAAI4N,CAAC,CAAClH,MAAF,CAAS1G,CAAT,GAAa4N,CAAC,CAACm2C,MAA1B;MACI/mD,MAAM,GAAG+B,QAAQ,CAAC+pD,gBAAT,CAA0BjpD,CAA1B,EAA6BG,CAA7B,CAAb;;MACI,CAACytB,QAAQ,CAACoG,OAAT,GAAmBtN,QAAnB,CAA4BvpB,MAA5B,CAAL,EAA0C;IACxCA,MAAM,GAAG,IAAT;;;MAGI+rD,SAAS,GAAG;IAChBp6B,OAAO,EAAE;GADX;EAIA7D,KAAK,CAAClV,MAAN,GAAe6X,QAAQ,CAACoG,OAAT,GAAmBC,qBAAnB,EAAf;EACAhJ,KAAK,CAACxD,MAAN,GAAeA,MAAM,CAACwD,KAAD,CAArB;MACMk+B,IAAI,GAAGnpD,CAAC,GAAGirB,KAAK,CAAClV,MAAN,CAAarM,IAA9B,CAjBC;;MAkBK0/C,IAAI,GAAGjpD,CAAC,GAAG8qB,KAAK,CAAClV,MAAN,CAAanM,GAA9B;MACM7F,UAAU,GAAIgK,CAAC,CAAClH,MAAF,CAASokB,KAAK,CAACo+B,QAAN,CAAeC,KAAxB,IAAiCv7C,CAAC,CAACkd,KAAK,CAACo+B,QAAN,CAAe9K,GAAhB,CAAnC,GAA2DtzB,KAAK,CAAClV,MAAN,CAAakV,KAAK,CAACo+B,QAAN,CAAetzC,MAA5B,CAA9E;MACMwzC,QAAQ,GAAIx7C,CAAC,CAAClH,MAAF,CAASokB,KAAK,CAACo+B,QAAN,CAAeC,KAAxB,CAAD,GAAmCr+B,KAAK,CAAClV,MAAN,CAAakV,KAAK,CAACo+B,QAAN,CAAetzC,MAA5B,CAApD;MACI7a,CAAC,GAAGquD,QAAR;MACIjC,MAAM,GAAGvjD,UAAb;EAEAmlD,SAAS,CAAC5nD,KAAV,GAAkByC,UAAlB;EACAmlD,SAAS,CAACtgC,OAAV,GAAoB2gC,QAApB;MAEIT,EAAE,GAAG79B,KAAK,CAACxD,MAAf;MACMirB,MAAM,GAAGkW,UAAU,CAAC39B,KAAD,CAAzB;MACI5tB,CAAJ;MACIi1B,SAAS,GAAG,CAAC,CAAjB;;MACIn1B,MAAM,IAAIA,MAAM,CAACqsD,YAAP,CAAoB,UAApB,CAAd,EAA+C;IAC7Cl3B,SAAS,GAAGm3B,QAAQ,CAACtsD,MAAM,CAACusD,YAAP,CAAoB,UAApB,CAAD,EAAkC,EAAlC,CAApB;IACAhX,MAAM,CAACjsC,GAAP,GAAa6rB,SAAS,GAAG,CAAZ,GAAgBw2B,EAAE,CAACx2B,SAAS,GAAG,CAAb,CAAF,CAAkB5rB,GAAlC,GAAwCgsC,MAAM,CAACjsC,GAA5D;IACAisC,MAAM,CAAChsC,GAAP,GAAa4rB,SAAS,GAAG,CAAZ,GAAgBw2B,EAAE,CAACrsD,MAAnB,GAA4BqsD,EAAE,CAACx2B,SAAS,GAAG,CAAb,CAAF,CAAkB7rB,GAA9C,GAAoDisC,MAAM,CAAChsC,GAAxE;GAHF,MAIO;SACArJ,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGyrD,EAAE,CAACrsD,MAAnB,EAA2BY,CAAC,EAA5B,EAAgC;UAC1ByrD,EAAE,CAACzrD,CAAD,CAAF,CAAMoJ,GAAN,IAAa6gD,MAAb,IAAuBA,MAAM,IAAIwB,EAAE,CAACzrD,CAAD,CAAF,CAAMqJ,GAA3C,EAAgD;QAC9C4rB,SAAS,GAAGj1B,CAAZ;QACAq1C,MAAM,CAACjsC,GAAP,GAAapJ,CAAC,GAAGyrD,EAAE,CAACzrD,CAAC,GAAG,CAAL,CAAF,CAAUqJ,GAAb,GAAmBgsC,MAAM,CAACjsC,GAAxC;QACAisC,MAAM,CAAChsC,GAAP,GAAarJ,CAAC,GAAG,CAAJ,GAAQyrD,EAAE,CAACrsD,MAAX,GAAoBqsD,EAAE,CAACzrD,CAAC,GAAG,CAAL,CAAF,CAAUoJ,GAA9B,GAAoCisC,MAAM,CAAChsC,GAAxD;;OAHF,MAKO,IAAI4gD,MAAM,GAAGwB,EAAE,CAACzrD,CAAD,CAAF,CAAMoJ,GAAnB,EAAwB;QAC7BisC,MAAM,CAAChsC,GAAP,GAAaoiD,EAAE,CAACzrD,CAAD,CAAF,CAAMoJ,GAAnB;QACAisC,MAAM,CAACjsC,GAAP,GAAapJ,CAAC,GAAGyrD,EAAE,CAACzrD,CAAC,GAAG,CAAL,CAAF,CAAUqJ,GAAb,GAAmBgsC,MAAM,CAACjsC,GAAxC;;;;;QAIA6rB,SAAS,KAAK,CAAC,CAAf,IAAoBw2B,EAAE,CAACrsD,MAAvB,IAAiCY,CAAC,IAAIyrD,EAAE,CAACrsD,MAA7C,EAAqD;MACnDi2C,MAAM,CAACjsC,GAAP,GAAaqiD,EAAE,CAACA,EAAE,CAACrsD,MAAH,GAAY,CAAb,CAAF,CAAkBiK,GAA/B;;;;MAIA4rB,SAAS,KAAK,CAAC,CAAf,IAAoB,CAACrH,KAAK,CAAC0+B,KAA/B,EAAsC;IACpCT,SAAS,CAACzhC,MAAV,GAAmB,EAAnB;IACAirB,MAAM,CAACjsC,GAAP,GAAa,CAAb;IACAisC,MAAM,CAAChsC,GAAP,GAAaukB,KAAK,CAACuM,SAAN,GAAkBvM,KAAK,CAACvoB,IAAN,CAAWC,KAA7B,GAAqCsoB,KAAK,CAACvoB,IAAN,CAAWE,MAA7D;;;MAEEmmD,WAAJ;;MAEIz2B,SAAS,KAAK,CAAC,CAAnB,EAAsB;IACpBy2B,WAAW,GAAG;MACZrkC,GAAG,EAAE4N,SADO;MAEZhxB,KAAK,EAAEwnD,EAAE,CAACx2B,SAAD,CAAF,CAAc7rB,GAFT;MAGZlF,GAAG,EAAEunD,EAAE,CAACx2B,SAAD,CAAF,CAAc5rB,GAHP;MAIZ+hD,QAAQ,EAAE/V,MAAM,CAACjsC,GAJL;MAKZ8hD,SAAS,EAAE7V,MAAM,CAAChsC,GALN;MAMZkmB,IAAI,EAAE;KANR;;QASIzvB,MAAM,IAAIA,MAAM,CAACqsD,YAAP,CAAoB,kBAApB,CAAd,EAAuD;MACrDN,SAAS,CAAC5nD,KAAV,GAAkB0lD,UAAU,CAAC7pD,MAAM,CAACusD,YAAP,CAAoB,kBAApB,CAAD,CAA5B;MACAX,WAAW,CAACn8B,IAAZ,GAAmB,QAAnB;KAFF,MAGO;UACDg9B,OAAO,GAAGb,WAAW,CAACznD,KAA1B;UACIuoD,KAAK,GAAGd,WAAW,CAACxnD,GAAxB;;UACItB,IAAI,CAAC2O,GAAL,CAAS7K,UAAU,GAAG6lD,OAAtB,KAAkCjC,UAAtC,EAAkD;QAChDuB,SAAS,CAAC5nD,KAAV,GAAkBynD,WAAW,CAACxnD,GAA9B;QACAwnD,WAAW,CAACn8B,IAAZ,GAAmB,QAAnB;OAFF,MAGO,IAAI3sB,IAAI,CAAC2O,GAAL,CAAS7K,UAAU,GAAG8lD,KAAtB,KAAgClC,UAApC,EAAgD;QACrDuB,SAAS,CAAC5nD,KAAV,GAAkBynD,WAAW,CAACznD,KAA9B;QACAynD,WAAW,CAACn8B,IAAZ,GAAmB,QAAnB;;;GArBN,MAwBO;IACLm8B,WAAW,GAAG;MACZrkC,GAAG,EAAE,CAAC,CADM;MAEZpjB,KAAK,EAAEgmD,MAFK;MAGZ/lD,GAAG,EAAErG,CAHO;MAIZutD,QAAQ,EAAE/V,MAAM,CAACjsC,GAJL;MAKZ8hD,SAAS,EAAE7V,MAAM,CAAChsC,GALN;MAMZkmB,IAAI,EAAE;KANR;;;EAUFs8B,SAAS,CAACr3B,MAAV,GAAmBk3B,WAAnB;;MAEIA,WAAW,CAACn8B,IAAZ,KAAqB,QAArB,IAAiC3B,KAAK,CAACo6B,UAAvC,IAAqD,CAAC7kB,aAAa,CAACvV,KAAK,CAACo6B,UAAP,EAAmB;IAAErlD,CAAC,EAAEmpD,IAAL;IAAWhpD,CAAC,EAAEipD;GAAjC,CAAvE,EAAiH,CAAjH,MAEO;IACL1rD,MAAM,CAACgS,IAAP,CAAYw5C,SAAZ,EAAuB38C,OAAvB,CAA+B,UAAC3O,GAAD;aAAUqtB,KAAK,CAACrtB,GAAD,CAAL,GAAasrD,SAAS,CAACtrD,GAAD,CAAhC;KAA/B;;;AAIJ,AAAO,SAAS0D,OAAT,QAEJ;MADD2pB,KACC,SADDA,KACC;MADMld,CACN,SADMA,CACN;MADS6f,QACT,SADSA,QACT;MADmBnG,MACnB,SADmBA,MACnB;MAD2BkgC,UAC3B,SAD2BA,UAC3B;;MACG18B,KAAK,CAAC6D,OAAV,EAAmB;;;;EAGnB7D,KAAK,CAACk7B,IAAN,GAAa,IAAb;MACMnmD,CAAC,GAAI+N,CAAC,CAAClH,MAAF,CAAS7G,CAAT,GAAa+N,CAAC,CAACk2C,MAA1B;MACM9jD,CAAC,GAAI4N,CAAC,CAAClH,MAAF,CAAS1G,CAAT,GAAa4N,CAAC,CAACm2C,MAA1B;MACI/mD,MAAM,GAAG+B,QAAQ,CAAC+pD,gBAAT,CAA0BjpD,CAA1B,EAA6BG,CAA7B,CAAb;;MACI,CAACytB,QAAQ,CAACoG,OAAT,GAAmBtN,QAAnB,CAA4BvpB,MAA5B,CAAL,EAA0C;IACxCA,MAAM,GAAG,IAAT;;;MAGI+rD,SAAS,GAAG;IAChBp6B,OAAO,EAAE;GADX;EAIA7D,KAAK,CAAClV,MAAN,GAAe7O,MAAM,CAAC,EAAD,EAAK0mB,QAAQ,CAACoG,OAAT,GAAmBC,qBAAnB,EAAL,CAArB;MACMk1B,IAAI,GAAGnpD,CAAC,GAAGirB,KAAK,CAAClV,MAAN,CAAarM,IAA9B,CAjBC;;MAkBK0/C,IAAI,GAAGjpD,CAAC,GAAG8qB,KAAK,CAAClV,MAAN,CAAanM,GAA9B;EACAqhB,KAAK,CAAClV,MAAN,CAAarM,IAAb,IAAqBuhB,KAAK,CAACo6B,UAAN,GAAmBp6B,KAAK,CAACo6B,UAAN,CAAiBrlD,CAApC,GAAwC,CAA7D,CAnBC;;EAoBDirB,KAAK,CAAClV,MAAN,CAAanM,GAAb,IAAoBqhB,KAAK,CAACo6B,UAAN,GAAmBp6B,KAAK,CAACo6B,UAAN,CAAiBllD,CAApC,GAAwC,CAA5D;EACA8qB,KAAK,CAACxD,MAAN,GAAeA,MAAM,CAACwD,KAAD,EAAQA,KAAK,CAAC6+B,iBAAN,IAA2B7+B,KAAK,CAAC8+B,aAAzC,CAArB;MACMhmD,UAAU,GAAIgK,CAAC,CAAClH,MAAF,CAASokB,KAAK,CAACo+B,QAAN,CAAeC,KAAxB,IAAiCv7C,CAAC,CAACkd,KAAK,CAACo+B,QAAN,CAAe9K,GAAhB,CAAnC,GAA2DtzB,KAAK,CAAClV,MAAN,CAAakV,KAAK,CAACo+B,QAAN,CAAetzC,MAA5B,CAA9E;MACMwzC,QAAQ,GAAIx7C,CAAC,CAAClH,MAAF,CAASokB,KAAK,CAACo+B,QAAN,CAAeC,KAAxB,CAAD,GAAmCr+B,KAAK,CAAClV,MAAN,CAAakV,KAAK,CAACo+B,QAAN,CAAetzC,MAA5B,CAApD;EACAmzC,SAAS,CAACtgC,OAAV,GAAoBqC,KAAK,CAACzmB,KAAN,CAAY+a,UAAZ,CAAuBgqC,QAAQ,GAAGt+B,KAAK,CAAC5kB,IAAxC,CAApB;EACA6iD,SAAS,CAAC5nD,KAAV,GAAkB2pB,KAAK,CAACzmB,KAAN,CAAY+a,UAAZ,CAAuBxb,UAAU,GAAGknB,KAAK,CAAC5kB,IAA1C,CAAlB;MAEIyiD,EAAE,GAAG79B,KAAK,CAACxD,MAAf;MACMirB,MAAM,GAAGiW,WAAW,CAAC19B,KAAD,CAA1B;MACI5tB,CAAJ;MACIi1B,SAAS,GAAG,CAAC,CAAjB;;MACIn1B,MAAM,IAAIA,MAAM,CAACqsD,YAAP,CAAoB,UAApB,CAAd,EAA+C;IAC7Cl3B,SAAS,GAAGm3B,QAAQ,CAACtsD,MAAM,CAACusD,YAAP,CAAoB,UAApB,CAAD,EAAkC,EAAlC,CAApB;IACAhX,MAAM,CAACjsC,GAAP,GAAa6rB,SAAS,GAAG,CAAZ,GAAgBw2B,EAAE,CAACx2B,SAAS,GAAG,CAAb,CAAF,CAAkB5rB,GAAlC,GAAwCgsC,MAAM,CAACjsC,GAA5D;IACAisC,MAAM,CAAChsC,GAAP,GAAa4rB,SAAS,GAAG,CAAZ,GAAgBw2B,EAAE,CAACrsD,MAAnB,GAA4BqsD,EAAE,CAACx2B,SAAS,GAAG,CAAb,CAAF,CAAkB7rB,GAA9C,GAAoDisC,MAAM,CAAChsC,GAAxE;GAHF,MAIO;SACArJ,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGyrD,EAAE,CAACrsD,MAAnB,EAA2BY,CAAC,EAA5B,EAAgC;UAC1ByrD,EAAE,CAACzrD,CAAD,CAAF,CAAMoJ,GAAN,IAAayiD,SAAS,CAAC5nD,KAAvB,IAAgC4nD,SAAS,CAAC5nD,KAAV,IAAmBwnD,EAAE,CAACzrD,CAAD,CAAF,CAAMqJ,GAA7D,EAAkE;QAChE4rB,SAAS,GAAGj1B,CAAZ;QACAq1C,MAAM,CAACjsC,GAAP,GAAapJ,CAAC,GAAGyrD,EAAE,CAACzrD,CAAC,GAAG,CAAL,CAAF,CAAUqJ,GAAb,GAAmBgsC,MAAM,CAACjsC,GAAxC;QACAisC,MAAM,CAAChsC,GAAP,GAAarJ,CAAC,GAAG,CAAJ,GAAQyrD,EAAE,CAACrsD,MAAX,GAAoBqsD,EAAE,CAACzrD,CAAC,GAAG,CAAL,CAAF,CAAUoJ,GAA9B,GAAoCisC,MAAM,CAAChsC,GAAxD;;OAHF,MAKO,IAAIwiD,SAAS,CAAC5nD,KAAV,GAAkBwnD,EAAE,CAACzrD,CAAD,CAAF,CAAMoJ,GAA5B,EAAiC;QACtCisC,MAAM,CAAChsC,GAAP,GAAaoiD,EAAE,CAACzrD,CAAD,CAAF,CAAMoJ,GAAnB;QACAisC,MAAM,CAACjsC,GAAP,GAAapJ,CAAC,GAAGyrD,EAAE,CAACzrD,CAAC,GAAG,CAAL,CAAF,CAAUqJ,GAAb,GAAmBgsC,MAAM,CAACjsC,GAAxC;;;;;QAIA6rB,SAAS,KAAK,CAAC,CAAf,IAAoBw2B,EAAE,CAACrsD,MAAvB,IAAiCY,CAAC,IAAIyrD,EAAE,CAACrsD,MAA7C,EAAqD;MACnDi2C,MAAM,CAACjsC,GAAP,GAAaqiD,EAAE,CAACA,EAAE,CAACrsD,MAAH,GAAY,CAAb,CAAF,CAAkBiK,GAA/B;;;;MAIA4rB,SAAS,KAAK,CAAC,CAAf,IAAoB,CAACrH,KAAK,CAAC0+B,KAA/B,EAAsC;IACpCT,SAAS,CAACzhC,MAAV,GAAmB,EAAnB;IACAirB,MAAM,CAACjsC,GAAP,GAAawkB,KAAK,CAACzmB,KAAN,CAAYiC,GAAZ,EAAb;IACAisC,MAAM,CAAChsC,GAAP,GAAaukB,KAAK,CAACzmB,KAAN,CAAYkC,GAAZ,EAAb;;;MAEEqiD,WAAJ;;MAEIz2B,SAAS,KAAK,CAAC,CAAnB,EAAsB;IACpBy2B,WAAW,GAAG;MACZrkC,GAAG,EAAE4N,SADO;MAEZhxB,KAAK,EAAEwnD,EAAE,CAACx2B,SAAD,CAAF,CAAc7rB,GAFT;MAGZlF,GAAG,EAAEunD,EAAE,CAACx2B,SAAD,CAAF,CAAc5rB,GAHP;MAIZ+hD,QAAQ,EAAE/V,MAAM,CAACjsC,GAJL;MAKZ8hD,SAAS,EAAE7V,MAAM,CAAChsC,GALN;MAMZkmB,IAAI,EAAE;KANR;;QASIzvB,MAAM,IAAIA,MAAM,CAACqsD,YAAP,CAAoB,kBAApB,CAAd,EAAuD;MACrDN,SAAS,CAAC5nD,KAAV,GAAkB0lD,UAAU,CAAC7pD,MAAM,CAACusD,YAAP,CAAoB,kBAApB,CAAD,CAA5B;MACAX,WAAW,CAACn8B,IAAZ,GAAmB,QAAnB;KAFF,MAGO;UACDg9B,OAAO,GAAG3+B,KAAK,CAACzmB,KAAN,CAAY8a,IAAZ,CAAiBypC,WAAW,CAACznD,KAA7B,IAAsC2pB,KAAK,CAAC5kB,IAA1D;UACIwjD,KAAK,GAAG5+B,KAAK,CAACzmB,KAAN,CAAY8a,IAAZ,CAAiBypC,WAAW,CAACxnD,GAA7B,IAAoC0pB,KAAK,CAAC5kB,IAAtD;;UACIpG,IAAI,CAAC2O,GAAL,CAAS7K,UAAU,GAAG6lD,OAAtB,KAAkCjC,UAAtC,EAAkD;QAChDuB,SAAS,CAAC5nD,KAAV,GAAkBynD,WAAW,CAACxnD,GAA9B;QACAwnD,WAAW,CAACn8B,IAAZ,GAAmB,QAAnB;OAFF,MAGO,IAAI3sB,IAAI,CAAC2O,GAAL,CAAS7K,UAAU,GAAG8lD,KAAtB,KAAgClC,UAApC,EAAgD;QACrDuB,SAAS,CAAC5nD,KAAV,GAAkBynD,WAAW,CAACznD,KAA9B;QACAynD,WAAW,CAACn8B,IAAZ,GAAmB,QAAnB;;;GArBN,MAwBO;IACLm8B,WAAW,GAAG;MACZrkC,GAAG,EAAE,CAAC,CADM;MAEZpjB,KAAK,EAAE4nD,SAAS,CAAC5nD,KAFL;MAGZC,GAAG,EAAE2nD,SAAS,CAACtgC,OAHH;MAIZ6/B,QAAQ,EAAE/V,MAAM,CAACjsC,GAJL;MAKZ8hD,SAAS,EAAE7V,MAAM,CAAChsC,GALN;MAMZkmB,IAAI,EAAE;KANR;;;EAUFs8B,SAAS,CAACr3B,MAAV,GAAmBk3B,WAAnB;;MAEIA,WAAW,CAACn8B,IAAZ,KAAqB,QAArB,IAAiC3B,KAAK,CAACo6B,UAAvC,IAAqD,CAAC7kB,aAAa,CAACvV,KAAK,CAACo6B,UAAP,EAAmB;IAAErlD,CAAC,EAAEmpD,IAAL;IAAWhpD,CAAC,EAAEipD;GAAjC,CAAvE,EAAiH,CAAjH,MAEO;IACL1rD,MAAM,CAACgS,IAAP,CAAYw5C,SAAZ,EAAuB38C,OAAvB,CAA+B,UAAC3O,GAAD;aAAUqtB,KAAK,CAACrtB,GAAD,CAAL,GAAasrD,SAAS,CAACtrD,GAAD,CAAhC;KAA/B;;;AAGJ,AAAO,SAAS2D,GAAT,CAAa0pB,KAAb,EAAoBxD,MAApB,EAA4B;EACjCwD,KAAK,CAAC6D,OAAN,GAAgB,KAAhB;EACA7D,KAAK,CAACxD,MAAN,GAAeA,MAAM,CAACwD,KAAD,EAAQA,KAAK,CAAC6+B,iBAAN,IAA2B7+B,KAAK,CAAC8+B,aAAzC,CAArB;MACMrX,MAAM,GAAGiW,WAAW,CAAC19B,KAAD,CAA1B;EACA49B,UAAU,CAAC59B,KAAD,EAAQA,KAAK,CAACrC,OAAd,EAAuB8pB,MAAvB,CAAV;;AAGF,AAAO,SAASsX,OAAT,CAAiB/+B,KAAjB,EAAwBxD,MAAxB,EAAgC;EACrCwD,KAAK,CAAC6D,OAAN,GAAgB,KAAhB;EACA7D,KAAK,CAACxD,MAAN,GAAeA,MAAM,CAACwD,KAAD,CAArB;MACMynB,MAAM,GAAGkW,UAAU,CAAC39B,KAAD,CAAzB;EACA49B,UAAU,CAAC59B,KAAD,EAAQA,KAAK,CAACrC,OAAd,EAAuB8pB,MAAvB,CAAV;;AAGF,AAAO,SAASltB,IAAT,CAAcyF,KAAd,EAAqBld,CAArB,EAAwB;MACvBq7C,IAAI,GAAGr7C,CAAC,CAAClH,MAAF,CAASokB,KAAK,CAACo+B,QAAN,CAAeC,KAAxB,IAAiCr+B,KAAK,CAAClV,MAAN,CAAakV,KAAK,CAACo+B,QAAN,CAAetzC,MAA5B,CAA9C;MACMk0C,GAAG,GAAGb,IAAI,GAAGn+B,KAAK,CAAC5kB,IAAzB;MACMnL,CAAC,GAAG+vB,KAAK,CAACzmB,KAAN,CAAY+a,UAAZ,CAAuB0qC,GAAvB,CAAV;EACAh/B,KAAK,CAACrC,OAAN,GAAgB3oB,IAAI,CAACyG,GAAL,CAASzG,IAAI,CAACwG,GAAL,CAASvL,CAAT,EAAY+vB,KAAK,CAAC4G,MAAN,CAAa02B,SAAzB,CAAT,EAA8Ct9B,KAAK,CAAC4G,MAAN,CAAa42B,QAA3D,CAAhB;;AAGF,AAAO,SAASyB,QAAT,CAAkBj/B,KAAlB,EAAyBld,CAAzB,EAA4B;MAC3Bk8C,GAAG,GAAGl8C,CAAC,CAAClH,MAAF,CAASokB,KAAK,CAACo+B,QAAN,CAAeC,KAAxB,IAAiCr+B,KAAK,CAAClV,MAAN,CAAakV,KAAK,CAACo+B,QAAN,CAAetzC,MAA5B,CAA7C;EAEAkV,KAAK,CAACrC,OAAN,GAAgB3oB,IAAI,CAACyG,GAAL,CAASzG,IAAI,CAACwG,GAAL,CAASwjD,GAAT,EAAch/B,KAAK,CAAC4G,MAAN,CAAa02B,SAA3B,CAAT,EAAgDt9B,KAAK,CAAC4G,MAAN,CAAa42B,QAA7D,CAAhB;;;AC7QF,SAASp5B,OAAT,CAAgBpE,KAAhB,EAAuB;EACrBA,KAAK,CAAC2C,QAAN,CAAeyB,MAAf,CAAsBrB,KAAK,CAAC/C,KAAD,CAA3B;;;AAGF,SAASxD,MAAT,CAAgBwD,KAAhB,EAAuBV,KAAvB,EAA8B;MACxB,CAACA,KAAD,IAAU,CAACA,KAAK,CAACkB,QAAN,EAAf,EAAiC;WACxB,EAAP;;;MAGI0+B,UAAU,GAAGl/B,KAAK,CAACzmB,KAAN,CAAY1I,IAAZ,EAAnB;MACM+b,YAAY,GAAGsyC,UAAU,GAAGA,UAAU,CAAClzC,MAAX,IAAqB,EAAxB,GAA6B,EAA5D;MACMoT,OAAO,GAAGxS,YAAY,CAACnc,GAAb,CAAiB,UAACwY,KAAD;WAAWA,KAAK,CAACN,EAAN,EAAX;GAAjB,CAAhB;MACMsf,UAAU,GAAG3I,KAAK,CAACmB,OAAN,GAAgBvgB,MAAhB,CAAuB,UAACsI,CAAD;WAAOA,CAAC,CAACpX,IAAF,KAAW,OAAX,IAAsBguB,OAAO,CAACjf,OAAR,CAAgBqI,CAAC,CAACG,EAAlB,MAA0B,CAAC,CAAxD;GAAvB,EAAkF,CAAlF,CAAnB;;MAEI,CAACsf,UAAL,EAAiB;WACR,EAAP;;;SAGKA,UAAU,CAAC3I,KAAX,CAAiB9C,MAAjB,EAAP;;;AAGF,SAASqD,SAAT,CAAmBG,KAAnB,EAA0B;MACpB69B,EAAE,GAAG79B,KAAK,CAACxD,MAAN,CAAa/rB,GAAb,CAAiB,UAAC2F,CAAD;WAAQ;MAAEoF,GAAG,EAAEpF,CAAC,CAACoF,GAAT;MAAcC,GAAG,EAAErF,CAAC,CAACqF;KAA7B;GAAjB,CAAT;;MACIukB,KAAK,CAAC4G,MAAN,CAAanN,GAAb,KAAqB,CAAC,CAA1B,EAA6B;QACvBuG,KAAK,CAAC4G,MAAN,CAAajF,IAAb,KAAsB,QAA1B,EAAoC;MAClCk8B,EAAE,CAAC79B,KAAK,CAAC4G,MAAN,CAAanN,GAAd,CAAF,CAAqBje,GAArB,GAA2BxG,IAAI,CAACwG,GAAL,CAASwkB,KAAK,CAAC3pB,KAAf,EAAsB2pB,KAAK,CAACrC,OAA5B,CAA3B;MACAkgC,EAAE,CAAC79B,KAAK,CAAC4G,MAAN,CAAanN,GAAd,CAAF,CAAqBhe,GAArB,GAA2BzG,IAAI,CAACyG,GAAL,CAASukB,KAAK,CAAC3pB,KAAf,EAAsB2pB,KAAK,CAACrC,OAA5B,CAA3B;KAFF,MAGO;UACC8/B,KAAK,GAAGL,YAAY,CAACp9B,KAAD,CAA1B;MACA69B,EAAE,CAAC79B,KAAK,CAAC4G,MAAN,CAAanN,GAAd,CAAF,CAAqBje,GAArB,IAA4BiiD,KAA5B;MACAI,EAAE,CAAC79B,KAAK,CAAC4G,MAAN,CAAanN,GAAd,CAAF,CAAqBhe,GAArB,IAA4BgiD,KAA5B;;GAPJ,MASO;IACLI,EAAE,CAACpsD,IAAH,CAAQ;MACN+J,GAAG,EAAExG,IAAI,CAACwG,GAAL,CAASwkB,KAAK,CAAC3pB,KAAf,EAAsB2pB,KAAK,CAACrC,OAA5B,CADC;MAENliB,GAAG,EAAEzG,IAAI,CAACyG,GAAL,CAASukB,KAAK,CAAC3pB,KAAf,EAAsB2pB,KAAK,CAACrC,OAA5B;KAFP;;;MAMIovB,SAAS,GAAG/sB,KAAK,CAACzmB,KAAN,CAAY1I,IAAZ,EAAlB;;MACIk8C,SAAS,IAAIA,SAAS,CAAC/gC,MAA3B,EAAmC;IACjC+gC,SAAS,CAAC/gC,MAAV,CAAiB1K,OAAjB,CAAyB,UAAC2H,KAAD,EAAW;UAC9B+W,KAAK,CAAC6+B,iBAAV,EAA6B;YACvBM,KAAK,GAAG3iC,MAAM,CAACwD,KAAD,EAAQA,KAAK,CAAC6+B,iBAAd,CAAlB;YACIO,SAAS,GAAGp/B,KAAK,CAACq/B,UAAN,CAAiBF,KAAjB,CAAhB;YACIp2C,MAAM,GAAGiX,KAAK,CAACq/B,UAAN,CAAiBxB,EAAjB,CAAb;YAEIyB,WAAW,GAAGv2C,MAAM,CAAC7I,MAAP,CAAc,UAACjQ,CAAD;iBAAOmvD,SAAS,CAACj/C,OAAV,CAAkBlQ,CAAlB,MAAyB,CAAC,CAAjC;SAAd,CAAlB;YACIsvD,aAAa,GAAGH,SAAS,CAACl/C,MAAV,CAAiB,UAACjQ,CAAD;iBAAO8Y,MAAM,CAAC5I,OAAP,CAAelQ,CAAf,MAAsB,CAAC,CAA9B;SAAjB,CAApB;YAEI8wB,QAAQ,GAAGu+B,WAAW,CAAC7uD,GAAZ,CAAgB,UAACR,CAAD;iBAAQ;YAAE0C,GAAG,EAAEsW,KAAK,CAACN,EAAN,EAAP;YAAmB7S,KAAK,EAAE7F;WAAlC;SAAhB,CAAf;YACI+wB,WAAW,GAAGu+B,aAAa,CAAC9uD,GAAd,CAAkB,UAACR,CAAD;iBAAQ;YAAE0C,GAAG,EAAEsW,KAAK,CAACN,EAAN,EAAP;YAAmB7S,KAAK,EAAE7F;WAAlC;SAAlB,CAAlB;QAEA+vB,KAAK,CAAC8+B,aAAN,CAAoBh+B,kBAApB,CAAuCC,QAAvC,EAAiDC,WAAjD;QAEAhB,KAAK,CAAC6+B,iBAAN,CAAwBt9B,QAAxB,CAAiCtY,KAAK,CAACN,EAAN,EAAjC,EAA6Ck1C,EAA7C;OAbF,MAcO;QACL79B,KAAK,CAAC8+B,aAAN,CAAoBv9B,QAApB,CAA6BtY,KAAK,CAACN,EAAN,EAA7B,EAAyCk1C,EAAzC;;KAhBJ;;;;AAsBJ,SAAS2B,eAAT,CAAyBx/B,KAAzB,EAAgCvG,GAAhC,EAAqCgmC,UAArC,EAAiDC,QAAjD,EAA2D;MACrD7B,EAAE,GAAG79B,KAAK,CAACxD,MAAN,CAAa/rB,GAAb,CAAiB,UAAC2F,CAAD;WAAQ;MAAEoF,GAAG,EAAEpF,CAAC,CAACoF,GAAT;MAAcC,GAAG,EAAErF,CAAC,CAACqF;KAA7B;GAAjB,CAAT;MACMkkD,QAAQ,GAAG3/B,KAAK,CAACzmB,KAAN,CAAYiC,GAAZ,EAAjB;MACMokD,QAAQ,GAAG5/B,KAAK,CAACzmB,KAAN,CAAYkC,GAAZ,EAAjB;EACAoiD,EAAE,CAACpkC,GAAD,CAAF,GAAU;IAAEje,GAAG,EAAExG,IAAI,CAACyG,GAAL,CAASkkD,QAAT,EAAmB3qD,IAAI,CAACwG,GAAL,CAASikD,UAAT,EAAqBC,QAArB,CAAnB,CAAP;IAA2DjkD,GAAG,EAAEzG,IAAI,CAACwG,GAAL,CAASokD,QAAT,EAAmB5qD,IAAI,CAACyG,GAAL,CAASgkD,UAAT,EAAqBC,QAArB,CAAnB;GAA1E;EACA1/B,KAAK,CAACxD,MAAN,CAAa/C,GAAb,uBAAyBokC,EAAE,CAACpkC,GAAD,CAA3B;MAEMszB,SAAS,GAAG/sB,KAAK,CAACzmB,KAAN,CAAY1I,IAAZ,EAAlB;;MACIk8C,SAAS,IAAIA,SAAS,CAAC/gC,MAA3B,EAAmC;IACjC+gC,SAAS,CAAC/gC,MAAV,CAAiB1K,OAAjB,CAAyB,UAAC2H,KAAD,EAAW;UAC9B,CAAC+W,KAAK,CAAC6+B,iBAAX,EAA8B;QAC5B7+B,KAAK,CAAC8+B,aAAN,CAAoBv9B,QAApB,CAA6BtY,KAAK,CAACN,EAAN,EAA7B,EAAyCk1C,EAAzC;;KAFJ;;;;AAQJ,SAASgC,WAAT,CAAqB/pD,KAArB,EAA4ByD,KAA5B,EAAmC;MAC7BuoB,IAAJ;MACIg+B,OAAO,GAAGlO,QAAd;MACMpgC,MAAM,GAAGjY,KAAK,CAACiY,MAAN,EAAf;MACMuuC,aAAa,GAAGxmD,KAAK,CAACoY,SAAN,KAAoB,CAA1C;;OACK,IAAIvf,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGof,MAAM,CAAChgB,MAA3B,EAAmC,EAAEY,CAArC,EAAwC;QAChCmP,CAAC,GAAGvM,IAAI,CAAC2O,GAAL,CAAS7N,KAAK,GAAGiqD,aAAR,GAAwBxmD,KAAK,CAACiY,MAAM,CAACpf,CAAD,CAAP,CAAtC,CAAV;;QACImP,CAAC,GAAGu+C,OAAR,EAAiB;MACfA,OAAO,GAAGv+C,CAAV;MACAugB,IAAI,GAAGtQ,MAAM,CAACpf,CAAD,CAAb;;;;SAGG0vB,IAAP;;;AAGF,SAASk+B,gBAAT,CAA0BlqD,KAA1B,EAAiCyD,KAAjC,EAAwC;MAChCmW,KAAK,GAAGnW,KAAK,CAACmW,KAAN,EAAd;MACM+J,GAAG,GAAGlgB,KAAK,CAACiY,MAAN,GAAerR,OAAf,CAAuB0/C,WAAW,CAAC/pD,KAAD,EAAQyD,KAAR,CAAlC,CAAZ;SACOkgB,GAAG,KAAK,CAAC,CAAT,GAAa/J,KAAK,CAAC+J,GAAD,CAAL,CAAWzQ,KAAxB,GAAgC,GAAvC;;;AAGF,SAASi3C,aAAT,CAAuBC,EAAvB,EAA2BC,EAA3B,EAA+B;SACtBnrD,IAAI,CAACwG,GAAL,OAAAxG,IAAI,uBAAQkrD,EAAR,EAAJ,IAAmBlrD,IAAI,CAACyG,GAAL,OAAAzG,IAAI,uBAAQmrD,EAAR,EAAvB,IAAsCnrD,IAAI,CAACyG,GAAL,OAAAzG,IAAI,uBAAQkrD,EAAR,EAAJ,IAAmBlrD,IAAI,CAACwG,GAAL,OAAAxG,IAAI,uBAAQmrD,EAAR,EAApE;;;AAGF,SAASd,UAAT,CAAoBe,YAApB,EAAkC7mD,KAAlC,EAAyC;MACjCiY,MAAM,GAAGjY,KAAK,CAACiY,MAAN,EAAf;MACM6uC,UAAU,GAAG9mD,KAAK,CAACmS,KAAN,EAAnB;MACM3C,MAAM,GAAG,EAAf;EACAq3C,YAAY,CAAC9+C,OAAb,CAAqB,UAACoK,KAAD,EAAW;QAC1B,CAACu0C,aAAa,CAACI,UAAD,EAAa,CAAC30C,KAAK,CAAClQ,GAAP,EAAYkQ,KAAK,CAACjQ,GAAlB,CAAb,CAAlB,EAAwD;;;;QAGlD6kD,QAAQ,GAAG9uC,MAAM,CAACrR,OAAP,CAAe0/C,WAAW,CAACn0C,KAAK,CAAClQ,GAAP,EAAYjC,KAAZ,CAA1B,CAAjB;QACMgnD,MAAM,GAAG/uC,MAAM,CAACrR,OAAP,CAAe0/C,WAAW,CAACn0C,KAAK,CAACjQ,GAAP,EAAYlC,KAAZ,CAA1B,CAAf;IACAwP,MAAM,CAACtX,IAAP,CAAYoE,KAAZ,CAAkBkT,MAAlB,EAA0ByI,MAAM,CAAC1R,KAAP,CAAa9K,IAAI,CAACwG,GAAL,CAAS8kD,QAAT,EAAmBC,MAAnB,CAAb,EAAyCvrD,IAAI,CAACyG,GAAL,CAAS6kD,QAAT,EAAmBC,MAAnB,IAA6B,CAAtE,CAA1B;;GANF;SASOx3C,MAAP;;;AAGF,SAASy3C,iBAAT,CAA2BC,WAA3B,EAAwC;MAChCpkD,MAAM,GAAGokD,WAAW,CAACjiC,MAAZ,CAAmB,UAAC5N,GAAD,EAAM6E,IAAN,EAAe;IAC/C7E,GAAG,CAACnf,IAAJ,OAAAmf,GAAG,uBAAS9T,YAAY,CAAC2Y,IAAI,CAACirC,MAAN,CAArB,EAAH;WACO9vC,GAAP;GAFa,EAGZ,EAHY,CAAf;SAIO7T,YAAY,CAACV,MAAD,CAAnB;;;AAGF,SAASskD,aAAT,CAAuB3tC,GAAvB,EAA4B;MACpBsT,QAAQ,GAAG;IACf8zB,UAAU,EAAE,IADG;IAEfqC,cAAc,EAAE,IAFD;IAGfljD,KAAK,EAAE,IAHQ;IAIf6B,IAAI,EAAE;GAJR;MAMM0W,KAAK,GAAGkB,GAAG,CAAC7Y,QAAJ,CAAaA,QAA3B;MACMymD,OAAO,GAAG9uC,KAAK,CAAC5f,MAAN,IAAgB,CAAC4f,KAAK,CAAC5f,MAAN,CAAakQ,UAAb,KAA4B0P,KAAK,CAAC5f,MAAN,CAAa+P,SAAb,GAAyB,CAAC6P,KAAK,CAAC5f,MAAN,CAAa+P,SAAd,CAAzB,GAAoD,EAAhF,CAAD,EAC7BxR,GAD6B,CACzB,UAACf,CAAD;WAAOsjB,GAAG,CAACiS,KAAJ,CAAUhjB,SAAV,CAAoBvS,CAApB,CAAP;GADyB,EACMwQ,MADN,CACa,UAACxQ,CAAD;WAAO,CAAC,CAACA,CAAF,IAAO,CAAC,CAACA,CAAC,CAAC+H,IAAlB;GADb,CAAhC;MAEMgpD,WAAW,GAAG3uC,KAAK,CAAC5f,MAAN,IAAgB4f,KAAK,CAAC5f,MAAN,CAAa4gC,QAA7B,GAAwC9f,GAAG,CAACiS,KAAJ,CAAU4N,UAAV,CAAqB/gB,KAAK,CAAC5f,MAAN,CAAa4gC,QAAlC,CAAxC,GAAsF,EAA1G;MACM+tB,eAAe,GAAG/uC,KAAK,CAAC5f,MAAN,IAAgB4f,KAAK,CAAC5f,MAAN,CAAa4uD,YAA7B,GAA4C9tC,GAAG,CAACiS,KAAJ,CAAU4N,UAAV,CAAqB/gB,KAAK,CAAC5f,MAAN,CAAa4uD,YAAlC,CAA5C,GAA8F,EAAtH;;MACIL,WAAW,CAACjvD,MAAZ,GAAqB,CAAzB,EAA4B;QACpBkvD,MAAM,GAAGF,iBAAiB,CAACC,WAAD,CAAhC;IACAn6B,QAAQ,CAAClrB,IAAT,GAAgBslD,MAAM,CAAC1tC,GAAG,CAACgN,KAAJ,CAAUuM,SAAV,KAAwBstB,QAAxB,GAAmC,QAAnC,GAA8C,OAA/C,CAAtB;IACAvzB,QAAQ,CAAC/sB,KAAT,GAAiBysB,aAAa,CAAChT,GAAG,CAACiS,KAAJ,CAAU1rB,KAAV,CAAgBuY,KAAK,CAACvY,KAAtB,CAAD,EAA+B+sB,QAAQ,CAAClrB,IAAxC,CAA9B;IACAkrB,QAAQ,CAAC8zB,UAAT,GAAsBsG,MAAtB;;QACIG,eAAe,CAACrvD,MAAhB,GAAyB,CAA7B,EAAgC;UACxBuvD,UAAU,GAAGP,iBAAiB,CAACK,eAAD,CAApC;MACAv6B,QAAQ,CAACm2B,cAAT,GAA0BsE,UAA1B;;GAPJ,MASO,IAAIH,OAAO,IAAIA,OAAO,CAACpvD,MAAR,GAAiB,CAAhC,EAAmC;QAClC4oD,UAAU,GAAGwG,OAAO,CAAC9gD,KAAR,CAAc,CAAd,EAAiB0e,MAAjB,CAAwB,UAACkzB,IAAD,EAAOC,IAAP;aAAiB;QAC1D9D,EAAE,EAAE74C,IAAI,CAACwG,GAAL,CAASk2C,IAAI,CAAC7D,EAAd,EAAkB8D,IAAI,CAACl6C,IAAL,CAAUk6B,aAAV,CAAwB58B,CAA1C,CADsD;QAE1D+4C,EAAE,EAAE94C,IAAI,CAACwG,GAAL,CAASk2C,IAAI,CAAC5D,EAAd,EAAkB6D,IAAI,CAACl6C,IAAL,CAAUk6B,aAAV,CAAwBz8B,CAA1C,CAFsD;QAG1DuB,EAAE,EAAEzB,IAAI,CAACyG,GAAL,CAASi2C,IAAI,CAACj7C,EAAd,EAAkBk7C,IAAI,CAACl6C,IAAL,CAAUk6B,aAAV,CAAwB58B,CAAxB,GAA4B48C,IAAI,CAACl6C,IAAL,CAAUk6B,aAAV,CAAwBj6B,KAAtE,CAHsD;QAI1DhB,EAAE,EAAE1B,IAAI,CAACyG,GAAL,CAASi2C,IAAI,CAACh7C,EAAd,EAAkBi7C,IAAI,CAACl6C,IAAL,CAAUk6B,aAAV,CAAwBz8B,CAAxB,GAA4By8C,IAAI,CAACl6C,IAAL,CAAUk6B,aAAV,CAAwBh6B,MAAtE;OAJqC;KAAxB,EAKf;MACFk2C,EAAE,EAAE+S,OAAO,CAAC,CAAD,CAAP,CAAWnpD,IAAX,CAAgBk6B,aAAhB,CAA8B58B,CADhC;MAEF+4C,EAAE,EAAE8S,OAAO,CAAC,CAAD,CAAP,CAAWnpD,IAAX,CAAgBk6B,aAAhB,CAA8Bz8B,CAFhC;MAGFuB,EAAE,EAAEmqD,OAAO,CAAC,CAAD,CAAP,CAAWnpD,IAAX,CAAgBk6B,aAAhB,CAA8B58B,CAA9B,GAAkC6rD,OAAO,CAAC,CAAD,CAAP,CAAWnpD,IAAX,CAAgBk6B,aAAhB,CAA8Bj6B,KAHlE;MAIFhB,EAAE,EAAEkqD,OAAO,CAAC,CAAD,CAAP,CAAWnpD,IAAX,CAAgBk6B,aAAhB,CAA8Bz8B,CAA9B,GAAkC0rD,OAAO,CAAC,CAAD,CAAP,CAAWnpD,IAAX,CAAgBk6B,aAAhB,CAA8Bh6B;KATnD,CAAnB;IAYA2uB,QAAQ,CAAC8zB,UAAT,GAAsB;MACpBrlD,CAAC,EAAEqlD,UAAU,CAACvM,EAAX,GAAgB76B,GAAG,CAACgN,KAAJ,CAAUvoB,IAAV,CAAe1C,CADd;MAEpBG,CAAC,EAAEklD,UAAU,CAACtM,EAAX,GAAgB96B,GAAG,CAACgN,KAAJ,CAAUvoB,IAAV,CAAevC,CAFd;MAGpBwC,KAAK,EAAE0iD,UAAU,CAAC3jD,EAAX,GAAgB2jD,UAAU,CAACvM,EAHd;MAIpBl2C,MAAM,EAAEyiD,UAAU,CAAC1jD,EAAX,GAAgB0jD,UAAU,CAACtM;KAJrC;;;SAQKxnB,QAAP;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCF,IAAM06B,mBAAmB,GAAG;EAC1BhzB,OAAO,EAAE,CAAC,OAAD,EAAU,UAAV,EAAsB,UAAtB,CADiB;EAE1Bpc,eAAe,EAAE;IACfzX,QAAQ,EAAE;MACRkgD,OAAO,EAAE;QACP3/C,IAAI,EAAE,IADC;QAEPa,KAAK,EAAE;;KAJI;IAOfkrB,KAAK,EAAE;MACL60B,MAAM,EAAE,gBADH;MAELz+C,IAAI,EAAE,wBAFD;MAGL3K,MAAM,EAAE;;GAZc;EAe1BywB,QAAQ,EAAE,KAfgB;EAgB1BgF,EAAE,EAAE;IACFs5B,UADE,sBACSn+C,CADT,EACY;WAAOzM,KAAL,CAAWyM,CAAX;KADd;IAEFo+C,SAFE,qBAEQp+C,CAFR,EAEW;WAAOyX,IAAL,CAAUzX,CAAV;KAFb;IAGFq+C,QAHE,oBAGOr+C,CAHP,EAGU;WAAOxM,GAAL,CAASwM,CAAT;KAHZ;IAIFs+C,UAJE,sBAISt+C,CAJT,EAIY;WAAOsZ,KAAL,CAAWtZ,CAAX;KAJd;IAKFu+C,WALE,uBAKUv+C,CALV,EAKa;WAAOu+C,WAAL,CAAiBv+C,CAAjB;;GArBO;EAuB1BwtB,OAvB0B,qBAuBhB;SACHtQ,KAAL,GAAa;MACXrtB,GAAG,EAAE,KAAKwH,QAAL,CAAcxH,GAAd,IAAqB;KAD5B;GAxBwB;EA4B1Bg+B,YA5B0B,wBA4BbxkB,IA5Ba,EA4BP;SACZ6T,KAAL,CAAWvoB,IAAX,GAAkB0U,IAAI,CAAC/Q,IAAL,CAAUu2B,aAA5B;GA7BwB;EA+B1B2vB,YA/B0B,0BA+BX;QACT,CAAC,KAAKthC,KAAL,CAAW6D,OAAhB,EAAyB;WAClB7D,KAAL,CAAWxD,MAAX,GAAoBA,MAAM,CAAC,KAAKwD,KAAN,EAAa,KAAKA,KAAL,CAAW8+B,aAAxB,CAA1B;WACK9+B,KAAL,CAAW4G,MAAX,GAAoB,IAApB;;MACAxC,OAAM,CAAC,KAAKpE,KAAN,CAAN;;GAnCsB;EAsC1BoE,MAtC0B,kBAsCnBz0B,CAtCmB,EAsChB;;;QACFmiB,KAAK,GAAG,KAAK3X,QAAL,CAAcA,QAA5B;SACK6lB,KAAL,CAAWuM,SAAX,GAAuBza,KAAK,CAACya,SAAN,KAAoB,UAApB,GAAiCstB,QAAjC,GAA4CC,UAAnE;QACMhvC,MAAM,GAAG,KAAK6X,QAAL,CAAcoG,OAAd,GAAwBC,qBAAxB,EAAf;QACM5tB,IAAI,GAAG,KAAK4kB,KAAL,CAAWvoB,IAAX,CAAgB,KAAKuoB,KAAL,CAAWuM,SAAX,KAAyBstB,QAAzB,GAAoC,QAApC,GAA+C,OAA/D,CAAb;QACItgD,KAAK,GAAGysB,aAAa,CAAC,KAAKf,KAAL,CAAW1rB,KAAX,CAAiBuY,KAAK,CAACvY,KAAvB,CAAD,EAAgC6B,IAAhC,CAAzB;QAEMlJ,MAAM,GAAGyuD,aAAa,CAAC,IAAD,CAA5B;IACApnD,KAAK,GAAGrH,MAAM,CAACqH,KAAP,GAAerH,MAAM,CAACqH,KAAtB,GAA8BA,KAAtC;SACKymB,KAAL,CAAWo6B,UAAX,GAAwBloD,MAAM,CAACkoD,UAA/B;SACKp6B,KAAL,CAAWy8B,cAAX,GAA4BvqD,MAAM,CAACuqD,cAAnC;SACKz8B,KAAL,CAAW5kB,IAAX,GAAkBlJ,MAAM,CAACkJ,IAAP,KAAgB,IAAhB,GAAuBA,IAAvB,GAA8BlJ,MAAM,CAACkJ,IAAvD;SAEK4kB,KAAL,CAAW7lB,QAAX,GAAsB2X,KAAtB;SACKkO,KAAL,CAAWyG,KAAX,GAAmB,KAAKA,KAAxB;SACKzG,KAAL,CAAWlV,MAAX,GAAoBA,MAApB;SACKkV,KAAL,CAAWV,KAAX,GAAmB,QAAOxN,KAAK,CAACwN,KAAb,MAAuB,QAAvB,GAAkCxN,KAAK,CAACwN,KAAN,CAAYzN,OAA9C,GAAwDC,KAAK,CAACwN,KAAjF;SACKU,KAAL,CAAW8+B,aAAX,GAA2B,KAAK75B,KAAL,CAAW3F,KAAX,CAAiB,KAAKU,KAAL,CAAWV,KAA5B,CAA3B;SACKU,KAAL,CAAW2C,QAAX,GAAsB,KAAKA,QAA3B;SACK3C,KAAL,CAAW0+B,KAAX,GAAmB,CAAC,CAAC5sC,KAAK,CAACu4B,QAA3B;SACKrqB,KAAL,CAAWrwB,CAAX,GAAeA,CAAf;;SACKqwB,KAAL,CAAWg8B,eAAX,GAA6B,UAACpB,QAAD,EAAW9kD,KAAX,EAAkB6kD,UAAlB,EAAiC;MAC5D,KAAI,CAAC36B,KAAL,CAAWk7B,IAAX,GAAkB,IAAlB;MACAsE,eAAe,CAAC,KAAI,CAACx/B,KAAN,EAAa46B,QAAb,EAAuB9kD,KAAvB,EAA8B6kD,UAA9B,CAAf;;MACA,KAAI,CAAClgC,IAAL,CAAU,WAAV;;MACA2J,OAAM,CAAC,KAAI,CAACpE,KAAN,CAAN;KAJF;;SAMKA,KAAL,CAAWi8B,cAAX,GAA4B,YAAM;MAChC,KAAI,CAACj8B,KAAL,CAAWk7B,IAAX,GAAkB,IAAlB;;MACA92B,OAAM,CAAC,KAAI,CAACpE,KAAN,CAAN;KAFF;;SAIKA,KAAL,CAAWo+B,QAAX,GAAsB;MACpBtzC,MAAM,EAAE,KAAKkV,KAAL,CAAWuM,SAAX,KAAyBstB,QAAzB,GAAoC,KAApC,GAA4C,MADhC;MAEpBwE,KAAK,EAAE,KAAKr+B,KAAL,CAAWuM,SAAX,KAAyBstB,QAAzB,GAAoC,GAApC,GAA0C,GAF7B;MAGpBvG,GAAG,EAAE,KAAKtzB,KAAL,CAAWuM,SAAX,KAAyBstB,QAAzB,GAAoC,QAApC,GAA+C;KAHtD;SAKK75B,KAAL,CAAWtZ,MAAX,GAAoB,OAAOoL,KAAK,CAACuoC,OAAN,CAAcrxC,KAArB,KAA+B,UAA/B,GAA4C,UAAC/Y,CAAD,EAAImG,CAAJ;aAAU0b,KAAK,CAACuoC,OAAN,CAAcrxC,KAAd,CAAoBpV,IAApB,CAAyB6F,SAAzB,EAAoC;QAC5Gub,KAAK,EAAE/kB,CADqG;QAE5GY,IAAI,EAAEuF,CAFsG;QAG5GmD,KAAK,EAALA,KAH4G;QAI5GsZ,SAAS,EAAE;UACTtZ,KAAK,EAAE,KAAI,CAAC0rB,KAAL,CAAW1rB,KADT;UAET6M,SAAS,EAAE,KAAI,CAAC6e,KAAL,CAAW7e;;OANgD,CAAV;KAA5C,GAQf,KARL;;QAUI,CAAC,GAAG8U,cAAH,CAAkBtnB,IAAlB,CAAuB2F,KAAvB,EAA8B,MAA9B,CAAL,EAA4C;;WACrCymB,KAAL,CAAWuhC,QAAX,GAAsB,KAAtB;WACKvhC,KAAL,CAAWzmB,KAAX,GAAmB6V,WAAM,EAAzB;WACK4Q,KAAL,CAAWzmB,KAAX,CAAiB1I,IAAjB,GAAwB0I,KAAK,CAAC1I,IAA9B;;UACI,CAAC,KAAKmvB,KAAL,CAAWtZ,MAAhB,EAAwB;aACjBsZ,KAAL,CAAWtZ,MAAX,GAAoB,UAACzW,CAAD,EAAImG,CAAJ,EAAU;cACxB,CAAC6pD,aAAa,CAAC1mD,KAAK,CAACmS,KAAN,EAAD,EAAgBtV,CAAhB,CAAlB,EAAsC;mBAC7B,GAAP;;;iBAEK4pD,gBAAgB,CAAC/vD,CAAD,EAAIsJ,KAAJ,CAAvB;SAJF;;;WAOGymB,KAAL,CAAW6+B,iBAAX,GAA+B2C,KAAY,EAA3C;;WACKxhC,KAAL,CAAWq/B,UAAX,GAAwB,UAACoC,WAAD;eAAiBpC,UAAU,CAACoC,WAAD,EAAcloD,KAAd,CAA3B;OAAxB;KAbF,MAcO;WACAymB,KAAL,CAAWuhC,QAAX,GAAsB,IAAtB;WACKvhC,KAAL,CAAW0hC,YAAX,GAA0B,QAAO5vC,KAAK,CAACwN,KAAb,MAAuB,QAAvB,GAAkCxN,KAAK,CAACwN,KAAN,CAAYqiC,OAA9C,GAAwD,KAAlF;WACK3hC,KAAL,CAAW6+B,iBAAX,GAA+B,IAA/B;WACK7+B,KAAL,CAAWq/B,UAAX,GAAwB,IAAxB;WACKr/B,KAAL,CAAWzmB,KAAX,GAAmBA,KAAnB;UACMwzC,SAAS,GAAG,KAAK/sB,KAAL,CAAWzmB,KAAX,CAAiB1I,IAAjB,EAAlB;;UACI,CAAC,KAAKmvB,KAAL,CAAWtZ,MAAZ,IAAsBqmC,SAAtB,IAAmCA,SAAS,CAAC/gC,MAA7C,IAAuD+gC,SAAS,CAAC/gC,MAAV,CAAiB,CAAjB,CAA3D,EAAgF;aACzEgU,KAAL,CAAWtZ,MAAX,GAAoBqmC,SAAS,CAAC/gC,MAAV,CAAiB,CAAjB,EAAoB5F,SAApB,EAApB;;;;SAIC4Z,KAAL,CAAWxD,MAAX,GAAoBA,MAAM,CAAC,KAAKwD,KAAN,EAAa,KAAKA,KAAL,CAAW8+B,aAAxB,CAA1B;WAEQ,KAAK9+B,KAAL,CAAW0hC,YAAX,IAA2B,KAAK1hC,KAAL,CAAW4hC,wBAAvC,GAAmE,CAAC7+B,KAAK,CAAC,KAAK/C,KAAN,CAAN,CAAnE,GAAyF,EAAhG;GAhHwB;EAkH1BwQ,OAlH0B,qBAkHhB;QACJ,KAAKxQ,KAAL,CAAW0hC,YAAX,IAA2B,KAAK1hC,KAAL,CAAW8+B,aAA1C,EAAyD;WAClD9+B,KAAL,CAAW8+B,aAAX,CAAyBn3B,EAAzB,CAA4B,QAA5B,EAAsC,KAAK25B,YAA3C;;GApHsB;EAuH1B1wB,aAvH0B,2BAuHV;QACV,KAAK5Q,KAAL,CAAW0hC,YAAX,IAA2B,KAAK1hC,KAAL,CAAW8+B,aAA1C,EAAyD;WAClD9+B,KAAL,CAAW8+B,aAAX,CAAyBj3B,cAAzB,CAAwC,QAAxC,EAAkD,KAAKy5B,YAAvD;;GAzHsB;EA4H1BjrD,KA5H0B,iBA4HpByM,CA5HoB,EA4HjB;IACPzM,OAAK,CAAC;MACJyM,CAAC,EAADA,CADI;MAEJkd,KAAK,EAAE,KAAKA,KAFR;MAGJ2C,QAAQ,EAAE,KAAKA,QAHX;MAIJnG,MAAM,EAANA,MAJI;MAKJkgC,UAAU,EAAE9C;KALT,CAAL;GA7HwB;EAqI1BtjD,GArI0B,mBAqIpB;QACA,CAAC,KAAK0pB,KAAL,CAAW6D,OAAhB,EAAyB;;;;IAGzBvtB,GAAG,CAAC,KAAK0pB,KAAN,EAAaxD,MAAb,CAAH;;IACA4H,OAAM,CAAC,KAAKpE,KAAN,CAAN;;SACKA,KAAL,CAAW4hC,wBAAX,GAAsC,IAAtC;SACK5hC,KAAL,CAAW4G,MAAX,GAAoB,IAApB;GA5IwB;EA8I1BrM,IA9I0B,kBA8IrBzX,CA9IqB,EA8IlB;QACF,CAAC,KAAKkd,KAAL,CAAW6D,OAAhB,EAAyB;;;;IAGzBtJ,IAAI,CAAC,KAAKyF,KAAN,EAAald,CAAb,CAAJ;;IACA+c,SAAS,CAAC,KAAKG,KAAN,CAAT;;IACAoE,OAAM,CAAC,KAAKpE,KAAN,CAAN;GApJwB;EAsJ1B5D,KAtJ0B,mBAsJlB;QACF,KAAK4D,KAAL,CAAW6+B,iBAAf,EAAkC;WAC3B7+B,KAAL,CAAW6+B,iBAAX,CAA6BziC,KAA7B;;;SAEG4D,KAAL,CAAW2C,QAAX,CAAoByB,MAApB,CAA2B,EAA3B;SACKpE,KAAL,CAAW6D,OAAX,GAAqB,KAArB;SACK7D,KAAL,CAAW4G,MAAX,GAAoB,IAApB;SACK5G,KAAL,CAAW4hC,wBAAX,GAAsC,KAAtC;GA7JwB;EA+J1BP,WA/J0B,uBA+Jdv+C,CA/Jc,EA+JX;QACT,CAAC,KAAKkd,KAAL,CAAWuhC,QAAhB,EAA0B;;;;QAGpBj+C,EAAE,GAAGR,CAAC,CAAC++C,QAAF,IAAc/+C,CAAzB;QAEM5Q,MAAM,GAAGoR,EAAE,CAACpR,MAAlB;QACM4vD,EAAE,GAAG;MACTlH,QAAQ,EAAE4D,QAAQ,CAACtsD,MAAM,CAACusD,YAAP,CAAoB,UAApB,CAAD,EAAkC,EAAlC,CADT;MAETtD,SAAS,EAAEqD,QAAQ,CAACtsD,MAAM,CAACusD,YAAP,CAAoB,WAApB,CAAD,EAAmC,EAAnC;KAFrB;;QAIIpjD,KAAK,CAACymD,EAAE,CAAClH,QAAJ,CAAL,IAAsBmH,IAAI,CAACC,SAAL,CAAeF,EAAf,MAAuBC,IAAI,CAACC,SAAL,CAAe,KAAKhiC,KAAL,CAAWk7B,IAA1B,CAAjD,EAAkF;;;;SAG7El7B,KAAL,CAAWk7B,IAAX,GAAkB4G,EAAlB;IAEAx+C,EAAE,CAAC45B,eAAH;IACA55B,EAAE,CAAC2+C,wBAAH;IACA3+C,EAAE,CAAC84B,cAAH;QAEM8lB,OAAO,GAAGhwD,MAAM,CAACiwD,UAAvB;;IAEA/9B,OAAM,CAAC,KAAKpE,KAAN,CAAN;;QACMoiC,OAAO,GAAGF,OAAO,CAACG,aAAR,CAAsB,OAAtB,CAAhB;IACAD,OAAO,CAACE,KAAR;IACAF,OAAO,CAACG,MAAR;;CAxLJ;;ACnNA,SAASn+B,MAAT,CAAgBpE,KAAhB,EAAuB;EACrBA,KAAK,CAAC2C,QAAN,CAAeyB,MAAf,CAAsBrB,KAAK,CAAC/C,KAAD,CAA3B;;;AAGF,SAASxD,QAAT,CAAgBwD,KAAhB,EAAuB;SACdA,KAAK,CAACf,EAAN,CAASzC,MAAT,EAAP;;;AAGF,SAASgmC,eAAT,CAAyBxiC,KAAzB,EAAgCyiC,UAAhC,EAA4C;MACpCC,OAAO,GAAG;IACd3tD,CAAC,EAAEirB,KAAK,CAACuM,SAAN,GAAkBk2B,UAAU,CAACjnD,GAAX,GAAiBwkB,KAAK,CAACvoB,IAAN,CAAW1C,CAA9C,GAAkDirB,KAAK,CAACvoB,IAAN,CAAW1C,CADlD;IAEdG,CAAC,EAAE8qB,KAAK,CAACuM,SAAN,GAAkBvM,KAAK,CAACvoB,IAAN,CAAWvC,CAA7B,GAAiCutD,UAAU,CAACjnD,GAAX,GAAiBwkB,KAAK,CAACvoB,IAAN,CAAWvC,CAFlD;IAGdwC,KAAK,EAAEsoB,KAAK,CAACuM,SAAN,GAAkBk2B,UAAU,CAAChnD,GAAX,GAAiBgnD,UAAU,CAACjnD,GAA9C,GAAoDwkB,KAAK,CAACvoB,IAAN,CAAWC,KAAX,GAAmBsoB,KAAK,CAACvoB,IAAN,CAAW1C,CAH3E;IAId4C,MAAM,EAAEqoB,KAAK,CAACuM,SAAN,GAAkBvM,KAAK,CAACvoB,IAAN,CAAWE,MAAX,GAAoBqoB,KAAK,CAACvoB,IAAN,CAAWvC,CAAjD,GAAqDutD,UAAU,CAAChnD,GAAX,GAAiBgnD,UAAU,CAACjnD;GAJ3F;SAMOwkB,KAAK,CAACiF,KAAN,CAAY8N,QAAZ,CAAqB2vB,OAArB,EAA8B1iC,KAAK,CAAC7lB,QAAN,CAAemlB,KAA7C,CAAP;;;AAGF,SAASqjC,cAAT,CAAwB3iC,KAAxB,EAA+B4iC,SAA/B,EAA0C;EACxC5iC,KAAK,CAACiF,KAAN,CAAY+N,eAAZ,CAA4B4vB,SAA5B,EAAuC5iC,KAAK,CAAC7lB,QAAN,CAAemlB,KAAtD;;;AAGF,SAASO,WAAT,CAAmBG,KAAnB,EAA0B;MAClB69B,EAAE,GAAG79B,KAAK,CAACxD,MAAN,CAAa/rB,GAAb,CAAiB,UAAC2F,CAAD;WAAQ;MAAEoF,GAAG,EAAEpF,CAAC,CAACoF,GAAT;MAAcC,GAAG,EAAErF,CAAC,CAACqF;KAA7B;GAAjB,CAAX;;MAEIukB,KAAK,CAAC4G,MAAN,CAAanN,GAAb,KAAqB,CAAC,CAA1B,EAA6B;QACvBuG,KAAK,CAAC4G,MAAN,CAAajF,IAAb,KAAsB,QAA1B,EAAoC;MAClCk8B,EAAE,CAAC79B,KAAK,CAAC4G,MAAN,CAAanN,GAAd,CAAF,CAAqBje,GAArB,GAA2BxG,IAAI,CAACwG,GAAL,CAASwkB,KAAK,CAAC3pB,KAAf,EAAsB2pB,KAAK,CAACrC,OAA5B,CAA3B;MACAkgC,EAAE,CAAC79B,KAAK,CAAC4G,MAAN,CAAanN,GAAd,CAAF,CAAqBhe,GAArB,GAA2BzG,IAAI,CAACyG,GAAL,CAASukB,KAAK,CAAC3pB,KAAf,EAAsB2pB,KAAK,CAACrC,OAA5B,CAA3B;KAFF,MAGO;UACC8/B,KAAK,GAAGL,YAAY,CAACp9B,KAAD,CAA1B;MACA69B,EAAE,CAAC79B,KAAK,CAAC4G,MAAN,CAAanN,GAAd,CAAF,CAAqBje,GAArB,GAA2BwkB,KAAK,CAAC4G,MAAN,CAAavwB,KAAb,GAAqBonD,KAAhD;MACAI,EAAE,CAAC79B,KAAK,CAAC4G,MAAN,CAAanN,GAAd,CAAF,CAAqBhe,GAArB,GAA2BukB,KAAK,CAAC4G,MAAN,CAAatwB,GAAb,GAAmBmnD,KAA9C;;GAPJ,MASO;IACLI,EAAE,CAACpsD,IAAH,CAAQ;MACN+J,GAAG,EAAExG,IAAI,CAACwG,GAAL,CAASwkB,KAAK,CAAC3pB,KAAf,EAAsB2pB,KAAK,CAACrC,OAA5B,CADC;MAENliB,GAAG,EAAEzG,IAAI,CAACyG,GAAL,CAASukB,KAAK,CAAC3pB,KAAf,EAAsB2pB,KAAK,CAACrC,OAA5B;KAFP;;;EAMFqC,KAAK,CAACf,EAAN,CAAS9C,GAAT,CAAa0hC,EAAb;MAEMlrB,MAAM,GAAG,EAAf;EACAkrB,EAAE,CAACv8C,OAAH,CAAW,UAACoK,KAAD,EAAW;IACpBinB,MAAM,CAAClhC,IAAP,OAAAkhC,MAAM,uBAAS6vB,eAAe,CAACxiC,KAAD,EAAQtU,KAAR,CAAxB,EAAN;GADF;EAIAi3C,cAAc,CAAC3iC,KAAD,EAAQ2S,MAAR,CAAd;;;AAGF,SAASkwB,cAAT,CAAwB7iC,KAAxB,EAA+BlqB,KAA/B,EAAsC4V,KAAtC,EAA6C;MACrClQ,GAAG,GAAGxG,IAAI,CAACwG,GAAL,OAAAxG,IAAI,uBAAQ0W,KAAR,EAAhB;MACMjQ,GAAG,GAAGzG,IAAI,CAACyG,GAAL,OAAAzG,IAAI,uBAAQ0W,KAAR,EAAhB;MACMg3C,OAAO,GAAG;IACd3tD,CAAC,EAAEirB,KAAK,CAACuM,SAAN,GAAkB/wB,GAAG,GAAGwkB,KAAK,CAACvoB,IAAN,CAAW1C,CAAnC,GAAuCirB,KAAK,CAACvoB,IAAN,CAAW1C,CADvC;IAEdG,CAAC,EAAE8qB,KAAK,CAACuM,SAAN,GAAkBvM,KAAK,CAACvoB,IAAN,CAAWvC,CAA7B,GAAiCsG,GAAG,GAAGwkB,KAAK,CAACvoB,IAAN,CAAWvC,CAFvC;IAGdwC,KAAK,EAAEsoB,KAAK,CAACuM,SAAN,GAAkB9wB,GAAG,GAAGD,GAAxB,GAA8BwkB,KAAK,CAACvoB,IAAN,CAAWC,KAAX,GAAmBsoB,KAAK,CAACvoB,IAAN,CAAW1C,CAHrD;IAId4C,MAAM,EAAEqoB,KAAK,CAACuM,SAAN,GAAkBvM,KAAK,CAACvoB,IAAN,CAAWE,MAAX,GAAoBqoB,KAAK,CAACvoB,IAAN,CAAWvC,CAAjD,GAAqDuG,GAAG,GAAGD;GAJrE;MAOMm3B,MAAM,GAAG3S,KAAK,CAACiF,KAAN,CAAY8N,QAAZ,CAAqB2vB,OAArB,EAA8B1iC,KAAK,CAAC7lB,QAAN,CAAemlB,KAA7C,CAAf;;MAEIqT,MAAM,CAACnhC,MAAP,KAAkB,CAAtB,EAAyB;WAChB,GAAP;;;MAGIsxD,UAAU,GAAGnwB,MAAM,CAACnU,MAAP,CAAc,UAACukC,EAAD,EAAKC,EAAL,EAAY;;QAErCC,OAAO,GAAGF,EAAE,CAACrC,MAAnB;QACMwC,OAAO,GAAGF,EAAE,CAACtC,MAAnB;;QAEI5qD,KAAK,KAAK0F,GAAd,EAAmB;UACbynD,OAAO,CAACjjC,KAAK,CAACo+B,QAAN,CAAeC,KAAhB,CAAP,IAAiC6E,OAAO,CAACljC,KAAK,CAACo+B,QAAN,CAAeC,KAAhB,CAA5C,EAAoE;eAC3D0E,EAAP;;;aAEKC,EAAP;KATyC;;;QAavCC,OAAO,CAACjjC,KAAK,CAACo+B,QAAN,CAAeC,KAAhB,CAAP,GAAgC4E,OAAO,CAACjjC,KAAK,CAACo+B,QAAN,CAAe19C,IAAhB,CAAvC,IAAgEwiD,OAAO,CAACljC,KAAK,CAACo+B,QAAN,CAAeC,KAAhB,CAAP,GAAgC6E,OAAO,CAACljC,KAAK,CAACo+B,QAAN,CAAe19C,IAAhB,CAA3G,EAAkI;aACzHqiD,EAAP;;;WAEKC,EAAP;GAhBiB,CAAnB;MAmBMG,UAAU,GAAGnjC,KAAK,CAAC7lB,QAAN,CAAemlB,KAAf,CAAqBld,UAArB,CAAgCoc,MAAhC,CAAuC,UAAC4kC,EAAD,EAAKC,EAAL;WAAaD,EAAE,CAACzwD,GAAH,KAAWmwD,UAAU,CAACnwD,GAAtB,GAA4BywD,EAA5B,GAAiCC,EAA9C;GAAvC,CAAnB;;MAEI,OAAOrjC,KAAK,CAAC7lB,QAAN,CAAekgD,OAAf,CAAuBrxC,KAA9B,KAAwC,UAA5C,EAAwD;WAC/CgX,KAAK,CAAC7lB,QAAN,CAAekgD,OAAf,CAAuBrxC,KAAvB,CAA6B85C,UAAU,CAACjyD,IAAxC,CAAP;;;MAEEwC,KAAK,CAACC,OAAN,CAAc6vD,UAAU,CAACtyD,IAAzB,KAAkCsyD,UAAU,CAACtyD,IAAX,CAAgBW,MAAtD,EAA8D;WACrDsxD,UAAU,CAACjyD,IAAX,CAAgBsyD,UAAU,CAACtyD,IAAX,CAAgB,CAAhB,CAAhB,EAAoCmY,KAA3C;;;SAGK85C,UAAU,CAACjyD,IAAX,IAAmBiyD,UAAU,CAACjyD,IAAX,CAAgBmY,KAAnC,GAA2C85C,UAAU,CAACjyD,IAAX,CAAgBmY,KAA3D,GAAmE,GAA1E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCF,IAAMs6C,6BAA6B,GAAG;EACpCt1B,OAAO,EAAE,CAAC,OAAD,EAAU,UAAV,EAAsB,UAAtB,CAD2B;EAEpCpc,eAAe,EAAE;IACfzX,QAAQ,EAAE;MACRkgD,OAAO,EAAE;QACP3/C,IAAI,EAAE,IADC;QAEPa,KAAK,EAAE;;KAJI;IAOfkrB,KAAK,EAAE;MACL60B,MAAM,EAAE,gBADH;MAELz+C,IAAI,EAAE,wBAFD;MAGL3K,MAAM,EAAE;;GAZwB;EAepCywB,QAAQ,EAAE,KAf0B;EAgBpCgF,EAAE,EAAE;IACF47B,SADE,qBACQzgD,CADR,EACW;WAAOzM,KAAL,CAAWyM,CAAX;KADb;IAEF0gD,QAFE,oBAEO1gD,CAFP,EAEU;WAAOyX,IAAL,CAAUzX,CAAV;KAFZ;IAGF2gD,OAHE,mBAGM3gD,CAHN,EAGS;WAAOxM,GAAL,CAASwM,CAAT;KAHX;IAIF4gD,SAJE,qBAIQ5gD,CAJR,EAIW;WAAOsZ,KAAL,CAAWtZ,CAAX;;GApBmB;EAsBpCwtB,OAtBoC,qBAsB1B;SACHtQ,KAAL,GAAa;MACXrtB,GAAG,EAAE,KAAKwH,QAAL,CAAcxH,GAAd,IAAqB;KAD5B;GAvBkC;EA2BpCyxB,MA3BoC,kBA2B7Bz0B,CA3B6B,EA2B1B;;;SACHqwB,KAAL,CAAWvoB,IAAX,GAAkB,KAAKA,IAAvB;QAEMqa,KAAK,GAAG,KAAK3X,QAAL,CAAcA,QAA5B;QACMoyB,SAAS,GAAGza,KAAK,CAACya,SAAN,KAAoB,UAApB,GAAiCstB,QAAjC,GAA4CC,UAA9D;QACM1+C,IAAI,GAAG,KAAK4kB,KAAL,CAAWvoB,IAAX,CAAgB80B,SAAS,KAAKstB,QAAd,GAAyB,QAAzB,GAAoC,OAApD,CAAb;QACM/uC,MAAM,GAAG,KAAK6X,QAAL,CAAcoG,OAAd,GAAwBC,qBAAxB,EAAf;QAEM43B,OAAO,GAAG,CAAC9uC,KAAK,CAAC5f,MAAN,GAAe4f,KAAK,CAAC5f,MAAN,CAAakQ,UAAb,IAA2B,CAAC0P,KAAK,CAAC5f,MAAN,CAAa+P,SAAd,CAA1C,GAAqE,EAAtE,EACbxR,GADa,CACT,UAACf,CAAD;aAAO,KAAI,CAACu1B,KAAL,CAAWhjB,SAAX,CAAqBvS,CAArB,CAAP;KADS,EACuBwQ,MADvB,CAC8B,UAACxQ,CAAD;aAAO,CAAC,CAACA,CAAF,IAAO,CAAC,CAACA,CAAC,CAAC+H,IAAlB;KAD9B,CAAhB;QAGM2iD,UAAU,GAAGwG,OAAO,CAAC,CAAD,CAAP,GAAaA,OAAO,CAAC9gD,KAAR,CAAc,CAAd,EAAiB0e,MAAjB,CAAwB,UAACkzB,IAAD,EAAOC,IAAP;aAAiB;QACvE9D,EAAE,EAAE74C,IAAI,CAACwG,GAAL,CAASk2C,IAAI,CAAC7D,EAAd,EAAkB8D,IAAI,CAACl6C,IAAL,CAAU1C,CAA5B,CADmE;QAEvE+4C,EAAE,EAAE94C,IAAI,CAACwG,GAAL,CAASk2C,IAAI,CAAC5D,EAAd,EAAkB6D,IAAI,CAACl6C,IAAL,CAAUvC,CAA5B,CAFmE;QAGvEuB,EAAE,EAAEzB,IAAI,CAACyG,GAAL,CAASi2C,IAAI,CAACj7C,EAAd,EAAkBk7C,IAAI,CAACl6C,IAAL,CAAU1C,CAAV,GAAc48C,IAAI,CAACl6C,IAAL,CAAUC,KAA1C,CAHmE;QAIvEhB,EAAE,EAAE1B,IAAI,CAACyG,GAAL,CAASi2C,IAAI,CAACh7C,EAAd,EAAkBi7C,IAAI,CAACl6C,IAAL,CAAUvC,CAAV,GAAcy8C,IAAI,CAACl6C,IAAL,CAAUE,MAA1C;OAJkD;KAAxB,EAK5B;MACFk2C,EAAE,EAAE+S,OAAO,CAAC,CAAD,CAAP,CAAWnpD,IAAX,CAAgB1C,CADlB;MAEF+4C,EAAE,EAAE8S,OAAO,CAAC,CAAD,CAAP,CAAWnpD,IAAX,CAAgBvC,CAFlB;MAGFuB,EAAE,EAAEmqD,OAAO,CAAC,CAAD,CAAP,CAAWnpD,IAAX,CAAgB1C,CAAhB,GAAoB6rD,OAAO,CAAC,CAAD,CAAP,CAAWnpD,IAAX,CAAgBC,KAHtC;MAIFhB,EAAE,EAAEkqD,OAAO,CAAC,CAAD,CAAP,CAAWnpD,IAAX,CAAgBvC,CAAhB,GAAoB0rD,OAAO,CAAC,CAAD,CAAP,CAAWnpD,IAAX,CAAgBE;KATV,CAAb,GAUd,IAVL;SAYKqoB,KAAL,CAAWo6B,UAAX,GAAwBA,UAAU,GAAG;MACnCrlD,CAAC,EAAEqlD,UAAU,CAACvM,EAAX,GAAgB,KAAKp2C,IAAL,CAAU1C,CADM;MAEnCG,CAAC,EAAEklD,UAAU,CAACtM,EAAX,GAAgB,KAAKr2C,IAAL,CAAUvC,CAFM;MAGnCwC,KAAK,EAAE0iD,UAAU,CAAC3jD,EAAX,GAAgB2jD,UAAU,CAACvM,EAHC;MAInCl2C,MAAM,EAAEyiD,UAAU,CAAC1jD,EAAX,GAAgB0jD,UAAU,CAACtM;KAJH,GAK9B,IALJ;SAOK9tB,KAAL,CAAWyG,KAAX,GAAmB,KAAKA,KAAxB;SACKzG,KAAL,CAAWiF,KAAX,GAAmB,KAAKA,KAAxB;SACKjF,KAAL,CAAWuM,SAAX,GAAuBA,SAAvB;SACKvM,KAAL,CAAW7lB,QAAX,GAAsB2X,KAAtB;SACKkO,KAAL,CAAWlV,MAAX,GAAoBA,MAApB;SACKkV,KAAL,CAAWf,EAAX,GAAgBrD,eAAe,EAA/B;SACKoE,KAAL,CAAW2C,QAAX,GAAsB,KAAKA,QAA3B;SACK3C,KAAL,CAAW0+B,KAAX,GAAmB,CAAC,CAAC5sC,KAAK,CAACu4B,QAA3B;SACKrqB,KAAL,CAAWrwB,CAAX,GAAeA,CAAf;SACKqwB,KAAL,CAAW5kB,IAAX,GAAkBA,IAAlB;SACK4kB,KAAL,CAAWo+B,QAAX,GAAsB;MACpBtzC,MAAM,EAAE,KAAKkV,KAAL,CAAWuM,SAAX,KAAyBstB,QAAzB,GAAoC,KAApC,GAA4C,MADhC;MAEpBwE,KAAK,EAAE,KAAKr+B,KAAL,CAAWuM,SAAX,KAAyBstB,QAAzB,GAAoC,GAApC,GAA0C,GAF7B;MAGpBvG,GAAG,EAAE,KAAKtzB,KAAL,CAAWuM,SAAX,KAAyBstB,QAAzB,GAAoC,QAApC,GAA+C,QAHhC;MAIpBn5C,IAAI,EAAE,KAAKsf,KAAL,CAAWuM,SAAX,KAAyBstB,QAAzB,GAAoC,QAApC,GAA+C;KAJvD;;SAOK75B,KAAL,CAAWtZ,MAAX,GAAoB,SAASi9C,SAAT,CAAmB1zD,CAAnB,EAAsBmG,CAAtB,EAAyB;aACpCysD,cAAc,CAAC,IAAD,EAAO5yD,CAAP,EAAUmG,CAAV,CAArB;KADF;;WAIO,EAAP;GA9EkC;EAgFpCC,KAhFoC,iBAgF9ByM,CAhF8B,EAgF3B;IACPi7C,SAAS,CAAC;MACRj7C,CAAC,EAADA,CADQ;MAERkd,KAAK,EAAE,KAAKA,KAFJ;MAGR2C,QAAQ,EAAE,KAAKA,QAHP;MAIRnG,MAAM,EAANA,QAJQ;MAKRkgC,UAAU,EAAE9C;KALL,CAAT;GAjFkC;EAyFpCtjD,GAzFoC,iBAyF9B;QACA,CAAC,KAAK0pB,KAAL,CAAW6D,OAAhB,EAAyB;;;;IAGzBk7B,OAAO,CAAC,KAAK/+B,KAAN,EAAaxD,QAAb,CAAP;IACA4H,MAAM,CAAC,KAAKpE,KAAN,CAAN;GA9FkC;EAgGpCzF,IAhGoC,gBAgG/BzX,CAhG+B,EAgG5B;QACF,CAAC,KAAKkd,KAAL,CAAW6D,OAAhB,EAAyB;;;;IAGzBo7B,QAAQ,CAAC,KAAKj/B,KAAN,EAAald,CAAb,CAAR;IACA+c,WAAS,CAAC,KAAKG,KAAN,CAAT;IACAoE,MAAM,CAAC,KAAKpE,KAAN,CAAN;GAtGkC;EAwGpC5D,KAxGoC,mBAwG5B;QACF,KAAK4D,KAAL,CAAWf,EAAf,EAAmB;WACZe,KAAL,CAAWf,EAAX,CAAc7C,KAAd;;;SAEG4D,KAAL,CAAW2C,QAAX,CAAoByB,MAApB,CAA2B,EAA3B;;CA5GJ;;ACpJe,SAAS6D,UAAT,CAAoB4e,OAApB,EAA6B;EAC1CA,OAAO,CAAC5kC,SAAR,CAAkB,aAAlB,EAAiC2hD,mBAAjC;EACA/c,OAAO,CAAC5kC,SAAR,CAAkB,gBAAlB,EAAoCqhD,6BAApC;;;ACHF,IAAMO,IAAI,GAAG,MAAb;AACA,IAAMC,OAAO,GAAG,CAAhB;;AAEA,SAAStnC,QAAT,CAAgBwD,KAAhB,EAAuB;MACfV,KAAK,GAAGU,KAAK,CAACV,KAApB;;MACI,CAACA,KAAD,IAAU,CAACA,KAAK,CAACkB,QAAN,EAAf,EAAiC;WACxB,EAAP;;;MAGI0+B,UAAU,GAAGl/B,KAAK,CAACzmB,KAAN,CAAY1I,IAAZ,EAAnB;MACM+b,YAAY,GAAGsyC,UAAU,GAAGA,UAAU,CAAClzC,MAAX,IAAqB,EAAxB,GAA6B,EAA5D;MACMoT,OAAO,GAAGxS,YAAY,CAACnc,GAAb,CAAiB,UAACwY,KAAD;WAAWA,KAAK,CAACN,EAAN,EAAX;GAAjB,CAAhB;MACMsf,UAAU,GAAG3I,KAAK,CAACmB,OAAN,GAAgBvgB,MAAhB,CAAuB,UAACsI,CAAD;WAAOA,CAAC,CAACpX,IAAF,KAAW,OAAX,IAAsBguB,OAAO,CAACjf,OAAR,CAAgBqI,CAAC,CAACG,EAAlB,MAA0B,CAAC,CAAxD;GAAvB,EAAkF,CAAlF,CAAnB;;MAEI,CAACsf,UAAL,EAAiB;WACR,EAAP;;;SAGKA,UAAU,CAAC3I,KAAX,CAAiB9C,MAAjB,EAAP;;;AAGF,SAASmW,MAAT,CAAgB3S,KAAhB,EAAuB;MACf2M,UAAU,GAAG3M,KAAK,CAACuM,SAAN,KAAoB,UAAvC;MACMnxB,IAAI,GAAG4kB,KAAK,CAACvoB,IAAN,CAAWk1B,UAAU,GAAG,QAAH,GAAc,OAAnC,CAAb;MACMo3B,SAAS,GAAG/jC,KAAK,CAACvoB,IAAN,CAAWk1B,UAAU,GAAG,OAAH,GAAa,QAAlC,CAAlB;SACOnQ,QAAM,CAACwD,KAAD,CAAN,CAAcvvB,GAAd,CAAkB,UAACib,KAAD,EAAW;QAC5BrV,KAAK,GAAG2pB,KAAK,CAACzmB,KAAN,CAAYmS,KAAK,CAAClQ,GAAlB,IAAyBJ,IAAvC;QACM9E,GAAG,GAAG0pB,KAAK,CAACzmB,KAAN,CAAYmS,KAAK,CAACjQ,GAAlB,IAAyBL,IAArC;QACMknC,GAAG,GAAGttC,IAAI,CAACwG,GAAL,CAASnF,KAAT,EAAgBC,GAAhB,CAAZ;QACMvG,CAAC,GAAGiF,IAAI,CAAC2O,GAAL,CAAStN,KAAK,GAAGC,GAAjB,CAAV;WACO;MACLlF,IAAI,EAAE,MADD;MAELyG,IAAI,EAAEmoB,KAAK,CAACnoB,IAFP;MAGL0rB,OAAO,EAAEvD,KAAK,CAACuD,OAHV;MAILxuB,CAAC,EAAE43B,UAAU,GAAG,CAAH,GAAO2V,GAJf;MAKL5qC,KAAK,EAAEi1B,UAAU,GAAGo3B,SAAH,GAAeh0D,CAL3B;MAMLmF,CAAC,EAAEy3B,UAAU,GAAG2V,GAAH,GAAS,CANjB;MAOL3qC,MAAM,EAAEg1B,UAAU,GAAG58B,CAAH,GAAOg0D;KAP3B;GALK,CAAP;;;AAiBF,SAASx8B,OAAT,CAAiBvH,KAAjB,EAAwB;EACtBA,KAAK,CAAC2C,QAAN,CAAeyB,MAAf,CAAsBuO,MAAM,CAAC3S,KAAD,CAA5B;;;AAGF,SAASyH,QAAT,CAAkBzH,KAAlB,EAAyB;EACvBA,KAAK,CAAC2C,QAAN,CAAeyB,MAAf,CAAsBuO,MAAM,CAAC3S,KAAD,CAA5B;;;AAGF,SAASwH,KAAT,CAAexH,KAAf,EAAsB;EACpBA,KAAK,CAAC2C,QAAN,CAAeyB,MAAf,CAAsBuO,MAAM,CAAC3S,KAAD,CAA5B;;;AAGF,SAASgkC,KAAT,CAAehkC,KAAf,EAAsBV,KAAtB,EAA6B/lB,KAA7B,EAAoCopB,QAApC,EAA8C;EAC5C3C,KAAK,CAACV,KAAN,GAAcA,KAAd;;MAEI,CAACA,KAAL,EAAY;;;;WAIHjpB,KAAT,GAAiB;IACfkxB,OAAO,CAACvH,KAAD,CAAP;;;WAGOtF,MAAT,GAAkB;IAChB+M,QAAQ,CAACzH,KAAD,CAAR;;;WAGO1pB,GAAT,GAAe;IACbkxB,KAAK,CAACxH,KAAD,CAAL;;;EAGFV,KAAK,CAACqI,EAAN,CAAS,OAAT,EAAkBtxB,KAAlB;EACAipB,KAAK,CAACqI,EAAN,CAAS,QAAT,EAAmBjN,MAAnB;EACA4E,KAAK,CAACqI,EAAN,CAAS,KAAT,EAAgBrxB,GAAhB;EAEA0pB,KAAK,CAAC3pB,KAAN,GAAcA,KAAd;EACA2pB,KAAK,CAACtF,MAAN,GAAeA,MAAf;EACAsF,KAAK,CAAC1pB,GAAN,GAAYA,GAAZ;EACA0pB,KAAK,CAACV,KAAN,GAAcA,KAAd;EACAU,KAAK,CAACzmB,KAAN,GAAcA,KAAd;EACAymB,KAAK,CAAC2C,QAAN,GAAiBA,QAAjB;;;AAGF,SAASshC,QAAT,CAAkBjkC,KAAlB,EAAyB;MACnBA,KAAK,CAACV,KAAV,EAAiB;IACfU,KAAK,CAACV,KAAN,CAAYuI,cAAZ,CAA2B,OAA3B,EAAoC7H,KAAK,CAAC3pB,KAA1C;IACA2pB,KAAK,CAACV,KAAN,CAAYuI,cAAZ,CAA2B,QAA3B,EAAqC7H,KAAK,CAACtF,MAA3C;IACAsF,KAAK,CAACV,KAAN,CAAYuI,cAAZ,CAA2B,KAA3B,EAAkC7H,KAAK,CAAC1pB,GAAxC;;;EAGF0pB,KAAK,CAAC3pB,KAAN,GAAcoD,SAAd;EACAumB,KAAK,CAACtF,MAAN,GAAejhB,SAAf;EACAumB,KAAK,CAAC1pB,GAAN,GAAYmD,SAAZ;EACAumB,KAAK,CAACV,KAAN,GAAc7lB,SAAd;EACAumB,KAAK,CAACzmB,KAAN,GAAcE,SAAd;EACAumB,KAAK,CAAC2C,QAAN,GAAiBlpB,SAAjB;;;;;;;;;;;;;;;;AAgBF,IAAMyqD,cAAc,GAAG;EACrBl2B,OAAO,EAAE,CAAC,OAAD,EAAU,UAAV,EAAsB,UAAtB,CADY;EAErBpc,eAAe,EAAE;IACfzX,QAAQ,EAAE;GAHS;EAKrBK,aAAa,EAAE;WAAM,EAAN;GALM;EAMrB81B,OANqB,qBAMX;SACHtQ,KAAL,GAAa,EAAb;GAPmB;EASrBoE,MATqB,oBASZ;QACDtS,KAAK,GAAG,KAAK3X,QAAL,CAAcA,QAA5B;QACMmlB,KAAK,GAAG,KAAK2F,KAAL,CAAW3F,KAAX,CAAiBxN,KAAK,CAACwN,KAAvB,CAAd;QACMiN,SAAS,GAAGza,KAAK,CAACya,SAAN,IAAmB,YAArC;QACMxc,QAAQ,GAAGwc,SAAS,KAAK,YAAd,GAA6B,KAAK90B,IAAL,CAAUC,KAAvC,GAA+C,KAAKD,IAAL,CAAUE,MAA1E;QACM4B,KAAK,GAAGysB,aAAa,CAAC,KAAKf,KAAL,CAAW1rB,KAAX,CAAiBuY,KAAK,CAACvY,KAAvB,CAAD,EAAgCwW,QAAhC,CAA3B;IAEAk0C,QAAQ,CAAC,KAAKjkC,KAAN,CAAR;IACAgkC,KAAK,CAAC,KAAKhkC,KAAN,EAAaV,KAAb,EAAoB/lB,KAApB,EAA2B,KAAKopB,QAAhC,CAAL;SAEK3C,KAAL,CAAWvoB,IAAX,GAAkB,KAAKA,IAAvB;SACKuoB,KAAL,CAAWnoB,IAAX,GAAkBia,KAAK,CAACja,IAAN,IAAcgsD,IAAhC;SACK7jC,KAAL,CAAWuD,OAAX,GAAqB,OAAOzR,KAAK,CAACyR,OAAb,KAAyB,WAAzB,GAAuCzR,KAAK,CAACyR,OAA7C,GAAuDugC,OAA5E;SACK9jC,KAAL,CAAWuM,SAAX,GAAuBA,SAAvB;WAEOoG,MAAM,CAAC,KAAK3S,KAAN,CAAb;GAxBmB;EA0BrB4Q,aA1BqB,2BA0BL;IACdqzB,QAAQ,CAAC,KAAKjkC,KAAN,CAAR;;CA3BJ;;ACjHe,SAASiI,YAAT,CAAoB4e,OAApB,EAA6B;EAC1CA,OAAO,CAAC5kC,SAAR,CAAkB,OAAlB,EAA2B2hD,cAA3B;;;ACDF,SAASO,QAAT,CAAkBC,cAAlB,EAAkCp1B,KAAlC,EAAyC;MACjCq1B,YAAY,GAAGr1B,KAAK,CAACpzB,MAAN,CAAa7G,CAAlC;MACMuvD,YAAY,GAAGt1B,KAAK,CAACpzB,MAAN,CAAa1G,CAAlC;SACO;IACLH,CAAC,EAAEsvD,YAAY,GAAGD,cAAc,CAAC3lD,IAD5B;IAELvJ,CAAC,EAAEovD,YAAY,GAAGF,cAAc,CAACzlD;GAFnC,CAHuC;;;;;;AAazC,SAAS4lD,eAAT,CAAyBzzD,CAAzB,EAA4BkvB,KAA5B,EAAmC7lB,QAAnC,EAA6C;MACrCrB,UAAU,GAAGknB,KAAK,CAAC3jB,MAAN,CAAa,CAAb,CAAnB;MACMg4B,OAAO,GAAG9I,WAAW,CAACz6B,CAAD,EAAIgI,UAAJ,CAA3B;SACOu7B,OAAO,GAAGr/B,IAAI,CAACw2B,GAAL,CAASrxB,QAAQ,CAACA,QAAT,CAAkBqqD,aAAlB,CAAgC7qC,SAAzC,EAAoD,CAApD,CAAjB;;;AAGF,SAAS8qC,YAAT,CAAsBzkC,KAAtB,EAA6BlvB,CAA7B,EAAgC;MAC1BkvB,KAAK,CAACpvB,IAAN,CAAW2Q,CAAX,IAAgB,IAApB,EAA0B;IACxBye,KAAK,CAACpvB,IAAN,CAAW2Q,CAAX,cAAmBzQ,CAAC,CAACiE,CAArB,cAA0BjE,CAAC,CAACoE,CAA5B;GADF,MAEO;IACL8qB,KAAK,CAACpvB,IAAN,CAAW2Q,CAAX,eAAoBzQ,CAAC,CAACiE,CAAtB,cAA2BjE,CAAC,CAACoE,CAA7B;;;EAEF8qB,KAAK,CAAC3jB,MAAN,CAAa5K,IAAb,CAAkBX,CAAlB;;;AAGF,SAASszB,QAAT,CAAgBpE,KAAhB,EAAuB2C,QAAvB,EAAiC;MACzBI,KAAK,GAAG,CACZ/C,KAAK,CAAClnB,UADM,EAEZknB,KAAK,CAACpvB,IAFM,EAGZovB,KAAK,CAACwkC,aAHM,EAIZtkD,MAJY,CAIL,UAACuV,IAAD;WAAUA,IAAI,CAACpW,OAAf;GAJK,CAAd;EAMAsjB,QAAQ,CAACyB,MAAT,CAAgBrB,KAAhB;;;AAGF,SAAS2hC,eAAT,OAA8D;MAAnC1kC,KAAmC,QAAnCA,KAAmC;wBAA5B3pB,KAA4B;MAA5BA,KAA4B,2BAApB,IAAoB;sBAAdC,GAAc;MAAdA,GAAc,yBAAR,IAAQ;;MACxDD,KAAK,KAAK,IAAd,EAAoB;IAClB2pB,KAAK,CAACwkC,aAAN,CAAoB/tD,EAApB,GAAyBJ,KAAK,CAACtB,CAA/B;IACAirB,KAAK,CAACwkC,aAAN,CAAoB9tD,EAApB,GAAyBL,KAAK,CAACnB,CAA/B;;;MAEEoB,GAAG,KAAK,IAAZ,EAAkB;IAChB0pB,KAAK,CAACwkC,aAAN,CAAoB7tD,EAApB,GAAyBL,GAAG,CAACvB,CAA7B;IACAirB,KAAK,CAACwkC,aAAN,CAAoB5tD,EAApB,GAAyBN,GAAG,CAACpB,CAA7B;;;;AAIJ,SAASyvD,iBAAT,CAA2B3kC,KAA3B,EAAkCtlB,IAAlC,EAAwC;EACtCslB,KAAK,CAACwkC,aAAN,CAAoBnlD,OAApB,GAA8B3E,IAA9B;;;AAGF,SAASkqD,aAAT,CAAuB5kC,KAAvB,EAA8BlvB,CAA9B,EAAiC;EAC/BkvB,KAAK,CAAClnB,UAAN,CAAiBmE,EAAjB,GAAsBnM,CAAC,CAACiE,CAAxB;EACAirB,KAAK,CAAClnB,UAAN,CAAiBoE,EAAjB,GAAsBpM,CAAC,CAACoE,CAAxB;;;AAGF,SAAS2vD,iBAAT,CAA2B5/B,KAA3B,EAAkCm/B,cAAlC,EAAkD;MAC1CU,WAAW,GAAG7/B,KAAK,CAAC8D,OAAN,CAAcC,qBAAd,EAApB;SACO;IACLj0B,CAAC,EAAEqvD,cAAc,CAAC3lD,IAAf,GAAsBqmD,WAAW,CAACrmD,IADhC;IAELvJ,CAAC,EAAEkvD,cAAc,CAACzlD,GAAf,GAAqBmmD,WAAW,CAACnmD;GAFtC;;;AAMF,SAASomD,WAAT,CAAqB/kC,KAArB,EAA4BiF,KAA5B,EAAmC;MAC7BjF,KAAK,CAAC4G,MAAV,EAAkB;QACVkO,EAAE,GAAG9U,KAAK,CAAC3jB,MAAN,CAAa2jB,KAAK,CAAC3jB,MAAN,CAAa7K,MAAb,GAAsB,CAAnC,CAAX;QACMujC,EAAE,GAAG/U,KAAK,CAAC3jB,MAAN,CAAa2jB,KAAK,CAAC3jB,MAAN,CAAa7K,MAAb,GAAsB,CAAnC,CAAX;IACAwuB,KAAK,CAACglC,cAAN,CAAqBvuD,EAArB,GAA0Bq+B,EAAE,CAAC//B,CAAH,GAAOirB,KAAK,CAACilC,cAAN,CAAqBlwD,CAAtD;IACAirB,KAAK,CAACglC,cAAN,CAAqBtuD,EAArB,GAA0Bo+B,EAAE,CAAC5/B,CAAH,GAAO8qB,KAAK,CAACilC,cAAN,CAAqB/vD,CAAtD;IACA8qB,KAAK,CAACglC,cAAN,CAAqBruD,EAArB,GAA0Bo+B,EAAE,CAAChgC,CAAH,GAAOirB,KAAK,CAACilC,cAAN,CAAqBlwD,CAAtD;IACAirB,KAAK,CAACglC,cAAN,CAAqBpuD,EAArB,GAA0Bm+B,EAAE,CAAC7/B,CAAH,GAAO8qB,KAAK,CAACilC,cAAN,CAAqB/vD,CAAtD;QAEMy9B,MAAM,GAAG1N,KAAK,CAAC8N,QAAN,CAAe/S,KAAK,CAACglC,cAArB,EAAqC;MAAE5iD,UAAU,EAAE4d,KAAK,CAACklC;KAAzD,CAAf;IACAjgC,KAAK,CAAC+N,eAAN,CAAsBL,MAAtB,EAA8B;MAAEvwB,UAAU,EAAE4d,KAAK,CAACklC;KAAlD;;;;AAIJ,SAASC,cAAT,CAAwBnlC,KAAxB,EAA+BiF,KAA/B,EAAsC;MAChCjF,KAAK,CAAC4G,MAAV,EAAkB;QACVtxB,EAAE,GAAG0qB,KAAK,CAACilC,cAAN,CAAqBlwD,CAAhC;QACMQ,EAAE,GAAGyqB,KAAK,CAACilC,cAAN,CAAqB/vD,CAAhC;QACMoI,QAAQ,GAAG0iB,KAAK,CAAC3jB,MAAN,CAAa5L,GAAb,CAAiB,UAACK,CAAD;aAAQ;QACxCiE,CAAC,EAAEjE,CAAC,CAACiE,CAAF,GAAMO,EAD+B;QAExCJ,CAAC,EAAEpE,CAAC,CAACoE,CAAF,GAAMK;OAFuB;KAAjB,CAAjB;QAKMo9B,MAAM,GAAG1N,KAAK,CAAC8N,QAAN,CAAe;MAAEz1B,QAAQ,EAARA;KAAjB,EAA6B;MAAE8E,UAAU,EAAE4d,KAAK,CAACklC;KAAjD,CAAf;IACAjgC,KAAK,CAAC+N,eAAN,CAAsBL,MAAtB,EAA8B;MAAEvwB,UAAU,EAAE4d,KAAK,CAACklC;KAAlD;;;;AAIJ,SAASE,QAAT,CAAkBnyC,KAAlB,EAAyB;SAChB;IACL5T,OAAO,EAAE,IADJ;IAELjO,IAAI,EAAE,MAFD;IAGLmQ,CAAC,EAAE,IAHE;IAIL1J,IAAI,EAAEob,KAAK,CAACpb,IAJP;IAKLrD,MAAM,EAAEye,KAAK,CAACze,MALT;IAMLmwB,WAAW,EAAE1R,KAAK,CAAC0R,WANd;IAOLpB,OAAO,EAAEtQ,KAAK,CAACsQ,OAPV;IAQLuG,eAAe,EAAE7W,KAAK,CAAC6W,eARlB;IASL8C,QAAQ,EAAE;MACRx7B,IAAI,EAAE;;GAVV;;;AAeF,SAASi0D,iBAAT,CAA2BpyC,KAA3B,EAAkC;SACzB;IACL5T,OAAO,EAAE,KADJ;IAELjO,IAAI,EAAE,MAFD;IAGLqF,EAAE,EAAE,CAHC;IAILC,EAAE,EAAE,CAJC;IAKLC,EAAE,EAAE,CALC;IAMLC,EAAE,EAAE,CANC;IAOLkzB,eAAe,EAAE7W,KAAK,CAAC6W,eAPlB;IAQLt1B,MAAM,EAAEye,KAAK,CAACze,MART;IASLmwB,WAAW,EAAE1R,KAAK,CAAC0R,WATd;IAULpB,OAAO,EAAEtQ,KAAK,CAACsQ,OAVV;IAWLqJ,QAAQ,EAAE;MACRx7B,IAAI,EAAE;;GAZV;;;AAiBF,SAASk0D,cAAT,CAAwBryC,KAAxB,EAA+B;SACtB;IACL5T,OAAO,EAAE,IADJ;IAELjO,IAAI,EAAE,QAFD;IAGL6L,EAAE,EAAE,CAHC;IAILC,EAAE,EAAE,CAJC;IAKL9G,CAAC,EAAE6c,KAAK,CAAC7c,CALJ;IAMLyB,IAAI,EAAEob,KAAK,CAACpb,IANP;IAOL0rB,OAAO,EAAEtQ,KAAK,CAACsQ,OAPV;IAQL/uB,MAAM,EAAEye,KAAK,CAACze,MART;IASLmwB,WAAW,EAAE1R,KAAK,CAAC0R,WATd;IAULiI,QAAQ,EAAE;MACRx7B,IAAI,EAAE;;GAXV;;;AAgBF,SAASm0D,cAAT,CAAwBprD,QAAxB,EAAkC;SACzBA,QAAQ,CAACA,QAAT,CAAkBmlB,KAAlB,CAAwBld,UAAxB,CAAmC3R,GAAnC,CAAuC,UAACuP,CAAD;WAC5C;MACErN,GAAG,EAAEqN,CAAC,CAACrN,GADT;MAEE21B,QAAQ,EAAEtoB,CAAC,CAACsoB,QAAF,IAAc,CAAC,YAAD,CAF1B;MAGEz3B,IAAI,EAAEmP,CAAC,CAACnP,IAAF,IAAU,CAAC,EAAD,CAHlB;MAIEkuB,MAAM,EAAE/e,CAAC,CAAC+e,MAAF,IAAY;KALsB;GAAvC,CAAP;;;AASF,SAASymC,QAAT,CAAkBxlC,KAAlB,EAAyBiF,KAAzB,EAAgC;EAC9BjF,KAAK,CAACklC,WAAN,CAAkB5jD,OAAlB,CAA0B,UAACxD,MAAD,EAAY;IACpCA,MAAM,CAACwqB,QAAP,CAAgBhnB,OAAhB,CAAwB,UAACuQ,OAAD,EAAa;MACnCoT,KAAK,CAAC3F,KAAN,CAAYzN,OAAZ,EAAqBvb,GAArB;KADF;GADF;;;AAOF,SAASmvD,UAAT,GAAsB;SACb;IACLppD,MAAM,EAAE,EADH;IAELuqB,MAAM,EAAE,KAFH;IAGLh2B,IAAI,EAAE,IAHD;IAIL4zD,aAAa,EAAE,IAJV;IAKL1rD,UAAU,EAAE,IALP;IAMLsrD,cAAc,EAAE,IANX;IAOLa,cAAc,EAAE,IAPX;IAQLC,WAAW,EAAE,IARR;IASLF,cAAc,EAAE;MACdvuD,EAAE,EAAE,CADU;MACPC,EAAE,EAAE,CADG;MACAC,EAAE,EAAE,CADJ;MACOC,EAAE,EAAE;KAVtB;;GAAP;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CF,IAAM8uD,mBAAmB,GAAG;EAC1B13B,OAAO,EAAE,CAAC,OAAD,EAAU,UAAV,EAAsB,UAAtB,CADiB;EAE1Bpc,eAAe,EAAE;IACfvP,MAAM,EAAE;MACN/H,YAAY,EAAE;KAFD;IAIfH,QAAQ,EAAE;MACRmlB,KAAK,EAAE;QACLld,UAAU,EAAE;OAFN;MAIRoiD,aAAa,EAAE;QACb7qC,SAAS,EAAE,EADE;QAEbmQ,eAAe,EAAE,MAFJ;QAGbt1B,MAAM,EAAE,OAHK;QAIbmwB,WAAW,EAAE,CAJA;QAKbpB,OAAO,EAAE;OATH;MAWRoiC,KAAK,EAAE;QACL9tD,IAAI,EAAE,aADD;QAELrD,MAAM,EAAE,OAFH;QAGLmwB,WAAW,EAAE,CAHR;QAILpB,OAAO,EAAE,GAJJ;QAKLuG,eAAe,EAAE;OAhBX;MAkBRhxB,UAAU,EAAE;QACV1C,CAAC,EAAE,EADO;QAEVyB,IAAI,EAAE,OAFI;QAGVrD,MAAM,EAAE,OAHE;QAIVmwB,WAAW,EAAE,CAJH;QAKVpB,OAAO,EAAE;;;GA7BW;EAiC1BoE,EAAE,EAAE;IACFi+B,UADE,sBACS9iD,CADT,EACY;WACPzM,KAAL,CAAWyM,CAAX;KAFA;IAIF+iD,QAJE,oBAIO/iD,CAJP,EAIU;WACLxM,GAAL,CAASwM,CAAT;KALA;IAOFgjD,SAPE,qBAOQhjD,CAPR,EAOW;WACNyX,IAAL,CAAUzX,CAAV;KARA;IAUFijD,WAVE,yBAUY;WACPC,MAAL;;GA5CsB;EA+C1B11B,OA/C0B,qBA+ChB;SACHtQ,KAAL,GAAaylC,UAAU,EAAvB;GAhDwB;EAkD1BpvD,KAlD0B,iBAkDpByM,CAlDoB,EAkDjB;SACFkd,KAAL,CAAW4G,MAAX,GAAoB,IAApB;SACK5G,KAAL,CAAWpvB,IAAX,GAAkBw0D,QAAQ,CAAC,KAAKjrD,QAAL,CAAcA,QAAd,CAAuBwrD,KAAxB,CAA1B;SACK3lC,KAAL,CAAWwkC,aAAX,GAA2Ba,iBAAiB,CAAC,KAAKlrD,QAAL,CAAcA,QAAd,CAAuBqqD,aAAxB,CAA5C;SACKxkC,KAAL,CAAWlnB,UAAX,GAAwBwsD,cAAc,CAAC,KAAKnrD,QAAL,CAAcA,QAAd,CAAuBrB,UAAxB,CAAtC;SACKknB,KAAL,CAAWokC,cAAX,GAA4B,KAAKzhC,QAAL,CAAcoG,OAAd,GAAwBC,qBAAxB,EAA5B;SACKhJ,KAAL,CAAWilC,cAAX,GAA4BJ,iBAAiB,CAAC,KAAK5/B,KAAN,EAAa,KAAKjF,KAAL,CAAWokC,cAAxB,CAA7C;SACKpkC,KAAL,CAAWklC,WAAX,GAAyBK,cAAc,CAAC,KAAKprD,QAAN,CAAvC;QAEMrJ,CAAC,GAAGqzD,QAAQ,CAAC,KAAKnkC,KAAL,CAAWokC,cAAZ,EAA4BthD,CAA5B,CAAlB;IAEA2hD,YAAY,CAAC,KAAKzkC,KAAN,EAAalvB,CAAb,CAAZ;IACA4zD,eAAe,CAAC;MAAE1kC,KAAK,EAAE,KAAKA,KAAd;MAAqB3pB,KAAK,EAAEvF;KAA7B,CAAf;IACA8zD,aAAa,CAAC,KAAK5kC,KAAN,EAAalvB,CAAb,CAAb;GA/DwB;EAiE1BypB,IAjE0B,gBAiErBzX,CAjEqB,EAiElB;QACF,CAAC,KAAKkd,KAAL,CAAW4G,MAAhB,EAAwB;;;;QAIlB91B,CAAC,GAAGqzD,QAAQ,CAAC,KAAKnkC,KAAL,CAAWokC,cAAZ,EAA4BthD,CAA5B,CAAlB;;QAEIyhD,eAAe,CAACzzD,CAAD,EAAI,KAAKkvB,KAAT,EAAgB,KAAK7lB,QAArB,CAAnB,EAAmD;MACjDwqD,iBAAiB,CAAC,KAAK3kC,KAAN,EAAa,IAAb,CAAjB;KADF,MAEO;MACL2kC,iBAAiB,CAAC,KAAK3kC,KAAN,EAAa,KAAb,CAAjB;;;IAGFykC,YAAY,CAAC,KAAKzkC,KAAN,EAAalvB,CAAb,CAAZ;IACA4zD,eAAe,CAAC;MAAE1kC,KAAK,EAAE,KAAKA,KAAd;MAAqB1pB,GAAG,EAAExF;KAA3B,CAAf;IACAszB,QAAM,CAAC,KAAKpE,KAAN,EAAa,KAAK2C,QAAlB,CAAN;IAEAoiC,WAAW,CACT,KAAK/kC,KADI,EAET,KAAKiF,KAFI,CAAX;GAlFwB;EAuF1B3uB,GAvF0B,eAuFtBwM,CAvFsB,EAuFnB;QACD,CAAC,KAAKkd,KAAL,CAAW4G,MAAhB,EAAwB;;;;IAIxB+9B,iBAAiB,CAAC,KAAK3kC,KAAN,EAAa,KAAb,CAAjB;QACMlvB,CAAC,GAAGqzD,QAAQ,CAAC,KAAKnkC,KAAL,CAAWokC,cAAZ,EAA4BthD,CAA5B,CAAlB;QACMmjD,UAAU,GAAG1B,eAAe,CAACzzD,CAAD,EAAI,KAAKkvB,KAAT,EAAgB,KAAK7lB,QAArB,CAAlC;;QAEI8rD,UAAJ,EAAgB;MACdd,cAAc,CAAC,KAAKnlC,KAAN,EAAa,KAAKiF,KAAlB,CAAd;;;SAGGjF,KAAL,GAAaylC,UAAU,EAAvB;SACK9iC,QAAL,CAAcyB,MAAd,CAAqB,EAArB;GArGwB;EAuG1B4hC,MAvG0B,oBAuGjB;QACH,CAAC,KAAKhmC,KAAL,CAAW4G,MAAhB,EAAwB;;;;IAGxB4+B,QAAQ,CAAC,KAAKxlC,KAAN,EAAa,KAAKiF,KAAlB,CAAR;SACKjF,KAAL,GAAaylC,UAAU,EAAvB;SACK9iC,QAAL,CAAcyB,MAAd,CAAqB,EAArB;GA7GwB;EA+G1BA,MA/G0B,oBA+GjB;;CA/GX;;AClNe,SAAS8hC,UAAT,CAAoBrf,OAApB,EAA6B;EAC1CA,OAAO,CAAC5kC,SAAR,CAAkB,aAAlB,EAAiCkkD,mBAAjC;;;ACDF;;;;;;;AAMA,AAAO,SAASC,gBAAT,CAA0BC,WAA1B,EAAuCz1C,GAAvC,EAA4CytC,KAA5C,EAAmDiI,IAAnD,EAAyDC,aAAzD,EAAwE;MACzE9nD,IAAI,GAAG,CAAX;MACIC,KAAK,GAAGkS,GAAG,CAACpf,MAAJ,GAAa,CAAzB;MACIkvD,MAAJ;;SAEOjiD,IAAI,GAAGC,KAAd,EAAqB;QACf7O,CAAC,GAAGmF,IAAI,CAACgG,KAAL,CAAW,CAACyD,IAAI,GAAGC,KAAR,IAAiB,CAA5B,CAAR;IACAgiD,MAAM,GAAG6F,aAAa,CAAC31C,GAAG,CAAC/gB,CAAD,CAAJ,CAAtB;;QACI6wD,MAAM,CAACrC,KAAD,CAAN,GAAgBqC,MAAM,CAAC4F,IAAD,CAAtB,GAA+BD,WAAW,CAAChI,KAAD,CAA9C,EAAuD;;MACrD5/C,IAAI,GAAG5O,CAAC,GAAG,CAAX;KADF,MAEO;;MACL6O,KAAK,GAAG7O,CAAR;;;;SAIG4O,IAAP;;;;;;;;;;;;;;;AAeF,AAAe,SAAS02C,yBAAT,OAMc;MAL3B/O,WAK2B,QAL3BA,WAK2B;MAJ3Bqa,WAI2B,QAJ3BA,WAI2B;MAH3B/uC,MAG2B,QAH3BA,MAG2B;MAF3B2d,SAE2B,QAF3BA,SAE2B;MAA7Bm3B,QAA6B,uEAAlBJ,gBAAkB;MACrBK,YAAY,GAAG,EAArB;MACMpI,KAAK,GAAGjY,WAAW,KAAK,GAAhB,GAAsB,GAAtB,GAA4B,GAA1C;MACMkgB,IAAI,GAAGlgB,WAAW,KAAK,GAAhB,GAAsB,OAAtB,GAAgC,QAA7C;;MACMsgB,aAAa,GAAG,SAAhBA,aAAgB,CAAC/6C,IAAD;WAAUA,IAAI,CAAC4kC,UAAf;GAAtB;;MACMoW,aAAa,GAAG,SAAhBA,aAAgB,CAACh7C,IAAD;WAAUA,IAAI,CAAC8J,IAAL,CAAUmxC,WAApB;GAAtB;;SAEO,UAACC,QAAD,EAAWC,UAAX,EAA0B;6BACsBp1C,MAAM,CAACo1C,UAAD,CAD5B;QACXT,WADW,sBACvB9V,UADuB;QACQwW,SADR,sBACEtxC,IADF;;QAI3B4wC,WAAW,CAAChI,KAAD,CAAX,GAAqBhvB,SAAS,CAACgvB,KAAD,CAA9B,IAAyCgI,WAAW,CAAChI,KAAD,CAAX,GAAqBgI,WAAW,CAACC,IAAD,CAAhC,GAAyCj3B,SAAS,CAACgvB,KAAD,CAAT,GAAmBhvB,SAAS,CAACi3B,IAAD,CAAlH,EAA0H;aACjH,KAAP;KAL6B;;;QASzBU,cAAc,GAAGR,QAAQ,CAACH,WAAD,EAAcI,YAAd,EAA4BpI,KAA5B,EAAmCiI,IAAnC,EAAyCI,aAAzC,CAA/B;;SACK,IAAIt0D,CAAC,GAAG40D,cAAb,EAA6B50D,CAAC,GAAGq0D,YAAY,CAACj1D,MAA9C,EAAsDY,CAAC,EAAvD,EAA2D;UACrD6jC,YAAY,CAACowB,WAAD,EAAcI,YAAY,CAACr0D,CAAD,CAAZ,CAAgBm+C,UAA9B,CAAhB,EAA2D;eAClD,KAAP;;KAZ2B;;;QAiBzB0W,aAAa,GAAGT,QAAQ,CAACH,WAAD,EAAc5F,WAAd,EAA2BpC,KAA3B,EAAkCiI,IAAlC,EAAwCK,aAAxC,CAA9B;QACMO,kBAAkB,GAAIb,WAAW,CAAChI,KAAD,CAAX,GAAqBgI,WAAW,CAACC,IAAD,CAA5D;;SACK,IAAIl0D,EAAC,GAAG60D,aAAb,EAA4B70D,EAAC,GAAGquD,WAAW,CAACjvD,MAA5C,EAAoDY,EAAC,EAArD,EAAyD;UACjDqjB,IAAI,GAAGgrC,WAAW,CAACruD,EAAD,CAAX,CAAeqjB,IAA5B,CADuD;;UAGnDyxC,kBAAkB,GAAGzxC,IAAI,CAACmxC,WAAL,CAAiBvI,KAAjB,CAAzB,EAAkD;;;;UAI9CpoB,YAAY,CAACowB,WAAD,EAAc5wC,IAAI,CAACmxC,WAAnB,CAAZ,IAA+CG,SAAS,KAAKtxC,IAAjE,EAAuE;eAC9D,KAAP;;KA3B2B;;;IAgC/BgxC,YAAY,CAACh1D,IAAb,CAAkBigB,MAAM,CAACo1C,UAAD,CAAxB;WACO,IAAP;GAjCF;;;AC7CF,IAAMrT,SAAO,GAAG,CAAhB;;AAGA,SAAS0T,SAAT,CAAmB1xC,IAAnB,EAAyBwP,KAAzB,EAAgC;SACvB;IACLxP,IAAI,EAAJA,IADK;IAEL5kB,IAAI,EAAE4kB,IAAI,CAAC5kB,IAFN;IAGL0I,KAAK,EAAE0rB,KAAK,CAAC1rB,KAHR;IAIL6M,SAAS,EAAE6e,KAAK,CAAC7e,SAJZ;IAKL7B,OAAO,EAAE0gB,KAAK,CAAC1gB;GALjB;;;AASF,SAAS6iD,WAAT,CAAqB3kC,IAArB,EAA2B;MACnBrxB,IAAI,WAAUqxB,IAAV,CAAV;;SACO,CAACrxB,IAAI,KAAK,QAAT,IAAqBA,IAAI,KAAK,QAA/B,KAA4CqxB,IAAI,KAAK,EAA5D;;;AAGF,SAAS4kC,YAAT,CAAsBr+C,KAAtB,EAA6B;;IAEzB5X,IAAI,EAAE,MADR;IAEE0F,EAAE,EAAE,CAFN;IAGEC,EAAE,EAAE,CAHN;IAIEc,IAAI,EAAEmR,KAAK,CAAC0b;KACT1b,KAAK,CAACs+C,gBALX;;;AASF,SAASC,sBAAT,CAAgC9vD,IAAhC,EAAsCuR,KAAtC,EAA6C1P,MAA7C,EAAqD;SAC5CA,MAAM,GAAG7B,IAAI,CAACC,KAAL,IAAcsR,KAAK,CAACrR,MAAvB,GAAgCF,IAAI,CAACC,KAAL,IAAcsR,KAAK,CAACtR,KAAjE;;;AAGF,SAAS8vD,wBAAT,CAAkC/vD,IAAlC,EAAwCuR,KAAxC,EAA+C1P,MAA/C,EAAuD;SAC9CA,MAAM,GAAG7B,IAAI,CAACE,MAAL,IAAeqR,KAAK,CAACtR,KAAxB,GAAgCD,IAAI,CAACE,MAAL,IAAeqR,KAAK,CAACrR,MAAlE;;;AAGF,SAAS8vD,eAAT,CAAyBrhB,WAAzB,EAAsC3uC,IAAtC,EAA4CuR,KAA5C,EAAmD0+C,gBAAnD,EAAqEjM,QAArE,EAA+E;MACzEkM,QAAJ;MACIC,SAAJ;;MACIxhB,WAAW,KAAK,GAApB,EAAyB;IACvBuhB,QAAQ,GAAGD,gBAAgB,IAAIjM,QAApB,IAAgC8L,sBAAsB,CAAC9vD,IAAD,EAAOuR,KAAP,EAAc,IAAd,CAAjE;IACA4+C,SAAS,GAAGJ,wBAAwB,CAAC/vD,IAAD,EAAOuR,KAAP,EAAc,CAAC0+C,gBAAf,CAApC;GAFF,MAGO;IACLC,QAAQ,GAAGJ,sBAAsB,CAAC9vD,IAAD,EAAOuR,KAAP,CAAjC;IACA4+C,SAAS,GAAGnM,QAAQ,IAAI+L,wBAAwB,CAAC/vD,IAAD,EAAOuR,KAAP,EAAc,KAAd,CAAhD;;;SAEK2+C,QAAQ,IAAIC,SAAnB;;;AAGF,AAAO,SAASC,YAAT,CAAsBpwD,IAAtB,EAA4BuR,KAA5B,EAAmCmD,IAAnC,EAAyC;SACvCo7C,sBAAsB,CAAC9vD,IAAD,EAAOuR,KAAP,EAAcmD,IAAI,CAAC7S,MAAnB,CAAtB,IAAoDkuD,wBAAwB,CAAC/vD,IAAD,EAAOuR,KAAP,EAAcmD,IAAI,CAAC7S,MAAnB,CAAnF;;AAGF,AAAO,SAASwuD,qBAAT,CAA+BC,oBAA/B,EAAqDC,gBAArD,EAAuEC,gBAAvE,EAAyF1sD,KAAzF,EAAgG;MAC/F2sD,kBAAkB,GAAGH,oBAAoB,GAAGC,gBAAgB,GAAG,GAArE;MACMl9C,MAAM,GAAG,CAACvP,KAAK,GAAG,GAAT,KAAiBysD,gBAAgB,GAAGC,gBAApC,CAAf;MACME,kBAAkB,GAAGD,kBAAkB,GAAGp9C,MAAhD;MACMs9C,oBAAoB,GAAGD,kBAAkB,GAAGF,gBAAgB,GAAG,GAArE;SACOG,oBAAP;;AAGF,AAAO,SAASC,eAAT,CAAyB5wD,IAAzB,EAA+BgrB,IAA/B,EAAqCtW,IAArC,EAA2C;MAC1CnD,KAAK,GAAG;IACZ5X,IAAI,EAAE,MADM;IAEZqxB,IAAI,EAAJA,IAFY;IAGZmH,QAAQ,EAAEzd,IAAI,CAAC7S,MAAL,GAAc7B,IAAI,CAACE,MAAnB,GAA4BF,IAAI,CAACC,KAH/B;IAIZ3C,CAAC,EAAE,CAJS;IAKZG,CAAC,EAAEuC,IAAI,CAACvC,CALI;IAMZI,EAAE,EAAE,CANQ;IAOZC,EAAE,EAAE,CAPQ;IAQZsC,IAAI,EAAEsU,IAAI,CAACtU,IARC;IASZ6xB,MAAM,EAAEvd,IAAI,CAAC7S,MAAL,GAAc,KAAd,GAAsB,OATlB;IAUZkwB,QAAQ,EAAE,SAVE;IAWZhF,QAAQ,YAAKrY,IAAI,CAACqY,QAAV,OAXI;IAYZD,UAAU,EAAEpY,IAAI,CAACoY;GAZnB;MAeM+wB,WAAW,GAAGnpC,IAAI,CAACmpC,WAAzB;;MACI,CAACnpC,IAAI,CAACsvC,QAAN,IAAkB,CAACoM,YAAY,CAACpwD,IAAD,EAAO69C,WAAP,EAAoBnpC,IAApB,CAAnC,EAA8D;WACrD,KAAP;;;MAEIm8C,cAAc,GAAGhT,WAAW,CAAC39C,MAAZ,GAAqB,GAA5C;;MACIwU,IAAI,CAAC7S,MAAT,EAAiB;IACf0P,KAAK,CAACjU,CAAN,GAAU+yD,qBAAqB,CAACrwD,IAAI,CAAC1C,CAAN,EAAS0C,IAAI,CAACC,KAAd,EAAqB49C,WAAW,CAAC39C,MAAjC,EAAyCwU,IAAI,CAAC5Q,KAA9C,CAArB,GAA4E+sD,cAAtF;IACAt/C,KAAK,CAAC9T,CAAN,GAAU4yD,qBAAqB,CAACrwD,IAAI,CAACvC,CAAN,EAASuC,IAAI,CAACE,MAAd,EAAsB29C,WAAW,CAAC59C,KAAlC,EAAyCyU,IAAI,CAACo8C,OAA9C,CAA/B;IACAv/C,KAAK,CAAC6gB,SAAN,yBAAiC7gB,KAAK,CAACjU,CAAN,GAAUiU,KAAK,CAAC1T,EAAjD,eAAwD0T,KAAK,CAAC9T,CAAN,GAAU8T,KAAK,CAACzT,EAAxE;GAHF,MAIO;IACLyT,KAAK,CAACjU,CAAN,GAAU+yD,qBAAqB,CAACrwD,IAAI,CAAC1C,CAAN,EAAS0C,IAAI,CAACC,KAAd,EAAqB49C,WAAW,CAAC59C,KAAjC,EAAwCyU,IAAI,CAAC5Q,KAA7C,CAA/B;IACAyN,KAAK,CAAC9T,CAAN,GAAU4yD,qBAAqB,CAACrwD,IAAI,CAACvC,CAAN,EAASuC,IAAI,CAACE,MAAd,EAAsB29C,WAAW,CAAC39C,MAAlC,EAA0CwU,IAAI,CAACo8C,OAA/C,CAArB,GAA+ED,cAAzF;;;SAGKt/C,KAAP;;;AAGF,SAASw/C,WAAT,CAAqB9H,MAArB,EAA6B+H,IAA7B,EAAmC;MAC3BC,IAAI,GAAG1zD,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAYzG,IAAI,CAACwG,GAAL,CAASklD,MAAM,CAACxrD,CAAhB,EAAmBuzD,IAAI,CAAC9wD,MAAxB,CAAZ,CAAb;MACMgxD,IAAI,GAAG3zD,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAYzG,IAAI,CAACwG,GAAL,CAASklD,MAAM,CAACxrD,CAAP,GAAWwrD,MAAM,CAAC/oD,MAA3B,EAAmC8wD,IAAI,CAAC9wD,MAAxC,CAAZ,CAAb;MACMixD,IAAI,GAAG5zD,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAYzG,IAAI,CAACwG,GAAL,CAASklD,MAAM,CAAC3rD,CAAhB,EAAmB0zD,IAAI,CAAC/wD,KAAxB,CAAZ,CAAb;MACMmxD,IAAI,GAAG7zD,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAYzG,IAAI,CAACwG,GAAL,CAASklD,MAAM,CAAC3rD,CAAP,GAAW2rD,MAAM,CAAChpD,KAA3B,EAAkC+wD,IAAI,CAAC/wD,KAAvC,CAAZ,CAAb;EACAgpD,MAAM,CAAC3rD,CAAP,GAAW6zD,IAAX;EACAlI,MAAM,CAAChpD,KAAP,GAAemxD,IAAI,GAAGD,IAAtB;EACAlI,MAAM,CAACxrD,CAAP,GAAWwzD,IAAX;EACAhI,MAAM,CAAC/oD,MAAP,GAAgBgxD,IAAI,GAAGD,IAAvB;;;AAGF,SAASI,KAAT,CAAapI,MAAb,EAAmC;MAAdnsC,OAAc,uEAAJ,EAAI;qBAG7BA,OAH6B,CAE/B5V,GAF+B;MAE/BA,GAF+B,6BAEzB80C,SAFyB;wBAG7Bl/B,OAH6B,CAEhB3V,MAFgB;MAEhBA,MAFgB,gCAEP60C,SAFO;sBAG7Bl/B,OAH6B,CAEE9V,IAFF;MAEEA,IAFF,8BAESg1C,SAFT;uBAG7Bl/B,OAH6B,CAEkB7V,KAFlB;MAEkBA,KAFlB,+BAE0B+0C,SAF1B;EAIjCiN,MAAM,CAAC3rD,CAAP,IAAY0J,IAAZ;EACAiiD,MAAM,CAAChpD,KAAP,IAAiB+G,IAAI,GAAGC,KAAxB;EACAgiD,MAAM,CAACxrD,CAAP,IAAYyJ,GAAZ;EACA+hD,MAAM,CAAC/oD,MAAP,IAAkBgH,GAAG,GAAGC,MAAxB;;;AAGF,AAAO,SAASmqD,UAAT,OAEJ;MADDv7B,GACC,QADDA,GACC;MADIi7B,IACJ,QADIA,IACJ;MADUl8B,SACV,QADUA,SACV;MADqBlc,QACrB,QADqBA,QACrB;0BAD+BkE,OAC/B;MAD+BA,OAC/B,6BADyCk/B,SACzC;MACKiN,MAAM,GAAG,EAAf;EACAzkD,MAAM,CAACykD,MAAD,EAASlzB,GAAT,CAAN;;MAEI,CAACnd,QAAD,IAAaA,QAAQ,KAAK,QAA9B,EAAwC,CAAxC,MAEO,IAAIkc,SAAS,KAAK,IAAd,IAAsBA,SAAS,KAAK,MAAxC,EAAgD;QAC/Cl2B,KAAK,GAAGrB,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAYzG,IAAI,CAACwG,GAAL,CAASgyB,GAAG,CAACt4B,CAAb,EAAgBuzD,IAAI,CAAC9wD,MAArB,CAAZ,CAAd;QACMrB,GAAG,GAAGtB,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAYzG,IAAI,CAACwG,GAAL,CAASgyB,GAAG,CAACt4B,CAAJ,GAAQs4B,GAAG,CAAC71B,MAArB,EAA6B8wD,IAAI,CAAC9wD,MAAlC,CAAZ,CAAZ;;QAEK0Y,QAAQ,KAAK,SAAb,IAA0Bkc,SAAS,KAAK,IAAzC,IAAmDlc,QAAQ,KAAK,UAAb,IAA2Bkc,SAAS,KAAK,MAAhG,EAAyG;MACvGm0B,MAAM,CAACxrD,CAAP,GAAW,CAAX;MACAwrD,MAAM,CAAC/oD,MAAP,GAAgBtB,KAAhB;KAFF,MAGO,IAAKga,QAAQ,KAAK,SAAb,IAA0Bkc,SAAS,KAAK,MAAzC,IAAqDlc,QAAQ,KAAK,UAAb,IAA2Bkc,SAAS,KAAK,IAAlG,EAAyG;MAC9Gm0B,MAAM,CAACxrD,CAAP,GAAWoB,GAAX;MACAoqD,MAAM,CAAC/oD,MAAP,GAAgB8wD,IAAI,CAAC9wD,MAAL,GAAcrB,GAA9B;;GATG,MAWA;QACCD,MAAK,GAAGrB,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAYzG,IAAI,CAACwG,GAAL,CAASgyB,GAAG,CAACz4B,CAAb,EAAgB0zD,IAAI,CAAC/wD,KAArB,CAAZ,CAAd;;QACMpB,IAAG,GAAGtB,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAYzG,IAAI,CAACwG,GAAL,CAASgyB,GAAG,CAACz4B,CAAJ,GAAQy4B,GAAG,CAAC91B,KAArB,EAA4B+wD,IAAI,CAAC/wD,KAAjC,CAAZ,CAAZ;;QAEK2Y,QAAQ,KAAK,SAAb,IAA0Bkc,SAAS,KAAK,MAAzC,IAAqDlc,QAAQ,KAAK,UAAb,IAA2Bkc,SAAS,KAAK,OAAlG,EAA4G;MAC1Gm0B,MAAM,CAAC3rD,CAAP,GAAW,CAAX;MACA2rD,MAAM,CAAChpD,KAAP,GAAerB,MAAf;KAFF,MAGO,IAAKga,QAAQ,KAAK,SAAb,IAA0Bkc,SAAS,KAAK,OAAzC,IAAsDlc,QAAQ,KAAK,UAAb,IAA2Bkc,SAAS,KAAK,MAAnG,EAA4G;MACjHm0B,MAAM,CAAC3rD,CAAP,GAAWuB,IAAX;MACAoqD,MAAM,CAAChpD,KAAP,GAAe+wD,IAAI,CAAC/wD,KAAL,GAAapB,IAA5B;;;;EAIJkyD,WAAW,CAAC9H,MAAD,EAAS+H,IAAT,CAAX;EACAK,KAAG,CAACpI,MAAD,EAASnsC,OAAT,CAAH;SAEOmsC,MAAP;;AAGF,AAAO,SAASsI,iBAAT,QAUkB;MATvBz8B,SASuB,SATvBA,SASuB;MARvBm7B,gBAQuB,SARvBA,gBAQuB;MANvBxa,QAMuB,SANvBA,QAMuB;MALvBz3B,IAKuB,SALvBA,IAKuB;MAJvB2wB,WAIuB,SAJvBA,WAIuB;MAFvB6iB,iBAEuB,SAFvBA,iBAEuB;MADvBxxD,IACuB,SADvBA,IACuB;MAAtByxD,OAAsB,uEAAZH,UAAY;MACnBI,OAAJ;MACIzI,MAAJ;MACI5F,SAAJ;MACIsO,UAAJ;MACIt4D,CAAJ;MACMyqB,UAAU,GAAG,EAAnB;MACM8tC,SAAS,GAAGjjB,WAAW,KAAK,GAAhB,GAAsB,OAAtB,GAAgC,QAAlD;;OACKt1C,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGm4D,iBAAiB,CAACz3D,MAAlC,EAA0CV,CAAC,EAA3C,EAA+C;IAC7CgqD,SAAS,GAAGmO,iBAAiB,CAACn4D,CAAD,CAA7B;IACAs4D,UAAU,GAAGF,OAAO,CAAC;MACnB17B,GAAG,EAAE/X,IAAI,CAACmxC,WADS;MAEnB6B,IAAI,EAAEhxD,IAFa;MAGnB80B,SAAS,EAATA,SAHmB;MAInBlc,QAAQ,EAAEyqC,SAAS,CAACzqC,QAJD;MAKnBkE,OAAO,EAAEumC,SAAS,CAACvmC;KALD,CAApB;IAOAgH,UAAU,CAAC9pB,IAAX,CAAgB23D,UAAhB;IACAD,OAAO,GAAG,CAACr4D,CAAD,IAAMs4D,UAAU,CAACC,SAAD,CAAV,GAAwBF,OAAO,CAACE,SAAD,CAArC,GAAmDD,UAAnD,GAAgED,OAA1E;;QAEI1B,eAAe,CAACrhB,WAAD,EAAcgjB,UAAd,EAA0Blc,QAA1B,EAAoCwa,gBAApC,EAAsD5M,SAAS,CAACW,QAAhE,CAAnB,EAA8F;MAC5FiF,MAAM,GAAG0I,UAAT;;;GArBmB;;;MA2BnB,CAAC1I,MAAL,EAAa;IACXA,MAAM,GAAGyI,OAAT;IACAr4D,CAAC,GAAGyqB,UAAU,CAACpb,OAAX,CAAmBugD,MAAnB,CAAJ;;;EAEF5F,SAAS,GAAGmO,iBAAiB,CAACn4D,CAAD,CAA7B;SAEO;IAAE4vD,MAAM,EAANA,MAAF;IAAU5F,SAAS,EAATA;GAAjB;;;AAGF,SAASwO,gBAAT,CAA0BtgD,KAA1B,EAAiCssC,WAAjC,EAA8CiU,OAA9C,EAAuD9xD,IAAvD,EAA2E;MAAd8c,OAAc,uEAAJ,EAAI;sBAGrEA,OAHqE,CAEvE5V,GAFuE;MAEvEA,GAFuE,8BAEjE80C,SAFiE;yBAGrEl/B,OAHqE,CAExD3V,MAFwD;MAExDA,MAFwD,iCAE/C60C,SAF+C;uBAGrEl/B,OAHqE,CAEtC9V,IAFsC;MAEtCA,IAFsC,+BAE/Bg1C,SAF+B;wBAGrEl/B,OAHqE,CAEtB7V,KAFsB;MAEtBA,KAFsB,gCAEd+0C,SAFc;MAInE5F,EAAE,GAAG7kC,KAAK,CAACjU,CAAN,GAAUiU,KAAK,CAAC1T,EAA3B;MACMw4C,EAAE,GAAG9kC,KAAK,CAAC9T,CAAN,GAAU8T,KAAK,CAACzT,EAA3B;MACMoC,MAAM,GAAG4xD,OAAO,GAAGv0D,IAAI,CAACwG,GAAL,CAAS85C,WAAW,CAAC59C,KAArB,EAA4BD,IAAI,CAACE,MAAjC,CAAH,GAA8C3C,IAAI,CAACwG,GAAL,CAAS85C,WAAW,CAAC39C,MAArB,EAA6BF,IAAI,CAACC,KAAlC,CAApE;MACMA,KAAK,GAAG6xD,OAAO,GAAGv0D,IAAI,CAACwG,GAAL,CAAS85C,WAAW,CAAC39C,MAArB,EAA6BF,IAAI,CAACE,MAAlC,CAAH,GAA+C3C,IAAI,CAACwG,GAAL,CAAS85C,WAAW,CAAC59C,KAArB,EAA4BD,IAAI,CAACC,KAAjC,CAApE;MACMoT,MAAM,GAAGwqC,WAAW,CAAC39C,MAAZ,GAAqB,GAApC;MACM6xD,cAAc,GAAG,IAAvB,CATyE;;MAUnEz0D,CAAC,GAAGw0D,OAAO,GAAG1b,EAAE,GAAG/iC,MAAR,GAAiB+iC,EAAlC;MACM34C,CAAC,GAAGq0D,OAAO,GAAGzb,EAAH,GAAQA,EAAE,GAAGhjC,MAA9B;MACM41C,MAAM,GAAG;IACb3rD,CAAC,EAAEA,CAAC,GAAG0J,IAAJ,GAAW+qD,cADD;IAEbt0D,CAAC,EAAEA,CAAC,GAAGyJ,GAAJ,GAAU6qD,cAFA;IAGb9xD,KAAK,EAAEA,KAAK,IAAI+G,IAAI,GAAGC,KAAX,CAAL,GAAyB8qD,cAHnB;IAIb7xD,MAAM,EAAEA,MAAM,IAAIgH,GAAG,GAAGC,MAAV,CAAN,GAA0B4qD;GAJpC;SAMO9I,MAAP;;;AAGF,AAAO,SAAS+I,WAAT,QAWL;MATExkC,KASF,SATEA,KASF;MAREw7B,WAQF,SAREA,WAQF;MAPEhpD,IAOF,SAPEA,IAOF;MANEiwD,gBAMF,SANEA,gBAMF;MALEgC,qBAKF,SALEA,qBAKF;MAHAC,aAGA,uEAHgBX,iBAGhB;MAFAY,MAEA,uEAFSvB,eAET;MADAwB,UACA,uEADajX,yBACb;MACMlhC,MAAM,GAAG,EAAf;MACMo4C,iBAAiB,GAAG;IACxBz6B,SAAS,EAAE53B,IADa;IAExBgpD,WAAW,EAAXA,WAFwB;IAGxB/uC,MAAM,EAAE,EAHgB;IAIxB00B,WAAW,EAAEsjB;GAJf;MAMI1gD,KAAJ;MACI9W,MAAJ;MACIujB,IAAJ;MACIgN,IAAJ;MACI8lC,OAAJ;MACI7H,MAAJ;MACI7oD,IAAJ;MACIq1C,QAAJ;MACI3gB,SAAJ;MACIw9B,QAAJ;MACIjP,SAAJ;MACIkP,UAAJ;MACI10C,GAAJ;MACI8wB,WAAJ;;OAEK,IAAIh0C,CAAC,GAAG,CAAR,EAAWqlB,GAAG,GAAGgpC,WAAW,CAACjvD,MAAlC,EAA0CY,CAAC,GAAGqlB,GAA9C,EAAmDrlB,CAAC,EAApD,EAAwD;IACtDsuD,MAAM,GAAG,IAAT;IACAxuD,MAAM,GAAGuuD,WAAW,CAACruD,CAAD,CAApB;IACAqjB,IAAI,GAAGvjB,MAAM,CAACujB,IAAd;IACAH,GAAG,GAAG6xC,SAAS,CAAC1xC,IAAD,EAAOwP,KAAP,CAAf;IACAsH,SAAS,GAAGr6B,MAAM,CAACq6B,SAAnB;IACA6Z,WAAW,GAAG7Z,SAAS,KAAK,MAAd,IAAwBA,SAAS,KAAK,OAAtC,GAAgD,GAAhD,GAAsD,GAApE;;SAEK,IAAI2Z,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGh0C,MAAM,CAAC+3D,KAAP,CAAaz4D,MAAjC,EAAyC00C,CAAC,EAA1C,EAA8C;MAC5CzjB,IAAI,GAAGvwB,MAAM,CAAC+3D,KAAP,CAAa/jB,CAAb,CAAP;;UACI,CAACkhB,WAAW,CAAC3kC,IAAD,CAAhB,EAAwB;;;;MAGxBsnC,QAAQ,GAAG73D,MAAM,CAACg4D,aAAP,CAAqBhkB,CAArB,CAAX;MACAgH,QAAQ,GAAGh7C,MAAM,CAACi4D,YAAP,CAAoBjkB,CAApB,CAAX;MACA8jB,UAAU,GAAGD,QAAQ,CAACC,UAAtB;UAEMI,aAAa,GAAGT,aAAa,CAAC;QAClCp9B,SAAS,EAATA,SADkC;QAElCm7B,gBAAgB,EAAhBA,gBAFkC;QAGlCqC,QAAQ,EAARA,QAHkC;QAIlC7c,QAAQ,EAARA,QAJkC;QAKlCz3B,IAAI,EAAJA,IALkC;QAMlC2wB,WAAW,EAAXA,WANkC;QAOlC4jB,UAAU,EAAVA,UAPkC;QAQlCf,iBAAiB,EAAE/2D,MAAM,CAAC+2D,iBAAP,CAAyB/iB,CAAzB,CARe;QASlCzuC,IAAI,EAAJA;OATiC,CAAnC;MAYAipD,MAAM,GAAG0J,aAAa,CAAC1J,MAAvB;MACA5F,SAAS,GAAGsP,aAAa,CAACtP,SAA1B;;UAEI4F,MAAM,IAAI5F,SAAd,EAAyB;QACvByN,OAAO,GAAGzN,SAAS,CAACyN,OAApB;QACA1wD,IAAI,GAAG,OAAOijD,SAAS,CAACjjD,IAAjB,KAA0B,UAA1B,GAAuCijD,SAAS,CAACjjD,IAAV,CAAeyd,GAAf,EAAoBljB,CAApB,CAAvC,GAAgE0oD,SAAS,CAACjjD,IAAjF;YACMwyD,QAAQ,GAAG,OAAON,QAAQ,CAACM,QAAhB,KAA6B,UAA7B,GAA0CN,QAAQ,CAACM,QAAT,CAAkB/0C,GAAlB,EAAuBljB,CAAvB,CAA1C,GAAsEqH,SAAvF;YACMgiD,QAAQ,GAAG,OAAOX,SAAS,CAACW,QAAjB,KAA8B,UAA9B,GAA2CX,SAAS,CAACW,QAAV,CAAmBnmC,GAAnB,EAAwBljB,CAAxB,CAA3C,GAAwE0oD,SAAS,CAACW,QAAnG;;YAEIlvB,SAAS,KAAK,IAAlB,EAAwB;UACtBg8B,OAAO,GAAG,IAAIA,OAAd;;;YAEEzN,SAAS,CAACzqC,QAAV,KAAuB,UAA3B,EAAuC;UACrCk4C,OAAO,GAAG,IAAIA,OAAd;;;YAEEh8B,SAAS,KAAK,MAAlB,EAA0B;UACxBg8B,OAAO,GAAG,IAAIA,OAAd;;;YAGI+B,SAAS,GAAG,EAAEZ,qBAAqB,KAAK,GAA1B,IAAiChC,gBAAnC,CAAlB;QACA1+C,KAAK,GAAG4gD,MAAM,CAAClJ,MAAD,EAASj+B,IAAT,EAAe;UAC3B5qB,IAAI,EAAJA,IAD2B;UAE3B0wD,OAAO,EAAEniB,WAAW,KAAK,GAAhB,GAAsB0U,SAAS,CAACv/C,KAAhC,GAAwCgtD,OAFtB;UAG3BhtD,KAAK,EAAE6qC,WAAW,KAAK,GAAhB,GAAsBmiB,OAAtB,GAAgCzN,SAAS,CAACv/C,KAHtB;UAI3BipB,QAAQ,EAAEulC,QAAQ,CAACvlC,QAJQ;UAK3BD,UAAU,EAAEwlC,QAAQ,CAACxlC,UALM;UAM3B+wB,WAAW,EAAEpI,QANc;UAO3B5zC,MAAM,EAAEgxD,SAPmB;UAQ3B7O,QAAQ,EAAE,CAAC,CAACA;SARA,CAAd;;YAWIzyC,KAAJ,EAAW;cACL,OAAOqhD,QAAP,KAAoB,WAAxB,EAAqC;YACnCrhD,KAAK,CAACnY,IAAN,GAAaw5D,QAAb;;;cAEE,QAAOvP,SAAS,CAACrO,UAAjB,MAAgC,QAApC,EAA8C;YAC5CzjC,KAAK,CAAC0b,eAAN,GAAwB,OAAOo2B,SAAS,CAACrO,UAAV,CAAqB50C,IAA5B,KAAqC,UAArC,GAAkDijD,SAAS,CAACrO,UAAV,CAAqB50C,IAArB,CAA0Byd,GAA1B,EAA+BljB,CAA/B,CAAlD,GAAsF0oD,SAAS,CAACrO,UAAV,CAAqB50C,IAAnI;;gBACI,OAAOmR,KAAK,CAAC0b,eAAb,KAAiC,WAArC,EAAkD;cAChD1b,KAAK,CAACs+C,gBAAN,GAAyBgC,gBAAgB,CAACtgD,KAAD,EAAQkkC,QAAR,EAAkBod,SAAlB,EAA6B5J,MAA7B,EAAqC5F,SAAS,CAACrO,UAAV,CAAqBl4B,OAA1D,CAAzC;;;;UAGJ7C,MAAM,CAACjgB,IAAP,CAAYuX,KAAZ;UACA8gD,iBAAiB,CAACp4C,MAAlB,CAAyBjgB,IAAzB,CAA8B;YAC5BgkB,IAAI,EAAJA,IAD4B;YAE5B86B,UAAU,EAAE+Y,gBAAgB,CAACtgD,KAAD,EAAQkkC,QAAR,EAAkBod,SAAlB,EAA6B5J,MAA7B,EAAqC5F,SAAS,CAACvmC,OAA/C;WAF9B;;;;;;MASFg2C,cAAc,GAAG74C,MAAM,CAACxR,MAAP,CAAc2pD,UAAU,CAACC,iBAAD,CAAxB,CAAvB;MACMU,WAAW,GAAGD,cAAc,CAACrqD,MAAf,CAAsB,UAACuqD,EAAD;WAAQ,OAAOA,EAAE,CAACnD,gBAAV,KAA+B,WAAvC;GAAtB,EAA0E72D,GAA1E,CAA8E42D,YAA9E,CAApB;wCAEWmD,WAAX,wBAA2BD,cAA3B;;AAGF,AAAO,SAASG,YAAT,QAQJ;MAPD3nC,KAOC,SAPDA,KAOC;MANDtrB,IAMC,SANDA,IAMC;MALDwtB,KAKC,SALDA,KAKC;MAJDilC,aAIC,SAJDA,aAIC;MAHDjB,iBAGC,SAHDA,iBAGC;MAFD9uD,QAEC,SAFDA,QAEC;MADDwoB,QACC,SADDA,QACC;MACKgoC,WAAW,GAAG,EAApB;MACMlK,WAAW,GAAG,EAApB;MACIvuD,MAAJ;MACIw1D,gBAAgB,GAAG,IAAvB;MACIkD,sBAAsB,GAAG,KAA7B;MACIn1C,IAAJ;MACIgN,IAAJ;MACIi+B,MAAJ;MACIxT,QAAJ;MACI2d,OAAJ;MACIt+B,SAAJ;;OAEK,IAAIn6B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG2wB,KAAK,CAACvxB,MAA1B,EAAkCY,CAAC,EAAnC,EAAuC;IACrCqjB,IAAI,GAAGsN,KAAK,CAAC3wB,CAAD,CAAZ;IACAsuD,MAAM,GAAGjrC,IAAI,CAACmxC,WAAd;;QACI,CAAC3wB,YAAY,CAACyqB,MAAD,EAASjpD,IAAT,CAAjB,EAAiC;;;;QAG7B6d,GAAG,GAAG6xC,SAAS,CAAC1xC,IAAD,EAAOwP,KAAP,CAAnB;IAEA/yB,MAAM,GAAG;MACPujB,IAAI,EAAJA,IADO;MAEPw0C,KAAK,EAAE,EAFA;MAGPE,YAAY,EAAE,EAHP;MAIPD,aAAa,EAAE,EAJR;MAKPjB,iBAAiB,EAAE,EALZ;;KAAT;;SASK,IAAI/iB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgkB,aAAa,CAAC14D,MAAlC,EAA0C00C,CAAC,EAA3C,EAA+C;MAC7C2kB,OAAO,GAAGX,aAAa,CAAChkB,CAAD,CAAvB;MACAzjB,IAAI,GAAG,OAAOooC,OAAO,CAAC7hD,KAAf,KAAyB,UAAzB,GAAsC6hD,OAAO,CAAC7hD,KAAR,CAAcsM,GAAd,EAAmBljB,CAAnB,CAAtC,GAA8DqH,SAArE;;UACI,CAAC2tD,WAAW,CAAC3kC,IAAD,CAAhB,EAAwB;iBAAA;;;MAGxB8J,SAAS,GAAG,OAAOpyB,QAAQ,CAACoyB,SAAhB,KAA8B,UAA9B,GAA2CpyB,QAAQ,CAACoyB,SAAT,CAAmBjX,GAAnB,EAAwBljB,CAAxB,CAA3C,GAAwE+H,QAAQ,CAACoyB,SAAT,IAAsB,IAA1G;MACAq+B,sBAAsB,GAAGA,sBAAsB,IAAIr+B,SAAS,KAAK,MAAxC,IAAkDA,SAAS,KAAK,OAAzF;MAEAo+B,WAAW,CAACpmC,UAAZ,GAAyBsmC,OAAO,CAACtmC,UAAjC;MACAomC,WAAW,CAACnmC,QAAZ,aAA0BqmC,OAAO,CAACrmC,QAAlC;MACAmmC,WAAW,CAACloC,IAAZ,GAAmBA,IAAnB;MAEAyqB,QAAQ,GAAGvqB,QAAQ,CAACqqB,WAAT,CAAqB2d,WAArB,CAAX;MACAz4D,MAAM,CAACi4D,YAAP,CAAoB14D,IAApB,CAAyBy7C,QAAzB;MACAh7C,MAAM,CAAC+3D,KAAP,CAAax4D,IAAb,CAAkBgxB,IAAlB;MACAvwB,MAAM,CAACg4D,aAAP,CAAqBz4D,IAArB,CAA0Bo5D,OAA1B;MACA34D,MAAM,CAAC+2D,iBAAP,CAAyBx3D,IAAzB,CAA8Bw3D,iBAAiB,CAAC/iB,CAAD,CAA/C;MACAh0C,MAAM,CAACq6B,SAAP,GAAmBA,SAAnB;MACAm7B,gBAAgB,GAAGA,gBAAgB,IAAIxa,QAAQ,CAACx1C,KAAT,IAAmBgpD,MAAM,CAAChpD,KAAP,GAAgB+7C,SAAO,GAAG,CAApF;;;IAGFgN,WAAW,CAAChvD,IAAZ,CAAiBS,MAAjB;;;SAGK;IACLuuD,WAAW,EAAXA,WADK;IAELiH,gBAAgB,EAAhBA,gBAFK;IAGLkD,sBAAsB,EAAtBA;GAHF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCF,AAAO,SAASE,IAAT,QAOkB;MANvB3wD,QAMuB,SANvBA,QAMuB;MALvB8qB,KAKuB,SALvBA,KAKuB;MAJvBlC,KAIuB,SAJvBA,KAIuB;MAHvBtrB,IAGuB,SAHvBA,IAGuB;MAFvBkrB,QAEuB,SAFvBA,QAEuB;MADvB8D,KACuB,SADvBA,KACuB;MAAtBmjC,MAAsB,uEAAbH,WAAa;MACjBzkC,QAAQ,GAAG/oB,MAAM,CAAC;IACtBuoB,QAAQ,EAAE,EADY;IAEtBD,UAAU,EAAE,OAFU;IAGtBhpB,KAAK,EAAE,GAHe;IAItBgtD,OAAO,EAAE,CAJa;IAKtB1wD,IAAI,EAAE;GALe,EAMpB4uB,KAAK,CAACzd,KANc,CAAvB;EAQAgc,QAAQ,CAACR,QAAT,GAAoBg6B,QAAQ,CAACx5B,QAAQ,CAACR,QAAV,EAAoB,EAApB,CAA5B;MAEM0lC,aAAa,GAAG/vD,QAAQ,CAACuX,MAAT,CAAgBjhB,GAAhB,CAAoB,UAACs6D,YAAD;WAAkB9uD,MAAM,CAAC,EAAD,EAAK+oB,QAAL,EAAe7qB,QAAf,EAAyB4wD,YAAzB,CAAxB;GAApB,CAAtB;MAEM9B,iBAAiB,GAAG9uD,QAAQ,CAACuX,MAAT,CAAgBjhB,GAAhB,CAAoB,UAACs6D,YAAD;WAAkBA,YAAY,CAACf,UAAb,CAAwBv5D,GAAxB,CAA4B,UAACqqD,SAAD;aAAe7+C,MAAM,CAAC,EAAD,EAAK+oB,QAAL,EAAe7qB,QAAf,EAAyB4wD,YAAzB,EAAuCjQ,SAAvC,CAArB;KAA5B,CAAlB;GAApB,CAA1B;;sBAMI4P,YAAY,CAAC;IACf3nC,KAAK,EAALA,KADe;IAEfkC,KAAK,EAALA,KAFe;IAGftC,QAAQ,EAARA,QAHe;IAIfxoB,QAAQ,EAARA,QAJe;IAKf1C,IAAI,EAAJA,IALe;IAMfyyD,aAAa,EAAbA,aANe;IAOfjB,iBAAiB,EAAjBA;GAPc,CAnBO;MAgBrBvB,gBAhBqB,iBAgBrBA,gBAhBqB;MAiBrBkD,sBAjBqB,iBAiBrBA,sBAjBqB;MAkBrBnK,WAlBqB,iBAkBrBA,WAlBqB;;MA6BjBpC,KAAK,GAAGuM,sBAAsB,GAAG,GAAH,GAAS,GAA7C;MACMtE,IAAI,GAAGsE,sBAAsB,GAAG,QAAH,GAAc,OAAjD;EACAnK,WAAW,CAAC1gD,IAAZ,CAAiB,UAACtQ,CAAD,EAAIuQ,CAAJ;WAAWvQ,CAAC,CAACgmB,IAAF,CAAOmxC,WAAP,CAAmBvI,KAAnB,IAA4B5uD,CAAC,CAACgmB,IAAF,CAAOmxC,WAAP,CAAmBN,IAAnB,CAA7B,IAA0DtmD,CAAC,CAACyV,IAAF,CAAOmxC,WAAP,CAAmBvI,KAAnB,IAA4Br+C,CAAC,CAACyV,IAAF,CAAOmxC,WAAP,CAAmBN,IAAnB,CAAtF,CAAV;GAAjB;SAEOsD,MAAM,CAAC;IACZ3kC,KAAK,EAALA,KADY;IAEZw7B,WAAW,EAAXA,WAFY;IAGZ3uC,KAAK,EAAE3X,QAHK;IAIZ1C,IAAI,EAAJA,IAJY;IAKZiwD,gBAAgB,EAAhBA,gBALY;IAMZgC,qBAAqB,EAAEkB,sBAAsB,GAAG,GAAH,GAAS;GAN3C,CAAb;;;ACjeF,IAAMI,yBAAyB,GAAG,CAAlC;;AAEA,SAASC,WAAT,CAAmBp2D,KAAnB,EAA0B;MAClBq2D,GAAG,GAAGl2D,IAAI,CAACiE,EAAL,GAAU,CAAtB;SACO,CAAEpE,KAAK,GAAGq2D,GAAT,GAAgBA,GAAjB,IAAwBA,GAA/B,CAFwB;;;AAK1B,SAASpC,KAAT,CAAapI,MAAb,EAAqBnsC,OAArB,EAA8B;EAC5BmsC,MAAM,CAAC3rD,CAAP,IAAYwf,OAAZ;EACAmsC,MAAM,CAAChpD,KAAP,IAAiB6c,OAAO,GAAG,CAA3B;EACAmsC,MAAM,CAACxrD,CAAP,IAAYqf,OAAZ;EACAmsC,MAAM,CAAC/oD,MAAP,IAAkB4c,OAAO,GAAG,CAA5B;;;AAGF,SAAS42C,gBAAT,CAA0BzK,MAA1B,EAAkC;MAC1B3rD,CAAC,GAAG2rD,MAAM,CAAC3rD,CAAjB;MACMG,CAAC,GAAGwrD,MAAM,CAACxrD,CAAP,GAAYwrD,MAAM,CAAC/oD,MAAP,GAAgB,CAAtC;SAEO;IACL5C,CAAC,EAADA,CADK;IAELG,CAAC,EAADA,CAFK;IAGLwC,KAAK,EAAEgpD,MAAM,CAAChpD,KAHT;IAILC,MAAM,EAAE+oD,MAAM,CAAC/oD;GAJjB;;;;AASF,SAASyzD,yBAAT,CAAmC99B,MAAnC,EAA2CxiB,MAA3C,EAAmDjW,KAAnD,EAA0D;MAClDE,CADkD,GACzC+V,MADyC,CAClD/V,CADkD;MAC/CG,CAD+C,GACzC4V,MADyC,CAC/C5V,CAD+C;;MAGnDH,CAAC,GAAGA,CAAL,GAAWG,CAAC,GAAGA,CAAf,GAAoBo4B,MAAM,GAAGA,MAAjC,EAAyC;WAAS,IAAP;;;MAEvCh4B,EAAE,GAAGN,IAAI,CAACG,GAAL,CAASN,KAAT,CAAT;MACIU,EAAE,GAAGP,IAAI,CAACC,GAAL,CAASJ,KAAT,CAAT;MACIw2D,CAAC,GAAIt2D,CAAC,GAAGQ,EAAL,GAAYL,CAAC,GAAGI,EAAxB;MAEIiM,CAAC,GAAI+rB,MAAM,GAAGA,MAAV,GAAqB+9B,CAAC,GAAGA,CAAjC;;MACI9pD,CAAC,GAAG,CAAR,EAAW;WACF,IAAP;;;MAEE+pD,KAAK,GAAGt2D,IAAI,CAACkE,IAAL,CAAUqI,CAAV,CAAZ;SACO;IACLxM,CAAC,EAAGs2D,CAAC,GAAG91D,EAAL,GAAYD,EAAE,GAAGg2D,KADf;IAELp2D,CAAC,EAAE,EAAEm2D,CAAC,GAAG/1D,EAAN,IAAaC,EAAE,GAAG+1D;GAFvB;;;;AAOF,SAASC,6BAAT,OAAgE;MAAvBj+B,MAAuB,QAAvBA,MAAuB;MAAflyB,IAAe,QAAfA,IAAe;MAATvG,KAAS,QAATA,KAAS;MACxD6C,KADwD,GACtC0D,IADsC,CACxD1D,KADwD;MACjDC,MADiD,GACtCyD,IADsC,CACjDzD,MADiD;MAE1D6zD,UAAU,GAAG;IAAEz2D,CAAC,EAAE2C,KAAK,GAAG,CAAb;IAAgBxC,CAAC,EAAEyC,MAAM,GAAG;GAA7C;MACI8zD,OAAO,GAAGz2D,IAAI,CAACgG,KAAL,CAAWnG,KAAK,IAAIG,IAAI,CAACiE,EAAL,GAAU,CAAd,CAAhB,CAAd;MACIyyD,YAAJ;MACI5gD,MAAJ;;UACQ2gD,OAAR;SACO,CAAL;MACEC,YAAY,GAAGN,yBAAyB,CAAC99B,MAAD,EAASk+B,UAAT,EAAqB32D,KAArB,CAAxC;;UACI,CAAC62D,YAAL,EAAmB;eAAS,IAAP;;;MACrBA,YAAY,CAACx2D,CAAb,IAAkB,CAAC,CAAnB;MACA4V,MAAM,GAAG;QAAE/V,CAAC,EAAE,CAAC2C,KAAN;QAAaxC,CAAC,EAAE;OAAzB;;;SAEG,CAAL;MACEw2D,YAAY,GAAGN,yBAAyB,CAAC99B,MAAD,EAASk+B,UAAT,EAAqBx2D,IAAI,CAACiE,EAAL,GAAUpE,KAA/B,CAAxC;;UACI,CAAC62D,YAAL,EAAmB;eAAS,IAAP;;;MACrB5gD,MAAM,GAAG;QAAE/V,CAAC,EAAE,CAAC2C,KAAN;QAAaxC,CAAC,EAAE,CAACyC;OAA1B;;;SAEG,CAAL;MACE+zD,YAAY,GAAGN,yBAAyB,CAAC99B,MAAD,EAASk+B,UAAT,EAAqB32D,KAAK,GAAGG,IAAI,CAACiE,EAAlC,CAAxC;;UACI,CAACyyD,YAAL,EAAmB;eAAS,IAAP;;;MACrBA,YAAY,CAAC32D,CAAb,IAAkB,CAAC,CAAnB;MACA+V,MAAM,GAAG;QAAE/V,CAAC,EAAE,CAAL;QAAQG,CAAC,EAAE,CAACyC;OAArB;;;SAEG,CAAL;MACE+zD,YAAY,GAAGN,yBAAyB,CAAC99B,MAAD,EAASk+B,UAAT,EAAsB,IAAIx2D,IAAI,CAACiE,EAAV,GAAgBpE,KAArC,CAAxC;;UACI,CAAC62D,YAAL,EAAmB;eAAS,IAAP;;;MACrBA,YAAY,CAAC32D,CAAb,IAAkB,CAAC,CAAnB;MACA22D,YAAY,CAACx2D,CAAb,IAAkB,CAAC,CAAnB;MACA4V,MAAM,GAAG;QAAE/V,CAAC,EAAE,CAAL;QAAQG,CAAC,EAAE;OAApB;;;;YAGM,IAAIgN,KAAJ,CAAU,eAAV,CAAN;;;MAEAw+C,MAAM,GAAG;IACX3rD,CAAC,EAAE22D,YAAY,CAAC32D,CAAb,GAAiB+V,MAAM,CAAC/V,CADhB;IAEXG,CAAC,EAAEw2D,YAAY,CAACx2D,CAAb,GAAiB4V,MAAM,CAAC5V,CAFhB;IAGXwC,KAAK,EAALA,KAHW;IAIXC,MAAM,EAANA;GAJF;SAMO+oD,MAAP;;;AAGF,SAASiL,4BAAT,QAEG;MADD7rD,KACC,SADDA,KACC;MADMyU,OACN,SADMA,OACN;MADe24B,QACf,SADeA,QACf;MADyB0e,KACzB,SADyBA,KACzB;MAECv1D,KAFD,GAGGyJ,KAHH,CAECzJ,KAFD;MAEQC,GAFR,GAGGwJ,KAHH,CAEQxJ,GAFR;MAEaw2B,WAFb,GAGGhtB,KAHH,CAEagtB,WAFb;MAIK++B,MAAM,GAAGZ,WAAS,CAAC,CAAC50D,KAAK,GAAGC,GAAT,IAAgB,CAAjB,CAAxB;MAEM8E,IAAI,GAAG;IACX1D,KAAK,EAAEw1C,QAAQ,CAACx1C,KAAT,GAAkB6c,OAAO,GAAG,CADxB;IAEX5c,MAAM,EAAEu1C,QAAQ,CAACv1C,MAAT,GAAmB4c,OAAO,GAAG;GAFvC;MAKImsC,MAAM,GAAG6K,6BAA6B,CAAC;IACzCj+B,MAAM,EAAER,WADiC;IAEzC1xB,IAAI,EAAJA,IAFyC;IAGzCvG,KAAK,EAAEg3D;GAHiC,CAA1C;;MAMI,CAACnL,MAAL,EAAa;WAAS,IAAP;;;EAEfA,MAAM,CAACl3B,QAAP,GAAkB,KAAlB;EAEAs/B,KAAG,CAACpI,MAAD,EAASnsC,OAAT,CAAH;;MAEIq3C,KAAK,CAACE,iBAAN,CAAwBnsD,IAAxB,CAA6B,UAAClI,IAAD;WAAUw+B,YAAY,CAACx+B,IAAD,EAAOipD,MAAP,CAAtB;GAA7B,CAAJ,EAAwE;WAC/D,IAAP;;;EAGFkL,KAAK,CAACE,iBAAN,CAAwBr6D,IAAxB,CAA6B;IAC3BsD,CAAC,EAAE2rD,MAAM,CAAC3rD,CAAP,GAAWi2D,yBADa;IAE3B91D,CAAC,EAAEwrD,MAAM,CAACxrD,CAFiB;IAG3BwC,KAAK,EAAEgpD,MAAM,CAAChpD,KAAP,GAAgBszD,yBAAyB,GAAG,CAHxB;IAI3BrzD,MAAM,EAAE+oD,MAAM,CAAC/oD;GAJjB,EA3BC;;SAkCM+oD,MAAP;;;AAGF,SAASqL,0BAAT,QAAkE;MAA5BjsD,KAA4B,SAA5BA,KAA4B;MAArByU,OAAqB,SAArBA,OAAqB;MAAZ24B,QAAY,SAAZA,QAAY;MAE9D72C,KAF8D,GAG5DyJ,KAH4D,CAE9DzJ,KAF8D;MAEvDC,GAFuD,GAG5DwJ,KAH4D,CAEvDxJ,GAFuD;MAElD02B,WAFkD,GAG5DltB,KAH4D,CAElDktB,WAFkD;MAErCF,WAFqC,GAG5DhtB,KAH4D,CAErCgtB,WAFqC;MAI1D++B,MAAM,GAAGZ,WAAS,CAAC,CAAC50D,KAAK,GAAGC,GAAT,IAAgB,CAAjB,CAAxB;MAEI8E,IAAI,GAAG;IACT1D,KAAK,EAAEw1C,QAAQ,CAACx1C,KAAT,GAAkB6c,OAAO,GAAG,CAD1B;IAET5c,MAAM,EAAEu1C,QAAQ,CAACv1C,MAAT,GAAmB4c,OAAO,GAAG;GAFvC;MAKImsC,MAAM,GAAG6K,6BAA6B,CAAC;IACzCj+B,MAAM,EAAER,WADiC;IAEzC1xB,IAAI,EAAJA,IAFyC;IAGzCvG,KAAK,EAAEg3D;GAHiC,CAA1C;;MAMI,CAACnL,MAAL,EAAa;WAAS,IAAP;;;EAEfA,MAAM,CAACl3B,QAAP,GAAkB,KAAlB;MAEIwiC,SAAS,GAAG;IACdv1D,EAAE,EAAE,CADU;IACPC,EAAE,EAAE,CADG;IACAC,EAAE,EAAE3B,IAAI,CAACG,GAAL,CAASkB,KAAT,IAAkBy2B,WADtB;IACmCl2B,EAAE,EAAE,CAAC5B,IAAI,CAACC,GAAL,CAASoB,KAAT,CAAD,GAAmBy2B;GAD1E;;MAGIgJ,YAAY,CAAC4qB,MAAD,EAASsL,SAAT,CAAhB,EAAqC;WAAS,IAAP;;;MACnCC,OAAO,GAAG;IACZx1D,EAAE,EAAE,CADQ;IACLC,EAAE,EAAE,CADC;IACEC,EAAE,EAAE3B,IAAI,CAACG,GAAL,CAASmB,GAAT,IAAgBw2B,WADtB;IACmCl2B,EAAE,EAAE,CAAC5B,IAAI,CAACC,GAAL,CAASqB,GAAT,CAAD,GAAiBw2B;GADtE;;MAGIgJ,YAAY,CAAC4qB,MAAD,EAASuL,OAAT,CAAhB,EAAmC;WAAS,IAAP;;;MACjC/hC,MAAM,GAAG;IAAEjtB,EAAE,EAAE,CAAN;IAASC,EAAE,EAAE,CAAb;IAAgB9G,CAAC,EAAE42B;GAAhC;;MACIsH,cAAc,CAACpK,MAAD,EAASw2B,MAAT,CAAlB,EAAoC;WAAS,IAAP;;;EAEtCoI,KAAG,CAACpI,MAAD,EAASnsC,OAAT,CAAH;SAEOmsC,MAAP;;;;AAIF,SAASwL,yBAAT,QAAiE;MAA5BpsD,KAA4B,SAA5BA,KAA4B;MAArBotC,QAAqB,SAArBA,QAAqB;MAAX34B,OAAW,SAAXA,OAAW;MAE7Dle,KAF6D,GAG3DyJ,KAH2D,CAE7DzJ,KAF6D;MAEtDC,GAFsD,GAG3DwJ,KAH2D,CAEtDxJ,GAFsD;MAEjD02B,WAFiD,GAG3DltB,KAH2D,CAEjDktB,WAFiD;MAEpCF,WAFoC,GAG3DhtB,KAH2D,CAEpCgtB,WAFoC;MAK3DlD,QAAQ,GAAGkD,WAAW,GAAGE,WAAd,GAA6BzY,OAAO,GAAG,CAAtD;MACInZ,IAAI,GAAG9E,GAAG,GAAGD,KAAjB;;MACI+E,IAAI,GAAGpG,IAAI,CAACiE,EAAhB,EAAoB;QACdlE,CAAC,GAAG,CAAEm4C,QAAQ,CAACv1C,MAAT,GAAkB,CAAnB,GAAwB4c,OAAzB,IAAoCvf,IAAI,CAACm3D,GAAL,CAAS/wD,IAAI,GAAG,CAAhB,CAA5C;;QACIrG,CAAC,GAAGi4B,WAAR,EAAqB;MACnBpD,QAAQ,GAAGkD,WAAW,GAAG/3B,CAAd,GAAmBwf,OAAO,GAAG,CAAxC;;;;MAGAqV,QAAQ,GAAG,CAAX,IAAgBA,QAAQ,GAAGsjB,QAAQ,CAACkf,WAAxC,EAAqD;WAC5C,IAAP;;;MAGIP,MAAM,GAAGZ,WAAS,CAAC,CAAC50D,KAAK,GAAGC,GAAT,IAAgB,CAAjB,CAAxB;MACIF,CAAC,GAAG02B,WAAW,GAAGvY,OAAtB;MACImsC,MAAM,GAAG;IACX3rD,CAAC,EAAEC,IAAI,CAACG,GAAL,CAAS02D,MAAT,IAAmBz1D,CADX;IAEXlB,CAAC,EAAE,CAACF,IAAI,CAACC,GAAL,CAAS42D,MAAT,CAAD,GAAoBz1D,CAFZ;IAGXsB,KAAK,EAAEkyB,QAHI;IAIXjyB,MAAM,EAAEu1C,QAAQ,CAACv1C;GAJnB;;MAMIk0D,MAAM,GAAG72D,IAAI,CAACiE,EAAlB,EAAsB;IACpBynD,MAAM,CAAC7rD,KAAP,GAAeg3D,MAAM,GAAI72D,IAAI,CAACiE,EAAL,GAAU,CAAnC;IACAynD,MAAM,CAACh3B,MAAP,GAAgB,KAAhB;GAFF,MAGO;IACLg3B,MAAM,CAAC7rD,KAAP,GAAeg3D,MAAM,GAAI72D,IAAI,CAACiE,EAAL,GAAU,CAAnC;IACAynD,MAAM,CAACh3B,MAAP,GAAgB,OAAhB;;;SAEKg3B,MAAP;;;AAIF,SAAS2L,yBAAT,QAEG;MADDvsD,KACC,SADDA,KACC;MADMotC,QACN,SADMA,QACN;MADgB34B,OAChB,SADgBA,OAChB;MADyBk0C,IACzB,SADyBA,IACzB;MAECpyD,KAFD,GAGGyJ,KAHH,CAECzJ,KAFD;MAEQC,GAFR,GAGGwJ,KAHH,CAEQxJ,GAFR;MAEaw2B,WAFb,GAGGhtB,KAHH,CAEagtB,WAFb;MAE0BhiB,MAF1B,GAGGhL,KAHH,CAE0BgL,MAF1B;MAIG1U,CAAC,GAAG02B,WAAW,GAAGvY,OAAtB;MACInZ,IAAI,GAAG9E,GAAG,GAAGD,KAAjB;;MACI+E,IAAI,GAAGpG,IAAI,CAACiE,EAAhB,EAAoB;QACdqzD,IAAI,GAAG,CAAEpf,QAAQ,CAACv1C,MAAT,GAAkB,CAAnB,GAAwB4c,OAAzB,IAAoCvf,IAAI,CAACm3D,GAAL,CAAS/wD,IAAI,GAAG,CAAhB,CAA/C;;QACIkxD,IAAI,GAAGl2D,CAAX,EAAc;aACL,IAAP;;;;MAGEy1D,MAAM,GAAGZ,WAAS,CAAC,CAAC50D,KAAK,GAAGC,GAAT,IAAgB,CAAjB,CAAxB;MACIvB,CAAC,GAAGC,IAAI,CAACG,GAAL,CAAS02D,MAAT,IAAmBz1D,CAA3B;MACIlB,CAAC,GAAG,CAACF,IAAI,CAACC,GAAL,CAAS42D,MAAT,CAAD,GAAoBz1D,CAA5B;MAEIwzB,QAAQ,GAAGsjB,QAAQ,CAACx1C,KAAxB;MACIzH,CAAC,GAAG47D,MAAM,GAAG72D,IAAI,CAACiE,EAAtB;;MACIhJ,CAAC,GAAG+E,IAAI,CAACiE,EAAL,GAAU,CAAlB,EAAqB;IACnBhJ,CAAC,GAAG+E,IAAI,CAACiE,EAAL,GAAUhJ,CAAd;;;MAEE+E,IAAI,CAACC,GAAL,CAAShF,CAAT,IAAc,KAAlB,EAAyB;QACnBqlC,IAAI,GAAGpgC,CAAC,GAAG,CAAJ,GAAQuzD,IAAI,CAACvzD,CAAb,GAAiBuzD,IAAI,CAACvzD,CAAL,GAASuzD,IAAI,CAAC9wD,MAA1C;QACI4J,CAAC,GAAGvM,IAAI,CAAC2O,GAAL,CAAS2xB,IAAI,GAAGxqB,MAAM,CAAC5V,CAAvB,CAAR;QACIuD,CAAC,GAAI8I,CAAC,GAAGvM,IAAI,CAACC,GAAL,CAAShF,CAAT,CAAL,GAAqB+E,IAAI,CAACm3D,GAAL,CAASl8D,CAAT,KAAei9C,QAAQ,CAACv1C,MAAT,GAAkB,CAAjC,CAArB,GAA6D4c,OAAO,GAAG,CAAvE,GAA4EuY,WAApF;;QACIr0B,CAAC,GAAGmxB,QAAR,EAAkB;MAChBA,QAAQ,GAAGnxB,CAAX;;;;MAGAzD,IAAI,CAACG,GAAL,CAASlF,CAAT,IAAc,KAAlB,EAAyB;QACnBqlC,KAAI,GAAGvgC,CAAC,GAAG,CAAJ,GAAQ0zD,IAAI,CAAC1zD,CAAb,GAAiB0zD,IAAI,CAAC1zD,CAAL,GAAS0zD,IAAI,CAAC/wD,KAA1C;;QACI6J,EAAC,GAAGvM,IAAI,CAAC2O,GAAL,CAAS2xB,KAAI,GAAGxqB,MAAM,CAAC/V,CAAvB,CAAR;;QACI0D,EAAC,GAAI8I,EAAC,GAAGvM,IAAI,CAACG,GAAL,CAASlF,CAAT,CAAL,GAAsBi9C,QAAQ,CAACv1C,MAAT,GAAkB,CAAnB,GAAwB3C,IAAI,CAACm3D,GAAL,CAASl8D,CAAT,CAA7C,GAA6DskB,OAAO,GAAG,CAAvE,GAA4EuY,WAApF;;QACIr0B,EAAC,GAAGmxB,QAAR,EAAkB;MAChBA,QAAQ,GAAGnxB,EAAX;;;;MAIAmxB,QAAQ,IAAI,CAAZ,IAAiBA,QAAQ,GAAGsjB,QAAQ,CAACkf,WAAzC,EAAsD;WAC7C,IAAP;;;MAGE1L,MAAM,GAAG;IACX3rD,CAAC,EAADA,CADW;IAEXG,CAAC,EAADA,CAFW;IAGXwC,KAAK,EAAEkyB,QAHI;IAIXjyB,MAAM,EAAEu1C,QAAQ,CAACv1C;GAJnB;;MAMIk0D,MAAM,GAAG72D,IAAI,CAACiE,EAAlB,EAAsB;IACpBynD,MAAM,CAAC7rD,KAAP,GAAeg3D,MAAM,GAAI72D,IAAI,CAACiE,EAAL,GAAU,CAAnC;IACAynD,MAAM,CAACh3B,MAAP,GAAgB,OAAhB;GAFF,MAGO;IACLg3B,MAAM,CAAC7rD,KAAP,GAAeg3D,MAAM,GAAI72D,IAAI,CAACiE,EAAL,GAAU,CAAnC;IACAynD,MAAM,CAACh3B,MAAP,GAAgB,KAAhB;;;SAEKg3B,MAAP;;;AAGF,SAAS6L,UAAT,CAAoB16C,OAApB,EAA6B45C,OAA7B,EAAsChD,IAAtC,EAA4C;UAClCgD,OAAR;SACO,CAAL;aAAe55C,OAAO,CAAC26C,MAAR,GAAiB,CAAxB;;SACH,CAAL;aAAe36C,OAAO,CAAC46C,MAAR,GAAiBhE,IAAI,CAAC9wD,MAA7B;;SACH,CAAL;aAAeka,OAAO,CAAC66C,MAAR,GAAiBjE,IAAI,CAAC9wD,MAA7B;;SACH,CAAL;aAAeka,OAAO,CAAC86C,MAAR,GAAiB,CAAxB;;;aACQ,IAAP;;;;AAGb,SAASC,YAAT,CAAsBlM,MAAtB,EAA8B7uC,OAA9B,EAAuC/R,KAAvC,EAA8C;MACtC+sD,YAAY,GAAG,CAArB;MACMC,KAAK,GAAG,CAAd;MAGEz2D,KAL0C,GAMxCyJ,KANwC,CAK1CzJ,KAL0C;MAKnCC,GALmC,GAMxCwJ,KANwC,CAKnCxJ,GALmC;MAK9BwU,MAL8B,GAMxChL,KANwC,CAK9BgL,MAL8B;MAKtBgiB,WALsB,GAMxChtB,KANwC,CAKtBgtB,WALsB;MAOtC++B,MAAM,GAAGZ,WAAS,CAAC,CAAC50D,KAAK,GAAGC,GAAT,IAAgB,CAAjB,CAAxB;MACIm1D,OAAO,GAAGz2D,IAAI,CAACgG,KAAL,CAAW6wD,MAAM,IAAI72D,IAAI,CAACiE,EAAL,GAAU,CAAd,CAAjB,CAAd;;UAEQwyD,OAAR;SACO,CAAL;UACM55C,OAAO,CAAC26C,MAAR,KAAmB/yD,SAAvB,EAAkC;YAC5BvE,CAAC,GAAGF,IAAI,CAACwG,GAAL,CAASklD,MAAM,CAACxrD,CAAhB,EAAmB2c,OAAO,CAAC26C,MAAR,GAAiB9L,MAAM,CAAC/oD,MAA3C,CAAR;YACIpC,EAAE,GAAGmrD,MAAM,CAACxrD,CAAP,GAAWA,CAApB;QACAwrD,MAAM,CAACxrD,CAAP,GAAWA,CAAX;;YACIK,EAAE,GAAGu3D,KAAT,EAAgB;cACV12D,CAAC,GAAG02B,WAAW,GAAG+/B,YAAtB;UACAnM,MAAM,CAAC7jD,IAAP,GAAc;YACZzL,IAAI,EAAE,MADM;YAEZqF,EAAE,EAAEiqD,MAAM,CAAC3rD,CAAP,GAAW83D,YAFH;YAGZn2D,EAAE,EAAEgqD,MAAM,CAACxrD,CAAP,GAAW23D,YAHH;YAIZl2D,EAAE,EAAEmU,MAAM,CAAC/V,CAAP,GAAYC,IAAI,CAACG,GAAL,CAAS02D,MAAT,IAAmBz1D,CAJvB;YAKZQ,EAAE,EAAEkU,MAAM,CAAC5V,CAAP,GAAYF,IAAI,CAACC,GAAL,CAAS42D,MAAT,IAAmBz1D,CALvB;YAMZuuB,WAAW,EAAE;WANf;;;;;;SAWD,CAAL;UACM9S,OAAO,CAAC46C,MAAR,KAAmBhzD,SAAvB,EAAkC;YAC5BvE,EAAC,GAAGF,IAAI,CAACyG,GAAL,CAASilD,MAAM,CAACxrD,CAAhB,EAAmB2c,OAAO,CAAC46C,MAA3B,CAAR;;YACIl3D,GAAE,GAAGL,EAAC,GAAGwrD,MAAM,CAACxrD,CAApB;;QACAwrD,MAAM,CAACxrD,CAAP,GAAWA,EAAX;;YACIK,GAAE,GAAGu3D,KAAT,EAAgB;cACV12D,EAAC,GAAG02B,WAAW,GAAG+/B,YAAtB;;UACAnM,MAAM,CAAC7jD,IAAP,GAAc;YACZzL,IAAI,EAAE,MADM;YAEZqF,EAAE,EAAEiqD,MAAM,CAAC3rD,CAAP,GAAW83D,YAFH;YAGZn2D,EAAE,EAAEgqD,MAAM,CAACxrD,CAAP,GAAW23D,YAHH;YAIZl2D,EAAE,EAAEmU,MAAM,CAAC/V,CAAP,GAAYC,IAAI,CAACG,GAAL,CAAS02D,MAAT,IAAmBz1D,EAJvB;YAKZQ,EAAE,EAAEkU,MAAM,CAAC5V,CAAP,GAAYF,IAAI,CAACC,GAAL,CAAS42D,MAAT,IAAmBz1D,EALvB;YAMZuuB,WAAW,EAAE;WANf;;;;;;SAWD,CAAL;UACM9S,OAAO,CAAC66C,MAAR,KAAmBjzD,SAAvB,EAAkC;YAC5BvE,GAAC,GAAGF,IAAI,CAACyG,GAAL,CAASilD,MAAM,CAACxrD,CAAhB,EAAmB2c,OAAO,CAAC66C,MAA3B,CAAR;;YACIn3D,IAAE,GAAGL,GAAC,GAAGwrD,MAAM,CAACxrD,CAApB;;QACAwrD,MAAM,CAACxrD,CAAP,GAAWA,GAAX;;YACIK,IAAE,GAAGu3D,KAAT,EAAgB;cACV12D,GAAC,GAAG02B,WAAW,GAAG+/B,YAAtB;;UACAnM,MAAM,CAAC7jD,IAAP,GAAc;YACZzL,IAAI,EAAE,MADM;YAEZqF,EAAE,EAAEiqD,MAAM,CAAC3rD,CAAP,GAAW83D,YAFH;YAGZn2D,EAAE,EAAEgqD,MAAM,CAACxrD,CAAP,GAAW23D,YAHH;YAIZl2D,EAAE,EAAEmU,MAAM,CAAC/V,CAAP,GAAYC,IAAI,CAACG,GAAL,CAAS02D,MAAT,IAAmBz1D,GAJvB;YAKZQ,EAAE,EAAEkU,MAAM,CAAC5V,CAAP,GAAYF,IAAI,CAACC,GAAL,CAAS42D,MAAT,IAAmBz1D,GALvB;YAMZuuB,WAAW,EAAE;WANf;;;;;;SAWD,CAAL;UACM9S,OAAO,CAAC86C,MAAR,KAAmBlzD,SAAvB,EAAkC;YAC5BvE,GAAC,GAAGF,IAAI,CAACwG,GAAL,CAASklD,MAAM,CAACxrD,CAAhB,EAAmB2c,OAAO,CAAC86C,MAAR,GAAiBjM,MAAM,CAAC/oD,MAA3C,CAAR;;YACIpC,IAAE,GAAGmrD,MAAM,CAACxrD,CAAP,GAAWA,GAApB;;QACAwrD,MAAM,CAACxrD,CAAP,GAAWA,GAAX;;YACIK,IAAE,GAAGu3D,KAAT,EAAgB;cACV12D,GAAC,GAAG02B,WAAW,GAAG+/B,YAAtB;;UACAnM,MAAM,CAAC7jD,IAAP,GAAc;YACZzL,IAAI,EAAE,MADM;YAEZqF,EAAE,EAAEiqD,MAAM,CAAC3rD,CAAP,GAAW83D,YAFH;YAGZn2D,EAAE,EAAEgqD,MAAM,CAACxrD,CAAP,GAAW23D,YAHH;YAIZl2D,EAAE,EAAEmU,MAAM,CAAC/V,CAAP,GAAYC,IAAI,CAACG,GAAL,CAAS02D,MAAT,IAAmBz1D,GAJvB;YAKZQ,EAAE,EAAEkU,MAAM,CAAC5V,CAAP,GAAYF,IAAI,CAACC,GAAL,CAAS42D,MAAT,IAAmBz1D,GALvB;YAMZuuB,WAAW,EAAE;WANf;;;;;;;;;;;AAcV,SAASooC,aAAT,QAAkD;MAAzBl7C,OAAyB,SAAzBA,OAAyB;MAAhB4D,IAAgB,SAAhBA,IAAgB;MAAVirC,MAAU,SAAVA,MAAU;MAC1CjN,OAAO,GAAG,CAAhB;yBAGIh+B,IAAI,CAACyzB,IAAL,CAAUppC,KAJkC;MAG9CzJ,KAH8C,oBAG9CA,KAH8C;MAGvCC,GAHuC,oBAGvCA,GAHuC;MAK1Cu1D,MAAM,GAAGZ,WAAS,CAAC,CAAC50D,KAAK,GAAGC,GAAT,IAAgB,CAAjB,CAAxB;MAEIm1D,OAAO,GAAGz2D,IAAI,CAACgG,KAAL,CAAW6wD,MAAM,IAAI72D,IAAI,CAACiE,EAAL,GAAU,CAAd,CAAjB,CAAd;;UACQwyD,OAAR;SACO,CAAL;MACE55C,OAAO,CAAC26C,MAAR,GAAiB9L,MAAM,CAACxrD,CAAP,GAAWu+C,OAA5B;;UACI5hC,OAAO,CAAC46C,MAAR,KAAmBhzD,SAAvB,EAAkC;QAChCoY,OAAO,CAAC46C,MAAR,GAAiB/L,MAAM,CAACxrD,CAAP,GAAWwrD,MAAM,CAAC/oD,MAAlB,GAA2B87C,OAA5C;;;;;SAGC,CAAL;MACE5hC,OAAO,CAAC46C,MAAR,GAAiB/L,MAAM,CAACxrD,CAAP,GAAWwrD,MAAM,CAAC/oD,MAAlB,GAA2B87C,OAA5C;;;SAEG,CAAL;MACE5hC,OAAO,CAAC66C,MAAR,GAAiBhM,MAAM,CAACxrD,CAAP,GAAWwrD,MAAM,CAAC/oD,MAAlB,GAA2B87C,OAA5C;;;SAEG,CAAL;MACE5hC,OAAO,CAAC86C,MAAR,GAAiBjM,MAAM,CAACxrD,CAAP,GAAWu+C,OAA5B;;UACI5hC,OAAO,CAAC66C,MAAR,KAAmBjzD,SAAvB,EAAkC;QAChCoY,OAAO,CAAC66C,MAAR,GAAiBhM,MAAM,CAACxrD,CAAP,GAAWwrD,MAAM,CAAC/oD,MAAlB,GAA2B87C,OAA5C;;;;;;;;;;AAOR,SAASuZ,4BAAT,QAEG;MADDltD,KACC,SADDA,KACC;MADMotC,QACN,SADMA,QACN;MADgB34B,OAChB,SADgBA,OAChB;MADyBk0C,IACzB,SADyBA,IACzB;MAD+B52C,OAC/B,SAD+BA,OAC/B;MAECxb,KAFD,GAGGyJ,KAHH,CAECzJ,KAFD;MAEQC,GAFR,GAGGwJ,KAHH,CAEQxJ,GAFR;MAEaw2B,WAFb,GAGGhtB,KAHH,CAEagtB,WAFb;MAE0BhiB,MAF1B,GAGGhL,KAHH,CAE0BgL,MAF1B;MAIK+gD,MAAM,GAAGZ,WAAS,CAAC,CAAC50D,KAAK,GAAGC,GAAT,IAAgB,CAAjB,CAAxB;MAEIm1D,OAAO,GAAGz2D,IAAI,CAACgG,KAAL,CAAW6wD,MAAM,IAAI72D,IAAI,CAACiE,EAAL,GAAU,CAAd,CAAjB,CAAd;;MACIszD,UAAU,CAAC16C,OAAD,EAAU45C,OAAV,EAAmBhD,IAAnB,CAAd,EAAwC;WAC/B,IAAP;;;MAGEryD,CAAC,GAAG02B,WAAW,GAAGvY,OAAd,GAAyB24B,QAAQ,CAACv1C,MAAT,GAAkB,CAAnD;MACI5C,CAAC,GAAGC,IAAI,CAACG,GAAL,CAAS02D,MAAT,IAAmBz1D,CAA3B;MACIlB,CAAC,GAAG,CAACF,IAAI,CAACC,GAAL,CAAS42D,MAAT,CAAD,GAAoBz1D,CAA5B;MAEIwzB,QAAQ,GAAGsjB,QAAQ,CAACx1C,KAAxB;;MACIm0D,MAAM,GAAG72D,IAAI,CAACiE,EAAlB,EAAsB;QAChBR,CAAC,GAAGzD,IAAI,CAAC2O,GAAL,CAAU8kD,IAAI,CAAC1zD,CAAL,GAAS0zD,IAAI,CAAC/wD,KAAf,IAAyB3C,CAAC,GAAG+V,MAAM,CAAC/V,CAApC,CAAT,CAAR;;QACI0D,CAAC,GAAGmxB,QAAR,EAAkB;MAChBA,QAAQ,GAAGnxB,CAAX;;GAHJ,MAKO;QACDA,GAAC,GAAGzD,IAAI,CAAC2O,GAAL,CAAS8kD,IAAI,CAAC1zD,CAAL,IAAUA,CAAC,GAAG+V,MAAM,CAAC/V,CAArB,CAAT,CAAR;;QACI0D,GAAC,GAAGmxB,QAAR,EAAkB;MAChBA,QAAQ,GAAGnxB,GAAX;;;;MAIAmxB,QAAQ,GAAGsjB,QAAQ,CAACkf,WAAxB,EAAqC;WAC5B,IAAP;;;MAGE1L,MAAM,GAAG;IACX3rD,CAAC,EAADA,CADW;IAEXG,CAAC,EAADA,CAFW;IAGXwC,KAAK,EAAEkyB,QAHI;IAIXjyB,MAAM,EAAEu1C,QAAQ,CAACv1C;GAJnB;;MAOIk0D,MAAM,GAAG72D,IAAI,CAACiE,EAAlB,EAAsB;IACpBynD,MAAM,CAACh3B,MAAP,GAAgB,OAAhB;GADF,MAEO;IACLg3B,MAAM,CAACh3B,MAAP,GAAgB,KAAhB;;;SAGKg3B,MAAP;;;AAGF,SAASyG,WAAT,CAAmB1xC,IAAnB,EAAyBwP,KAAzB,EAAgC;SACvB;IACLxP,IAAI,EAAJA,IADK;IAEL5kB,IAAI,EAAE4kB,IAAI,CAAC5kB,IAFN;IAGL0I,KAAK,EAAE0rB,KAAK,CAAC1rB,KAHR;IAIL6M,SAAS,EAAE6e,KAAK,CAAC7e,SAJZ;IAKL7B,OAAO,EAAE0gB,KAAK,CAAC1gB;GALjB;;;AASF,SAAS0oD,gBAAT,CAA0Bx1D,IAA1B,EAAgCgrB,IAAhC,EAAsCtW,IAAtC,EAA4C;MACpCnD,KAAK,GAAG;IACZ5X,IAAI,EAAE,MADM;IAEZqxB,IAAI,EAAJA,IAFY;IAGZmH,QAAQ,EAAEnyB,IAAI,CAACC,KAHH;IAIZ3C,CAAC,EAAE0C,IAAI,CAAC1C,CAJI;IAKZG,CAAC,EAAEuC,IAAI,CAACvC,CAAL,IAAUuC,IAAI,CAAC+xB,QAAL,KAAkB,KAAlB,GAA0B/xB,IAAI,CAACE,MAAL,GAAc,CAAxC,GAA4C,CAAtD,CALS;IAMZE,IAAI,EAAEsU,IAAI,CAACtU,IANC;IAOZ6xB,MAAM,EAAEjyB,IAAI,CAACiyB,MAAL,IAAe,OAPX;IAQZF,QAAQ,EAAE,QARE;IASZhF,QAAQ,YAAKrY,IAAI,CAACqY,QAAV,OATI;IAUZD,UAAU,EAAEpY,IAAI,CAACoY;GAVnB;;MAaI,CAAClpB,KAAK,CAAC5D,IAAI,CAAC5C,KAAN,CAAV,EAAwB;QAClBA,KAAK,GAAG4C,IAAI,CAAC5C,KAAL,IAAc,OAAOG,IAAI,CAACiE,EAAL,GAAU,CAAjB,CAAd,CAAZ;IACA+P,KAAK,CAAC6gB,SAAN,oBAA4Bh1B,KAA5B,eAAsCmU,KAAK,CAACjU,CAA5C,eAAkDiU,KAAK,CAAC9T,CAAxD;;;SAGK8T,KAAP;;;AAGF,AAAO,SAASkkD,YAAT,QAEJ;MADDptD,KACC,SADDA,KACC;MADMysB,SACN,SADMA,SACN;MADiBlc,QACjB,SADiBA,QACjB;MAD2BkE,OAC3B,SAD2BA,OAC3B;MADoC24B,QACpC,SADoCA,QACpC;MAD8Cub,IAC9C,SAD8CA,IAC9C;MADoD52C,OACpD,SADoDA,OACpD;MAD6D+5C,KAC7D,SAD6DA,KAC7D;MAECv1D,KAFD,GAMGyJ,KANH,CAECzJ,KAFD;MAGCC,GAHD,GAMGwJ,KANH,CAGCxJ,GAHD;MAIC02B,WAJD,GAMGltB,KANH,CAICktB,WAJD;MAKCliB,MALD,GAMGhL,KANH,CAKCgL,MALD;MAQG41C,MAAJ;MACI3wD,CAAJ;;UACQsgB,QAAR;SACO,MAAL;UACMkc,SAAS,KAAK,QAAlB,EAA4B;QAC1Bm0B,MAAM,GAAGwL,yBAAyB,CAAC;UAAEpsD,KAAK,EAALA,KAAF;UAASotC,QAAQ,EAARA,QAAT;UAAmB34B,OAAO,EAAPA;SAApB,CAAlC;OADF,MAEO;QACLmsC,MAAM,GAAGqL,0BAA0B,CAAC;UAAEjsD,KAAK,EAALA,KAAF;UAASotC,QAAQ,EAARA,QAAT;UAAmB34B,OAAO,EAAPA;SAApB,CAAnC;;;;;SAGC,QAAL;MACExkB,CAAC,GAAG;QACFsG,KAAK,EAALA,KADE;QAEFC,GAAG,EAAHA,GAFE;QAGF02B,WAAW,EAAE,CAHX;QAIFF,WAAW,EAAEE;OAJf;;UAMIT,SAAS,KAAK,QAAlB,EAA4B;QAC1Bm0B,MAAM,GAAGwL,yBAAyB,CAAC;UAAEpsD,KAAK,EAAE/P,CAAT;UAAYm9C,QAAQ,EAARA,QAAZ;UAAsB34B,OAAO,EAAPA;SAAvB,CAAlC;OADF,MAEO;QACLmsC,MAAM,GAAGiL,4BAA4B,CAAC;UACpC7rD,KAAK,EAAE/P,CAD6B;UAC1Bm9C,QAAQ,EAARA,QAD0B;UAChB34B,OAAO,EAAPA,OADgB;UACPq3C,KAAK,EAALA;SADM,CAArC;;;;;SAKC,SAAL;UACMr/B,SAAS,KAAK,QAAlB,EAA4B;QAC1Bm0B,MAAM,GAAG2L,yBAAyB,CAAC;UACjCvsD,KAAK,EAALA,KADiC;UAC1BotC,QAAQ,EAARA,QAD0B;UAChB34B,OAAO,EAAPA,OADgB;UACPk0C,IAAI,EAAJA;SADM,CAAlC;OADF,MAIO;QACL/H,MAAM,GAAGsM,4BAA4B,CAAC;UACpCltD,KAAK,EAALA,KADoC;UAC7BotC,QAAQ,EAARA,QAD6B;UACnB34B,OAAO,EAAPA,OADmB;UACVk0C,IAAI,EAAJA,IADU;UACJ52C,OAAO,EAAPA;SADG,CAArC;;;;;;YAMI,IAAI3P,KAAJ,CAAU,iBAAV,CAAN;;;MAEAw+C,MAAJ,EAAY;IACVA,MAAM,CAAC3rD,CAAP,IAAY+V,MAAM,CAAC/V,CAAnB;IACA2rD,MAAM,CAACxrD,CAAP,IAAY4V,MAAM,CAAC5V,CAAnB;;QACImb,QAAQ,KAAK,SAAb,IAA0Bkc,SAAS,KAAK,QAA5C,EAAsD;MACpDqgC,YAAY,CAAClM,MAAD,EAAS7uC,OAAT,EAAkB/R,KAAlB,CAAZ;;;;SAGG4gD,MAAP;;;AAGF,SAASsI,mBAAT,QAQ6B;MAP3Bn3C,OAO2B,SAP3BA,OAO2B;MAN3B0a,SAM2B,SAN3BA,SAM2B;MAL3B2gB,QAK2B,SAL3BA,QAK2B;MAJ3Bz3B,IAI2B,SAJ3BA,IAI2B;MAH3BwzC,iBAG2B,SAH3BA,iBAG2B;MAF3BxxD,IAE2B,SAF3BA,IAE2B;MAD3Bm0D,KAC2B,SAD3BA,KAC2B;MAA1BuB,SAA0B,uEAAdD,YAAc;;OACtB,IAAIp8D,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGm4D,iBAAiB,CAACz3D,MAAtC,EAA8CV,CAAC,EAA/C,EAAmD;QAC7CgqD,SAAS,GAAGmO,iBAAiB,CAACn4D,CAAD,CAAjC;QACI4vD,MAAM,GAAGyM,SAAS,CAAC;MACrBt7C,OAAO,EAAPA,OADqB;MAErB/R,KAAK,EAAE2V,IAAI,CAACyzB,IAAL,CAAUppC,KAFI;MAGrB2oD,IAAI,EAAEhxD,IAHe;MAIrB80B,SAAS,EAATA,SAJqB;MAKrBlc,QAAQ,EAAEyqC,SAAS,CAACzqC,QALC;MAMrB68B,QAAQ,EAARA,QANqB;MAOrB34B,OAAO,EAAEumC,SAAS,CAACvmC,OAPE;MAQrBq3C,KAAK,EAALA;KARoB,CAAtB;;QAWI,CAAClL,MAAL,EAAa;;;;WAIN;MAAEA,MAAM,EAANA,MAAF;MAAU5F,SAAS,EAATA;KAAjB;;;SAEK;IAAE4F,MAAM,EAAE,IAAV;IAAgB5F,SAAS,EAAE;GAAlC;;;;;;;;;;AASF,SAASsS,SAAT,CAAmBrqC,KAAnB,EAA0B;MAClBsqC,EAAE,GAAG,EAAX;MACMC,EAAE,GAAG,EAAX;MACMC,EAAE,GAAG,EAAX;MACMC,EAAE,GAAG,EAAX;;OACK,IAAIp7D,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG2wB,KAAK,CAACvxB,MAA1B,EAAkC,EAAEY,CAApC,EAAuC;8BACd2wB,KAAK,CAAC3wB,CAAD,CAAL,CAAS82C,IAAT,CAAcppC,KADA;QAC7BzJ,KAD6B,uBAC7BA,KAD6B;QACtBC,GADsB,uBACtBA,GADsB;QAE/Bu1D,MAAM,GAAGZ,WAAS,CAAC,CAAC50D,KAAK,GAAGC,GAAT,IAAgB,CAAjB,CAAxB;QACIm1D,OAAO,GAAGz2D,IAAI,CAACgG,KAAL,CAAW6wD,MAAM,IAAI72D,IAAI,CAACiE,EAAL,GAAU,CAAd,CAAjB,CAAd;;YACQwyD,OAAR;WACO,CAAL;QAAQ4B,EAAE,CAAC57D,IAAH,CAAQsxB,KAAK,CAAC3wB,CAAD,CAAb;;;WACH,CAAL;QAAQk7D,EAAE,CAAC77D,IAAH,CAAQsxB,KAAK,CAAC3wB,CAAD,CAAb;;;WACH,CAAL;QAAQm7D,EAAE,CAAC97D,IAAH,CAAQsxB,KAAK,CAAC3wB,CAAD,CAAb;;;WACH,CAAL;QAAQo7D,EAAE,CAAC/7D,IAAH,CAAQsxB,KAAK,CAAC3wB,CAAD,CAAb;;;;;;;;MAKNq7D,MAAM,GAAG,SAATA,MAAS,CAACh+D,CAAD,EAAIuQ,CAAJ,EAAU;QACjB0tD,OAAO,GAAGzC,WAAS,CAAC,CAACx7D,CAAC,CAACy5C,IAAF,CAAOppC,KAAP,CAAazJ,KAAb,GAAqB5G,CAAC,CAACy5C,IAAF,CAAOppC,KAAP,CAAaxJ,GAAnC,IAA0C,CAA3C,CAAzB;QACMq3D,OAAO,GAAG1C,WAAS,CAAC,CAACjrD,CAAC,CAACkpC,IAAF,CAAOppC,KAAP,CAAazJ,KAAb,GAAqB2J,CAAC,CAACkpC,IAAF,CAAOppC,KAAP,CAAaxJ,GAAnC,IAA0C,CAA3C,CAAzB;WACOo3D,OAAO,GAAGC,OAAjB;GAHF;;MAKMC,aAAa,GAAG,SAAhBA,aAAgB,CAACn+D,CAAD,EAAIuQ,CAAJ;WAAUytD,MAAM,CAACztD,CAAD,EAAIvQ,CAAJ,CAAhB;GAAtB;;EAEA49D,EAAE,CAACttD,IAAH,CAAQ6tD,aAAR;EACAN,EAAE,CAACvtD,IAAH,CAAQ0tD,MAAR;EACAF,EAAE,CAACxtD,IAAH,CAAQ6tD,aAAR;EACAJ,EAAE,CAACztD,IAAH,CAAQ0tD,MAAR;SACOJ,EAAE,CAAC37D,MAAH,CAAU47D,EAAV,EAAcE,EAAd,EAAkBD,EAAlB,CAAP;;;AAGF,SAASvgB,WAAT,CAAqBvqB,IAArB,EAA2BxP,KAA3B,EAAkC0P,QAAlC,EAA4C;MACpC4B,UAAU,GAAGtR,KAAK,CAACsR,UAAzB;MACMC,QAAQ,aAAMvR,KAAK,CAACuR,QAAZ,OAAd;MACMqpC,OAAO,GAAGlrC,QAAQ,CAACqqB,WAAT,CAAqB;IAAEvqB,IAAI,EAAJA,IAAF;IAAQ8B,UAAU,EAAVA,UAAR;IAAoBC,QAAQ,EAARA;GAAzC,CAAhB;EAEAqpC,OAAO,CAACzB,WAAR,GAAsBp3D,IAAI,CAACwG,GAAL,CACpBqyD,OAAO,CAACn2D,KADY,EAEpBirB,QAAQ,CAACqqB,WAAT,CAAqB;IACnBvqB,IAAI,YAAKA,IAAI,CAAC,CAAD,CAAT,WADe;IAEnB8B,UAAU,EAAVA,UAFmB;IAGnBC,QAAQ,EAARA;GAHF,EAIG9sB,KANiB,CAAtB;SASOm2D,OAAP;;;;;;;;;;;;;;;;;;;;;AAqBF,AAAO,SAAS/kB,MAAT,SAUL;MARE3uC,QAQF,UAREA,QAQF;MAPE8qB,KAOF,UAPEA,KAOF;MANElC,KAMF,UANEA,KAMF;MALEtrB,IAKF,UALEA,IAKF;MAJEkrB,QAIF,UAJEA,QAIF;MAHE8D,KAGF,UAHEA,KAGF;MAFGkjC,aAEH,uEAFmBX,mBAEnB;MADAY,MACA,uEADSqD,gBACT;MACMjoC,QAAQ,GAAG/oB,MAAM,CAAC;IACtBuoB,QAAQ,EAAE,EADY;IAEtBD,UAAU,EAAE,OAFU;IAGtB1sB,IAAI,EAAE,MAHgB;IAItB0c,OAAO,EAAE,CAJa;IAKtBlE,QAAQ,EAAE;GALW,EAMpBoW,KAAK,CAACzd,KANc,CAAvB;EAQAgc,QAAQ,CAACR,QAAT,GAAoBg6B,QAAQ,CAACx5B,QAAQ,CAACR,QAAV,EAAoB,EAApB,CAA5B;MAEM0lC,aAAa,GAAG/vD,QAAQ,CAACuX,MAAT,CAAgBjhB,GAAhB,CAAoB,UAACs6D,YAAD;WAAkB9uD,MAAM,CAAC,EAAD,EAAK+oB,QAAL,EAAe7qB,QAAf,EAAyB4wD,YAAzB,CAAxB;GAApB,CAAtB;MAEM9B,iBAAiB,GAAG9uD,QAAQ,CAACuX,MAAT,CAAgBjhB,GAAhB,CAAoB,UAACs6D,YAAD;WAAkBA,YAAY,CAACf,UAAb,CAAwBv5D,GAAxB,CAA4B,UAACqqD,SAAD;aAAe7+C,MAAM,CAAC,EAAD,EAAK+oB,QAAL,EAAe7qB,QAAf,EAAyB4wD,YAAzB,EAAuCjQ,SAAvC,CAArB;KAA5B,CAAlB;GAApB,CAA1B;MAEMppC,MAAM,GAAG,EAAf;MACMk6C,KAAK,GAAG;IACZE,iBAAiB,EAAE;GADrB;EAIA/oC,KAAK,GAAGqqC,SAAS,CAACrqC,KAAD,CAAjB;MACMlR,OAAO,GAAG,EAAhB;;OAEK,IAAIzf,CAAC,GAAG,CAAR,EAAWqlB,GAAG,GAAGsL,KAAK,CAACvxB,MAA5B,EAAoCY,CAAC,GAAGqlB,GAAxC,EAA6CrlB,CAAC,EAA9C,EAAkD;QAC1CqjB,IAAI,GAAGsN,KAAK,CAAC3wB,CAAD,CAAlB;QACMkjB,GAAG,GAAG6xC,WAAS,CAAC1xC,IAAD,EAAOwP,KAAP,CAArB;;SAEK,IAAIihB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgkB,aAAa,CAAC14D,MAAlC,EAA0C00C,CAAC,EAA3C,EAA+C;UACvC6jB,QAAQ,GAAGG,aAAa,CAAChkB,CAAD,CAA9B;UACMzjB,IAAI,GAAG,OAAOsnC,QAAQ,CAAC/gD,KAAhB,KAA0B,UAA1B,GAAuC+gD,QAAQ,CAAC/gD,KAAT,CAAesM,GAAf,EAAoBljB,CAApB,CAAvC,GAAgE,EAA7E;;UACI,CAACqwB,IAAL,EAAW;;;;UAGL8J,SAAS,GAAG,OAAOw9B,QAAQ,CAACx9B,SAAhB,KAA8B,UAA9B,GAA2Cw9B,QAAQ,CAACx9B,SAAT,CAAmBjX,GAAnB,EAAwBljB,CAAxB,CAA3C,GAAwE23D,QAAQ,CAACx9B,SAAT,IAAsB,YAAhH;UACM89B,QAAQ,GAAG,OAAON,QAAQ,CAACM,QAAhB,KAA6B,UAA7B,GAA0CN,QAAQ,CAACM,QAAT,CAAkB/0C,GAAlB,EAAuBljB,CAAvB,CAA1C,GAAsEqH,SAAvF;UACMyzC,QAAQ,GAAGF,WAAW,CAACvqB,IAAD,EAAOsnC,QAAP,EAAiBpnC,QAAjB,CAA5B;UACMynC,aAAa,GAAGT,aAAa,CAAC;QAClC93C,OAAO,EAAPA,OADkC;QAElC0a,SAAS,EAATA,SAFkC;QAGlCw9B,QAAQ,EAARA,QAHkC;QAIlC7c,QAAQ,EAARA,QAJkC;QAKlCz3B,IAAI,EAAJA,IALkC;QAMlCwzC,iBAAiB,EAAEA,iBAAiB,CAAC/iB,CAAD,CANF;QAOlCzuC,IAAI,EAAJA,IAPkC;QAQlCm0D,KAAK,EAALA;OARiC,CAAnC;UAWMlL,MAAM,GAAG0J,aAAa,CAAC1J,MAA7B;UACM5F,SAAS,GAAGsP,aAAa,CAACtP,SAAhC;;UAEI4F,MAAM,IAAI5F,SAAd,EAAyB;YACnBA,SAAS,CAACzqC,QAAV,KAAuB,SAAvB,IAAoCkc,SAAS,KAAK,QAAtD,EAAgE;UAC9DwgC,aAAa,CAAC;YAAEl7C,OAAO,EAAPA,OAAF;YAAW4D,IAAI,EAAJA,IAAX;YAAiBirC,MAAM,EAANA;WAAlB,CAAb;cAEMoN,aAAa,GAAG3C,gBAAgB,CAACzK,MAAD,CAAtC;;cAEI,CAAC7sB,gBAAgB,CAACi6B,aAAD,EAAgBr2D,IAAhB,CAArB,EAA4C;;;;;YAKxCI,IAAI,GAAG,OAAOijD,SAAS,CAACjjD,IAAjB,KAA0B,UAA1B,GAAuCijD,SAAS,CAACjjD,IAAV,CAAeyd,GAAf,EAAoBljB,CAApB,CAAvC,GAAgE0oD,SAAS,CAACjjD,IAAvF;YAEMmR,KAAK,GAAG4gD,MAAM,CAAClJ,MAAD,EAASj+B,IAAT,EAAe;UACjC5qB,IAAI,EAAJA,IADiC;UAEjC2sB,QAAQ,EAAEulC,QAAQ,CAACvlC,QAFc;UAGjCD,UAAU,EAAEwlC,QAAQ,CAACxlC,UAHY;UAIjC+wB,WAAW,EAAEpI;SAJK,CAApB;;YAOIlkC,KAAJ,EAAW;cACL,OAAOqhD,QAAP,KAAoB,WAAxB,EAAqC;YACnCrhD,KAAK,CAACnY,IAAN,GAAaw5D,QAAb;;;UAEF34C,MAAM,CAACjgB,IAAP,CAAYuX,KAAZ;;cACI03C,MAAM,CAAC7jD,IAAX,EAAiB;YACf6jD,MAAM,CAAC7jD,IAAP,CAAYrI,MAAZ,GAAqBqD,IAArB;YACA6Z,MAAM,CAACjgB,IAAP,CAAYivD,MAAM,CAAC7jD,IAAnB;;;;;;;SAOH6U,MAAP;;;ACjuBF,IAAMq8C,eAAe,GAAG,cAAxB;AACA,IAAMC,gBAAgB,GAAG,IAAzB;AACA,IAAMC,YAAY,GAAG,0CAArB;AACA,AAAO,IAAMC,QAAQ,GAAG,CAAjB;AACP,AAAO,IAAMC,SAAS,GAAG,CAAlB;AACP,AAAO,IAAMC,aAAa,GAAG,CAAtB;AAEP,AAAO,SAASC,iBAAT,CAA2B3+D,CAA3B,EAA8B;MAC/B,OAAOA,CAAP,KAAa,QAAjB,EAA2B;WAClBA,CAAC,CAAC4+D,MAAF,CAASP,eAAT,MAA8B,CAAC,CAAtC;;;SAEKh9D,MAAM,CAACrB,CAAD,CAAN,CAAU4+D,MAAV,CAAiBP,eAAjB,MAAsC,CAAC,CAA9C;;;AAGF,SAASQ,kBAAT,CAA4B7+D,CAA5B,EAA+B;SACtBA,CAAC,CAAC4+D,MAAF,CAASN,gBAAT,MAA+B,CAAC,CAAvC;;;AAGF,SAASQ,kBAAT,CAA4B9+D,CAA5B,EAA+B;;SAEtBA,CAAC,CAAC4+D,MAAF,CAASL,YAAT,MAA2B,CAAC,CAAnC;;;AAGF,SAASQ,uBAAT,CAAiCC,KAAjC,EAAwCt8D,CAAxC,EAA2Cu8D,MAA3C,EAAmDC,SAAnD,EAA8DC,cAA9D,EAA8E;MACxED,SAAS,CAACjvD,IAAV,CAAe,UAAC6E,EAAD;WAAQA,EAAE,CAACkqD,KAAD,EAAQt8D,CAAR,EAAWu8D,MAAX,CAAV;GAAf,CAAJ,EAAkD;WACzCR,SAAP;;;MAEEU,cAAc,CAAClvD,IAAf,CAAoB,UAAC6E,EAAD;WAAQA,EAAE,CAACkqD,KAAD,EAAQt8D,CAAR,EAAWu8D,MAAX,CAAV;GAApB,CAAJ,EAAuD;WAC9CT,QAAP;;;SAGKE,aAAP;;;AAGF,SAASU,gBAAT,CAA0BH,MAA1B,EAAkC;MAC5BA,MAAM,CAAC,CAAD,CAAN,KAAc,EAAlB,EAAsB;IACpBA,MAAM,CAACj2C,KAAP;;;MAEEi2C,MAAM,CAACA,MAAM,CAACn9D,MAAP,GAAgB,CAAjB,CAAN,KAA8B,EAAlC,EAAsC;IACpCm9D,MAAM,CAACx6C,GAAP;;;;AAIJ,SAAS7E,OAAT,CAAexU,GAAf,EAAoBU,GAApB,EAAyBC,GAAzB,EAA8B;SACrBzG,IAAI,CAACyG,GAAL,CAASD,GAAT,EAAcxG,IAAI,CAACwG,GAAL,CAASC,GAAT,EAAcX,GAAd,CAAd,CAAP;;;AAGF,AAAe,SAASi0D,eAAT,GASP;iFAAJ,EAAI;MARNC,MAQM,QARNA,MAQM;4BAPNC,SAOM;MAPNA,SAOM,+BAPM,EAON;0BANN7kD,OAMM;MANNA,OAMM,6BANI,KAMJ;8BALN4iC,WAKM;MALNA,WAKM,iCALQ,UAACvqB,IAAD;WAAW;MAAE/qB,KAAK,EAAE+qB,IAAI,CAACjxB,MAAd;MAAsBmG,MAAM,EAAE;KAAzC;GAKR;mCAJNu3D,yBAIM;MAJNA,yBAIM,sCAJsB,CAACb,iBAAD,CAItB;mCAHNc,yBAGM;MAHNA,yBAGM,sCAHsB,EAGtB;mCAFNC,kBAEM;MAFNA,kBAEM,sCAFe,CAACb,kBAAD,EAAqBF,iBAArB,EAAwC,UAACK,KAAD;WAAWA,KAAK,KAAK,EAArB;GAAxC,CAEf;mCADNW,sBACM;MADNA,sBACM,sCADmB,CAACb,kBAAD,CACnB;;MACAG,MAAM,GAAG59D,MAAM,CAACi+D,MAAD,CAAN,CAAezsD,KAAf,CAAqB0sD,SAArB,CAAf;EACAH,gBAAgB,CAACH,MAAD,CAAhB;MACMn9D,MAAM,GAAGm9D,MAAM,CAACn9D,MAAtB;MACM89D,SAAS,GAAGllD,OAAO,GAAG,UAACtZ,CAAD;WAAOA,CAAC,IAAI,CAAZ;GAAH,GAAmB,UAACA,CAAD;WAAOA,CAAC,GAAGU,MAAX;GAA5C;MACI6e,QAAQ,GAAGjG,OAAO,GAAG5Y,MAAH,GAAY,CAAC,CAAnC,CALM;;WAOG+9D,IAAT,CAAcC,MAAd,EAAsB;QACdp9D,CAAC,GAAGkd,OAAK,CAACkgD,MAAD,EAAS,CAAT,EAAYh+D,MAAM,GAAG,CAArB,CAAf;QACMk9D,KAAK,GAAGC,MAAM,CAACv8D,CAAD,CAApB;QACMq9D,WAAW,GAAGziB,WAAW,CAAC0hB,KAAD,CAA/B;QACMgB,WAAW,GAAGjB,uBAAuB,CACzCC,KADyC,EAEzCt8D,CAFyC,EAGzCu8D,MAHyC,EAIzCO,yBAJyC,EAKzCC,yBALyC,CAA3C;WAQO;MACL31C,KAAK,EAAEpnB,CADF;MAEL0D,KAAK,EAAE44D,KAFF;MAGLiB,gBAAgB,EAAED,WAHb;MAILE,QAAQ,EAAER,kBAAkB,CAACzvD,IAAnB,CAAwB,UAAC6E,EAAD;eAAQA,EAAE,CAACkqD,KAAD,EAAQt8D,CAAR,EAAWu8D,MAAX,CAAV;OAAxB,CAJL;MAKLkB,WAAW,EAAER,sBAAsB,CAAC1vD,IAAvB,CAA4B,UAAC6E,EAAD;eAAQA,EAAE,CAACkqD,KAAD,EAAQt8D,CAAR,EAAWu8D,MAAX,CAAV;OAA5B,CALR;MAMLj3D,KAAK,EAAE+3D,WAAW,CAAC/3D,KANd;MAOLC,MAAM,EAAE83D,WAAW,CAAC93D,MAPf;MAQLm4D,IAAI,EAAE;KARR;;;WAYO3b,IAAT,CAAc4b,cAAd,EAA8B;QACxB10D,KAAK,CAAC00D,cAAD,CAAT,EAA2B;UACrB3lD,OAAJ,EAAa;QACXiG,QAAQ;OADV,MAEO;QACLA,QAAQ;;KAJZ,MAMO;MACLA,QAAQ,GAAGf,OAAK,CAACygD,cAAD,EAAiB,CAAjB,EAAoBv+D,MAAM,GAAG,CAA7B,CAAhB;;;QAGE89D,SAAS,CAACj/C,QAAD,CAAb,EAAyB;aAChBk/C,IAAI,CAACl/C,QAAD,CAAX;;;WAEK;MAAEy/C,IAAI,EAAE;KAAf;;;SAGK;IACL3b,IAAI,EAAJA,IADK;IAELob,IAAI,EAAJA,IAFK;IAGL/9D,MAAM,EAANA;GAHF;;;ACxGF,IAAMw+D,YAAY,GAAG,QAArB;AACA,IAAMC,aAAa,GAAG,GAAtB;;ACDA,IAAMC,IAAI,GAAG,EAAb;AACA,IAAMC,GAAG,GAAG,CAAZ;AACA,IAAMC,IAAI,GAAG,KAAb;AACA,IAAMC,mBAAmB,GAAG,EAA5B;AACA,IAAMC,mBAAmB,GAAG,GAA5B;AACA,IAAMC,UAAU,GAAG,wBAAnB;;AAEA,SAASC,eAAT,CAAyB11D,GAAzB,EAA8B;MACtB1J,IAAI,WAAU0J,GAAV,CAAV;;MACI1J,IAAI,KAAK,QAAb,EAAuB;WACdm/D,UAAU,CAACjuD,IAAX,CAAgBxH,GAAhB,CAAP;;;SAGK,KAAP;;;AAGF,AAAO,SAAS21D,gBAAT,CAA0BjsC,QAA1B,EAAoC;MACrCgsC,eAAe,CAAChsC,QAAD,CAAnB,EAA+B;QACvBppB,IAAI,GAAG2gD,UAAU,CAACv3B,QAAD,CAAvB;QACM30B,CAAC,GAAGsgE,GAAG,GAAGn7D,IAAI,CAACiJ,IAAL,CAAU,CAAC7C,IAAI,GAAGg1D,IAAR,IAAgBF,IAA1B,CAAhB;WAEO90D,IAAI,GAAGvL,CAAd;;;SAGKwgE,mBAAP;;AAGF,AAAO,SAASK,oBAAT,CAA8Bj7C,IAA9B,EAAoC;MACnC+O,QAAQ,GAAG/O,IAAI,CAAC,WAAD,CAAJ,IAAqBA,IAAI,CAAC+O,QAA3C;;MACIgsC,eAAe,CAAChsC,QAAD,CAAnB,EAA+B;WACtBu3B,UAAU,CAACv3B,QAAD,CAAV,GAAuBxvB,IAAI,CAACyG,GAAL,CAASJ,KAAK,CAACoa,IAAI,CAACk7C,UAAN,CAAL,GAAyBL,mBAAzB,GAA+C76C,IAAI,CAACk7C,UAA7D,EAAyE,CAAzE,CAA9B;;;SAGKN,mBAAmB,GAAGC,mBAA7B;;;ACxBF,SAASM,sBAAT,CAAgCn7C,IAAhC,EAAsC;MAC9Bw5B,SAAS,GAAGx5B,IAAI,CAACw5B,SAAvB;MACM4hB,QAAQ,GAAG77D,IAAI,CAACyG,GAAL,CAASga,IAAI,CAACo7C,QAAd,EAAwB,CAAxB,KAA8Bjf,QAA/C;;MAEIv2C,KAAK,CAAC4zC,SAAD,CAAT,EAAsB;WACb4hB,QAAP;;;MAGIC,kBAAkB,GAAGJ,oBAAoB,CAACj7C,IAAD,CAA/C;SAEOzgB,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAYzG,IAAI,CAACwG,GAAL,CAASxG,IAAI,CAACgG,KAAL,CAAWi0C,SAAS,GAAG6hB,kBAAvB,CAAT,EAAqDD,QAArD,CAAZ,CAAP;;;AAGF,SAASE,SAAT,CAAmBt7C,IAAnB,EAAyBu3B,WAAzB,EAAsC;SAC7B;IACLpB,KAAK,EAAE,EADF;IAEL/uC,IAAI,EAAE,EAFD;IAGLnF,KAAK,EAAE,CAHF;IAILm5D,QAAQ,EAAED,sBAAsB,CAACn7C,IAAD,CAJ3B;IAKLmU,QAAQ,EAAEnU,IAAI,CAACmU,QALV;IAMLonC,OAAO,EAAE;MACP5+B,OAAO,EAAE3c,IAAI,CAACu7C,OAAL,KAAiB,MADnB;MAEPC,IAAI,EAAEjB,YAFC;MAGPnC,OAAO,EAAE7gB,WAAW,CAACgjB,YAAD;;GATxB;;;AAcF,SAASkB,OAAT,CAAiBlxC,KAAjB,EAAwB;EACtBA,KAAK,CAAC4rB,KAAN,CAAYn6C,IAAZ,CAAiBuuB,KAAK,CAACnjB,IAAvB;EACAmjB,KAAK,CAACnjB,IAAN,GAAa,EAAb;EACAmjB,KAAK,CAACtoB,KAAN,GAAc,CAAd;;;AAGF,SAASy5D,YAAT,CAAsBnxC,KAAtB,EAA6BoxC,KAA7B,EAAoC;EAClCpxC,KAAK,CAACnjB,IAAN,IAAcu0D,KAAK,CAACt7D,KAApB;EACAkqB,KAAK,CAACtoB,KAAN,IAAe05D,KAAK,CAAC15D,KAArB;;;AAGF,SAAS25D,mBAAT,CAA6BrxC,KAA7B,EAAoCoxC,KAApC,EAA2C19D,QAA3C,EAAqD;MAC/C09D,KAAK,CAAC15D,KAAN,GAAcsoB,KAAK,CAAC4J,QAAxB,EAAkC;WACzBwnC,KAAP;;;MAGIE,UAAU,GAAGF,KAAK,CAAC53C,KAAzB;;OAEK,IAAIpnB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;QACpBm/D,SAAS,GAAG79D,QAAQ,CAAC67D,IAAT,CAAc6B,KAAK,CAAC53C,KAAN,GAAc,CAA5B,CAAlB;;QAEI,CAAC43C,KAAK,CAACvB,WAAP,IAAsB,CAAC0B,SAAS,CAAC1B,WAAjC,IAAgDuB,KAAK,CAAC53C,KAAN,KAAgB,CAApE,EAAuE;aAC9D43C,KAAP;;;QAEEpxC,KAAK,CAACtoB,KAAN,GAAcsoB,KAAK,CAACgxC,OAAN,CAAcnD,OAAd,CAAsBn2D,KAApC,IAA6CsoB,KAAK,CAAC4J,QAAvD,EAAiE;MAC/D5J,KAAK,CAACnjB,IAAN,IAAcmjB,KAAK,CAACgxC,OAAN,CAAcC,IAA5B;aACOG,KAAP;;;QAEEpxC,KAAK,CAACnjB,IAAN,CAAWrL,MAAX,KAAsB,CAA1B,EAA6B;aACpB4/D,KAAP;;;IAGFA,KAAK,GAAG19D,QAAQ,CAACygD,IAAT,CAAcmd,UAAU,GAAGl/D,CAA3B,CAAR;IACA4tB,KAAK,CAACnjB,IAAN,GAAamjB,KAAK,CAACnjB,IAAN,CAAWiD,KAAX,CAAiB,CAAjB,EAAoB,CAAC,CAArB,CAAb;IACAkgB,KAAK,CAACtoB,KAAN,IAAe05D,KAAK,CAAC15D,KAArB;;;SAGK05D,KAAP;;;AAGF,SAASI,aAAT,CAAuBxxC,KAAvB,EAA8BoxC,KAA9B,EAAqCpkB,WAArC,EAAkD;MAC1CykB,iBAAiB,GAAG1C,eAAe,CAAC;IACxCC,MAAM,EAAEoC,KAAK,CAACt7D,KAD0B;IAExCk3C,WAAW,EAAXA;GAFuC,CAAzC;;SAKOhtB,KAAK,CAAC4rB,KAAN,CAAYp6C,MAAZ,GAAqBwuB,KAAK,CAAC6wC,QAAlC,EAA4C;QACtCa,SAAS,GAAGD,iBAAiB,CAACtd,IAAlB,EAAhB;;QACIud,SAAS,CAAC5B,IAAd,EAAoB;;KAApB,MAEO,IAAI9vC,KAAK,CAACtoB,KAAN,GAAcg6D,SAAS,CAACh6D,KAAxB,GAAgCsoB,KAAK,CAAC4J,QAAtC,IAAkD8nC,SAAS,CAAC/B,gBAAV,KAA+BvB,aAAjF,IAAkGpuC,KAAK,CAACnjB,IAAN,CAAWrL,MAAX,GAAoB,CAA1H,EAA6H;MAClIkgE,SAAS,GAAG1xC,KAAK,CAACgxC,OAAN,CAAc5+B,OAAd,GAAwBi/B,mBAAmB,CAACrxC,KAAD,EAAQ0xC,SAAR,EAAmBD,iBAAnB,CAA3C,GAAmFC,SAA/F;MACAR,OAAO,CAAClxC,KAAD,CAAP;MACAmxC,YAAY,CAACnxC,KAAD,EAAQ0xC,SAAR,CAAZ;KAHK,MAIA;MACLP,YAAY,CAACnxC,KAAD,EAAQ0xC,SAAR,CAAZ;;;;;AAKN,AAAO,SAASC,QAAT,CAAkBl8C,IAAlB,EAAwBu3B,WAAxB,EAAqC;MACpCvqB,IAAI,GAAGhN,IAAI,CAACgN,IAAlB;MACM/uB,QAAQ,GAAGq7D,eAAe,CAAC;IAC/BC,MAAM,EAAEvsC,IADuB;IAE/BwsC,SAAS,EAAE,EAFoB;IAG/BjiB,WAAW,EAAXA,WAH+B;IAI/BmiB,yBAAyB,EAAE,CAAC,UAACT,KAAD,EAAQt8D,CAAR;aAAcA,CAAC,KAAK,CAApB;KAAD;GAJG,CAAhC;MAMM4tB,KAAK,GAAG+wC,SAAS,CAACt7C,IAAD,EAAOu3B,WAAP,CAAvB;MACI4kB,OAAO,GAAG,IAAd;;SAEO5xC,KAAK,CAAC4rB,KAAN,CAAYp6C,MAAZ,GAAqBwuB,KAAK,CAAC6wC,QAAlC,EAA4C;QACtCO,KAAK,GAAG19D,QAAQ,CAACygD,IAAT,EAAZ;;QAEIid,KAAK,CAACtB,IAAV,EAAgB;MACdoB,OAAO,CAAClxC,KAAD,CAAP;MACA4xC,OAAO,GAAG,KAAV;;KAFF,MAIO,IAAIR,KAAK,CAACzB,gBAAN,KAA2BxB,SAA/B,EAA0C;MAC/C+C,OAAO,CAAClxC,KAAD,CAAP;KADK,MAEA,IAAIA,KAAK,CAACtoB,KAAN,GAAc05D,KAAK,CAAC15D,KAApB,GAA4BsoB,KAAK,CAAC4J,QAAlC,IAA8CwnC,KAAK,CAACzB,gBAAN,KAA2BvB,aAA7E,EAA4F;UAC7FgD,KAAK,CAACxB,QAAV,EAAoB;;QAClB5vC,KAAK,CAACtoB,KAAN,IAAe05D,KAAK,CAAC15D,KAArB;OADF,MAEO;QACL05D,KAAK,GAAGpxC,KAAK,CAACgxC,OAAN,CAAc5+B,OAAd,GAAwBi/B,mBAAmB,CAACrxC,KAAD,EAAQoxC,KAAR,EAAe19D,QAAf,CAA3C,GAAsE09D,KAA9E;QACAF,OAAO,CAAClxC,KAAD,CAAP;QACAmxC,YAAY,CAACnxC,KAAD,EAAQoxC,KAAR,CAAZ;;KANG,MAQA;MACLD,YAAY,CAACnxC,KAAD,EAAQoxC,KAAR,CAAZ;;;;SAIG;IACLxlB,KAAK,EAAE5rB,KAAK,CAAC4rB,KADR;IAELgmB,OAAO,EAAPA;GAFF;;AAMF,AAAO,SAASC,SAAT,CAAmBp8C,IAAnB,EAAyBu3B,WAAzB,EAAsC;MACrCvqB,IAAI,GAAGhN,IAAI,CAACgN,IAAlB;MACM/uB,QAAQ,GAAGq7D,eAAe,CAAC;IAC/BC,MAAM,EAAEvsC,IADuB;IAE/BwsC,SAAS,EAAE,eAFoB;IAG/BjiB,WAAW,EAAXA;GAH8B,CAAhC;MAKMhtB,KAAK,GAAG+wC,SAAS,CAACt7C,IAAD,EAAOu3B,WAAP,CAAvB;MACI4kB,OAAO,GAAG,IAAd;;SAEO5xC,KAAK,CAAC4rB,KAAN,CAAYp6C,MAAZ,GAAqBwuB,KAAK,CAAC6wC,QAAlC,EAA4C;QACtCO,KAAK,GAAG19D,QAAQ,CAACygD,IAAT,EAAZ;;QAEIid,KAAK,CAACtB,IAAV,EAAgB;MACdoB,OAAO,CAAClxC,KAAD,CAAP;MACA4xC,OAAO,GAAG,KAAV;;KAFF,MAIO,IAAIR,KAAK,CAACzB,gBAAN,KAA2BxB,SAA/B,EAA0C;MAC/C+C,OAAO,CAAClxC,KAAD,CAAP;KADK,MAEA,IAAIA,KAAK,CAACtoB,KAAN,GAAc05D,KAAK,CAAC15D,KAApB,GAA4BsoB,KAAK,CAAC4J,QAAlC,IAA8CwnC,KAAK,CAACzB,gBAAN,KAA2BvB,aAA7E,EAA4F;UAC7FgD,KAAK,CAACxB,QAAV,EAAoB;;QAClBsB,OAAO,CAAClxC,KAAD,CAAP;OADF,MAEO,IAAIoxC,KAAK,CAAC15D,KAAN,GAAcsoB,KAAK,CAAC4J,QAAxB,EAAkC;;QACvC4nC,aAAa,CAACxxC,KAAD,EAAQoxC,KAAR,EAAepkB,WAAf,CAAb;OADK,MAEA;QACLkkB,OAAO,CAAClxC,KAAD,CAAP;QACAmxC,YAAY,CAACnxC,KAAD,EAAQoxC,KAAR,CAAZ;;KAPG,MASA;MACLD,YAAY,CAACnxC,KAAD,EAAQoxC,KAAR,CAAZ;;;;SAIG;IACLxlB,KAAK,EAAE5rB,KAAK,CAAC4rB,KADR;IAELgmB,OAAO,EAAPA;GAFF;;;ACnKF,SAASE,iBAAT,CAA2BnxC,MAA3B,EAAmChV,IAAnC,EAAyComD,QAAzC,EAAmDp6D,MAAnD,EAA2D;MACnD03B,SAAS,GAAG;IAAEj+B,IAAI,EAAE,WAAR;IAAqB8kB,QAAQ,EAAE;GAAjD;;MAEI,OAAOvK,IAAI,CAAChD,EAAZ,KAAmB,WAAvB,EAAoC;;IAClC0mB,SAAS,CAAC1mB,EAAV,GAAegD,IAAI,CAAChD,EAApB;;;MAGEqpD,QAAQ,GAAG,CAAf;EAEArxC,MAAM,CAACirB,KAAP,CAAatqC,OAAb,CAAqB,UAACzE,IAAD,EAAOzK,CAAP,EAAa;QAC1BqjB,IAAI,GAAGxZ,MAAM,CAAC,EAAD,EAAK0P,IAAL,CAAnB;IACA8J,IAAI,CAACgN,IAAL,GAAY5lB,IAAZ;IACA4Y,IAAI,CAACw8C,UAAL,GAAkB,IAAlB,CAHgC;;IAIhCD,QAAQ,IAAID,QAAZ,CAJgC;;QAM5BpxC,MAAM,CAACixC,OAAP,IAAkBx/D,CAAC,KAAKuuB,MAAM,CAACirB,KAAP,CAAap6C,MAAb,GAAsB,CAAlD,EAAqD;MACnDikB,IAAI,CAACgN,IAAL,IAAawtC,aAAb;KADF,MAEO;aACEx6C,IAAI,CAACmU,QAAZ;;;IAGFnU,IAAI,CAAClgB,EAAL,GAAU8F,KAAK,CAACoa,IAAI,CAAClgB,EAAN,CAAL,GAAiBy8D,QAAjB,GAA4Bv8C,IAAI,CAAClgB,EAAL,GAAUy8D,QAAhD;IACAA,QAAQ,IAAIr6D,MAAZ;IACAq6D,QAAQ,IAAID,QAAZ,CAdgC;;IAehC1iC,SAAS,CAACnZ,QAAV,CAAmBzkB,IAAnB,CAAwBgkB,IAAxB;GAfF;SAkBO4Z,SAAP;;;AAGF,SAAS6iC,eAAT,CAAyBvmD,IAAzB,EAA+B;;SAEtBA,IAAI,CAACva,IAAL,KAAc,MAAd,IAAwB,CAACua,IAAI,CAACsmD,UAArC;;;AAGF,SAASE,kBAAT,CAA4B18C,IAA5B,EAAkCu3B,WAAlC,EAA+C;SACtC,UAACvqB,IAAD;WAAUuqB,WAAW,CAAC;MAC3BvqB,IAAI,EAAJA,IAD2B;MAE3B+B,QAAQ,EAAE/O,IAAI,CAAC+O,QAFY;MAG3BD,UAAU,EAAE9O,IAAI,CAAC8O;KAHS,CAArB;GAAP;;;AAOF,AAAO,SAAS6tC,yBAAT,CAAmC38C,IAAnC,EAAyC;MACxC48C,SAAS,GAAG;iBACHV,QADG;kBAEFE;GAFhB;SAKOQ,SAAS,CAAC58C,IAAI,CAAC68C,SAAN,CAAhB;;;;;;;;;AASF,AAAO,SAASC,WAAT,CAAqBvlB,WAArB,EAAkC;SAChC,UAAChtB,KAAD,EAAW;QACVrU,IAAI,GAAGqU,KAAK,CAACvK,IAAnB;;QACIy8C,eAAe,CAACvmD,IAAD,CAAnB,EAA2B;UACnB6mD,WAAW,GAAGJ,yBAAyB,CAACzmD,IAAD,CAA7C;;UACI,CAAC6mD,WAAL,EAAkB;;;;UAIZC,EAAE,GAAGzlB,WAAW,CAACrhC,IAAD,CAAtB;;UACI8mD,EAAE,CAAC/6D,KAAH,GAAWiU,IAAI,CAACie,QAAhB,IAA4BykC,iBAAiB,CAAC1iD,IAAI,CAAC8W,IAAN,CAAjD,EAA8D;YACtDphB,IAAI,GAAGqvD,oBAAoB,CAAC/kD,IAAD,CAApB,GAA6B8mD,EAAE,CAAC96D,MAA7C;YACMo6D,QAAQ,GAAG1wD,IAAI,GAAG,CAAxB;YACMsf,MAAM,GAAG6xC,WAAW,CAAC7mD,IAAD,EAAOwmD,kBAAkB,CAACxmD,IAAD,EAAOqhC,WAAP,CAAzB,CAA1B;QAEAhtB,KAAK,CAACvK,IAAN,GAAaq8C,iBAAiB,CAACnxC,MAAD,EAAShV,IAAT,EAAeomD,QAAf,EAAyBU,EAAE,CAAC96D,MAA5B,CAA9B,CAL4D;;;GATlE;;;AC/Da,SAAS+6D,UAAT,OAEZ1lB,WAFY,EAEC;MADdvqB,IACc,QADdA,IACc;MADK+B,QACL,QADR,WACQ;MAD8BD,UAC9B,QADe,aACf;MAD0CqF,QAC1C,QAD0CA,QAC1C;;EACdnH,IAAI,GAAG,OAAOA,IAAP,KAAgB,QAAhB,GAA2BA,IAA3B,aAAqCA,IAArC,CAAP;;MACImH,QAAQ,KAAKnwB,SAAjB,EAA4B;WACnBgpB,IAAP;;;MAEEisB,SAAS,GAAG1B,WAAW,CAAC;IAAEvqB,IAAI,EAAJA,IAAF;IAAQ+B,QAAQ,EAARA,QAAR;IAAkBD,UAAU,EAAVA;GAAnB,CAAX,CAA4C7sB,KAA5D;;MACIg3C,SAAS,IAAI9kB,QAAjB,EAA2B;WAClBnH,IAAP;;;MAGEjnB,GAAG,GAAG,CAAV;MACIC,GAAG,GAAGgnB,IAAI,CAACjxB,MAAL,GAAc,CAAxB;;SACOgK,GAAG,IAAIC,GAAd,EAAmB;QACbk3D,WAAW,GAAG39D,IAAI,CAACgG,KAAL,CAAW,CAACQ,GAAG,GAAGC,GAAP,IAAc,CAAzB,CAAlB;QACIm3D,UAAU,GAAGnwC,IAAI,CAACowC,MAAL,CAAY,CAAZ,EAAeF,WAAf,IAA8B1C,aAA/C;IACAvhB,SAAS,GAAG1B,WAAW,CAAC;MAAEvqB,IAAI,EAAEmwC,UAAR;MAAoBpuC,QAAQ,EAARA,QAApB;MAA8BD,UAAU,EAAVA;KAA/B,CAAX,CAAwD7sB,KAApE;;QACIg3C,SAAS,IAAI9kB,QAAjB,EAA2B;MACzBpuB,GAAG,GAAGm3D,WAAW,GAAG,CAApB;KADF,MAEO;;MACLl3D,GAAG,GAAGk3D,WAAW,GAAG,CAApB;;;;SAGGlwC,IAAI,CAACowC,MAAL,CAAY,CAAZ,EAAep3D,GAAf,IAAsBw0D,aAA7B;;;AC1BF;;;;;;;;;;;;;;AAcA,AAAe,SAAS6C,iBAAT,CAA2BC,QAA3B,EAAqC;MAC5CvpC,QAAQ,GAAGupC,QAAQ,CAACvpC,QAAT,IAAqBupC,QAAQ,CAAC,mBAAD,CAA9C;MACIx9D,EAAE,GAAG,CAAT;MAEMivB,QAAQ,GAAGg6B,QAAQ,CAACuU,QAAQ,CAACvuC,QAAT,IAAqBuuC,QAAQ,CAAC,WAAD,CAA9B,EAA6C,EAA7C,CAAR,IAA4D,CAA7E;;UAEQvpC,QAAR;SACO,SAAL;MACEj0B,EAAE,GAAGivB,QAAQ,GAAG,IAAhB;;;SAEG,kBAAL;MACEjvB,EAAE,GAAGivB,QAAQ,GAAG,IAAhB;;;SAEG,QAAL;MACEjvB,EAAE,GAAGivB,QAAQ,GAAG,IAAhB;;;SAEG,SAAL;MACEjvB,EAAE,GAAGivB,QAAQ,GAAG,IAAhB;;;SAEG,cAAL;MACEjvB,EAAE,GAAGivB,QAAQ,GAAG,CAAhB;;;SAEG,iBAAL;SACK,aAAL;MACEjvB,EAAE,GAAG,CAACivB,QAAD,GAAY,GAAjB;;;;MAGAjvB,EAAE,GAAG,CAAL;;;;SAIGA,EAAP;;;ACjCF,IAAMy9D,WAAW,GAAG,EAApB;AACA,IAAMC,UAAU,GAAG,EAAnB;AACA,IAAMC,YAAY,GAAG;EACnB1uC,QAAQ,EAAE/qB,SADS;EAEnB8qB,UAAU,EAAE9qB;CAFd;AAIA,IAAIoY,OAAJ;;AAEA,SAASshD,UAAT,GAAsB;EACpBthD,OAAO,GAAGA,OAAO,IAAI5d,QAAQ,CAACC,aAAT,CAAuB,QAAvB,EAAiCE,UAAjC,CAA4C,IAA5C,CAArB;;;AAGF,SAASg/D,OAAT,CAAiB5uC,QAAjB,EAA2BD,UAA3B,EAAuC;MACjC2uC,YAAY,CAAC1uC,QAAb,KAA0BA,QAA1B,IAAsC0uC,YAAY,CAAC3uC,UAAb,KAA4BA,UAAtE,EAAkF;;;;EAIlF1S,OAAO,CAACwhD,IAAR,GAAe7uC,QAAQ,GAAG,GAAX,GAAiBD,UAAhC,CALqC;;EAMrC2uC,YAAY,CAAC1uC,QAAb,GAAwBA,QAAxB;EACA0uC,YAAY,CAAC3uC,UAAb,GAA0BA,UAA1B;;;AAGF,SAAS+uC,gBAAT,CAA0B7wC,IAA1B,EAAgC+B,QAAhC,EAA0CD,UAA1C,EAAsD;MAC9C5xB,GAAG,GAAG8vB,IAAI,GAAG+B,QAAP,GAAkBD,UAA9B;;MACI,OAAO0uC,UAAU,CAACtgE,GAAD,CAAjB,KAA2B,QAA/B,EAAyC;IACvCwgE,UAAU;IACVC,OAAO,CAAC5uC,QAAD,EAAWD,UAAX,CAAP;IACA0uC,UAAU,CAACtgE,GAAD,CAAV,GAAkBkf,OAAO,CAACm7B,WAAR,CAAoBvqB,IAApB,EAA0B/qB,KAA5C;;;SAGKu7D,UAAU,CAACtgE,GAAD,CAAjB;;;AAGF,SAAS4gE,iBAAT,CAA2B/uC,QAA3B,EAAqC;MAC/B,OAAOwuC,WAAW,CAACxuC,QAAD,CAAlB,KAAiC,QAArC,EAA+C;IAC7CwuC,WAAW,CAACxuC,QAAD,CAAX,GAAwBisC,gBAAgB,CAACjsC,QAAD,CAAxC;;;SAGKwuC,WAAW,CAACxuC,QAAD,CAAlB;;;;;;;;;;;;;;;;;;AAiBF,AAAO,SAASwoB,aAAT,OAAqD;MAA9BvqB,IAA8B,QAA9BA,IAA8B;MAAxB+B,QAAwB,QAAxBA,QAAwB;MAAdD,UAAc,QAAdA,UAAc;MACpD9rB,CAAC,GAAG66D,gBAAgB,CAAC7wC,IAAD,EAAO+B,QAAP,EAAiBD,UAAjB,CAA1B;MACM50B,CAAC,GAAG4jE,iBAAiB,CAAC/uC,QAAD,CAA3B;SACO;IAAE9sB,KAAK,EAAEe,CAAT;IAAYd,MAAM,EAAEhI;GAA3B;;;;;;;;;;;;;;;;AAgBF,SAAS6jE,cAAT,CAAwBC,KAAxB,EAAwD;MAAzBC,SAAyB,uEAAb1mB,aAAa;MAChDxoB,QAAQ,GAAGivC,KAAK,CAAC,WAAD,CAAL,IAAsBA,KAAK,CAACjvC,QAA7C;MACMD,UAAU,GAAGkvC,KAAK,CAAC,aAAD,CAAL,IAAwBA,KAAK,CAAClvC,UAAjD;MACMkrC,WAAW,GAAGiE,SAAS,CAAC;IAAEjxC,IAAI,EAAEgxC,KAAK,CAAChxC,IAAd;IAAoB8B,UAAU,EAAVA,UAApB;IAAgCC,QAAQ,EAARA;GAAjC,CAA7B;MACMmvC,QAAQ,GAAG3+D,IAAI,CAACwG,GAAL,CAASi4D,KAAK,CAAC7pC,QAAN,IAAkB6lC,WAAW,CAAC/3D,KAAvC,EAA8C+3D,WAAW,CAAC/3D,KAA1D,CAAjB,CAJsD;;MAKhD3C,CAAC,GAAG0+D,KAAK,CAAC1+D,CAAN,IAAW,CAArB;MACMG,CAAC,GAAGu+D,KAAK,CAACv+D,CAAN,IAAW,CAArB;MACMI,EAAE,GAAGm+D,KAAK,CAACn+D,EAAN,IAAY,CAAvB;MACMC,EAAE,GAAG,CAACk+D,KAAK,CAACl+D,EAAN,IAAY,CAAb,IAAkBu9D,iBAAiB,CAACW,KAAD,CAA9C;MAEMj+B,YAAY,GAAG;IACnBzgC,CAAC,EAAE,CADgB;IAEnBG,CAAC,EAAGA,CAAC,GAAGK,EAAL,GAAYk6D,WAAW,CAAC93D,MAAZ,GAAqB,IAFjB;;IAGnBD,KAAK,EAAEi8D,QAHY;IAInBh8D,MAAM,EAAE83D,WAAW,CAAC93D;GAJtB;MAOM+xB,MAAM,GAAG+pC,KAAK,CAAC,aAAD,CAAL,IAAwBA,KAAK,CAAC/pC,MAA7C;;MAEIA,MAAM,KAAK,QAAf,EAAyB;IACvB8L,YAAY,CAACzgC,CAAb,GAAkBA,CAAC,GAAGO,EAAL,GAAYq+D,QAAQ,GAAG,CAAxC;GADF,MAEO,IAAIjqC,MAAM,KAAK,KAAf,EAAsB;IAC3B8L,YAAY,CAACzgC,CAAb,GAAkBA,CAAC,GAAGO,EAAL,GAAWq+D,QAA5B;GADK,MAEA;IACLn+B,YAAY,CAACzgC,CAAb,GAAiBA,CAAC,GAAGO,EAArB;;;SAGKkgC,YAAP;;;;;;;;;;;;;;;;;;;;;;;;;;AAyBF,AAAO,SAAS+a,UAAT,CAAoB96B,IAApB,EAAmD;MAAzBi+C,SAAyB,uEAAb1mB,aAAa;MAClD4mB,WAAW,GAAGxB,yBAAyB,CAAC38C,IAAD,CAA7C;MACM+O,QAAQ,GAAG/O,IAAI,CAAC,WAAD,CAAJ,IAAqBA,IAAI,CAAC+O,QAA3C;MACMD,UAAU,GAAG9O,IAAI,CAAC,aAAD,CAAJ,IAAuBA,IAAI,CAAC8O,UAA/C;MACMkuC,EAAE,GAAGiB,SAAS,CAAC;IAAEjxC,IAAI,EAAEhN,IAAI,CAACgN,IAAb;IAAmB8B,UAAU,EAAVA,UAAnB;IAA+BC,QAAQ,EAARA;GAAhC,CAApB;;MAEIovC,WAAW,KAAKnB,EAAE,CAAC/6D,KAAH,GAAW+d,IAAI,CAACmU,QAAhB,IAA4BykC,iBAAiB,CAAC54C,IAAI,CAACgN,IAAN,CAAlD,CAAf,EAA+E;QACvEoxC,kBAAkB,GAAGD,WAAW,CAACn+C,IAAD,EAAO,UAACgN,IAAD;aAAUixC,SAAS,CAAC;QAAEjxC,IAAI,EAAJA,IAAF;QAAQ8B,UAAU,EAAVA,UAAR;QAAoBC,QAAQ,EAARA;OAArB,CAAnB;KAAP,CAAtC;QACMsvC,QAAQ,GAAG73D,MAAM,CAAC,EAAD,EAAKwZ,IAAL,CAAvB;QACImU,QAAQ,GAAG,CAAf;QACImqC,UAAU,GAAG,EAAjB;;SACK,IAAI3hE,CAAC,GAAG,CAAR,EAAWqlB,GAAG,GAAGo8C,kBAAkB,CAACjoB,KAAnB,CAAyBp6C,MAA/C,EAAuDY,CAAC,GAAGqlB,GAA3D,EAAgErlB,CAAC,EAAjE,EAAqE;UAC/DyK,IAAI,GAAGg3D,kBAAkB,CAACjoB,KAAnB,CAAyBx5C,CAAzB,CAAX;MACAyK,IAAI,IAAIzK,CAAC,KAAKqlB,GAAG,GAAG,CAAZ,IAAiBo8C,kBAAkB,CAACjC,OAApC,GAA8C3B,aAA9C,GAA8D,EAAtE;UACMv4D,KAAK,GAAGg8D,SAAS,CAAC;QAAEjxC,IAAI,EAAE5lB,IAAR;QAAc2nB,QAAQ,EAARA,QAAd;QAAwBD,UAAU,EAAVA;OAAzB,CAAT,CAAgD7sB,KAA9D;;UACIA,KAAK,IAAIkyB,QAAb,EAAuB;QACrBA,QAAQ,GAAGlyB,KAAX;QACAq8D,UAAU,GAAGl3D,IAAb;;;;IAGJi3D,QAAQ,CAACrxC,IAAT,GAAgBsxC,UAAhB;QACMrT,MAAM,GAAG8S,cAAc,CAACM,QAAD,EAAWJ,SAAX,CAA7B;IACAhT,MAAM,CAAC/oD,MAAP,GAAgB+4D,oBAAoB,CAACj7C,IAAD,CAApB,GAA6Bo+C,kBAAkB,CAACjoB,KAAnB,CAAyBp6C,MAAtE;WAEOkvD,MAAP;;;SAGK8S,cAAc,CAAC/9C,IAAD,EAAOi+C,SAAP,CAArB;;;AChKF,IAAMM,WAAW,GAAG,GAApB;AACA,IAAMC,aAAa,GAAG,GAAtB;;AAEA,SAAS9M,WAAT,CAAmB1xC,IAAnB,EAAyBwP,KAAzB,EAAgC;SACvB;IACLxP,IAAI,EAAJA,IADK;IAEL5kB,IAAI,EAAE4kB,IAAI,CAAC5kB,IAFN;IAGL0I,KAAK,EAAE0rB,KAAK,CAAC1rB,KAHR;IAIL6M,SAAS,EAAE6e,KAAK,CAAC7e,SAJZ;IAKL7B,OAAO,EAAE0gB,KAAK,CAAC1gB;GALjB;;;AASF,AAAO,SAAS8jD,iBAAT,CAAyB5wD,IAAzB,EAA+BgrB,IAA/B,EAAqCtW,IAArC,EAA2C;MAC1CnD,KAAK,GAAG;IACZ5X,IAAI,EAAE,MADM;IAEZqxB,IAAI,EAAJA,IAFY;IAGZmH,QAAQ,EAAEnyB,IAAI,CAACC,KAHH;IAIZ3C,CAAC,EAAE,CAJS;IAKZG,CAAC,EAAEuC,IAAI,CAACvC,CALI;IAMZI,EAAE,EAAE,CANQ;IAOZC,EAAE,EAAE,CAPQ;IAQZsC,IAAI,EAAEsU,IAAI,CAACtU,IARC;IASZ6xB,MAAM,EAAE,OATI;IAUZF,QAAQ,EAAE,cAVE;IAWZhF,QAAQ,YAAKrY,IAAI,CAACqY,QAAV,OAXI;IAYZD,UAAU,EAAEpY,IAAI,CAACoY;GAZnB;MAeM+wB,WAAW,GAAGnpC,IAAI,CAACmpC,WAAzB;;MAEI79C,IAAI,CAACC,KAAL,GAAayU,IAAI,CAACqY,QAAtB,EAAgC;WACvB,KAAP;;;MAGI0vC,WAAW,GAAGl/D,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAYhE,IAAI,CAACC,KAAL,GAAa49C,WAAW,CAAC59C,KAArC,CAApB;EACAsR,KAAK,CAACjU,CAAN,GAAU0C,IAAI,CAAC1C,CAAL,GAAUoX,IAAI,CAAC5Q,KAAL,GAAa24D,WAAjC;EACAlrD,KAAK,CAAC9T,CAAN,GAAUuC,IAAI,CAACvC,CAAL,GAAUogD,WAAW,CAAC39C,MAAZ,GAAqBq8D,WAAzC;SAEOhrD,KAAP;;;AAGF,SAASmrD,iBAAT,OAA0C;MAAbl3D,EAAa,QAAbA,EAAa;MAATC,EAAS,QAATA,EAAS;MAAL9G,CAAK,QAALA,CAAK;SACjC;IACLhF,IAAI,EAAE,QADD;IAELsvD,MAAM,EAAE;MAAEzjD,EAAE,EAAFA,EAAF;MAAMC,EAAE,EAAFA,EAAN;MAAU9G,CAAC,EAADA;;GAFpB;;;AAKF,SAASg+D,cAAT,CAAwBt0D,KAAxB,EAA+B;MACvByzB,OAAO,GAAG,KAAhB;MAEEl9B,KAH2B,GAQzByJ,KARyB,CAG3BzJ,KAH2B;MAI3BC,GAJ2B,GAQzBwJ,KARyB,CAI3BxJ,GAJ2B;MAK3B02B,WAL2B,GAQzBltB,KARyB,CAK3BktB,WAL2B;MAM3BF,WAN2B,GAQzBhtB,KARyB,CAM3BgtB,WAN2B;MAO3BhiB,MAP2B,GAQzBhL,KARyB,CAO3BgL,MAP2B;;MASzB9V,IAAI,CAAC2O,GAAL,CAAUtN,KAAK,GAAI,IAAIrB,IAAI,CAACiE,EAAnB,GAA0B3C,GAAnC,IAA0Ci9B,OAA9C,EAAuD;WAC9C;MAAEniC,IAAI,EAAE,IAAR;MAAcsvD,MAAM,EAAE;KAA7B;;;MAEEtqD,CAAC,GAAG42B,WAAW,KAAK,CAAhB,GAAoBA,WAApB,GAAkCF,WAA1C;SACOqnC,iBAAiB,CAAC;IAAEl3D,EAAE,EAAE6N,MAAM,CAAC/V,CAAb;IAAgBmI,EAAE,EAAE4N,MAAM,CAAC5V,CAA3B;IAA8BkB,CAAC,EAADA;GAA/B,CAAxB;;;AAGF,SAASi+D,SAAT,CAAmB5+C,IAAnB,EAAyB;MACnBA,IAAI,CAACyzB,IAAL,IAAazzB,IAAI,CAACyzB,IAAL,CAAUppC,KAA3B,EAAkC;WACzBs0D,cAAc,CAAC3+C,IAAI,CAACyzB,IAAL,CAAUppC,KAAX,CAArB;;;MAEE2V,IAAI,CAACrkB,IAAL,KAAc,QAAlB,EAA4B;WACnB+iE,iBAAiB,CAAC1+C,IAAI,CAACg+C,KAAN,CAAxB;;;MAEEh+C,IAAI,CAACrkB,IAAL,KAAc,MAAlB,EAA0B;WACjB;MAAEA,IAAI,EAAE,MAAR;MAAgBsvD,MAAM,EAAEjrC,IAAI,CAACirC;KAApC;GARqB;;;SAWhB;IAAEtvD,IAAI,EAAE,IAAR;IAAcsvD,MAAM,EAAE;GAA7B;;;;;;;;;;;;;;;;;;;;;AAqBF,AAAO,SAAS7f,IAAT,QAMsB;MAL3B1mC,QAK2B,SAL3BA,QAK2B;MAJ3B8qB,KAI2B,SAJ3BA,KAI2B;MAH3BlC,KAG2B,SAH3BA,KAG2B;MAF3BJ,QAE2B,SAF3BA,QAE2B;MAD3B8D,KAC2B,SAD3BA,KAC2B;MAA1BmjC,MAA0B,uEAAjBvB,iBAAiB;MACrBrjC,QAAQ,GAAG/oB,MAAM,CAAC;IACtBuoB,QAAQ,EAAE,EADY;IAEtBD,UAAU,EAAE,OAFU;IAGtB1sB,IAAI,EAAE,MAHgB;IAItB0c,OAAO,EAAE,CAJa;IAKtBhZ,KAAK,EAAE,GALe;IAMtBgtD,OAAO,EAAE;GANY,EAOpB9hC,KAAK,CAACzd,KAPc,CAAvB;EASAgc,QAAQ,CAACR,QAAT,GAAoBg6B,QAAQ,CAACx5B,QAAQ,CAACR,QAAV,EAAoB,EAApB,CAA5B;MAEM8vC,WAAW,GAAGr4D,MAAM,CAAC,EAAD,EAAK+oB,QAAL,EAAe7qB,QAAf,CAA1B;MAEM+vD,aAAa,GAAG/vD,QAAQ,CAACuX,MAAT,CAAgBjhB,GAAhB,CAAoB,UAACs6D,YAAD;WAAkB9uD,MAAM,CAAC,EAAD,EAAKq4D,WAAL,EAAkBvJ,YAAlB,CAAxB;GAApB,CAAtB;MAEMJ,WAAW,GAAG,EAApB;MACMj5C,MAAM,GAAG,EAAf;;OAEK,IAAItf,CAAC,GAAG,CAAR,EAAWqlB,GAAG,GAAGsL,KAAK,CAACvxB,MAA5B,EAAoCY,CAAC,GAAGqlB,GAAxC,EAA6CrlB,CAAC,EAA9C,EAAkD;QAC5CqjB,IAAI,GAAGsN,KAAK,CAAC3wB,CAAD,CAAhB;QACIkjB,GAAG,GAAG6xC,WAAS,CAAC1xC,IAAD,EAAOwP,KAAP,CAAnB;;qBAEuBovC,SAAS,CAAC5+C,IAAD,CAJgB;QAI1CrkB,IAJ0C,cAI1CA,IAJ0C;QAIpCsvD,MAJoC,cAIpCA,MAJoC;;QAK5C,CAACA,MAAL,EAAa;;;;QAIT6T,WAAW,GAAG,CAAlB;QACIpK,YAAY,GAAG,EAAnB;QACIF,KAAK,GAAG,EAAZ;QAEIhb,SAAS,GAAG79C,IAAI,KAAK,QAAT,GAAoB,IAAIsvD,MAAM,CAACtqD,CAAX,GAAe69D,aAAnC,GAAmDvT,MAAM,CAAC/oD,MAA1E;IACA48D,WAAW,IAAID,WAAW,CAAC//C,OAA3B;QACI2xB,CAAC,SAAL;;SACKA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGgkB,aAAa,CAAC14D,MAA9B,EAAsC00C,CAAC,EAAvC,EAA2C;UACrC6jB,QAAQ,GAAGG,aAAa,CAAChkB,CAAD,CAA5B;UACIzjB,IAAI,GAAG,OAAOsnC,QAAQ,CAAC/gD,KAAhB,KAA0B,UAA1B,GAAuC+gD,QAAQ,CAAC/gD,KAAT,CAAesM,GAAf,EAAoBljB,CAApB,CAAvC,GAAgE,EAA3E;MAEAu4D,WAAW,CAACpmC,UAAZ,GAAyBwlC,QAAQ,CAACxlC,UAAlC;MACAomC,WAAW,CAACnmC,QAAZ,aAA0BulC,QAAQ,CAACvlC,QAAnC;MACAmmC,WAAW,CAACloC,IAAZ,GAAmBA,IAAnB;UACIyqB,QAAQ,GAAGvqB,QAAQ,CAACqqB,WAAT,CAAqB2d,WAArB,CAAf;MACA4J,WAAW,IAAIrnB,QAAQ,CAACv1C,MAAT,GAAkBoyD,QAAQ,CAACx1C,OAA1C;;UACIggD,WAAW,GAAGtlB,SAAlB,EAA6B;;;;MAC7Bgb,KAAK,CAACx4D,IAAN,CAAWgxB,IAAX;MACA0nC,YAAY,CAAC14D,IAAb,CAAkBy7C,QAAlB;;;QAGIsnB,UAAU,GAAGtuB,CAAnB;QACMuuB,YAAY,GAAGz/D,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAYwzC,SAAS,GAAGslB,WAAxB,CAArB;QACIvC,QAAQ,SAAZ;;QACI5gE,IAAI,KAAK,QAAb,EAAuB;MACrB4gE,QAAQ,GAAGtR,MAAM,CAACxjD,EAAP,GAAawjD,MAAM,CAACtqD,CAAP,GAAW69D,aAAnC;KADF,MAEO;MACLjC,QAAQ,GAAGtR,MAAM,CAACxrD,CAAlB;;;IAEF88D,QAAQ,IAAKsC,WAAW,CAAC/L,OAAZ,GAAsBkM,YAAvB,GAAuCH,WAAW,CAAC//C,OAA/D;;SAEK2xB,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGsuB,UAAhB,EAA4BtuB,CAAC,EAA7B,EAAiC;UAC3B6jB,SAAQ,GAAGG,aAAa,CAAChkB,CAAD,CAA5B;UACIzuC,IAAI,SAAR;;UACIrG,IAAI,KAAK,QAAb,EAAuB;YACjBsjE,gBAAgB,GAAG1/D,IAAI,CAACyG,GAAL,CAASzG,IAAI,CAAC2O,GAAL,CAASquD,QAAQ,GAAGtR,MAAM,CAACxjD,EAA3B,CAAT,EAAyClI,IAAI,CAAC2O,GAAL,CAAUquD,QAAQ,GAAG7H,YAAY,CAACjkB,CAAD,CAAZ,CAAgBvuC,MAA5B,GAAsC+oD,MAAM,CAACxjD,EAAtD,CAAzC,CAAvB;YACIuwB,SAAS,GAAGz4B,IAAI,CAACkE,IAAL,CAAWwnD,MAAM,CAACtqD,CAAP,GAAWsqD,MAAM,CAACtqD,CAAnB,GAAyBs+D,gBAAgB,GAAGA,gBAAtD,CAAhB;QACAj9D,IAAI,GAAG;UACL1C,CAAC,EAAG2rD,MAAM,CAACzjD,EAAP,GAAYwwB,SAAb,GAA0B6mC,WAAW,CAAC//C,OADpC;UAELrf,CAAC,EAAE88D,QAFE;UAGLt6D,KAAK,EAAG,IAAI+1B,SAAL,GAAmB,IAAI6mC,WAAW,CAAC//C,OAHrC;UAIL5c,MAAM,EAAEwyD,YAAY,CAACjkB,CAAD,CAAZ,CAAgBvuC;SAJ1B;OAHF,MASO;QACLF,IAAI,GAAG;UACL1C,CAAC,EAAE2rD,MAAM,CAAC3rD,CAAP,GAAWu/D,WAAW,CAAC//C,OADrB;UAELrf,CAAC,EAAE88D,QAFE;UAGLt6D,KAAK,EAAEgpD,MAAM,CAAChpD,KAAP,GAAgB,IAAI48D,WAAW,CAAC//C,OAHlC;UAIL5c,MAAM,EAAEwyD,YAAY,CAACjkB,CAAD,CAAZ,CAAgBvuC;SAJ1B;;;MAQFq6D,QAAQ,IAAI7H,YAAY,CAACjkB,CAAD,CAAZ,CAAgBvuC,MAAhB,GAAyB28D,WAAW,CAAC//C,OAAjD;UACI1c,IAAI,GAAG,OAAOkyD,SAAQ,CAAClyD,IAAhB,KAAyB,UAAzB,GAAsCkyD,SAAQ,CAAClyD,IAAT,CAAcyd,GAAd,EAAmBljB,CAAnB,CAAtC,GAA8D23D,SAAQ,CAAClyD,IAAlF;UACMwyD,QAAQ,GAAG,OAAON,SAAQ,CAACM,QAAhB,KAA6B,UAA7B,GAA0CN,SAAQ,CAACM,QAAT,CAAkB/0C,GAAlB,EAAuBljB,CAAvB,CAA1C,GAAsEqH,SAAvF;UACIuP,KAAK,GAAG4gD,MAAM,CAACnyD,IAAD,EAAOwyD,KAAK,CAAC/jB,CAAD,CAAZ,EAAiB;QACjCruC,IAAI,EAAJA,IADiC;QAEjC0D,KAAK,EAAEwuD,SAAQ,CAACxuD,KAFiB;QAGjCipB,QAAQ,EAAEulC,SAAQ,CAACvlC,QAHc;QAIjCD,UAAU,EAAEwlC,SAAQ,CAACxlC,UAJY;QAKjC+wB,WAAW,EAAE6U,YAAY,CAACjkB,CAAD;OALT,CAAlB;;UAOIl9B,KAAJ,EAAW;YACLA,KAAK,CAACyZ,IAAN,IAAczZ,KAAK,CAACyZ,IAAN,KAAewtC,aAAjC,EAAgD;cACxC0E,QAAQ,GAAGjC,UAAU,CAAC1pD,KAAD,EAAQ2Z,QAAQ,CAACqqB,WAAjB,CAA3B;;cACIijB,aAAa,KAAK0E,QAAtB,EAAgC;;;;;UAIhC3rD,KAAK,CAAC2rD,QAAN,GAAiBA,QAAjB;;;YAEE,OAAOtK,QAAP,KAAoB,WAAxB,EAAqC;UACnCrhD,KAAK,CAACnY,IAAN,GAAaw5D,QAAb;;;QAEF34C,MAAM,CAACjgB,IAAP,CAAYuX,KAAZ;;;;;SAKC0I,MAAP;;;ACjNF,iBAAe;EACb8b,GAAG,EAAEs9B,IADQ;EAEbhrD,KAAK,EAAEgpC,MAFM;EAGbjI,IAAI,EAAJA;CAHF;;ACHA;;;;;;;;;;;;;AAaA,AAAO,SAASpG,QAAT,OAMJj2B,EANI,EAMA;MALLygB,KAKK,QALLA,KAKK;MAJLrc,MAIK,QAJLA,MAIK;MAHLnR,IAGK,QAHLA,IAGK;MAFLkrB,QAEK,QAFLA,QAEK;MADL8D,KACK,QADLA,KACK;MACCxkB,SAAS,GAAGgjB,KAAK,CAAChjB,SAAN,CAAgB2G,MAAM,CAAC3G,SAAvB,CAAlB;;MACI,CAACA,SAAL,EAAgB;WACP,EAAP;;;MAEI8gB,KAAK,GAAGkC,KAAK,CAAC4N,UAAN,CAAiBjqB,MAAM,CAACkqB,QAAxB,EAAkC5yB,MAAlC,CAAyC,UAACsQ,CAAD;WAAOA,CAAC,CAAC7d,GAAF,KAAUiW,MAAM,CAAC3G,SAAxB;GAAzC,CAAd;SAEOuC,EAAE,CAAC;IACRygB,KAAK,EAALA,KADQ;IAER9qB,QAAQ,EAAEyO,MAAM,CAAC6xB,QAAP,CAAgBtgC,QAFlB;IAGR4oB,KAAK,EAALA,KAHQ;IAIRtrB,IAAI,EAAE;MACJ1C,CAAC,EAAE,CADC;MAEJG,CAAC,EAAE,CAFC;MAGJwC,KAAK,EAAED,IAAI,CAACC,KAHR;MAIJC,MAAM,EAAEF,IAAI,CAACE;KARP;IAURgrB,QAAQ,EAARA,QAVQ;IAWR8D,KAAK,EAALA;GAXO,CAAT;;AAeF,IAAMmuC,eAAe,GAAG;EACtB5mC,OAAO,EAAE,CAAC,OAAD,EAAU,UAAV,EAAsB,UAAtB,CADa;EAEtBpc,eAAe,EAAE;IACfzX,QAAQ,EAAE,EADK;IAEfssB,KAAK,EAAE;MACLzd,KAAK,EAAE;;GALW;EAQtBob,MARsB,oBAQb;;;QACDtS,KAAK,GAAG,KAAK3X,QAAL,CAAcA,QAA5B;QACMuX,MAAM,GAAG,EAAf;KAECI,KAAK,CAACsN,OAAN,IAAiB,EAAlB,EAAsB9d,OAAtB,CAA8B,UAACsH,MAAD,EAAY;UACpCA,MAAM,CAAC6xB,QAAP,IAAmBo6B,UAAU,CAACjsD,MAAM,CAAC6xB,QAAP,CAAgBrpC,IAAjB,CAA7B,IAAuDwX,MAAM,CAAC3G,SAAlE,EAA6E;QAC3EyP,MAAM,CAACjgB,IAAP,OAAAigB,MAAM,uBAAS+oB,QAAQ,CAAC;UACtBxV,KAAK,EAAE,KAAI,CAACA,KADU;UAEtBxtB,IAAI,EAAE,KAAI,CAACA,IAFW;UAGtBkrB,QAAQ,EAAE,KAAI,CAACA,QAHO;UAItB/Z,MAAM,EAANA,MAJsB;UAKtB6d,KAAK,EAAE,KAAI,CAACA;SALS,EAMpBouC,UAAU,CAACjsD,MAAM,CAAC6xB,QAAP,CAAgBrpC,IAAjB,CANU,CAAjB,EAAN;;KAFJ;WAYOsgB,MAAP;;CAxBJ;;ACzCe,SAASA,MAAT,CAAgBm1B,OAAhB,EAAyB;EACtCA,OAAO,CAAC5kC,SAAR,CAAkB,QAAlB,EAA4B2yD,eAA5B;;;ACDF;;;;;AAIA,IAAM7iD,kBAAgB,GAAG;;;;EAIvB1P,MAAM,EAAE;;;;;IAKNjH,IAAI,EAAE,CALA;;;;;;IAUNmxB,SAAS,EAAE,KAVL;;;;IAaNuoC,YAAY,EAAE;GAjBO;;;;;;EAuBvBnpD,IAAI,EAAE;;;IAGJjR,IAAI,EAAE,IAHF;IAIJ6tD,OAAO,EAAE,GAJL;IAKJhtD,KAAK,EAAE,GALH;;;;IAQJyN,KAAK,EAAE;MACLwb,QAAQ,EAAE,MADL;MAELD,UAAU,EAAE,OAFP;MAGL1sB,IAAI,EAAE,SAHD;;;;MAMLy6D,SAAS,EAAE,MANN;;;;MASLzB,QAAQ,EAAE,CATL;;;;MAYLjnC,QAAQ,EAAE,GAZL;MAaL+mC,UAAU,EAAE;KArBV;;;;IAyBJtzD,KAAK,EAAE;;;MAGLjM,IAAI,EAAE,QAHD;;;;MAMLgK,IAAI,EAAE;;GAtDa;;;;EA2DvByN,KAAK,EAAE;;;IAGLnO,IAAI,EAAE,IAHD;;;;IAML+nB,IAAI,EAAEhpB,SAND;;;;;IAULiwB,MAAM,EAAE,OAVH;IAWLlF,QAAQ,EAAE,MAXL;IAYLD,UAAU,EAAE,OAZP;IAaL1sB,IAAI,EAAE,SAbD;;;;IAgBLy6D,SAAS,EAAE,MAhBN;;;;IAmBLzB,QAAQ,EAAE,CAnBL;;;;IAsBLjnC,QAAQ,EAAE,GAtBL;IAuBL+mC,UAAU,EAAE;GAlFS;;;;EAsFvBoE,UAAU,EAAE;;;IAGVjxD,MAAM,EAAE;;;MAGN41C,KAAK,EAAEjgD,SAHD;;;;MAMN2mC,OAAO,EAAE3mC;KATD;;;;IAaVu7D,QAAQ,EAAE;;CAnGd;;;;;;;;AA6GA,AAAe,SAASr5D,iBAAT,CAAyBoC,IAAzB,EAA+B;MACtCyT,MAAM,GAAGzT,IAAI,CAACxE,KAAL,CAAWiY,MAAX,EAAf;MACI3gB,IAAI,GAAG;IAAEsY,KAAK,EAAE;GAApB;MACM9O,IAAI,GAAG0D,IAAI,CAAC5D,QAAL,CAAckI,MAAd,CAAqBhI,IAAlC;;MACI0D,IAAI,CAACxE,KAAL,CAAWnI,IAAX,KAAoB,iBAAxB,EAA2C;QACnC4a,MAAM,GAAGjO,IAAI,CAACxE,KAAL,CAAW1I,IAAX,GAAkBmb,MAAjC;QACMd,WAAW,GAAGc,MAAM,CAAC,CAAD,CAA1B;;QACI5F,SAAS,GAAG,mBAACnW,CAAD;aAAOc,MAAM,CAACd,CAAD,CAAb;KAAhB;;QAEI8N,IAAI,CAAC5D,QAAL,CAAciM,SAAlB,EAA6B;MAC3BA,SAAS,GAAGrI,IAAI,CAACknB,KAAL,CAAW7e,SAAX,CAAqBrI,IAAI,CAAC5D,QAAL,CAAciM,SAAnC,CAAZ;KADF,MAEO,IAAI8E,WAAJ,EAAiB;MACtB9E,SAAS,GAAG8E,WAAW,CAAC9E,SAAZ,EAAZ;;;SAGG,IAAIhU,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGof,MAAM,CAAChgB,MAAP,GAAgB,CAApC,EAAuCY,CAAC,EAAxC,EAA4C;UACpCi2B,EAAE,GAAG;QACTvyB,KAAK,EAAE0b,MAAM,CAACpf,CAAD,CADJ;QAET4W,KAAK,YAAK5C,SAAS,CAACoL,MAAM,CAACpf,CAAD,CAAP,CAAd,kBAAiCgU,SAAS,CAACoL,MAAM,CAACpf,CAAC,GAAG,CAAL,CAAP,CAA1C;OAFP;;UAII8Y,WAAJ,EAAiB;QACfmd,EAAE,CAACzf,MAAH,GAAY;UACVK,KAAK,EAAEiC,WAAW,CAACvC,EAAZ;SADT;;;MAIF9X,IAAI,CAACsY,KAAL,CAAW1X,IAAX,CAAgB42B,EAAhB;;;QAEI+d,WAAW,GAAG/rC,IAAI,KAAK,KAAT,IAAkBA,IAAI,KAAK,QAA3B,GAAsC,YAAtC,GAAqD,UAAzE;;QAEI+rC,WAAW,KAAK,UAApB,EAAgC;MAC9Bv1C,IAAI,CAACsY,KAAL,CAAWiB,OAAX;;GA1BJ,MA4BO;QACCsH,OAAM,GAAG3T,IAAI,CAACxE,KAAL,CAAWmY,MAAX,GAAoB3T,IAAI,CAACxE,KAAL,CAAWmY,MAAX,EAApB,GAA0C,IAAzD;;IACA7gB,IAAI,CAACsY,KAAL,GAAaqI,MAAM,CAAC/gB,GAAP,CAAW,UAAC8Q,CAAD,EAAIkY,GAAJ,EAAY;UAC5BzE,KAAK,GAAGjX,IAAI,CAACxE,KAAL,CAAWyb,KAAX,GAAmB/Y,MAAM,CAAC,EAAD,EAAK8B,IAAI,CAACxE,KAAL,CAAWyb,KAAX,CAAiBzT,CAAjB,CAAL,CAAzB,GAAqD;QAAEzL,KAAK,EAAEyL;OAA5E;MACAyT,KAAK,CAAClf,KAAN,GAAcyL,CAAd;;UAEIxD,IAAI,CAACxE,KAAL,CAAWyP,KAAf,EAAsB;QACpBgM,KAAK,CAAChM,KAAN,GAAcjL,IAAI,CAACxE,KAAL,CAAWyP,KAAX,CAAiBzH,CAAjB,CAAd;OADF,MAEO,IAAImQ,OAAJ,EAAY;QACjBsD,KAAK,CAAChM,KAAN,GAAc0I,OAAM,CAAC+H,GAAD,CAApB;;;aAGKzE,KAAP;KAVW,CAAb;;;MAcInM,KAAK,GAAG9K,IAAI,CAACqwB,QAAL,CAAcjI,OAAd,CAAsB;IAClCt1B,IAAI,EAAE;MACJmb,MAAM,EAAEjO,IAAI,CAACxE,KAAL,CAAW1I,IAAX,GAAkBmb;KAFM;IAIlCgZ,QAAQ,EAAE/oB,MAAM,CAAC,IAAD,EAAO,EAAP,EAAW8V,kBAAgB,CAAClJ,KAA5B,EAAmC9K,IAAI,CAAC0oB,KAAL,CAAW5d,KAA9C,CAJkB;IAKlC1O,QAAQ,EAAE4D,IAAI,CAAC5D,QAAL,CAAcA,QAAd,CAAuB0O;GALrB,CAAd;MAQMxG,MAAM,GAAGtE,IAAI,CAACqwB,QAAL,CAAcjI,OAAd,CAAsB;IACnCt1B,IAAI,EAAE;MACJmb,MAAM,EAAEjO,IAAI,CAACxE,KAAL,CAAW1I,IAAX,GAAkBmb;KAFO;IAInCgZ,QAAQ,EAAEjT,kBAAgB,CAAC1P,MAJQ;IAKnClI,QAAQ,EAAE4D,IAAI,CAAC5D,QAAL,CAAcA,QAAd,CAAuBkI;GALpB,CAAf;MAQMqP,MAAM,GAAG3T,IAAI,CAACqwB,QAAL,CAAcjI,OAAd,CAAsB;IACnCt1B,IAAI,EAAJA,IADmC;IAEnCm0B,QAAQ,EAAE/oB,MAAM,CAAC,IAAD,EAAO,EAAP,EAAW8V,kBAAgB,CAACpG,IAAjB,CAAsB3C,KAAjC,EAAwCjL,IAAI,CAAC0oB,KAAL,CAAW9a,IAAX,CAAgB3C,KAAxD,CAFmB;IAGnC7O,QAAQ,EAAE,CAAC4D,IAAI,CAAC5D,QAAL,CAAcA,QAAd,CAAuBwR,IAAvB,IAA+B,EAAhC,EAAoC3C;GAHjC,CAAf;MAMMisD,aAAa,GAAGh5D,MAAM,CAAC,IAAD,EAAO,EAAP,EAAW,CAAC8B,IAAI,CAAC5D,QAAL,CAAcA,QAAd,CAAuBwR,IAAvB,IAA+B,EAAhC,EAAoCtO,KAA/C,CAA5B;;MAEI,OAAO43D,aAAa,CAACp9D,IAArB,KAA8B,WAA9B,IAA6CkG,IAAI,CAAC5D,QAAL,CAAcZ,KAA/D,EAAsE;IACpE07D,aAAa,CAACp9D,IAAd,GAAqB;MACnB0B,KAAK,EAAEwE,IAAI,CAAC5D,QAAL,CAAcZ;KADvB;;;MAKI27D,OAAO,GAAGn3D,IAAI,CAACqwB,QAAL,CAAcjI,OAAd,CAAsB;IACpCt1B,IAAI,EAAJA,IADoC;IAEpCm0B,QAAQ,EAAE/oB,MAAM,CAAC,IAAD,EAAO,EAAP,EAAW8V,kBAAgB,CAACpG,IAAjB,CAAsBtO,KAAjC,EAAwCU,IAAI,CAAC0oB,KAAL,CAAW9a,IAAX,CAAgBtO,KAAxD,CAFoB;IAGpClD,QAAQ,EAAE86D;GAHI,CAAhB;MAMM9rD,KAAK,GAAGpL,IAAI,CAACqwB,QAAL,CAAcjI,OAAd,CAAsB;IAClCt1B,IAAI,EAAJA,IADkC;IAElCm0B,QAAQ,EAAE/oB,MAAM,CAAC,IAAD,EAAO,EAAP,EAAW;MACzBvB,IAAI,EAAEqX,kBAAgB,CAACpG,IAAjB,CAAsBjR;KADd,CAFkB;IAKlCP,QAAQ,EAAE;MACRO,IAAI,EAAE,CAACqD,IAAI,CAAC5D,QAAL,CAAcA,QAAd,CAAuBwR,IAAvB,IAA+B,EAAhC,EAAoCjR;;GANhC,CAAd;;WAUSgR,KAAT,CAAeC,IAAf,EAAqBvZ,CAArB,EAAwB;QAClBnC,CAAC,GAAG0b,IAAI,CAAC9a,IAAL,CAAUiF,KAAlB;QACIq+C,IAAI,GAAG3iC,MAAM,CAACpf,CAAC,GAAG,CAAL,CAAjB;IACAuZ,IAAI,CAAC9a,IAAL,CAAUiF,KAAV,GAAkB,CAAC7F,CAAD,EAAIkkD,IAAJ,CAAlB;;;MAGEp2C,IAAI,CAACxE,KAAL,CAAWnI,IAAX,KAAoB,iBAAxB,EAA2C;QACnCg1C,YAAW,GAAG/rC,IAAI,KAAK,KAAT,IAAkBA,IAAI,KAAK,QAA3B,GAAsC,YAAtC,GAAqD,UAAzE;;QAEI+rC,YAAW,KAAK,UAApB,EAAgC;MAC9Bj9B,KAAK,CAACA,KAAN,CAAYiB,OAAZ,GAAsB9I,OAAtB,CAA8BoK,KAA9B;MACAvC,KAAK,CAACA,KAAN,CAAYiB,OAAZ;KAFF,MAGO;MACLjB,KAAK,CAACA,KAAN,CAAY7H,OAAZ,CAAoBoK,KAApB;;;;SAIG;IACL7C,KAAK,EAALA,KADK;IAEL6I,MAAM,EAANA,MAFK;IAGLwjD,OAAO,EAAPA,OAHK;IAIL/rD,KAAK,EAALA,KAJK;IAKL9G,MAAM,EAANA;GALF;;;AChOF;;AAEA,SAASgmD,iBAAT,CAAyB5wD,IAAzB,EAA+BuR,KAA/B,EAAsCmD,IAAtC,EAA4C;MACpCmpC,WAAW,GAAGnpC,IAAI,CAACmpC,WAAzB;;MAEI79C,IAAI,CAACE,MAAL,GAAc29C,WAAW,CAAC39C,MAA9B,EAAsC;WAC7B,KAAP;;;MAGIu8D,WAAW,GAAGl/D,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAYhE,IAAI,CAACC,KAAL,GAAa49C,WAAW,CAAC59C,KAArC,CAApB;EACAsR,KAAK,CAACwgB,QAAN,GAAiB,kBAAjB;MACMirC,YAAY,GAAGz/D,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAYhE,IAAI,CAACE,MAAL,GAAe29C,WAAW,CAAC39C,MAAvC,CAArB;EACAqR,KAAK,CAACjU,CAAN,GAAU0C,IAAI,CAAC1C,CAAL,GAAUoX,IAAI,CAAC5Q,KAAL,GAAa24D,WAAjC;EACAlrD,KAAK,CAAC9T,CAAN,GAAUuC,IAAI,CAACvC,CAAL,GAAUiX,IAAI,CAACo8C,OAAL,GAAekM,YAAzB,GAAyCjW,QAAQ,CAACx1C,KAAK,CAACwb,QAAP,EAAiB,EAAjB,CAAR,GAA+B,KAAlF,CAX0C;;SAanCxb,KAAP;;;AAGF,SAASmsD,YAAT,CAAsB9lC,SAAtB,EAAiCj0B,IAAjC,EAAuC+Q,IAAvC,EAA6C;MACrC+nD,WAAW,GAAGl/D,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAY4zB,SAAS,CAAC33B,KAAV,GAAkB0D,IAA9B,CAApB;MACMq5D,YAAY,GAAGz/D,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAY4zB,SAAS,CAAC13B,MAAV,GAAmByD,IAA/B,CAArB;SAEO;IACLrG,CAAC,EAAEs6B,SAAS,CAACt6B,CAAV,GAAeqG,IAAI,GAAG,CAAtB,GAA4B+Q,IAAI,CAAC5Q,KAAL,GAAa24D,WADvC;IAELh/D,CAAC,EAAEm6B,SAAS,CAACn6B,CAAV,GAAekG,IAAI,GAAG,CAAtB,GAA4B+Q,IAAI,CAACo8C,OAAL,GAAekM;GAFhD;;;AAMF,AAAO,SAASW,gBAAT,OAOJ;oBANDrgE,CAMC;MANDA,CAMC,uBANG,CAMH;MALDG,CAKC,QALDA,CAKC;MAJDyW,IAIC,QAJDA,IAIC;MAHD0pD,aAGC,QAHDA,aAGC;MAFDC,YAEC,QAFDA,YAEC;4BADD/oC,SACC;MADDA,SACC,+BADW,KACX;MACGvjB,KAAK,GAAG2C,IAAI,CAAC3C,KAAL,CAAWusD,aAAvB;MACIlP,WAAW,GAAG16C,IAAI,CAAC3C,KAAL,CAAW03C,MAA7B;MACI8U,UAAU,GAAG7pD,IAAI,CAAC2iB,MAAL,CAAYmnC,IAA7B;MACMC,GAAG,GAAGnpC,SAAS,KAAK,KAA1B;MAEIopC,SAAS,GAAG;IACd5gE,CAAC,EAAE2gE,GAAG,GAAG3gE,CAAC,GAAGsgE,aAAa,CAACO,cAAd,CAA6Bl+D,KAApC,GAA4C3C,CAAC,GAAGsgE,aAAa,CAACQ,aAAlB,GAAkCR,aAAa,CAAChhB,OADpF;IAEdn/C,CAAC,EAADA,CAFc;IAGdwC,KAAK,EAAE29D,aAAa,CAACO,cAAd,CAA6Bl+D,KAHtB;IAIdC,MAAM,EAAE3C,IAAI,CAACyG,GAAL,CAAS45D,aAAa,CAACQ,aAAvB,EAAsCR,aAAa,CAACO,cAAd,CAA6Bj+D,MAAnE;GAJV;MAOIm+D,OAAO,GAAGX,YAAY,CAAC;IACzBpgE,CAAC,EAAE2gE,GAAG,GAAG3gE,CAAC,GAAGsgE,aAAa,CAACO,cAAd,CAA6Bl+D,KAAjC,GAAyC29D,aAAa,CAAChhB,OAA1D,GAAoEt/C,CADjD;IAEzBG,CAAC,EAADA,CAFyB;IAGzBwC,KAAK,EAAE29D,aAAa,CAACQ,aAHI;IAIzBl+D,MAAM,EAAEg+D,SAAS,CAACh+D;GAJM,EAKvB69D,UAAU,CAACp6D,IALY,EAKN;IAClBG,KAAK,EAAE,OAAOi6D,UAAU,CAACj6D,KAAlB,KAA4B,WAA5B,GAA0C,GAA1C,GAAgDi6D,UAAU,CAACj6D,KADhD;IAElBgtD,OAAO,EAAE,OAAOiN,UAAU,CAACjN,OAAlB,KAA8B,WAA9B,GAA4C,GAA5C,GAAkDiN,UAAU,CAACjN;GAP9C,CAA1B;MAUMj6B,MAAM,GAAGgnC,YAAY,CAACr5D,MAAM,CAAC,EAAD,EAAKu5D,UAAL,EAAiBM,OAAjB,CAAP,CAA3B;SAEOxnC,MAAM,CAAC1B,QAAd;EAEA5jB,KAAK,CAAC0gB,MAAN,GAAegsC,GAAG,GAAG,KAAH,GAAW,OAA7B;EAEArN,iBAAe,CAACsN,SAAD,EAAY3sD,KAAZ,EAAmB;IAChCssC,WAAW,EAAE+Q,WADmB;IAEhC7hC,QAAQ,EAAEg6B,QAAQ,CAACx1C,KAAK,CAACwb,QAAP,EAAiB,EAAjB,CAFc;IAGhCjpB,KAAK,EAAE,GAHyB;IAIhCgtD,OAAO,EAAE;GAJI,CAAf;MAOIl5B,SAAS,GAAG;IACdj+B,IAAI,EAAE,WADQ;IAEdP,IAAI,EAAE8a,IAAI,CAAC3C,KAAL,CAAWusD,aAAX,CAAyB1kE,IAFjB;IAGdqlB,QAAQ,EAAE,CAACoY,MAAD,EAAStlB,KAAT,CAHI;IAId4jB,QAAQ,EAAE;MACRx7B,IAAI,EAAE,MADE;MAER2D,CAAC,EAADA,CAFQ;MAGRG,CAAC,EAADA,CAHQ;MAIRwC,KAAK,EAAE29D,aAAa,CAACU,aAAd,CAA4Br+D,KAJ3B;MAKRC,MAAM,EAAE09D,aAAa,CAACU,aAAd,CAA4Bp+D;;GATxC;SAaO;IACLgU,IAAI,EAAE0jB,SADD;IAELw+B,OAAO,EAAE8H;GAFX;;;AAMK,SAASK,iBAAT,QAEJv+D,IAFI,SAOJ;MANDw+D,QAMC,SANDA,QAMC;MAJDC,QAIC,SAJDA,QAIC;2BAHDlpD,MAGC;MAHDA,MAGC,6BAHQooD,gBAGR;MAFDe,SAEC,SAFDA,SAEC;MADDb,YACC,SADDA,YACC;MACK/oC,SAAS,GAAG2pC,QAAQ,CAAC7zD,MAAT,CAAgBkqB,SAAlC;MACM8oC,aAAa,GAAGa,QAAQ,CAACb,aAA/B;MACMe,WAAW,GAAGF,QAAQ,CAAC/sD,KAA7B;MACM6tC,YAAY,GAAGkf,QAAQ,CAAC7zD,MAAT,CAAgB+jC,WAAhB,KAAgC,YAArD;MACIr2C,CAAC,GAAG,CAAR;MAEMsmE,WAAW,GAAG,EAApB;MACMC,WAAW,GAAGjB,aAAa,CAACU,aAAd,CAA4Bp+D,MAAhD;MACM4+D,UAAU,GAAGlB,aAAa,CAACU,aAAd,CAA4Br+D,KAA/C;MACM8+D,SAAS,GAAGN,QAAQ,CAAC7zD,MAAT,CAAgB5E,MAAhB,CAAuBi5C,QAAvB,GAAkC4f,WAApD;MACMG,WAAW,GAAGP,QAAQ,CAAC7zD,MAAT,CAAgB5E,MAAhB,CAAuB00C,UAAvB,GAAoCokB,UAAxD;MACIxhE,CAAC,GAAG0C,IAAI,CAAC1C,CAAb;MACIG,CAAC,GAAGuC,IAAI,CAACvC,CAAb;MAEIwjB,KAAK,GAAGu9C,QAAQ,CAAClhE,CAAT,GAAa0C,IAAI,CAAC1C,CAA9B;;OAEK,IAAI3C,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgkE,WAAW,CAAC5kE,MAAhC,EAAwCY,CAAC,EAAzC,EAA6C;QACvCskE,UAAU,GAAG1pD,MAAM,CAAC;MACtB9X,CAAC,EAADA,CADsB;MAEtBH,CAAC,EAAEw3B,SAAS,KAAK,KAAd,GAAsB0pC,QAAQ,CAAClhE,CAAT,GAAa2jB,KAAb,GAAqBu9C,QAAQ,CAACv+D,KAA9B,GAAsC6+D,UAAtC,IAAoDxhE,CAAC,GAAG0C,IAAI,CAAC1C,CAA7D,CAAtB,GAAwFA,CAFrE;MAGtB4W,IAAI,EAAEyqD,WAAW,CAAChkE,CAAD,CAHK;MAItBijE,aAAa,EAAbA,aAJsB;MAKtB9oC,SAAS,EAATA,SALsB;MAMtB+oC,YAAY,EAAZA;KANqB,CAAvB;;QASKte,YAAY,IAAIjiD,CAAC,IAAIkhE,QAAQ,CAAClhE,CAAT,GAAawhE,UAAnC,IAAmD,CAACvf,YAAD,IAAiB9hD,CAAC,IAAI+gE,QAAQ,CAAC/gE,CAAT,GAAaohE,WAA1F,EAAwG;MACtGD,WAAW,CAAC5kE,IAAZ,CAAiBilE,UAAU,CAAC/qD,IAA5B;;;IAGF5b,CAAC;;QACGA,CAAC,IAAIomE,SAAT,EAAoB;MAClBpmE,CAAC,GAAG,CAAJ;;UACIinD,YAAJ,EAAkB;QAChBjiD,CAAC,IAAI0hE,WAAL,CADgB;;QAEhBvhE,CAAC,GAAGuC,IAAI,CAACvC,CAAT,CAFgB;OAAlB,MAGO;QACLA,CAAC,IAAIshE,SAAL,CADK;;QAELzhE,CAAC,GAAG0C,IAAI,CAAC1C,CAAT,CAFK;;KALT,MASO,IAAIiiD,YAAJ,EAAkB;MACvB9hD,CAAC,IAAIshE,SAAL,CADuB;KAAlB,MAEA;MACLzhE,CAAC,IAAI0hE,WAAL,CADK;;;QAIH,CAACzf,YAAD,IAAkB9hD,CAAC,GAAG+gE,QAAQ,CAAC/gE,CAAT,GAAa+gE,QAAQ,CAACt+D,MAAhD,EAAyD;;KAAzD,MAEO,IAAIq/C,YAAY,IAAIjiD,CAAC,GAAGkhE,QAAQ,CAAClhE,CAAT,GAAakhE,QAAQ,CAACv+D,KAA9C,EAAqD;;;;;SAIvD2+D,WAAP;;;AAIK,SAASM,QAAT,QAGJh0C,QAHI,EAGM;MAFX2D,QAEW,SAFXA,QAEW;MADXjsB,IACW,SADXA,IACW;MACP2O,KAAJ;MACIG,KAAK,GAAG,EAAZ;MACIwC,IAAJ;MACIirD,WAAW,GAAGtwC,QAAQ,CAACnd,KAAT,CAAeA,KAAjC;MACI0tD,aAAa,GAAGvwC,QAAQ,CAAC4uC,OAAT,CAAiB/rD,KAArC;MACI2tD,YAAY,GAAGxwC,QAAQ,CAAC5U,MAAT,CAAgBvI,KAAnC;MAEI0sD,aAAa,GAAG,CAApB;MACIrkB,aAAa,GAAG,CAApB;MACIulB,cAAc,GAAG,CAArB;;OAEK,IAAI3kE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGwkE,WAAW,CAACplE,MAAhC,EAAwCY,CAAC,EAAzC,EAA6C;QACvCwkE,WAAW,CAACxkE,CAAD,CAAX,CAAesI,IAAf,KAAwB,KAA5B,EAAmC;;;;QAI7B+nB,IAAI,GAAG,OAAOq0C,YAAY,CAAC1kE,CAAD,CAAZ,CAAgBqwB,IAAvB,KAAgC,WAAhC,GAA8Cq0C,YAAY,CAAC1kE,CAAD,CAAZ,CAAgBqwB,IAA9D,GAAqEq0C,YAAY,CAAC1kE,CAAD,CAAZ,CAAgBvB,IAAhB,CAAqBmY,KAArB,IAA8B,EAAhH;IACAA,KAAK,GAAG/M,MAAM,CAAC,EAAD,EAAK66D,YAAY,CAAC1kE,CAAD,CAAjB,EAAsB;;MAClChB,IAAI,EAAE,MAD4B;MAElCozB,QAAQ,YAAKg6B,QAAQ,CAACsY,YAAY,CAAC1kE,CAAD,CAAZ,CAAgBoyB,QAAjB,EAA2B,EAA3B,CAAb,OAF0B;MAGlC/B,IAAI,EAAJA,IAHkC;MAIlC5Z,KAAK,EAAE4Z;KAJK,CAAd;IAOA9W,IAAI,GAAG;MACL2iB,MAAM,EAAE;;;QAGNmnC,IAAI,EAAEoB,aAAa,CAACzkE,CAAD;OAJhB;MAML4W,KAAK,EAAE;QACLusD,aAAa,EAAEvsD,KADV;QAEL03C,MAAM,EAAE/9B,QAAQ,CAAC4tB,UAAT,CAAoBvnC,KAApB;;KARZ;IAYAG,KAAK,CAAC1X,IAAN,CAAWka,IAAX;IAEAkqD,aAAa,GAAG7gE,IAAI,CAACyG,GAAL,CAASo7D,aAAa,CAACzkE,CAAD,CAAb,CAAiBgJ,IAA1B,EAAgCy6D,aAAhC,CAAhB;IACArkB,aAAa,GAAGx8C,IAAI,CAACyG,GAAL,CAASkQ,IAAI,CAAC3C,KAAL,CAAW03C,MAAX,CAAkBhpD,KAA3B,EAAkC85C,aAAlC,CAAhB;IACAulB,cAAc,GAAG/hE,IAAI,CAACyG,GAAL,CAASkQ,IAAI,CAAC3C,KAAL,CAAW03C,MAAX,CAAkB/oD,MAA3B,EAAmCo/D,cAAnC,CAAjB;;;SAGK;IACL5tD,KAAK,EAALA,KADK;IAELksD,aAAa,EAAE;MACbhhB,OAAO,EAAE,CADI;MAEbwhB,aAAa,EAAbA,aAFa;MAGbE,aAAa,EAAE;QACbp+D,MAAM,EAAE3C,IAAI,CAACyG,GAAL,CAASo6D,aAAT,EAAwBkB,cAAxB,CADK;QAEbr/D,KAAK,EAAEm+D,aAAa,GAAG,CAAhB,GAAoBrkB;OALhB;MAObokB,cAAc,EAAE;QACdl+D,KAAK,EAAE85C,aADO;QAEd75C,MAAM,EAAEo/D;;KAXP;IAcL10D,MAAM,EAAE;MACN5E,MAAM,EAAE;QACNi5C,QAAQ,EAAE,OAAOpwB,QAAQ,CAACjkB,MAAT,CAAgBsJ,IAAhB,CAAqB+qC,QAA5B,KAAyC,WAAzC,GAAuDpwB,QAAQ,CAACjkB,MAAT,CAAgBsJ,IAAhB,CAAqB+qC,QAA5E,GAAuF,CAD3F;QAENvE,UAAU,EAAE,OAAO7rB,QAAQ,CAACjkB,MAAT,CAAgBsJ,IAAhB,CAAqBwmC,UAA5B,KAA2C,WAA3C,GAAyD7rB,QAAQ,CAACjkB,MAAT,CAAgBsJ,IAAhB,CAAqBwmC,UAA9E,GAA2F;OAHnG;MAKNxwB,IAAI,EAAE2E,QAAQ,CAACjkB,MAAT,CAAgBsJ,IAAhB,CAAqBgW,IALrB;MAMNvmB,IAAI,EAAEkrB,QAAQ,CAACjkB,MAAT,CAAgBsJ,IAAhB,CAAqBvQ,IANrB;MAONgrC,WAAW,EAAE/rC,IAAI,KAAK,KAAT,IAAkBA,IAAI,KAAK,QAA3B,GAAsC,YAAtC,GAAqD,UAP5D;MAQNkyB,SAAS,EAAEjG,QAAQ,CAACjkB,MAAT,CAAgBsJ,IAAhB,CAAqB4gB,SAR1B;MASNuoC,YAAY,EAAExuC,QAAQ,CAACjkB,MAAT,CAAgBsJ,IAAhB,CAAqBmpD;;GAvBvC;;;AA4BK,SAASkC,OAAT,CAAgBd,QAAhB,EAA0BC,SAA1B,EAAqC;MACpC1mD,KAAK,GAAGymD,QAAQ,CAAC/sD,KAAT,CAAe3X,MAA7B;MACM4J,IAAI,GAAGpG,IAAI,CAACiJ,IAAL,CAAUwR,KAAK,GAAG0mD,SAAlB,CAAb;MACMc,QAAQ,GAAGf,QAAQ,CAAC7zD,MAAT,CAAgB+jC,WAAhB,KAAgC,YAAhC,GAA+C,OAA/C,GAAyD,QAA1E;MACM3oC,MAAM,GAAGw5D,QAAQ,KAAK,OAAb,GAAuB,YAAvB,GAAsC,UAArD;SACQf,QAAQ,CAACb,aAAT,CAAuBU,aAAvB,CAAqCkB,QAArC,IAAiD77D,IAAlD,GACF,CAACA,IAAI,GAAG,CAAR,IAAa86D,QAAQ,CAAC7zD,MAAT,CAAgB5E,MAAhB,CAAuBA,MAAvB,CADlB;;;AAIK,SAASkD,OAAT,CAAgBu1D,QAAhB,EAA0BC,SAA1B,EAAqC;MACpC/6D,IAAI,GAAG+6D,SAAb;MACMc,QAAQ,GAAGf,QAAQ,CAAC7zD,MAAT,CAAgB+jC,WAAhB,KAAgC,YAAhC,GAA+C,QAA/C,GAA0D,OAA3E;MACM3oC,MAAM,GAAGw5D,QAAQ,KAAK,OAAb,GAAuB,YAAvB,GAAsC,UAArD;SACQf,QAAQ,CAACb,aAAT,CAAuBU,aAAvB,CAAqCkB,QAArC,IAAiD77D,IAAlD;GACDA,IAAI,GAAG,CAAR,IAAa86D,QAAQ,CAAC7zD,MAAT,CAAgB5E,MAAhB,CAAuBA,MAAvB,CADlB,CAJ0C;;;AAQrC,SAASy5D,YAAT,CAAqBC,eAArB,EAAsCC,eAAtC,EAAuDlB,QAAvD,EAAiE;MAChEzmD,KAAK,GAAGymD,QAAQ,CAAC/sD,KAAT,CAAe3X,MAA7B;MACM6lE,cAAc,GAAGnB,QAAQ,CAAC7zD,MAAT,CAAgB+jC,WAAhB,KAAgC,YAAhC,GAA+C,OAA/C,GAAyD,QAAhF;MACM3oC,MAAM,GAAG45D,cAAc,KAAK,OAAnB,GAA6B,YAA7B,GAA4C,UAA3D;MACMC,UAAU,GAAIpB,QAAQ,CAACb,aAAT,CAAuBU,aAAvB,CAAqCsB,cAArC,IAAuD5nD,KAAxD,GACd,CAACA,KAAK,GAAG,CAAT,IAAcymD,QAAQ,CAAC7zD,MAAT,CAAgB5E,MAAhB,CAAuBA,MAAvB,CADnB;MAEI85D,SAAS,GAAGviE,IAAI,CAACiJ,IAAL,CAAUq5D,UAAU,GAAGH,eAAvB,CAAhB;;MAEIC,eAAe,IAAI,IAAvB,EAA6B;QACrBI,cAAc,GAAGtB,QAAQ,CAAC7zD,MAAT,CAAgB+jC,WAAhB,KAAgC,YAAhC,GAA+C,QAA/C,GAA0D,OAAjF;QACMqxB,UAAU,GAAGziE,IAAI,CAACgG,KAAL,CAAWo8D,eAAe,IAAI,IAAIlB,QAAQ,CAACb,aAAT,CAAuBU,aAAvB,CAAqCyB,cAArC,CAAR,CAA1B,CAAnB;IACAD,SAAS,GAAGviE,IAAI,CAACwG,GAAL,CAAS+7D,SAAT,EAAoBE,UAApB,CAAZ;;;MAGIC,QAAQ,GAAGr8D,KAAK,CAAC66D,QAAQ,CAAC7zD,MAAT,CAAgBjH,IAAjB,CAAL,GAA8B,CAA9B,GAAkC86D,QAAQ,CAAC7zD,MAAT,CAAgBjH,IAAnE;SACOpG,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAYzG,IAAI,CAACwG,GAAL,CAAS+7D,SAAT,EAAoBG,QAApB,CAAZ,CAAP;;AAGa,8BAAUC,MAAV,SAEZ;6BADDC,QACC;MADDA,QACC,+BADU,YAAM,EAChB;MACG1B,QAAJ;MACIC,SAAJ;MACIF,QAAJ;MACI/6D,aAAJ;MACI4P,OAAM,GAAG,IAAb;MACI2wC,QAAQ,GAAG,CAAf;MAEMoc,GAAG,GAAG;IACVlB,OAAO,EAAE,iBAAC5pD,GAAD,EAAS;MAChBmpD,QAAQ,GAAGS,QAAO,CAAC5pD,GAAD,EAAM4qD,MAAM,CAACh1C,QAAb,CAAlB;MACA7X,OAAM,GAAG,CAACzP,KAAK,CAAC66D,QAAQ,CAAC7zD,MAAT,CAAgByyD,YAAjB,CAAN,GAAuCoB,QAAQ,CAAC7zD,MAAT,CAAgByyD,YAAvD,GAAsEhqD,OAA/E,CAFgB;KADR;IAKVkrD,gBAAgB,EAAE,0BAACjpD,GAAD,EAAS;MACzBkpD,QAAQ,GAAGlpD,GAAG,CAACkpD,QAAf;MACAxa,QAAQ,GAAGoc,GAAG,CAACC,kBAAJ,CAAuB7B,QAAvB,CAAX;UACMxvB,GAAG,GAAGoxB,GAAG,CAACb,MAAJ,EAAZ;MACAlsD,OAAM,GAAG9V,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAYzG,IAAI,CAACwG,GAAL,CAASsP,OAAT,EAAiB2wC,QAAjB,CAAZ,CAAT;MAEAvgD,aAAa,GAAGe,MAAM,CAAC,EAAD,EAAKg6D,QAAL,CAAtB;UAEM8B,cAAc,GAAGF,GAAG,CAACzxB,WAAJ,OAAsB,YAAtB,GAAqC,GAArC,GAA2C,GAAlE;MACAlrC,aAAa,CAAC68D,cAAD,CAAb,IAAiCjtD,OAAjC;MACA5P,aAAa,CAAC68D,cAAc,KAAK,GAAnB,GAAyB,OAAzB,GAAmC,QAApC,CAAb,GAA6DtxB,GAA7D;aAEOuvB,iBAAgB,CAACjpD,GAAD,EAAM7R,aAAN,EAAqB;QAAEg7D,QAAQ,EAARA,QAAF;QAAYC,SAAS,EAATA,SAAZ;QAAuBb,YAAY,EAAEqC,MAAM,CAACrpC;OAAjE,CAAvB;KAjBQ;IAmBV4oC,WAAW,EAAE,qBAACC,eAAD,EAAkBC,eAAlB,EAAsC;MACjDjB,SAAS,GAAGe,YAAW,CAACC,eAAD,EAAkBC,eAAlB,EAAmClB,QAAnC,CAAvB;aACOC,SAAP;KArBQ;IAuBV6B,kBAAkB,EAAE,8BAAM;UAClBf,QAAQ,GAAGf,QAAQ,CAAC7zD,MAAT,CAAgB+jC,WAAhB,KAAgC,YAAhC,GAA+C,OAA/C,GAAyD,QAA1E;aACO4wB,OAAM,CAACd,QAAD,EAAWC,SAAX,CAAN,GAA8BF,QAAQ,CAACgB,QAAD,CAA7C;KAzBQ;IA2BVa,kBAAkB,EAAE,8BAAqB;UAApBrgE,IAAoB,uEAAbw+D,QAAa;UACjCgB,QAAQ,GAAGf,QAAQ,CAAC7zD,MAAT,CAAgB+jC,WAAhB,KAAgC,YAAhC,GAA+C,OAA/C,GAAyD,QAA1E;aACOpxC,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAYu7D,OAAM,CAACd,QAAD,EAAWC,SAAX,CAAN,GAA8B1+D,IAAI,CAACw/D,QAAD,CAA9C,CAAP;KA7BQ;IA+BVgB,WAAW,EAAE,uBAAM;;UAEXhB,QAAQ,GAAGf,QAAQ,CAAC7zD,MAAT,CAAgB+jC,WAAhB,KAAgC,YAAhC,GAA+C,OAA/C,GAAyD,QAA1E;UACM3oC,MAAM,GAAGw5D,QAAQ,KAAK,OAAb,GAAuB,YAAvB,GAAsC,UAArD;aACOf,QAAQ,CAACb,aAAT,CAAuBU,aAAvB,CAAqCkB,QAArC,IAAiDf,QAAQ,CAAC7zD,MAAT,CAAgB5E,MAAhB,CAAuBA,MAAvB,CAAxD;KAnCQ;IAqCVy6D,WAAW,EAAE,uBAAM;;UAEXjB,QAAQ,GAAGf,QAAQ,CAAC7zD,MAAT,CAAgB+jC,WAAhB,KAAgC,YAAhC,GAA+C,OAA/C,GAAyD,QAA1E;UACM3oC,MAAM,GAAGw5D,QAAQ,KAAK,OAAb,GAAuB,YAAvB,GAAsC,UAArD;aACOf,QAAQ,CAACb,aAAT,CAAuBU,aAAvB,CAAqCkB,QAArC,IAAiDf,QAAQ,CAAC7zD,MAAT,CAAgB5E,MAAhB,CAAuBA,MAAvB,CAAxD;KAzCQ;IA2CV06D,OAAO,EAAE,mBAAM;UACTN,GAAG,CAACzxB,WAAJ,OAAsB,YAA1B,EAAwC;eAC/B6vB,QAAQ,CAAClhE,CAAT,GAAakhE,QAAQ,CAACv+D,KAAtB,GAA8BwD,aAAa,CAACnG,CAAd,GAAkBmG,aAAa,CAACxD,KAArE;;;aAEKu+D,QAAQ,CAAC/gE,CAAT,GAAa+gE,QAAQ,CAACt+D,MAAtB,GAA+BuD,aAAa,CAAChG,CAAd,GAAkBgG,aAAa,CAACvD,MAAtE;KA/CQ;IAiDVygE,OAAO,EAAE,mBAAM;UACTP,GAAG,CAACzxB,WAAJ,OAAsB,YAA1B,EAAwC;eAC/BlrC,aAAa,CAACnG,CAAd,GAAkBkhE,QAAQ,CAAClhE,CAAlC;;;aAEKmG,aAAa,CAAChG,CAAd,GAAkB+gE,QAAQ,CAAC/gE,CAAlC;KArDQ;IAuDVi/C,IAAI,EAAE,gBAAM;MACV0jB,GAAG,CAAC/8B,MAAJ,CAAW,CAAC+8B,GAAG,CAACI,WAAJ,EAAZ;KAxDQ;IA0DVvmB,IAAI,EAAE,gBAAM;MACVmmB,GAAG,CAAC/8B,MAAJ,CAAW+8B,GAAG,CAACK,WAAJ,EAAX;KA3DQ;IA6DVp9B,MAAM,EAAE,gBAAC2iB,KAAD,EAAW;UACX9/B,OAAO,GAAG3oB,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAYzG,IAAI,CAACwG,GAAL,CAASigD,QAAT,EAAoB3wC,OAAM,GAAG2yC,KAA7B,CAAZ,CAAhB;;UACI9/B,OAAO,KAAK7S,OAAhB,EAAwB;;;;MAGxBA,OAAM,GAAG6S,OAAT;MACAi6C,QAAQ;KAnEA;IAqEV9sD,MAAM,EAAE;aAAMA,OAAN;KArEE;IAsEVs7B,WAAW,EAAE;aAAM8vB,QAAQ,CAAC7zD,MAAT,CAAgB+jC,WAAtB;KAtEH;IAuEV7Z,SAAS,EAAE;aAAM2pC,QAAQ,CAAC7zD,MAAT,CAAgBkqB,SAAtB;KAvED;IAwEVyqC,MAAM,EAAE;aAAMA,OAAM,CAACd,QAAD,EAAWC,SAAX,CAAZ;KAxEE;;IAyEVx1D,MAAM,EAAE;aAAMA,OAAM,CAACu1D,QAAD,EAAWC,SAAX,CAAZ;KAzEE;;GAAZ;SA4EO0B,GAAP;;;AChWF;;;;;;AAMA,AAAe,SAASQ,WAAT,CAAqBC,QAArB,EAA+B;SACrC7lE,MAAM,CAACgS,IAAP,CAAY6zD,QAAZ,EAAsBp4D,MAAtB,CAA6B,UAACq4D,SAAD;WAAeD,QAAQ,CAACC,SAAD,CAAvB;GAA7B,EAAiExsD,IAAjE,CAAsE,GAAtE,CAAP;;;ACJF,IAAMysD,GAAG,GAAG;EACVrsC,EAAE,EAAE,QADM;EAEVztB,KAAK,EAAE,QAFG;EAGV0tB,IAAI,EAAE,QAHI;EAIV3tB,IAAI,EAAE;CAJR;;AAOA,SAASk4D,UAAT,OAIG;MAFDt8D,IAEC,QAFDA,IAEC;MADD06D,UACC,QADDA,UACC;SACM;IACL1yD,MAAM,EAAE;MACN+jC,WAAW,EAAE/rC,IAAI,KAAK,KAAT,IAAkBA,IAAI,KAAK,QAA3B,GAAsC,UAAtC,GAAmD;KAF7D;IAIL06D,UAAU,EAAVA;GAJF;;;AAQF,SAAS0D,GAAT,CAAa9oE,CAAb,SAMG;MALDyL,IAKC,SALDA,IAKC;MAJDolB,QAIC,SAJDA,QAIC;MAHD+L,SAGC,SAHDA,SAGC;MAFDmsC,GAEC,SAFDA,GAEC;MADDjF,KACC,SADDA,KACC;MACG/jE,CAAC,GAAG,EAAR;MACI0wC,OAAO,GAAG,EAAd;;MACIs4B,GAAG,IAAIA,GAAG,CAAC50D,MAAf,EAAuB;QACjB,OAAO40D,GAAG,CAAC50D,MAAJ,CAAW41C,KAAlB,KAA4B,UAAhC,EAA4C;MAC1ChqD,CAAC,GAAGgpE,GAAG,CAAC50D,MAAJ,CAAW41C,KAAX,CAAiB;QAAEntB,SAAS,EAATA;OAAnB,CAAJ;KADF,MAEO,IAAImsC,GAAG,CAAC50D,MAAJ,CAAW41C,KAAf,EAAsB;MAC3BhqD,CAAC,GAAGgpE,GAAG,CAAC50D,MAAJ,CAAW41C,KAAf;;;QAEE,OAAOgf,GAAG,CAAC50D,MAAJ,CAAWs8B,OAAlB,KAA8B,UAAlC,EAA8C;MAC5CA,OAAO,GAAGs4B,GAAG,CAAC50D,MAAJ,CAAWs8B,OAAX,CAAmBzwC,CAAnB,EAAsB;QAAE48B,SAAS,EAATA;OAAxB,CAAV;;;;MAGE9F,KAAK,GAAG;IACZ/uB,KAAK,YAAK0D,IAAL,OADO;IAEZW,QAAQ,YAAKX,IAAL,OAFI;IAGZzD,MAAM,YAAKyD,IAAL;GAHR;;MAMI,CAAC3I,MAAM,CAACgS,IAAP,CAAY/U,CAAZ,EAAe8B,MAApB,EAA4B;;IAC1Bi1B,KAAK,CAAC80B,MAAN,GAAe,GAAf;IACA90B,KAAK,CAACgmB,UAAN,GAAmB,MAAnB;;;MAEIksB,WAAW,GAAGlF,KAApB;;MACI,CAACjzC,QAAD,IAAck4C,GAAG,IAAIA,GAAG,CAAC1D,QAA7B,EAAwC;IACtC2D,WAAW,CAAC3D,QAAZ,GAAuB,UAAvB;;;SAGKrlE,CAAC,CAAC,QAAD,EAAWsM,MAAM,CAAC;IACxBy9C,KAAK,EAAE2e,WAAW,CAAC3oE,CAAD,CADM;IAExB+2B,KAAK,EAALA;GAFuB,EAGtBkyC,WAHsB,CAAjB,EAGS,CAACv4B,OAAO,IAAIzwC,CAAC,CAAC,MAAD,EAAS;IACrC82B,KAAK,EAAE;MACLgzB,aAAa,EAAE;;GAFW,EAI3B,CAAC+e,GAAG,CAACjsC,SAAD,CAAJ,CAJ2B,CAAb,CAHT,CAAR;;;AAUF,SAASnI,SAAT,CAAgBzB,QAAhB,SAGGuzC,QAHH,EAGayB,MAHb,EAGqB;MAFnBlgE,IAEmB,SAFnBA,IAEmB;MADnBmhE,YACmB,SADnBA,YACmB;;MACf,CAACj2C,QAAD,IAAa,CAACA,QAAQ,CAACmP,UAA3B,EAAuC;;;;EAGvCnP,QAAQ,CAACvnB,IAAT,CAAc3D,IAAd;MACM9H,CAAC,GAAGgzB,QAAQ,CAACmP,UAAT,CAAoB,CAApB,CAAV;MAEMnF,UAAU,GAAGupC,QAAQ,CAAC7zD,MAAT,CAAgB+jC,WAAhB,KAAgC,UAAnD,CAPmB;;MAQbyyB,KAAK,GAAGD,YAAY,CAACrsC,SAAb,OAA6B,KAA3C;MAEM4rC,OAAO,GAAGS,YAAY,CAACT,OAAb,EAAhB;MACMC,OAAO,GAAGQ,YAAY,CAACR,OAAb,EAAhB;;MAEI,CAACA,OAAD,IAAY,CAACD,OAAjB,EAA0B;IACxBx1C,QAAQ,CAACyB,MAAT,CAAgB,EAAhB;;;;MAII00C,UAAU,GAAG,EAAnB;MAEMn2D,KAAK,GAAGgqB,UAAU,GAAG,CAAC,OAAD,EAAU,MAAV,CAAH,GAAuB,CAAC,MAAD,EAAS,IAAT,CAA/C;;MAEIksC,KAAK,IAAIlsC,UAAb,EAAyB;IACvBhqB,KAAK,CAACyH,OAAN;;;MAGI2Y,KAAK,GAAG,CAACpzB,CAAC,CAAC,KAAD,EAAQ;IACtB82B,KAAK,EAAE;MACLpW,QAAQ,EAAE,UADL;MAEL0oD,OAAO,EAAE,MAFJ;wBAGapsC,UAAU,GAAG,QAAH,GAAc,KAHrC;yBAIc,QAJd;MAKLh1B,MAAM,EAAE,MALH;MAML8hD,aAAa,EAAE;KAPK;IAStB3N,GAAG,EAAE+sB,KAAK,IAAI,CAAClsC,UAAV,GAAuB,KAAvB,GAA+B;GATtB,EAUb,CAAC8rC,GAAG,CAAC9oE,CAAD,EAAI;IACTyL,IAAI,EAAE09D,UADG;IAETt4C,QAAQ,EAAE23C,OAFD;IAGT5rC,SAAS,EAAE5pB,KAAK,CAAC,CAAD,CAHP;IAIT8wD,KAAK,EAAE;qBACU,MADV;4BAEiBkE,MAAM,CAACx9D,QAAP,CAAgBxH;KAN/B;IAQT+lE,GAAG,EAAExC,QAAQ,CAACnB;GART,CAAJ,EASC0D,GAAG,CAAC9oE,CAAD,EAAI;IACTyL,IAAI,EAAE09D,UADG;IAETt4C,QAAQ,EAAE43C,OAFD;IAGT7rC,SAAS,EAAE5pB,KAAK,CAAC,CAAD,CAHP;IAIT8wD,KAAK,EAAE;qBACU,MADV;4BAEiBkE,MAAM,CAACx9D,QAAP,CAAgBxH;KAN/B;IAQT+lE,GAAG,EAAExC,QAAQ,CAACnB;GART,CATJ,CAVa,CAAF,CAAd;EA6BApyC,QAAQ,CAACyB,MAAT,CAAgBrB,KAAhB;;;AAGF,AAAe,oCAAU40C,MAAV,EAAkB;MAC3BzB,QAAJ;MAEMwC,GAAG,GAAG;IACV/B,OAAO,EAAE,iBAAC5pD,GAAD,EAAS;MAChBmpD,QAAQ,GAAGS,UAAO,CAAC5pD,GAAD,CAAlB;KAFQ;IAIVqX,MAAM,EAAE,gBAACrX,GAAD;aAASqX,SAAM,CAACs0C,GAAG,CAAC/1C,QAAL,EAAe5V,GAAf,EAAoBmpD,QAApB,EAA8ByB,MAA9B,CAAf;KAJE;IAKVX,MAAM,EAAE;aAAM,EAAN;KALE;IAMVr2D,MAAM,EAAE;aAAM,EAAN;;GANV;SASO+3D,GAAP;;;AC1IF,SAAS/B,UAAT,OAEGgB,MAFH,EAEW;MADTrxC,QACS,QADTA,QACS;;MACLA,QAAQ,CAACzd,KAAT,CAAe8C,IAAf,CAAoBjR,IAApB,KAA6B,KAAjC,EAAwC;WAC/B,IAAP;;;MAEI1K,CAAC,GAAGiM,MAAM,CAAC,EAAD,EAAKqqB,QAAQ,CAACzd,KAAT,CAAe8C,IAApB,EAA0B;IACxCva,IAAI,EAAE;GADQ,CAAhB;;MAIIk1B,QAAQ,CAACjkB,MAAT,CAAgBsJ,IAAhB,CAAqB4gB,SAArB,KAAmC,KAAvC,EAA8C;QACxC,CAACv8B,CAAC,CAAC05B,MAAH,IAAa15B,CAAC,CAAC05B,MAAF,KAAa,OAA9B,EAAuC;MACrC15B,CAAC,CAAC05B,MAAF,GAAW,KAAX;KADF,MAEO,IAAI15B,CAAC,CAAC05B,MAAF,KAAa,KAAjB,EAAwB;MAC7B15B,CAAC,CAAC05B,MAAF,GAAW,OAAX;;;;MAIA,OAAOpD,QAAQ,CAACzd,KAAT,CAAe1O,QAAf,CAAwBsoB,IAA/B,KAAwC,WAA5C,EAAyD;QACjDzW,MAAM,GAAG2rD,MAAM,CAACp+D,KAAP,CAAa1I,IAAb,GAAoBmb,MAAnC;IACAhc,CAAC,CAACyyB,IAAF,GAASzW,MAAM,IAAIA,MAAM,CAAC,CAAD,CAAhB,GAAsBA,MAAM,CAAC,CAAD,CAAN,CAAUnD,KAAV,EAAtB,GAA0C,EAAnD;;;SAGK;IACL0sD,aAAa,EAAEvlE,CADV;IAEL0wD,MAAM,EAAEiX,MAAM,CAACh1C,QAAP,CAAgB4tB,UAAhB,CAA2BvgD,CAA3B;GAFV;;;AAMF,SAASo0B,SAAT,QAEGzB,QAFH,EAEauzC,QAFb,EAEuB;MADrBz+D,IACqB,SADrBA,IACqB;;MACjB,CAACkrB,QAAL,EAAe;;;;MAGTI,KAAK,GAAG,EAAd;EACAJ,QAAQ,CAACvnB,IAAT,CAAc3D,IAAd;;MACIy+D,QAAJ,EAAc;QACN36D,KAAK,GAAG;MACZlF,KAAK,EAAE,CADK;MAEZC,GAAG,EAAEmB,IAAI,CAACC,KAFE;MAGZm0D,MAAM,EAAEp0D,IAAI,CAACC,KAAL,GAAa;KAHvB;IAKAqrB,KAAK,CAACtxB,IAAN,CAAWwK,MAAM,CAAC,EAAD,EAAKi6D,QAAQ,CAACX,aAAd,EAA6B;MAC5CxgE,CAAC,EAAEwG,KAAK,CAAC26D,QAAQ,CAACX,aAAT,CAAuB7rC,MAAxB,CAAL,IAAwC,CADC;MAE5Cx0B,CAAC,EAAE,CAFyC;MAG5Cs0B,QAAQ,EAAE,kBAHkC;MAI5C3gB,KAAK,EAAEqtD,QAAQ,CAACX,aAAT,CAAuB9yC;KAJf,CAAjB;;;EAOFE,QAAQ,CAACyB,MAAT,CAAgBrB,KAAhB;;;AAGF,AAAe,+BAAU40C,MAAV,EAAkB;MAC3BzB,QAAJ;MAEM2B,GAAG,GAAG;IACVlB,OAAO,EAAE,iBAAC5pD,GAAD,EAAS;MAChBmpD,QAAQ,GAAGS,UAAO,CAAC5pD,GAAD,EAAM4qD,MAAN,CAAlB;KAFQ;IAIVvzC,MAAM,EAAE,gBAACrX,GAAD,EAAS;MACfqX,SAAM,CAACrX,GAAD,EAAM8qD,GAAG,CAACl1C,QAAV,EAAoBuzC,QAApB,CAAN;KALQ;IAOVv1D,MAAM,EAAE;aAAOu1D,QAAQ,GAAGA,QAAQ,CAACxV,MAAT,CAAgB/oD,MAAnB,GAA4B,CAA3C;KAPE;IAQVq/D,MAAM,EAAE;aAAOd,QAAQ,GAAGA,QAAQ,CAACxV,MAAT,CAAgBhpD,KAAnB,GAA2B,CAA1C;;GARV;SAWOmgE,GAAP;;;ACpEF;;AAEA,AAAe,SAASx1D,MAAT,CAAgB5K,IAAhB,EAAsBshE,OAAtB,EAA+B3yB,WAA/B,QAKZ;MAJDwyB,YAIC,QAJDA,YAIC;MAHDI,kBAGC,QAHDA,kBAGC;MAFDC,aAEC,QAFDA,aAEC;gCADDC,aACC;MADDA,aACC,mCADe,KACf;MACGrwD,KAAJ;MACIu3B,OAAJ;MACI20B,UAAJ;MACIv6D,aAAa,GAAG,CAApB;MAEM2+D,UAAU,GAAG;IACjBpkE,CAAC,EAAEgkE,OAAO,CAAC1kB,OADM;IAEjBn/C,CAAC,EAAE6jE,OAAO,CAAC1kB,OAFM;IAGjB38C,KAAK,EAAED,IAAI,CAACC,KAAL,GAAc,IAAIqhE,OAAO,CAAC1kB,OAHhB;IAIjB18C,MAAM,EAAEF,IAAI,CAACE,MAAL,GAAe,IAAIohE,OAAO,CAAC1kB;GAJrC;EAOAxrC,KAAK,GAAG;IACN9T,CAAC,EAAEokE,UAAU,CAACpkE,CADR;IAENG,CAAC,EAAEikE,UAAU,CAACjkE,CAFR;IAGNwC,KAAK,EAAEyhE,UAAU,CAACzhE,KAHZ;IAINC,MAAM,EAAEshE,aAAa,CAACt4D,MAAd;GAJV;;MAOIylC,WAAW,KAAK,YAApB,EAAkC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAwChCv9B,KAAK,GAAG;MACN9T,CAAC,EAAEokE,UAAU,CAACpkE,CADR;MAENG,CAAC,EAAEikE,UAAU,CAACjkE,CAFR;MAGNwC,KAAK,EAAEuhE,aAAa,CAACjC,MAAd,EAHD;MAINr/D,MAAM,EAAEshE,aAAa,CAACt4D,MAAd;KAJV,CAxCgC;;QAgD1By4D,uBAAuB,GAAGD,UAAU,CAACzhE,KAAX,GAAmBmR,KAAK,CAACnR,KAAzB,IAAkCmR,KAAK,CAACnR,KAAN,GAAcqhE,OAAO,CAAC1kB,OAAtB,GAAgC,CAAlE,CAAhC;QACMglB,uBAAuB,GAAGF,UAAU,CAACxhE,MAA3C;IACAihE,YAAY,CAAC1B,WAAb,CAAyBkC,uBAAzB,EAAkDF,aAAa,GAAGz/D,SAAH,GAAe4/D,uBAA9E;QAEMC,cAAc,GAAGV,YAAY,CAAC5B,MAAb,KAAwBoC,uBAAxB,GAAkDJ,kBAAkB,CAAChC,MAAnB,EAAlD,GAAgF,CAAvG;QACMr2D,MAAM,GAAGi4D,YAAY,CAACj4D,MAAb,EAAf;QACM44D,gBAAgB,GAAGD,cAAc,GAAGN,kBAAkB,CAACr4D,MAAnB,EAAH,GAAiC,CAAxE;IACAy/B,OAAO,GAAG;MACRrrC,CAAC,EAAE8T,KAAK,CAAC9T,CAAN,GAAU8T,KAAK,CAACnR,KAAhB,IAAyBmR,KAAK,CAACnR,KAAN,GAAcqhE,OAAO,CAAC1kB,OAAtB,GAAgC,CAAzD,CADK;MAERn/C,CAAC,EAAEikE,UAAU,CAACjkE,CAAX,GAAeF,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAY,CAAC89D,gBAAgB,GAAG54D,MAApB,IAA8B,CAA1C,CAFV;MAGRjJ,KAAK,EAAEyhE,UAAU,CAACzhE,KAAX,GAAmB4hE,cAAnB,GAAoCzwD,KAAK,CAACnR,KAA1C,IAAmD4hE,cAAc,GAAGP,OAAO,CAAC1kB,OAAX,GAAqB,CAAtF,KAA4FxrC,KAAK,CAACnR,KAAN,GAAcqhE,OAAO,CAAC1kB,OAAtB,GAAgC,CAA5H,CAHC;MAIR18C,MAAM,EAAE0hE;KAJV;IAMAtE,UAAU,GAAG;MACXhgE,CAAC,EAAEqrC,OAAO,CAACrrC,CAAR,GAAYqrC,OAAO,CAAC1oC,KAApB,IAA6B4hE,cAAc,GAAGP,OAAO,CAAC1kB,OAAX,GAAqB,CAAhE,CADQ;MAEXn/C,CAAC,EAAEikE,UAAU,CAACjkE,CAFH;MAGXwC,KAAK,EAAE4hE,cAHI;MAIX3hE,MAAM,EAAEwhE,UAAU,CAACxhE;KAJrB;IAOAkR,KAAK,CAAC3T,CAAN,GAAUkrC,OAAO,CAAClrC,CAAlB;QAEM2jE,KAAK,GAAGD,YAAY,CAACrsC,SAAb,OAA6B,KAA3C;;QACIssC,KAAJ,EAAW;;MACT9D,UAAU,CAAChgE,CAAX,GAAeokE,UAAU,CAACpkE,CAA1B;MACAqrC,OAAO,CAACrrC,CAAR,GAAYggE,UAAU,CAAChgE,CAAX,GAAeggE,UAAU,CAACr9D,KAA1B,IAAmCq9D,UAAU,CAACr9D,KAAX,GAAmBqhE,OAAO,CAAC1kB,OAA3B,GAAqC,CAAxE,CAAZ;MACAxrC,KAAK,CAAC9T,CAAN,GAAUqrC,OAAO,CAACrrC,CAAR,GAAYqrC,OAAO,CAAC1oC,KAApB,IAA6BmR,KAAK,CAACnR,KAAN,GAAcqhE,OAAO,CAAC1kB,OAAtB,GAAgC,CAA7D,CAAV;;;IAEF75C,aAAa,GAAGxF,IAAI,CAACyG,GAAL,CAASoN,KAAK,CAAClR,MAAf,EAAuB4hE,gBAAvB,EAAyCX,YAAY,CAACj4D,MAAb,EAAzC,CAAhB,CA5EgC;GAAlC,MA8EO;;;;;;;;QASCy4D,wBAAuB,GAAGD,UAAU,CAACxhE,MAAX,GAAoBkR,KAAK,CAAClR,MAA1B,IAAoCkR,KAAK,CAAClR,MAAN,GAAeohE,OAAO,CAAC1kB,OAAvB,GAAiC,CAArE,CAAhC;;QACMglB,wBAAuB,GAAGF,UAAU,CAACzhE,KAA3C;IACAkhE,YAAY,CAAC1B,WAAb,CAAyBkC,wBAAzB,EAAkDF,aAAa,GAAGz/D,SAAH,GAAe4/D,wBAA9E;;QAEMC,eAAc,GAAGV,YAAY,CAAC5B,MAAb,KAAwBoC,wBAAxB,GAAkDJ,kBAAkB,CAAChC,MAAnB,EAAlD,GAAgF,CAAvG;;IACAjC,UAAU,GAAG;MACXhgE,CAAC,EAAEokE,UAAU,CAACpkE,CADH;MAEXG,CAAC,EAAEikE,UAAU,CAACjkE,CAAX,GAAeikE,UAAU,CAACxhE,MAA1B,GAAmC2hE,eAF3B;MAGX5hE,KAAK,EAAEyhE,UAAU,CAACzhE,KAHP;MAIXC,MAAM,EAAE2hE;KAJV;IAOAl5B,OAAO,GAAG;MACRrrC,CAAC,EAAEokE,UAAU,CAACpkE,CADN;MAERG,CAAC,EAAE2T,KAAK,CAAC3T,CAAN,GAAU2T,KAAK,CAAClR,MAAhB,IAA0BkR,KAAK,CAAClR,MAAN,GAAeohE,OAAO,CAAC1kB,OAAvB,GAAiC,CAA3D,CAFK;MAGR38C,KAAK,EAAEyhE,UAAU,CAACzhE,KAHV;MAIRC,MAAM,EAAEwhE,UAAU,CAACxhE,MAAX,GAAoBkR,KAAK,CAAClR,MAA1B,IAAoCkR,KAAK,CAAClR,MAAN,GAAeohE,OAAO,CAAC1kB,OAAvB,GAAiC,CAArE,IAA0E0gB,UAAU,CAACp9D,MAArF,IAA+Fo9D,UAAU,CAACp9D,MAAX,GAAoBohE,OAAO,CAAC1kB,OAA5B,GAAsC,CAArI;KAJV;IAOA75C,aAAa,GAAGxF,IAAI,CAACyG,GAAL,CAASw9D,aAAa,CAACjC,MAAd,EAAT,EAAiCsC,eAAc,GAAGN,kBAAkB,CAACr4D,MAAnB,EAAH,GAAiC,CAAhF,EAAmFi4D,YAAY,CAACj4D,MAAb,EAAnF,CAAhB;;;EAGFy/B,OAAO,GAAGnkC,MAAM,CAAC,EAAD,EAAKxE,IAAL,EAAW;IACzB1C,CAAC,EAAE0C,IAAI,CAAC1C,CAAL,GAASqrC,OAAO,CAACrrC,CADK;IAEzBG,CAAC,EAAEuC,IAAI,CAACvC,CAAL,GAASkrC,OAAO,CAAClrC,CAFK;IAGzBwC,KAAK,EAAE0oC,OAAO,CAAC1oC,KAHU;IAIzBC,MAAM,EAAEyoC,OAAO,CAACzoC;GAJF,CAAhB;EAOAo9D,UAAU,CAAChgE,CAAX,IAAgB0C,IAAI,CAAC1C,CAArB;EACAggE,UAAU,CAAC7/D,CAAX,IAAgBuC,IAAI,CAACvC,CAArB;EAEA2T,KAAK,CAAC9T,CAAN,IAAW0C,IAAI,CAAC1C,CAAhB;EACA8T,KAAK,CAAC3T,CAAN,IAAWuC,IAAI,CAACvC,CAAhB;SAEO;IACL2T,KAAK,EAAE5M,MAAM,CAAC,EAAD,EAAKxE,IAAL,EAAWoR,KAAX,CADR;IAELu3B,OAAO,EAAEnkC,MAAM,CAAC,EAAD,EAAKxE,IAAL,EAAW2oC,OAAX,CAFV;IAGL20B,UAAU,EAAE94D,MAAM,CAAC,EAAD,EAAKxE,IAAL,EAAWs9D,UAAX,CAHb;IAIL3uB,WAAW,EAAXA,WAJK;IAKL5rC,aAAa,EAAbA;GALF;;;AC/IF,SAASkgB,MAAT,CAAgB3c,IAAhB,EAAsB;EACpBA,IAAI,CAACiiB,KAAL,CAAWsG,QAAX,GAAsB3qB,iBAAe,CAACoC,IAAD,CAArC;EACAA,IAAI,CAACk7D,aAAL,CAAmBtC,OAAnB,CAA2B;IACzBrwC,QAAQ,EAAEvoB,IAAI,CAACiiB,KAAL,CAAWsG,QADI;IAEzBjsB,IAAI,EAAE0D,IAAI,CAAC5D,QAAL,CAAckI,MAAd,CAAqBhI,IAArB,IAA6B;GAFrC;EAIA0D,IAAI,CAAC66D,YAAL,CAAkBjC,OAAlB,CAA0B;IACxBrwC,QAAQ,EAAEvoB,IAAI,CAACiiB,KAAL,CAAWsG,QADG;IAExBjsB,IAAI,EAAE0D,IAAI,CAAC5D,QAAL,CAAckI,MAAd,CAAqBhI,IAArB,IAA6B;GAFrC;EAIA0D,IAAI,CAACi7D,kBAAL,CAAwBrC,OAAxB,CAAgC;IAC9BrwC,QAAQ,EAAEvoB,IAAI,CAACiiB,KAAL,CAAWsG,QADS;IAE9BjsB,IAAI,EAAE0D,IAAI,CAAC5D,QAAL,CAAckI,MAAd,CAAqBhI,IAArB,IAA6B,QAFL;IAG9B06D,UAAU,EAAEh3D,IAAI,CAAC5D,QAAL,CAAcA,QAAd,CAAuB46D;GAHrC;EAMAh3D,IAAI,CAACiiB,KAAL,CAAW+4C,OAAX,GAAqB;IACnB1kB,OAAO,EAAE;GADX;;;AAKF,SAAS75C,cAAT,CAAuBuD,IAAvB,EAA6B3C,IAA7B,EAAmC;MAC7BrL,CAAC,GAAG,CAAR;MACMsK,IAAI,GAAG0D,IAAI,CAAC5D,QAAL,CAAckI,MAAd,CAAqBhI,IAArB,IAA6B,QAA1C;MACM+rC,WAAW,GAAG/rC,IAAI,KAAK,KAAT,IAAkBA,IAAI,KAAK,QAA3B,GAAsC,YAAtC,GAAqD,UAAzE;MACMkH,CAAC,GAAGxD,IAAI,CAACiiB,KAAL,CAAW+4C,OAArB;MACMS,UAAU,GAAGn3D,MAAM,CAACjH,IAAI,CAACR,KAAN,EAAa2G,CAAb,EAAgB6kC,WAAhB,EAA6B;IACpDwyB,YAAY,EAAE76D,IAAI,CAAC66D,YADiC;IAEpDI,kBAAkB,EAAEj7D,IAAI,CAACi7D,kBAF2B;IAGpDC,aAAa,EAAEl7D,IAAI,CAACk7D,aAHgC;IAIpDC,aAAa,EAAE;GAJQ,CAAzB;EAMAnpE,CAAC,IAAIwR,CAAC,CAAC8yC,OAAP,CAXiC;;EAYjCtkD,CAAC,IAAIypE,UAAU,CAACh/D,aAAhB;EACAzK,CAAC,IAAIwR,CAAC,CAAC8yC,OAAP,CAbiC;;SAc1BtkD,CAAP;;;AAGF,SAASq0B,SAAT,CAAgBuzC,MAAhB,EAAwB;MAEpBlgE,IAFoB,GAQlBkgE,MARkB,CAEpBlgE,IAFoB;MAGpB0C,QAHoB,GAQlBw9D,MARkB,CAGpBx9D,QAHoB;MAIpB6lB,KAJoB,GAQlB23C,MARkB,CAIpB33C,KAJoB;MAKpB44C,YALoB,GAQlBjB,MARkB,CAKpBiB,YALoB;MAMpBI,kBANoB,GAQlBrB,MARkB,CAMpBqB,kBANoB;MAOpBC,aAPoB,GAQlBtB,MARkB,CAOpBsB,aAPoB;MAShB5+D,IAAI,GAAGF,QAAQ,CAACkI,MAAT,CAAgBhI,IAA7B;MACM+rC,WAAW,GAAG/rC,IAAI,KAAK,KAAT,IAAkBA,IAAI,KAAK,QAA3B,GAAsC,YAAtC,GAAqD,UAAzE;MACMzK,CAAC,GAAGyS,MAAM,CAAC5K,IAAD,EAAOuoB,KAAK,CAAC+4C,OAAb,EAAsB3yB,WAAtB,EAAmC;IACjDwyB,YAAY,EAAZA,YADiD;IAEjDI,kBAAkB,EAAlBA,kBAFiD;IAGjDC,aAAa,EAAbA;GAHc,CAAhB;EAMAtB,MAAM,CAACh1C,QAAP,CAAgBvnB,IAAhB,CAAqBxL,CAAC,CAACwwC,OAAvB,EAjBsB;;;;;;;MA4BlBq5B,YAAY,GAAGb,YAAY,CAAC5C,gBAAb,CAA8B;IAC/CC,QAAQ,EAAEh6D,MAAM,CAAC,EAAD,EAAKrM,CAAC,CAACwwC,OAAP,EAAgB;MAAErrC,CAAC,EAAE,CAAL;MAAQG,CAAC,EAAE;KAA3B;GADC,CAAnB;EAIA8jE,kBAAkB,CAAC50C,MAAnB,CAA0B;IACxB3sB,IAAI,EAAE7H,CAAC,CAACmlE,UADgB;IAExB6D,YAAY,EAAZA;GAFF;EAKAK,aAAa,CAAC70C,MAAd,CAAqB;IACnB3sB,IAAI,EAAE7H,CAAC,CAACiZ;GADV;EAIA8uD,MAAM,CAAC33C,KAAP,CAAa05C,KAAb,GAAqB;IACnBr3D,MAAM,EAAEzS;GADV;SAIO6pE,YAAP;;;AAGF,IAAMx3D,WAAS,GAAG;EAChB+rB,OAAO,EAAE,CAAC,OAAD,EAAU,UAAV,EAAsB,UAAtB,EAAkC,QAAlC,EAA4C,UAA5C,EAAwD,YAAxD,EAAsE,QAAtE,CADO;EAEhBpc,eAAe,EAAE;IACfzX,QAAQ,EAAE,EADK;IAEfssB,KAAK,EAAE;MACL9a,IAAI,EAAE;QACJ3C,KAAK,EAAE,QADH;QAEJ3L,KAAK,EAAE;OAHJ;MAKLwL,KAAK,EAAE;;GATK;EAYhB2nB,OAZgB,mBAYRmpC,aAZQ,EAYO;QACjBA,aAAa,IAAIA,aAAa,CAACxX,UAAnC,EAA+C;WACxC6W,kBAAL,CAAwBr2C,QAAxB,CAAiCuQ,QAAjC,CAA0CymC,aAAa,CAACxX,UAAxD;WACK8W,aAAL,CAAmBt2C,QAAnB,CAA4BuQ,QAA5B,CAAqCymC,aAAa,CAACxX,UAAnD;MAEAwX,aAAa,CAACxX,UAAd,CAAyBxpB,YAAzB,CAAsC,KAAKqgC,kBAAL,CAAwBr2C,QAAxB,CAAiCoG,OAAjC,EAAtC,EAAkF4wC,aAAlF;MACAA,aAAa,CAACxX,UAAd,CAAyBxpB,YAAzB,CAAsC,KAAKsgC,aAAL,CAAmBt2C,QAAnB,CAA4BoG,OAA5B,EAAtC,EAA6E4wC,aAA7E;;;SAEGX,kBAAL,CAAwB50C,MAAxB,CAA+B;MAC7B3sB,IAAI,EAAE,KAAKuoB,KAAL,CAAW05C,KAAX,CAAiBr3D,MAAjB,CAAwB0yD,UADD;MAE7B6D,YAAY,EAAE,KAAKA;KAFrB;SAKKK,aAAL,CAAmB70C,MAAnB,CAA0B;MACxB3sB,IAAI,EAAE,KAAKuoB,KAAL,CAAW05C,KAAX,CAAiBr3D,MAAjB,CAAwBwG;KADhC;GAzBc;EA6BhB4nB,aA7BgB,2BA6BA;SACTuoC,kBAAL,CAAwBr2C,QAAxB,CAAiCvG,KAAjC;SACK68C,aAAL,CAAmBt2C,QAAnB,CAA4BvG,KAA5B;GA/Bc;EAiChBuL,EAAE,EAAE;IACFiyC,QADE,sBACS;UACL,KAAK55C,KAAL,CAAW0b,WAAX,CAAuB7X,OAA3B,EAAoC;;;;UAG9Bg2C,eAAe,GAAG,KAAKjB,YAAL,CAAkBd,kBAAlB,EAAxB;;UACI,CAAC+B,eAAL,EAAsB;;;;WAGjB75C,KAAL,CAAW0b,WAAX,CAAuB7X,OAAvB,GAAiC,IAAjC;WACK7D,KAAL,CAAW0b,WAAX,CAAuB+hB,KAAvB,GAA+B,CAA/B;KAVA;IAYFqc,OAZE,mBAYMh3D,CAZN,EAYS;UACL,CAAC,KAAKkd,KAAL,CAAW0b,WAAX,CAAuB7X,OAA5B,EAAqC;;;;UAG/B45B,KAAK,GAAG,KAAKmb,YAAL,CAAkBxyB,WAAlB,OAAoC,YAApC,GAAmD,CAAC,KAAKwyB,YAAL,CAAkBrsC,SAAlB,OAAkC,KAAlC,GAA0C,CAAC,CAA3C,GAA+C,CAAhD,IAAqDzpB,CAAC,CAACk2C,MAA1G,GAAmHl2C,CAAC,CAACm2C,MAAnI;WACK2f,YAAL,CAAkB99B,MAAlB,CAAyB2iB,KAAK,GAAG,KAAKz9B,KAAL,CAAW0b,WAAX,CAAuB+hB,KAAxD;WACKz9B,KAAL,CAAW0b,WAAX,CAAuB+hB,KAAvB,GAA+BA,KAA/B;KAlBA;IAoBFsc,MApBE,oBAoBO;WACF/5C,KAAL,CAAW0b,WAAX,CAAuB7X,OAAvB,GAAiC,KAAjC;KArBA;IAuBFiX,MAvBE,kBAuBK2iB,KAvBL,EAuBY;WACPmb,YAAL,CAAkB99B,MAAlB,CAAyB,CAAC2iB,KAA1B;KAxBA;IA0BFtJ,IA1BE,kBA0BK;WACAykB,YAAL,CAAkBzkB,IAAlB;KA3BA;IA6BFzC,IA7BE,kBA6BK;WACAknB,YAAL,CAAkBlnB,IAAlB;;GA/DY;EAkEhBphB,OAlEgB,qBAkEN;;;SACHtQ,KAAL,GAAa;MACX0b,WAAW,EAAE;KADf;;SAGKk8B,QAAL,GAAgB,YAAM;UACdzuD,KAAK,GAAGib,SAAM,CAAC,KAAD,CAApB;;MACA,KAAI,CAAC1J,MAAL,CAAYvR,KAAZ;KAFF;;SAIKyvD,YAAL,GAAoBoB,mBAAmB,CAAC,IAAD,EAAO;MAC5CpC,QAAQ,EAAE,KAAKA;KADsB,CAAvC;SAGKoB,kBAAL,GAA0BiB,yBAAyB,CAAC,IAAD,CAAnD;SACKhB,aAAL,GAAqBiB,oBAAoB,CAAC,IAAD,CAAzC;SACKlB,kBAAL,CAAwBr2C,QAAxB,GAAmC,KAAKwL,UAAL,CAAgBxL,QAAhB,CAAyB,KAAzB,GAAnC;SACKs2C,aAAL,CAAmBt2C,QAAnB,GAA8B,KAAKwL,UAAL,CAAgBxL,QAAhB,CAAyB,KAAKxoB,QAAL,CAAcwoB,QAAvC,GAA9B;IACAjI,MAAM,CAAC,IAAD,CAAN;GAjFc;EAmFhBlgB,aAnFgB,yBAmFFuS,GAnFE,EAmFG;WACVvS,cAAa,CAAC,IAAD,EAAOuS,GAAP,CAApB;GApFc;EAsFhB2jB,YAtFgB,0BAsFD;IACbhW,MAAM,CAAC,IAAD,CAAN;GAvFc;EAyFhB0J,MAzFgB,oBAyFP;WACAA,SAAM,CAAC,IAAD,CAAb;GA1Fc;EA4FhBwM,aA5FgB,2BA4FA;SACTooC,kBAAL,CAAwBr2C,QAAxB,CAAiC2P,OAAjC;SACK2mC,aAAL,CAAmBt2C,QAAnB,CAA4B2P,OAA5B;GA9Fc;EAgGhBmG,kBAhGgB,gCAgGK;WACZ,CACL,KAAKwgC,aAAL,CAAmBt2C,QAAnB,CAA4BoG,OAA5B,EADK,EAEL,KAAKiwC,kBAAL,CAAwBr2C,QAAxB,CAAiCoG,OAAjC,EAFK,CAAP;GAjGc;EAsGhBsF,mBAtGgB,iCAsGM;WACb;MACLvjB,MAAM,EAAE,KAAK8tD,YAAL,CAAkB9tD,MAAlB;KADV;;CAvGJ;;AC3FA;;;;;;;;;;AASA,IAAM1Z,MAAI,GAAG,YAAb;AAEA,AAAe,SAAS+oE,iBAAT,CAA2BtzB,OAA3B,EAAoC;EACjDA,OAAO,CAAC5kC,SAAR,CAAkB7Q,MAAlB,EAAwB6Q,WAAxB;;;ACdF,SAASm4D,iBAAT,CAA2BpnD,GAA3B,EAAgCyC,IAAhC,EAAsC;MAChC7L,MAAM,GAAG,CAAb;MACMywD,GAAG,GAAG;IACVjpE,IAAI,EAAE4hB,GAAG,CAACgN,KAAJ,CAAU2M,UAAV,GAAuB,SAAvB,GAAmC,OAD/B;IAEV0xB,KAAK,EAAErrC,GAAG,CAACgN,KAAJ,CAAU2M,UAAV,GAAuB,GAAvB,GAA6B,GAF1B;IAGV2mB,GAAG,EAAEtgC,GAAG,CAACgN,KAAJ,CAAU2M,UAAV,GAAuB,QAAvB,GAAkC,OAH7B;IAIVnoB,EAAE,EAAEwO,GAAG,CAACgN,KAAJ,CAAU2M,UAAV,GAAuB,gBAAvB,GAA0C;GAJhD;EAOA/iB,MAAM,GAAGoJ,GAAG,CAACgN,KAAJ,CAAUvoB,IAAV,CAAe4iE,GAAG,CAAC/mB,GAAnB,IAA0BtgC,GAAG,CAACgN,KAAJ,CAAU23C,MAAV,CAAiBnmE,MAAjB,EAA1B,GAAsDwhB,GAAG,CAACgN,KAAJ,CAAUnX,KAAV,CAAgBwxD,GAAG,CAAC71D,EAApB,GAA/D;EACAoF,MAAM,IAAI5U,IAAI,CAACwG,GAAL,CAAS,CAAT,EAAYxG,IAAI,CAACyG,GAAL,CAASuX,GAAG,CAACC,KAAJ,CAAUonD,GAAG,CAACjpE,IAAd,CAAT,EAA8B,CAA9B,CAAZ,CAAV;EACAqkB,IAAI,CAAC4kD,GAAG,CAAChc,KAAL,CAAJ,IAAmBz0C,MAAnB;;;AAGF,AAAO,SAAS0wD,iBAAT,CAA2BtnD,GAA3B,EAAgC;MAC/BunD,SAAS,GAAGvnD,GAAG,CAACgN,KAAJ,CAAU23C,MAAV,CAAiB4C,SAAnC;MACMC,UAAU,GAAGxnD,GAAG,CAACgN,KAAJ,CAAU23C,MAAV,CAAiB6C,UAApC;MACMC,KAAK,GAAGF,SAAS,CAAC/oD,MAAV,GAAmB/gB,GAAnB,CAAuB,UAAC8Q,CAAD;WAAQ;MAC3CnQ,IAAI,EAAE,MADqC;MAE3CqzB,KAAK,EAAE81C,SAAS,CAACh5D,CAAD,CAF2B;MAG3CuJ,MAAM,EAAE9V,IAAI,CAACwG,GAAL,CAAS,CAAT,EAAYxG,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAY++D,UAAU,CAACnmD,IAAX,CAAgB9S,CAAhB,CAAZ,CAAZ;KAH2B;GAAvB,CAAd;SAMOk5D,KAAK,CAAC16D,IAAN,CAAW,UAACtQ,CAAD,EAAIuQ,CAAJ;WAAUvQ,CAAC,CAACqb,MAAF,GAAW9K,CAAC,CAAC8K,MAAvB;GAAX,CAAP;;AAGF,AAAO,SAAS4vD,eAAT,CAAyB1nD,GAAzB,EAA8B;MAC7BgN,KAAK,GAAGhN,GAAG,CAACgN,KAAlB;MACM7lB,QAAQ,GAAG6Y,GAAG,CAACC,KAArB;MACM0nD,UAAU,GAAG36C,KAAK,CAACtQ,KAAN,CAAYga,MAAZ,KAAuB,MAA1C;MACMkxC,SAAS,GAAG56C,KAAK,CAACtQ,KAAN,CAAYga,MAAZ,KAAuB,KAAzC;MACI30B,CAAC,GAAGirB,KAAK,CAACvoB,IAAN,CAAW1C,CAAnB;MACIG,CAAC,GAAG8qB,KAAK,CAACvoB,IAAN,CAAWvC,CAAnB;MACIy0B,UAAU,GAAG,OAAjB;;MAEI3J,KAAK,CAACnX,KAAN,CAAY6gB,MAAZ,KAAuB,MAA3B,EAAmC;IACjC30B,CAAC,IAAIirB,KAAK,CAACnX,KAAN,CAAYgyD,aAAZ,KAA8B1gE,QAAQ,CAAC0O,KAAT,CAAe0L,OAAlD;IACArf,CAAC,IAAI8qB,KAAK,CAACnX,KAAN,CAAYysC,WAAZ,CAAwB39C,MAA7B;IACAzC,CAAC,IAAI0lE,SAAS,GAAG56C,KAAK,CAACvoB,IAAN,CAAWE,MAAX,GAAoBqoB,KAAK,CAACnX,KAAN,CAAY0nC,UAAZ,CAAuB54C,MAA9C,GAAuD,CAArE;IACAgyB,UAAU,GAAG,KAAb;GAJF,MAKO,IAAI3J,KAAK,CAACnX,KAAN,CAAY6gB,MAAZ,KAAuB,OAA3B,EAAoC;IACzC30B,CAAC,IAAIirB,KAAK,CAAC23C,MAAN,CAAanmE,MAAb,EAAL;IACAuD,CAAC,IAAIoF,QAAQ,CAAC0O,KAAT,CAAe0L,OAApB;IACArf,CAAC,IAAI8qB,KAAK,CAACnX,KAAN,CAAYysC,WAAZ,CAAwB39C,MAA7B;IACAzC,CAAC,IAAI0lE,SAAS,GAAG56C,KAAK,CAACvoB,IAAN,CAAWE,MAAX,GAAoBqoB,KAAK,CAACnX,KAAN,CAAY0nC,UAAZ,CAAuB54C,MAA9C,GAAuD,CAArE;GAJK,MAKA,IAAIqoB,KAAK,CAACnX,KAAN,CAAY6gB,MAAZ,KAAuB,KAA3B,EAAkC;IACvC30B,CAAC,IAAI4lE,UAAU,GAAG36C,KAAK,CAACvoB,IAAN,CAAWC,KAAd,GAAsB,CAArC;IACAxC,CAAC,IAAI8qB,KAAK,CAACnX,KAAN,CAAYysC,WAAZ,CAAwB39C,MAA7B;IACAgyB,UAAU,GAAGgxC,UAAU,GAAG,KAAH,GAAW,OAAlC;;;MAGIllD,IAAI,GAAG;IACXqlD,GAAG,EAAE,cADM;IAEX1pE,IAAI,EAAE,MAFK;IAGX2D,CAAC,EAADA,CAHW;IAIXG,CAAC,EAAEF,IAAI,CAACwG,GAAL,CAAStG,CAAT,EAAY8qB,KAAK,CAACvoB,IAAN,CAAWvC,CAAX,GAAe8qB,KAAK,CAACvoB,IAAN,CAAWE,MAAtC,CAJQ;IAKX8qB,IAAI,EAAEtoB,QAAQ,CAAC0O,KAAT,CAAe4Z,IALV;IAMX5qB,IAAI,EAAEsC,QAAQ,CAAC0O,KAAT,CAAehR,IANV;IAOX2sB,QAAQ,EAAErqB,QAAQ,CAAC0O,KAAT,CAAe2b,QAPd;IAQXD,UAAU,EAAEpqB,QAAQ,CAAC0O,KAAT,CAAe0b,UARhB;IASXqF,QAAQ,EAAEzvB,QAAQ,CAAC0O,KAAT,CAAe6pC,WATd;IAUXme,QAAQ,EAAE12D,QAAQ,CAAC0O,KAAT,CAAegoD,QAVd;IAWXyB,SAAS,EAAEn4D,QAAQ,CAAC0O,KAAT,CAAeypD,SAXf;IAYXtB,OAAO,EAAE72D,QAAQ,CAAC0O,KAAT,CAAemoD,OAZb;IAaXL,UAAU,EAAEx2D,QAAQ,CAAC0O,KAAT,CAAe8nD,UAbhB;IAcXjnC,MAAM,EAAEC,UAdG;IAeX9gB,KAAK,EAAE1O,QAAQ,CAAC0O,KAAT,CAAe4Z;GAfxB;EAkBA23C,iBAAiB,CAACpnD,GAAD,EAAMyC,IAAN,CAAjB;SACOA,IAAP;;AAGF,AAAO,SAASslD,oBAAT,CAA8B/nD,GAA9B,EAAmCynD,KAAnC,EAA0C;MACzCz6C,KAAK,GAAGhN,GAAG,CAACgN,KAAlB;MACM7lB,QAAQ,GAAG6Y,GAAG,CAACC,KAArB;MACMoc,SAAS,GAAGrP,KAAK,CAACvoB,IAAxB;MACI1C,CAAC,GAAGs6B,SAAS,CAACt6B,CAAlB;MACIG,CAAC,GAAGm6B,SAAS,CAACn6B,CAAlB;MACIwC,KAAK,GAAGsoB,KAAK,CAAC2M,UAAN,GAAmBxyB,QAAQ,CAACiB,IAA5B,GAAmC4kB,KAAK,CAAC23C,MAAN,CAAanmE,MAAb,EAA/C;MACImG,MAAM,GAAGqoB,KAAK,CAAC2M,UAAN,GAAmB3M,KAAK,CAAC23C,MAAN,CAAanmE,MAAb,EAAnB,GAA2C2I,QAAQ,CAACiB,IAAjE;;MAEI4kB,KAAK,CAACtQ,KAAN,CAAYga,MAAZ,KAAuB,MAA3B,EAAmC;IACjC30B,CAAC,IAAIirB,KAAK,CAACvoB,IAAN,CAAWC,KAAX,GAAmByC,QAAQ,CAACiB,IAAjC;GADF,MAEO,IAAI4kB,KAAK,CAACtQ,KAAN,CAAYga,MAAZ,KAAuB,KAA3B,EAAkC;IACvCx0B,CAAC,IAAI8qB,KAAK,CAACvoB,IAAN,CAAWE,MAAX,GAAoBwC,QAAQ,CAACiB,IAAlC;;;MAGE4kB,KAAK,CAACnX,KAAN,CAAY6gB,MAAZ,KAAuB,KAA3B,EAAkC;IAChCx0B,CAAC,IAAI8qB,KAAK,CAACnX,KAAN,CAAYmyD,cAAZ,EAAL;GADF,MAEO,IAAIh7C,KAAK,CAACnX,KAAN,CAAY6gB,MAAZ,KAAuB,MAA3B,EAAmC;IACxC30B,CAAC,IAAIirB,KAAK,CAACnX,KAAN,CAAYgyD,aAAZ,EAAL;;;MAGIplD,IAAI,GAAG;IACXrkB,IAAI,EAAE,MADK;IAEX2D,CAAC,EAADA,CAFW;IAGXG,CAAC,EAADA,CAHW;IAIXwC,KAAK,EAALA,KAJW;IAKXC,MAAM,EAANA,MALW;IAMXE,IAAI,EAAE;MACJzG,IAAI,EAAE,UADF;MAEJqpE,KAAK,EAALA,KAFI;MAGJQ,MAAM,EAAEj7C,KAAK,CAAC2M,UAAN,GAAmB,EAAnB,GAAwB;;GATpC;EAaAytC,iBAAiB,CAACpnD,GAAD,EAAMyC,IAAN,CAAjB;SACOA,IAAP;;AAGF,AAAO,SAASylD,eAAT,CAAyBloD,GAAzB,EAA8BmoD,UAA9B,EAA0C;MACzCn7C,KAAK,GAAGhN,GAAG,CAACgN,KAAlB;MACM7lB,QAAQ,GAAG6Y,GAAG,CAACC,KAArB;MACIyW,MAAM,GAAG,OAAb;MACM0xC,iBAAiB,GAAG;IACxBhqE,IAAI,EAAE,MADkB;IAExB2D,CAAC,EAAEomE,UAAU,CAACpmE,CAFU;IAGxBG,CAAC,EAAEimE,UAAU,CAACjmE,CAHU;IAIxBwC,KAAK,EAAEsoB,KAAK,CAAC2M,UAAN,GAAmB,CAAnB,GAAuBwuC,UAAU,CAACzjE,KAJjB;IAKxBC,MAAM,EAAEqoB,KAAK,CAAC2M,UAAN,GAAmBwuC,UAAU,CAACxjE,MAA9B,GAAuC,CALvB;IAMxBE,IAAI,EAAE;GANR;MASMkrB,KAAK,GAAG/C,KAAK,CAACtQ,KAAN,CAAY3G,MAAZ,CAAmBtY,GAAnB,CAAuB,UAAC2f,IAAD,EAAU;QACzCrb,CAAC,GAAG,CAAR;QACIG,CAAC,GAAG,CAAR;QACII,EAAE,GAAG,CAAT;QACIC,EAAE,GAAG,CAAT;QACIi0B,QAAQ,GAAG,cAAf;;QAEIxJ,KAAK,CAAC2M,UAAV,EAAsB;MACpBz3B,CAAC,GAAGimE,UAAU,CAACjmE,CAAX,GAAgBimE,UAAU,CAACxjE,MAAX,GAAoByY,IAAI,CAACkjC,GAA7C;MACA9pB,QAAQ,GAAGpZ,IAAI,CAACkjC,GAAL,KAAa,CAAb,GAAiB,kBAAjB,GAAsC,iBAAjD;KAFF,MAGO;MACLv+C,CAAC,GAAGomE,UAAU,CAACpmE,CAAX,GAAgBomE,UAAU,CAACzjE,KAAX,GAAmB0Y,IAAI,CAACkjC,GAA5C;;;QAGEtzB,KAAK,CAACtQ,KAAN,CAAYga,MAAZ,KAAuB,OAA3B,EAAoC;MAClC30B,CAAC,GAAGomE,UAAU,CAACpmE,CAAX,GAAeoF,QAAQ,CAACiB,IAAxB,GAA+BjB,QAAQ,CAACiW,IAAT,CAAcmE,OAAjD;MAEA6mD,iBAAiB,CAACrmE,CAAlB,GAAsBomE,UAAU,CAACpmE,CAAX,GAAeomE,UAAU,CAACzjE,KAAhD;KAHF,MAIO,IAAIsoB,KAAK,CAACtQ,KAAN,CAAYga,MAAZ,KAAuB,MAA3B,EAAmC;MACxC30B,CAAC,GAAGomE,UAAU,CAACpmE,CAAX,GAAeoF,QAAQ,CAACiW,IAAT,CAAcmE,OAAjC;MACAmV,MAAM,GAAG,KAAT;KAFK,MAGA,IAAI1J,KAAK,CAACtQ,KAAN,CAAYga,MAAZ,KAAuB,KAA3B,EAAkC;MACvCx0B,CAAC,GAAGimE,UAAU,CAACjmE,CAAX,GAAeiF,QAAQ,CAACiW,IAAT,CAAcmE,OAAjC;MACAhf,EAAE,IAAI6a,IAAI,CAACklC,WAAL,CAAiB39C,MAAjB,GAA0B,IAAhC;MACA+xB,MAAM,GAAGtZ,IAAI,CAACkjC,GAAL,KAAa,CAAb,GAAiB,OAAjB,GAA2B,KAApC;KAHK,MAIA,IAAItzB,KAAK,CAACtQ,KAAN,CAAYga,MAAZ,KAAuB,QAA3B,EAAqC;MAC1Cx0B,CAAC,GAAGimE,UAAU,CAACjmE,CAAX,GAAeimE,UAAU,CAACxjE,MAA1B,GAAmCwC,QAAQ,CAACiW,IAAT,CAAcmE,OAArD;MACAhf,EAAE,GAAG6a,IAAI,CAACklC,WAAL,CAAiB39C,MAAjB,GAA0B,GAA/B;MACA+xB,MAAM,GAAGtZ,IAAI,CAACkjC,GAAL,KAAa,CAAb,GAAiB,OAAjB,GAA2B,KAApC;MAEA8nB,iBAAiB,CAAClmE,CAAlB,GAAsBimE,UAAU,CAACjmE,CAAX,GAAeimE,UAAU,CAACxjE,MAAhD;;;QAGI8d,IAAI,GAAG;MACXrkB,IAAI,EAAE,MADK;MAEX2D,CAAC,EAADA,CAFW;MAGXG,CAAC,EAADA,CAHW;MAIXI,EAAE,EAAFA,EAJW;MAKXC,EAAE,EAAFA,EALW;MAMXktB,IAAI,EAAErS,IAAI,CAACpH,KANA;MAOXwb,QAAQ,EAAErqB,QAAQ,CAACiW,IAAT,CAAcoU,QAPb;MAQXD,UAAU,EAAEpqB,QAAQ,CAACiW,IAAT,CAAcmU,UARf;MASX1sB,IAAI,EAAEsC,QAAQ,CAACiW,IAAT,CAAcvY,IATT;MAUX+xB,QAAQ,EAAE5J,KAAK,CAAC2M,UAAN,GAAmBxyB,QAAQ,CAACiW,IAAT,CAAcsiC,WAAjC,GAA+C19C,IAAI,CAACwG,GAAL,CAASrB,QAAQ,CAACiW,IAAT,CAAcsiC,WAAvB,EAAoC1yB,KAAK,CAAC23C,MAAN,CAAanmE,MAAb,KAAwB,CAA5D,CAV9C;MAWXk4B,MAAM,EAANA,MAXW;MAYX2xC,YAAY,EAAEroD,GAAG,CAAC2P,QAAJ,CAAa4tB,UAZhB;MAaX1nC,KAAK,EAAEuH,IAAI,CAACpH,KAbD;MAcXwgB,QAAQ,EAARA;KAdF;WAiBO/T,IAAP;GAlDY,CAAd;SAqDO;IACLrkB,IAAI,EAAE,WADD;IAELuX,EAAE,EAAE,kBAFC;IAGLuN,QAAQ,iCAAM6M,KAAN,IAAaq4C,iBAAb;GAHV;;;ACzKF,SAASE,aAAT,CAAuBjhE,IAAvB,EAA6BqvB,MAA7B,EAAqCj5B,GAArC,EAA0C;MAClCovC,MAAM,GAAGpvC,GAAG,CAAC4J,IAAD,CAAlB;;MACI,QAAOwlC,MAAP,MAAkB,QAAtB,EAAgC;QAC1BA,MAAM,CAAC07B,KAAP,CAAap7D,OAAb,CAAqBupB,MAArB,MAAiC,CAAC,CAAtC,EAAyC;aAChCA,MAAP;;;WAEKmW,MAAM,CAACn6B,OAAd;;;SAGKjV,GAAG,CAACiV,OAAX;;;AAGF,SAAS81D,iBAAT,CAA2BrhE,QAA3B,EAAqC;MAC7BE,IAAI,GAAGF,QAAQ,CAACkI,MAAT,CAAgBhI,IAA7B;MACMqvB,MAAM,GAAGvvB,QAAQ,CAACA,QAAT,CAAkBiW,IAAlB,CAAuBsZ,MAAtC;MAEM+xC,aAAa,GAAG;IACpBh9D,IAAI,EAAE;MAAE88D,KAAK,EAAE,CAAC,MAAD,EAAS,OAAT,CAAT;MAA4B71D,OAAO,EAAE;KADvB;IAEpBhH,KAAK,EAAE;MAAE68D,KAAK,EAAE,CAAC,MAAD,EAAS,OAAT,CAAT;MAA4B71D,OAAO,EAAE;KAFxB;IAGpB/G,GAAG,EAAE;MAAE48D,KAAK,EAAE,CAAC,KAAD,EAAQ,QAAR,CAAT;MAA4B71D,OAAO,EAAE;KAHtB;IAIpB9G,MAAM,EAAE;MAAE28D,KAAK,EAAE,CAAC,KAAD,EAAQ,QAAR,CAAT;MAA4B71D,OAAO,EAAE;KAJzB;IAKpBA,OAAO,EAAE;GALX;SAQO41D,aAAa,CAACjhE,IAAD,EAAOqvB,MAAP,EAAe+xC,aAAf,CAApB;;;AAGF,SAASC,kBAAT,CAA4BvhE,QAA5B,EAAsC;MAC9BshE,aAAa,GAAG;IACpBh9D,IAAI,EAAE;MAAE88D,KAAK,EAAE,CAAC,KAAD,CAAT;MAAkB71D,OAAO,EAAE;KADb;IAEpBhH,KAAK,EAAE;MAAE68D,KAAK,EAAE,CAAC,KAAD,CAAT;MAAkB71D,OAAO,EAAE;KAFd;IAGpB/G,GAAG,EAAE;MAAE48D,KAAK,EAAE,CAAC,MAAD,EAAS,OAAT,CAAT;MAA4B71D,OAAO,EAAE;KAHtB;IAIpB9G,MAAM,EAAE;MAAE28D,KAAK,EAAE,CAAC,MAAD,EAAS,OAAT,CAAT;MAA4B71D,OAAO,EAAE;KAJzB;IAKpBA,OAAO,EAAE;GALX;MAQMrL,IAAI,GAAGF,QAAQ,CAACkI,MAAT,CAAgBhI,IAA7B;MACMqvB,MAAM,GAAGvvB,QAAQ,CAACA,QAAT,CAAkB0O,KAAlB,CAAwB6gB,MAAvC;SAEO4xC,aAAa,CAACjhE,IAAD,EAAOqvB,MAAP,EAAe+xC,aAAf,CAApB;;;AAGF,SAASE,QAAT,CAAkB3oD,GAAlB,EAAuB5X,IAAvB,EAA6B;MACrB3D,IAAI,GAAG;IACX1C,CAAC,EAAE,CADQ;IACLG,CAAC,EAAE,CADE;IACCwC,KAAK,EAAE,CADR;IACWC,MAAM,EAAE;GADhC;MAGM4c,OAAO,GAAGvB,GAAG,CAACC,KAAJ,CAAUsB,OAA1B;EACA9c,IAAI,CAAC1C,CAAL,GAASwf,OAAO,CAAC9V,IAAjB;EACAhH,IAAI,CAACvC,CAAL,GAASqf,OAAO,CAAC5V,GAAjB;EACAlH,IAAI,CAACC,KAAL,GAAa0D,IAAI,CAAC1D,KAAL,GAAa6c,OAAO,CAAC9V,IAArB,GAA4B8V,OAAO,CAAC7V,KAAjD;EACAjH,IAAI,CAACE,MAAL,GAAcyD,IAAI,CAACzD,MAAL,GAAc4c,OAAO,CAAC5V,GAAtB,GAA4B4V,OAAO,CAAC3V,MAAlD;SAEOnH,IAAP;;;AAGF,SAASmkE,QAAT,CAAkB5oD,GAAlB,EAAuBwnD,UAAvB,EAAmC;MAC3BzxD,MAAM,GAAGyxD,UAAU,CAAChpD,MAAX,EAAf;MACIE,MAAM,GAAG3I,MAAb;MACIuD,OAAO,GAAG0G,GAAG,CAACC,KAAJ,CAAU7C,IAAV,CAAepH,KAA7B;;MACI,CAACsD,OAAD,IAAY0G,GAAG,CAAC5M,SAApB,EAA+B;IAC7BkG,OAAO,GAAG0G,GAAG,CAAC5M,SAAd;GADF,MAEO,IAAI,CAACkG,OAAD,IAAYkuD,UAAU,CAAC3pE,IAAX,GAAkBmb,MAAlC,EAA0C;IAC/CM,OAAO,GAAGkuD,UAAU,CAAC3pE,IAAX,GAAkBmb,MAAlB,CAAyB,CAAzB,EAA4B5F,SAA5B,EAAV;;;MAEE,OAAOkG,OAAP,KAAmB,UAAvB,EAAmC;IACjCoF,MAAM,GAAG3I,MAAM,CAACtY,GAAP,CAAW6b,OAAX,EAAoB7b,GAApB,CAAwBM,MAAxB,CAAT;;;MAGI2e,KAAK,GAAG3G,MAAM,CAACtY,GAAP,CAAW,UAACqF,KAAD,EAAQ1D,CAAR,EAAc;QAC/B4W,KAAK,GAAG0I,MAAM,CAACtf,CAAD,CAApB;WACO;MACL0D,KAAK,EAALA,KADK;MAELkT,KAAK,EAALA,KAFK;MAGLsqC,GAAG,EAAEknB,UAAU,CAACnmD,IAAX,CAAgB0nC,UAAU,CAACjmD,KAAD,EAAQ,EAAR,CAA1B,CAHA;MAILw/C,WAAW,EAAEtiC,GAAG,CAAC2P,QAAJ,CAAaqqB,WAAb,CAAyB;QACpCvqB,IAAI,EAAEzZ,KAD8B;QAEpCwb,QAAQ,EAAExR,GAAG,CAACC,KAAJ,CAAU7C,IAAV,CAAeoU,QAFW;QAGpCD,UAAU,EAAEvR,GAAG,CAACC,KAAJ,CAAU7C,IAAV,CAAemU;OAHhB;KAJf;GAFY,CAAd;SAcO7U,KAAP;;;AAGF,SAASqhD,WAAT,CAAmB/9C,GAAnB,EAAwB;MAChB2Z,UAAU,GAAG3Z,GAAG,CAAC7Y,QAAJ,CAAakI,MAAb,CAAoBhI,IAApB,KAA6B,KAA7B,IAAsC2Y,GAAG,CAAC7Y,QAAJ,CAAakI,MAAb,CAAoBhI,IAApB,KAA6B,QAAtF;MACMwhE,UAAU,GAAG7oD,GAAG,CAACC,KAAJ,CAAUpK,KAA7B;MAEM0xD,SAAS,GAAGvnD,GAAG,CAACiS,KAAJ,CAAU1rB,KAAV,CAAgByZ,GAAG,CAACC,KAAJ,CAAUpb,IAA1B,CAAlB;MACM2iE,UAAU,GAAGxnD,GAAG,CAACiS,KAAJ,CAAU1rB,KAAV,CAAgByZ,GAAG,CAACC,KAAJ,CAAUuwB,KAA1B,CAAnB;MACMs4B,UAAU,GAAGF,QAAQ,CAAC5oD,GAAD,EAAMwnD,UAAN,CAA3B;MACMuB,UAAU,GAAGP,iBAAiB,CAACxoD,GAAG,CAAC7Y,QAAL,CAApC;;MAEI,OAAO0hE,UAAU,CAACp5C,IAAlB,KAA2B,WAA/B,EAA4C;QACpCzW,MAAM,GAAGwuD,UAAU,CAAC3pE,IAAX,GAAkBmb,MAAjC;IACA6vD,UAAU,CAACp5C,IAAX,GAAkBzW,MAAM,IAAIA,MAAM,CAAC,CAAD,CAAhB,GAAsBA,MAAM,CAAC,CAAD,CAAN,CAAUnD,KAAV,EAAtB,GAA0C,EAA5D;;;MAGImzD,gBAAgB,GAAGhpD,GAAG,CAAC2P,QAAJ,CAAaqqB,WAAb,CAAyB;IAChDvqB,IAAI,EAAEo5C,UAAU,CAACp5C,IAD+B;IAEhD+B,QAAQ,EAAEq3C,UAAU,CAACr3C,QAF2B;IAGhDD,UAAU,EAAEs3C,UAAU,CAACt3C;GAHA,CAAzB;MAMM03C,eAAe,GAAGjpD,GAAG,CAAC2P,QAAJ,CAAa4tB,UAAb,CAAwB;IAC9C9tB,IAAI,EAAEo5C,UAAU,CAACp5C,IAD6B;IAE9C+B,QAAQ,EAAEq3C,UAAU,CAACr3C,QAFyB;IAG9CD,UAAU,EAAEs3C,UAAU,CAACt3C,UAHuB;IAI9CssC,QAAQ,EAAEgL,UAAU,CAAChL,QAJyB;IAK9CjnC,QAAQ,EAAEiyC,UAAU,CAACnpB,WALyB;IAM9C4f,SAAS,EAAEuJ,UAAU,CAACvJ,SANwB;IAO9CtB,OAAO,EAAE6K,UAAU,CAAC7K,OAP0B;IAQ9CL,UAAU,EAAEkL,UAAU,CAAClL;GARD,CAAxB;MAWM3wC,KAAK,GAAG;IACZ2M,UAAU,EAAVA,UADY;IAEZ5J,KAAK,EAAE,EAFK;IAGZla,KAAK,EAAE;MACL6gB,MAAM,EAAEgyC,kBAAkB,CAAC1oD,GAAG,CAAC7Y,QAAL,CADrB;MAELm7C,WAAW,EAAE0mB,gBAFR;MAGLzrB,UAAU,EAAE0rB,eAHP;MAILpB,aAAa,EAAE,yBAAM;YACf,CAACgB,UAAU,CAACnhE,IAAhB,EAAsB;iBACb,CAAP;;;YAEEjC,CAAC,GAAGwjE,eAAe,CAACvkE,KAAxB;YACIwkE,EAAE,GAAGL,UAAU,CAACnpB,WAApB;;YACI,CAAC/lB,UAAL,EAAiB;UACfl0B,CAAC,IAAIojE,UAAU,CAACtnD,OAAhB;UACA2nD,EAAE,IAAIL,UAAU,CAACtnD,OAAjB;;;eAEKvf,IAAI,CAACwG,GAAL,CAAS/C,CAAT,EAAYyjE,EAAZ,EAAgBl8C,KAAK,CAACvoB,IAAN,CAAWC,KAA3B,CAAP;OAdG;MAgBLsjE,cAAc,EAAE,0BAAM;YAChB,CAACa,UAAU,CAACnhE,IAAhB,EAAsB;iBACb,CAAP;;;YAEE/K,CAAC,GAAGssE,eAAe,CAACtkE,MAAxB;;YACIg1B,UAAJ,EAAgB;UACdh9B,CAAC,IAAIksE,UAAU,CAACtnD,OAAhB;;;eAEKvf,IAAI,CAACwG,GAAL,CAAS7L,CAAT,EAAYqwB,KAAK,CAACvoB,IAAN,CAAWE,MAAvB,CAAP;;KA3BQ;IA8BZ+X,KAAK,EAAE;MACL3G,MAAM,EAAE+yD,UADH;MAELpyC,MAAM,EAAEqyC,UAFH;MAGLvqE,MAAM,EAAEwD,IAAI,CAACwG,GAAL,CAASxG,IAAI,CAACyG,GAAL,OAAAzG,IAAI,uBAAQ8mE,UAAU,CAACrrE,GAAX,CAAe,UAACT,CAAD;eAAOA,CAAC,CAACslD,WAAF,CAAc59C,KAArB;OAAf,CAAR,EAAb,EAAkEsb,GAAG,CAACC,KAAJ,CAAU7C,IAAV,CAAesiC,WAAjF,CAHH;MAILsoB,cAAc,EAAE;eAAOe,UAAU,KAAK,KAAf,GAAuB/mE,IAAI,CAACyG,GAAL,OAAAzG,IAAI,uBAAQgrB,KAAK,CAACtQ,KAAN,CAAY3G,MAAZ,CAAmBtY,GAAnB,CAAuB,UAACT,CAAD;iBAAOA,CAAC,CAACslD,WAAF,CAAc39C,MAArB;SAAvB,CAAR,EAAJ,GAAmEqb,GAAG,CAACC,KAAJ,CAAU7C,IAAV,CAAemE,OAAzG,GAAmH,CAA1H;OAJX;MAKL5c,MAAM,EAAE3C,IAAI,CAACyG,GAAL,OAAAzG,IAAI,uBAAQ8mE,UAAU,CAACrrE,GAAX,CAAe,UAACT,CAAD;eAAOA,CAAC,CAACslD,WAAF,CAAc39C,MAArB;OAAf,CAAR;KAnCF;IAqCZggE,MAAM,EAAE;MACN4C,SAAS,EAATA,SADM;MAENC,UAAU,EAAVA,UAFM;MAGNhpE,MAAM,EAAE,kBAAM;YACN8hD,GAAG,GAAG3mB,UAAU,GAAG,QAAH,GAAc,OAApC;YACMwvC,KAAK,GAAGxvC,UAAU,GAAG,gBAAH,GAAsB,eAA9C;YACMlV,GAAG,GAAGziB,IAAI,CAACwG,GAAL,CAASwkB,KAAK,CAACvoB,IAAN,CAAW67C,GAAX,CAAT,EAA0BtzB,KAAK,CAACvoB,IAAN,CAAW67C,GAAX,IAAkBtgC,GAAG,CAACC,KAAJ,CAAUzhB,MAAtD,IAAgEwuB,KAAK,CAACnX,KAAN,CAAYszD,KAAZ,GAA5E;eACOnnE,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAYzG,IAAI,CAACwG,GAAL,CAASic,GAAT,EAAczE,GAAG,CAACC,KAAJ,CAAUy/B,WAAxB,CAAZ,CAAP;;;GA5CN;SAiDO1yB,KAAP;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCF,IAAMo8C,SAAS,GAAG;EAChBpuC,OAAO,EAAE,CAAC,OAAD,EAAU,UAAV,EAAsB,UAAtB,CADO;EAEhBpc,eAAe,EAAE;IACfvP,MAAM,EAAE;MACN/H,YAAY,EAAE,CADR;MAEND,IAAI,EAAE;KAHO;IAKfF,QAAQ,EAAE;MACRiB,IAAI,EAAE,EADE;MAER5J,MAAM,EAAE,GAFA;MAGRkhD,WAAW,EAAE,GAHL;MAIRn3C,KAAK,EAAE,GAJC;MAKRgtD,OAAO,EAAE,CALD;MAMRh0C,OAAO,EAAE;QACP9V,IAAI,EAAE,CADC;QAEPC,KAAK,EAAE,CAFA;QAGPC,GAAG,EAAE,CAHE;QAIPC,MAAM,EAAE;OAVF;MAYRwR,IAAI,EAAE;QACJpH,KAAK,EAAE,IADH;QAEJnR,IAAI,EAAE,SAFF;QAGJ2sB,QAAQ,EAAE,MAHN;QAIJD,UAAU,EAAE,OAJR;QAKJmuB,WAAW,EAAE,GALT;QAMJhpB,MAAM,EAAE,IANJ;;QAOJnV,OAAO,EAAE;OAnBH;MAqBR1L,KAAK,EAAE;QACLnO,IAAI,EAAE,IADD;QAEL+nB,IAAI,EAAEhpB,SAFD;QAGL5B,IAAI,EAAE,SAHD;QAIL2sB,QAAQ,EAAE,MAJL;QAKLD,UAAU,EAAE,OALP;QAMLmuB,WAAW,EAAE,GANR;QAOLn+B,OAAO,EAAE,CAPJ;QAQLs8C,QAAQ,EAAE,CARL;QASLyB,SAAS,EAAE,MATN;QAUL3B,UAAU,EAAE,GAVP;QAWLK,OAAO,EAAE,MAXJ;QAYLtnC,MAAM,EAAE,IAZH;;;;GA5BK;EA4ChBlvB,aA5CgB,yBA4CF2R,IA5CE,EA4CI;QACZ6T,KAAK,GAAG,KAAKA,KAAnB;IACAA,KAAK,CAACvoB,IAAN,GAAakkE,QAAQ,CAAC,IAAD,EAAOxvD,IAAI,CAACvR,KAAZ,CAArB,CAFkB;;QAKdyhE,QAAQ,GAAG,KAAKppD,KAAL,CAAW7X,IAA1B,CALkB;;QAQZkhE,QAAQ,GAAGt8C,KAAK,CAAC2M,UAAN,GAAmB,KAAK1Z,KAAL,CAAWsB,OAAX,CAAmB9V,IAAnB,GAA0B,KAAKwU,KAAL,CAAWsB,OAAX,CAAmB7V,KAAhE,GAAwE,KAAKuU,KAAL,CAAWsB,OAAX,CAAmB5V,GAAnB,GAAyB,KAAKsU,KAAL,CAAWsB,OAAX,CAAmB3V,MAArI;IACAy9D,QAAQ,IAAIC,QAAZ,CATkB;;QAYZtmB,OAAO,GAAGhhD,IAAI,CAACyG,GAAL,CAAS0Q,IAAI,CAACvR,KAAL,CAAWlD,KAApB,EAA2ByU,IAAI,CAACvR,KAAL,CAAWjD,MAAtC,CAAhB;;QACKqoB,KAAK,CAACtQ,KAAN,CAAYga,MAAZ,KAAuB,MAAvB,IAAiC1J,KAAK,CAACtQ,KAAN,CAAYga,MAAZ,KAAuB,OAA7D,EAAuE;UAC/D6yC,OAAO,GAAGv8C,KAAK,CAACtQ,KAAN,CAAY3G,MAAZ,CAAmByV,MAAnB,CAA0B,UAACwf,GAAD,EAAMhuC,CAAN;eAAYguC,GAAG,GAAGhuC,CAAC,CAACslD,WAAF,CAAc39C,MAAhC;OAA1B,EAAkE,CAAlE,CAAhB;;UACI4kE,OAAO,GAAG,KAAKv8C,KAAL,CAAW23C,MAAX,CAAkBnmE,MAAlB,EAAd,EAA0C;eACjCwkD,OAAP;;;MAEFqmB,QAAQ,IAAIr8C,KAAK,CAACtQ,KAAN,CAAYle,MAAxB;KALF,MAMO;UACCgrE,MAAM,GAAGx8C,KAAK,CAACtQ,KAAN,CAAYle,MAA3B;;UACIgrE,MAAM,GAAG,KAAKx8C,KAAL,CAAW23C,MAAX,CAAkBnmE,MAAlB,EAAb,EAAyC;eAChCwkD,OAAP;;;MAEFqmB,QAAQ,IAAIrnE,IAAI,CAACyG,GAAL,OAAAzG,IAAI,uBAAQgrB,KAAK,CAACtQ,KAAN,CAAY3G,MAAZ,CAAmBtY,GAAnB,CAAuB,UAACT,CAAD;eAAOA,CAAC,CAACslD,WAAF,CAAc39C,MAArB;OAAvB,CAAR,EAAhB;;;IAEF0kE,QAAQ,IAAI,KAAKppD,KAAL,CAAW7C,IAAX,CAAgBmE,OAA5B,CA1BkB;;QA6Bd,KAAKtB,KAAL,CAAWpK,KAAX,CAAiBnO,IAArB,EAA2B;UACrBslB,KAAK,CAACnX,KAAN,CAAY6gB,MAAZ,KAAuB,MAAvB,IAAiC1J,KAAK,CAACnX,KAAN,CAAY6gB,MAAZ,KAAuB,OAA5D,EAAqE;QACnE2yC,QAAQ,GAAGrnE,IAAI,CAACyG,GAAL,CAASukB,KAAK,CAACnX,KAAN,CAAY0nC,UAAZ,CAAuB54C,MAAvB,GAAgC2kE,QAAzC,EAAmDD,QAAnD,CAAX;OADF,MAEO;QACLA,QAAQ,GAAGrnE,IAAI,CAACyG,GAAL,CAAS4gE,QAAT,EAAmBr8C,KAAK,CAACnX,KAAN,CAAYgyD,aAAZ,KAA8ByB,QAAjD,CAAX;;;;SAICt8C,KAAL,CAAWxlB,aAAX,GAA2B6hE,QAA3B;WACOA,QAAP;GAlFc;EAoFhB/rC,OApFgB,qBAoFN;SACHrd,KAAL,GAAa,KAAK9Y,QAAL,CAAcA,QAA3B;SAEK6lB,KAAL,GAAa+wC,WAAS,CAAC,IAAD,CAAtB;GAvFc;EAyFhBrgC,YAzFgB,wBAyFHvkB,IAzFG,EAyFG;SACZ8G,KAAL,GAAa9G,IAAI,CAAChS,QAAL,CAAcA,QAA3B;SAEK6lB,KAAL,GAAa+wC,WAAS,CAAC,IAAD,CAAtB;GA5Fc;EA8FhBpgC,YA9FgB,wBA8FHxkB,IA9FG,EA8FG;SACZ6T,KAAL,CAAW+C,KAAX,GAAmB,EAAnB;SACK/C,KAAL,CAAWvoB,IAAX,GAAkBkkE,QAAQ,CAAC,IAAD,EAAOxvD,IAAI,CAAC/Q,IAAZ,CAA1B;;QAEI,KAAK6X,KAAL,CAAWpK,KAAX,CAAiBnO,IAArB,EAA2B;UACnB+hE,SAAS,GAAG/B,eAAe,CAAC,IAAD,CAAjC;WACK16C,KAAL,CAAW+C,KAAX,CAAiBtxB,IAAjB,CAAsBgrE,SAAtB;;;QAGIC,SAAS,GAAGpC,iBAAiB,CAAC,IAAD,CAAnC;QACMqC,QAAQ,GAAG5B,oBAAoB,CAAC,IAAD,EAAO2B,SAAP,CAArC;QACME,SAAS,GAAG1B,eAAe,CAAC,IAAD,EAAOyB,QAAP,CAAjC;QAEME,UAAU,GAAG;;MACjBl0D,EAAE,EAAE,mBADa;MAEjBvX,IAAI,EAAE,WAFW;MAGjB8kB,QAAQ,EAAE,CAACymD,QAAD,EAAWC,SAAX;KAHZ;SAMK58C,KAAL,CAAW+C,KAAX,CAAiBtxB,IAAjB,CAAsBorE,UAAtB;GAjHc;EAmHhBz4C,MAnHgB,oBAmHP;WACA,KAAKpE,KAAL,CAAW+C,KAAlB;;CApHJ;;ACnNe,SAAS+5C,gBAAT,CAA0Bj2B,OAA1B,EAAmC;EAChDA,OAAO,CAAC5kC,SAAR,CAAkB,YAAlB,EAAgC86D,SAAhC;;;ACYF,IAAMC,MAAM,GAAG;EACb/sD,IAAI,EAAEgtD,SADO;EAEbC,SAAS,EAAEC,SAFE;EAGbC,UAAU,EAAEC,UAHC;EAIbjuD,MAAM,EAAEkuD,WAJK;EAKbC,KAAK,EAAEC,UALM;EAMbC,QAAQ,EAAEC,aAAa,CAACC,OAAd,CAAsB,CAAtB,CANG;EAObC,UAAU,EAAEC,eAPC;EAQbC,SAAS,EAAEC,SARE;EASbC,SAAS,EAAEC,SATE;EAUbC,OAAO,EAAEC;CAVX;;;;;;;;;;;;;;;;AA2BA,IAAMC,QAAQ,GAAG;;;;EAIfC,WAAW,EAAE;;;IAGX/5B,KAAK,EAAE,GAHI;;;;IAMXd,KAAK,EAAE,GANI;;;;IASX86B,OAAO,EAAE;GAbI;;;;EAiBfC,OAAO,EAAE,KAjBM;;;;EAoBfn4B,WAAW,EAAE,YApBE;;;;EAuBfo4B,MAAM,EAAE;;;IAGNC,KAAK,EAAE,QAHD;;;;IAMN/jE,IAAI,EAAE,IANA;;;;IASNqF,IAAI,EAAEtG,SATA;;;;IAYNoD,IAAI,EAAE;;;MAGJrI,MAAM,EAAE,MAHJ;;;;MAMJmwB,WAAW,EAAE,CANT;;;;MASJ4E,cAAc,EAAE,OATZ;;;;MAYJO,eAAe,EAAErwB,SAZb;;;;MAeJ8pB,OAAO,EAAE,CAfL;;;;MAkBJ7oB,IAAI,EAAE;KA9BF;;;;IAkCNgG,IAAI,EAAE;;;MAGJ7I,IAAI,EAAE,MAHF;;;;MAMJ0rB,OAAO,EAAE,GANL;;;;MASJ7oB,IAAI,EAAE;;;CAlEZ;;;;;;;;AA+EA,SAASgkE,kBAAT,CAA4BriE,MAA5B,QAIc;MAHZsiE,SAGY,QAHZA,SAGY;MAFZhzD,IAEY,QAFZA,IAEY;MADZ9a,IACY,QADZA,IACY;MAAXgH,IAAW,uEAAJ,EAAI;MACNjH,IAAI,GAAG+tE,SAAS,CAACtiE,MAAD,CAAtB;MACMkF,CAAC,GAAG;IACRnQ,IAAI,EAAE,MADE;IAERmQ,CAAC,EAAE3Q,IAFK;IAGR2yB,OAAO,EAAE5X,IAAI,CAAC4X,OAHN;IAIR/uB,MAAM,EAAEmX,IAAI,CAACnX,MAJL;IAKRmwB,WAAW,EAAEhZ,IAAI,CAACgZ,WALV;IAMR4E,cAAc,EAAE5d,IAAI,CAAC4d,cANb;IAOR1xB,IAAI,EAAEA,IAAI,IAAI8T,IAAI,CAAC9T,IAPX;IAQRhH,IAAI,EAAJA;GARF;;MAWI8a,IAAI,CAACme,eAAT,EAA0B;IACxBvoB,CAAC,CAACuoB,eAAF,GAAoBne,IAAI,CAACme,eAAzB;;;SAGKvoB,CAAP;;;AAGF,SAASq9D,mBAAT,CAA6BJ,MAA7B,SAKG;MAJD9mE,KAIC,SAJDA,KAIC;MAHDC,MAGC,SAHDA,MAGC;MAFDknE,aAEC,SAFDA,aAEC;MADD/sD,KACC,SADDA,KACC;MACKiR,KAAK,GAAG,EAAd;MACM+7C,UAAU,GAAGhtD,KAAK,CAAC0sD,MAAN,IAAgB,EAAnC;EACAA,MAAM,CAACl9D,OAAP,CAAe,UAAC4zC,KAAD,EAAW;QAEtB6pB,OAFsB,GAGpB7pB,KAHoB,CAEtB6pB,OAFsB;QAEbC,QAFa,GAGpB9pB,KAHoB,CAEb8pB,QAFa;QAEHC,OAFG,GAGpB/pB,KAHoB,CAEH+pB,OAFG;QAEM5iE,MAFN,GAGpB64C,KAHoB,CAEM74C,MAFN;QAKlB6iE,aAAa,GAAGx+D,IAAI,EAA1B;QACMy+D,OAAO,GAAGrtD,KAAK,CAACusD,WAAN,GAAoBvsD,KAAK,CAACusD,WAAN,CAAkBc,OAAtC,GAAgD,IAAhE;QACIC,aAAJ;QACIC,sBAAJ;QACI/6B,KAAK,GAAG;MAAElpC,IAAI,EAAEzD,MAAR;MAAgB7G,CAAC,EAAE;KAA/B;QACI0yC,KAAK,GAAG;MAAEpoC,IAAI,EAAE1D,KAAR;MAAe5G,CAAC,EAAE;KAA9B;;QACIghB,KAAK,CAACs0B,WAAN,KAAsB,UAA1B,EAAsC;UAC9Bk5B,IAAI,GAAGrjE,MAAM,CAAC,IAAD,EAAO,EAAP,EAAWunC,KAAX,CAAnB;MACAA,KAAK,GAAGvnC,MAAM,CAAC,IAAD,EAAO,EAAP,EAAWqoC,KAAX,CAAd;MACAA,KAAK,GAAGroC,MAAM,CAAC,IAAD,EAAO,EAAP,EAAWqjE,IAAX,CAAd;;;IAGFJ,aAAa,CACV17B,KAAK,CAAC1yC,CADI,CAAb,CACY,UAACyQ,CAAD;aAAOA,CAAC,CAACiiC,KAAF,GAAUA,KAAK,CAACpoC,IAAvB;KADZ;eAEMkpC,KAAK,CAACxzC,CAFZ,QAEkB,UAACyQ,CAAD;aAAOA,CAAC,CAAC+iC,KAAF,GAAUA,KAAK,CAAClpC,IAAvB;KAFlB;eAGMkpC,KAAK,CAACxzC,CAHZ,QAGkB,UAACyQ,CAAD;aAAOA,CAAC,CAACg+D,MAAF,GAAWj7B,KAAK,CAAClpC,IAAxB;KAHlB;KAIGqjE,KAJH,CAISzB,MAAM,CAACgC,QAAQ,CAACP,KAAT,KAAmB,UAAnB,qBAA2Cj7B,KAAK,CAAC1yC,CAAjD,IAAuDkuE,QAAQ,CAACP,KAAjE,CAJf;;QAKIU,OAAJ,EAAa;MACXD,aAAa,CAACC,OAAd,CAAsB,UAAC59D,CAAD;eAAO,CAACA,CAAC,CAACi+D,KAAH,IAAY,OAAOj+D,CAAC,CAAC+iC,KAAT,KAAmB,QAA/B,IAA2C,CAACjpC,KAAK,CAACkG,CAAC,CAAC+iC,KAAH,CAAjD,IAA8D/iC,CAAC,CAAC49D,OAAvE;OAAtB;KADF,MAEO;MACLD,aAAa,CAACC,OAAd,CAAsB,UAAC59D,CAAD;eAAO,CAACA,CAAC,CAACi+D,KAAH,IAAY,OAAOj+D,CAAC,CAAC+iC,KAAT,KAAmB,QAA/B,IAA2C,CAACjpC,KAAK,CAACkG,CAAC,CAAC+iC,KAAH,CAAxD;OAAtB;;;QAGIm7B,cAAc,GAAG3tD,KAAK,CAACysD,OAAN,GAAgBliE,MAAM,CAAC6D,MAAP,CAAcg/D,aAAa,CAACC,OAAd,EAAd,CAAhB,GAAyD9iE,MAAhF;IACA+iE,aAAa,GAAGF,aAAa,eAAQ56B,KAAK,CAACxzC,CAAN,CAAQ8tB,WAAR,EAAR,OAAb,EAAhB;IACAygD,sBAAsB,GAAGH,aAAa,eAAQ56B,KAAK,CAACxzC,CAAN,CAAQ8tB,WAAR,EAAR,OAAb,EAAzB,CA9BwB;;QAiCpBkgD,UAAU,CAACp+D,IAAX,IAAmBu+D,OAAO,CAACvkE,IAAR,KAAiB,KAAxC,EAA+C;MAC7CqoB,KAAK,CAACtxB,IAAN,CAAWitE,kBAAkB,CAACe,cAAD,EAAiB;QAC5C5uE,IAAI,EAAEqkD,KAAK,CAACwqB,cADgC;QAE5C/zD,IAAI,EAAEszD,OAFsC;QAG5CN,SAAS,EAAEO;OAHgB,CAA7B;KAlCsB;;;QA0CpBH,OAAO,IAAIA,OAAO,CAACrkE,IAAR,KAAiB,KAAhC,EAAuC;MACrCqoB,KAAK,CAACtxB,IAAN,CAAWitE,kBAAkB,CAACe,cAAD,EAAiB;QAC5C5uE,IAAI,EAAEqkD,KAAK,CAACwqB,cADgC;QAE5C/zD,IAAI,EAAEozD,OAFsC;QAG5CJ,SAAS,EAAES;OAHgB,EAI1B,MAJ0B,CAA7B,EADqC;;UAQjC,CAACP,aAAD,IAAkBC,UAAU,CAACp+D,IAA7B,IAAqCu+D,OAAO,CAACvkE,IAAR,KAAiB,KAA1D,EAAiE;QAC/DqoB,KAAK,CAACtxB,IAAN,CAAWitE,kBAAkB,CAACe,cAAD,EAAiB;UAC5C5uE,IAAI,EAAEqkD,KAAK,CAACwqB,cADgC;UAE5C/zD,IAAI,EAAEozD,OAFsC;UAG5CJ,SAAS,EAAEU;SAHgB,EAI1B,MAJ0B,CAA7B;;;GAnDN;SA4DOt8C,KAAP;;;AAGF,SAASoD,SAAT,QAOG;MANDt1B,IAMC,SANDA,IAMC;MALDihB,KAKC,SALDA,KAKC;MAJDra,IAIC,SAJDA,IAIC;MAHD22B,QAGC,SAHDA,QAGC;MAFD3H,KAEC,SAFDA,KAEC;MADDjV,MACC,SADDA,MACC;MACO9Z,KADP,GACyBD,IADzB,CACOC,KADP;MACcC,MADd,GACyBF,IADzB,CACcE,MADd;MAEK0mE,WAAW,GAAGjwC,QAAQ,CAACjI,OAAT,CAAiB;IACnCt1B,IAAI,EAAJA,IADmC;IAEnCm0B,QAAQ,EAAEo5C,QAAQ,CAACC,WAFgB;IAGnClkE,QAAQ,EAAE2X,KAAK,CAACusD,WAAN,IAAqB,EAHI;IAInCj4C,MAAM,EAAE;MACNod,KAAK,EAAE1xB,KAAK,CAACs0B,WAAN,KAAsB,UAAtB,GAAmCzuC,MAAnC,GAA4CD,KAD7C;MAEN4sC,KAAK,EAAExyB,KAAK,CAACs0B,WAAN,KAAsB,UAAtB,GAAmC1uC,KAAnC,GAA2CC;;GANlC,CAApB,CAFC;;;;;;MAiBKgoE,WAAW,GAAG,CAAC7tD,KAAK,CAACysD,OAAP,IAAkB/sD,MAAM,CAAChgB,MAAP,GAAgB,CAAlC,KAAwC,OAAOsgB,KAAK,CAACusD,WAAN,CAAkBC,OAAzB,KAAqC,UAArC,IAAmD,QAAOxsD,KAAK,CAACusD,WAAN,CAAkBC,OAAzB,MAAqC,QAAhI,CAApB,CAjBC;;MAoBKsB,QAAQ,GAAG,EAAjB;MACIC,QAAQ,GAAG,CAAf;;OACK,IAAIztE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGisE,WAAW,CAACl1D,KAAZ,CAAkB3X,MAAtC,EAA8CY,CAAC,EAA/C,EAAmD;QAC7CtB,CAAC,GAAGutE,WAAW,CAACl1D,KAAZ,CAAkB/W,CAAlB,CAAR;QACI0tE,GAAG,GAAGhvE,CAAC,CAACwtE,OAAZ;;QACIqB,WAAJ,EAAiB;;;UAGTI,QAAQ,GAAGH,QAAQ,CAACE,GAAD,CAAR,GAAgBF,QAAQ,CAACE,GAAD,CAAR,CAAc32D,KAAd,CAAoBy2D,QAAQ,CAACE,GAAD,CAAR,CAAc32D,KAAd,CAAoB3X,MAApB,GAA6B,CAAjD,CAAhB,GAAsE,IAAvF;UACMwuE,YAAY,GAAGD,QAAQ,GAAGvuD,MAAM,CAACrR,OAAP,CAAe4/D,QAAQ,CAAClvE,IAAT,CAAc2yC,KAAd,GAAsBu8B,QAAQ,CAAClvE,IAAT,CAAc2yC,KAAd,CAAoB1tC,KAA1C,GAAkDiqE,QAAQ,CAAClvE,IAAT,CAAciF,KAA/E,CAAH,GAA2F,IAAxH;;UACIiqE,QAAQ,IAAIvuD,MAAM,CAACrR,OAAP,CAAerP,CAAC,CAACD,IAAF,CAAO2yC,KAAP,GAAe1yC,CAAC,CAACD,IAAF,CAAO2yC,KAAP,CAAa1tC,KAA5B,GAAoChF,CAAC,CAACD,IAAF,CAAOiF,KAA1D,IAAmE,CAAnE,KAAyEkqE,YAAzF,EAAuG;QACrGJ,QAAQ,CAACE,GAAD,CAAR,CAAc32D,KAAd,CAAoB1X,IAApB,CAAyB;UAAE+tE,KAAK,EAAE;SAAlC;;;;IAGJI,QAAQ,CAACE,GAAD,CAAR,GAAgBF,QAAQ,CAACE,GAAD,CAAR,IAAiB;MAC/Bn9D,KAAK,EAAEk9D,QAAQ,EADgB;MAE/Bl3D,EAAE,EAAEm3D,GAF2B;MAG/B32D,KAAK,EAAE,EAHwB;MAI/BsI,SAAS,EAAE,EAJoB;MAK/BiuD,cAAc,EAAE;KALlB;IAOAE,QAAQ,CAACE,GAAD,CAAR,CAAcruD,SAAd,CAAwBhgB,IAAxB,CAA6BX,CAAC,CAACD,IAA/B;IACA+uE,QAAQ,CAACE,GAAD,CAAR,CAAc32D,KAAd,CAAoB1X,IAApB,CAAyBX,CAAzB;;;MAGImvE,UAAU,GAAGxtE,MAAM,CAACgS,IAAP,CAAYm7D,QAAZ,EAAsBnvE,GAAtB,CAA0B,UAACqvE,GAAD,EAAS;IACpDF,QAAQ,CAACE,GAAD,CAAR,CAAcJ,cAAd;MACErjE,MAAM,EAAEujE,QAAQ,CAACE,GAAD,CAAR,CAAcruD;OACnBmuD,QAAQ,CAACE,GAAD,CAAR,CAAcruD,SAAd,CAAwB,CAAxB,CAFL;WAIOmuD,QAAQ,CAACE,GAAD,CAAf;GALiB,CAAnB;MAQMI,UAAU,GAAG;IACjB/2D,KAAK,EAAE82D,UAAU,CAACxvE,GAAX,CAAe,UAACykD,KAAD;aAAWA,KAAK,CAACwqB,cAAjB;KAAf;GADT;MAGMZ,UAAU,GAAGhtD,KAAK,CAAC0sD,MAAN,IAAgB,EAAnC;MAEM2B,cAAc,GAAG/xC,QAAQ,CAACjI,OAAT,CAAiB;IACtCt1B,IAAI,EAAEqvE,UADgC;IAEtCl7C,QAAQ,EAAE;MACRy5C,KAAK,EAAEL,QAAQ,CAACI,MAAT,CAAgBC,KADf;MAER/jE,IAAI,EAAE0jE,QAAQ,CAACI,MAAT,CAAgB9jE;KAJc;IAMtCP,QAAQ,EAAE;MACRskE,KAAK,EAAEK,UAAU,CAACL,KADV;MAER/jE,IAAI,EAAEokE,UAAU,CAACpkE;;GARE,CAAvB;MAYM0lE,aAAa,GAAGhyC,QAAQ,CAACjI,OAAT,CAAiB;IACrCt1B,IAAI,EAAEqvE,UAD+B;IAErCl7C,QAAQ,EAAE/oB,MAAM,CAAC,EAAD,EAAKmiE,QAAQ,CAACI,MAAT,CAAgB3hE,IAArB,EAA2B4pB,KAAK,CAAC5pB,IAAjC,CAFqB;IAGrC1C,QAAQ,EAAE2kE,UAAU,CAACjiE;GAHD,CAAtB;MAMMwjE,aAAa,GAAGjyC,QAAQ,CAACjI,OAAT,CAAiB;IACrCt1B,IAAI,EAAEqvE,UAD+B;IAErCl7C,QAAQ,EAAE/oB,MAAM,CAAC,EAAD,EAAKmiE,QAAQ,CAACI,MAAT,CAAgB99D,IAArB,EAA2B+lB,KAAK,CAAC/lB,IAAjC,CAFqB;IAGrCvG,QAAQ,EAAE2kE,UAAU,CAACp+D;GAHD,CAAtB;SAMO;IACL29D,WAAW,EAAXA,WADK;IAEL4B,UAAU,EAAVA,UAFK;IAGLzB,MAAM,EAAE2B,cAHH;IAILv0B,KAAK,EAAEw0B,aAJF;IAKLE,KAAK,EAAED;GALT;;;AASF,SAASE,sBAAT,CAAgCp0D,IAAhC,EAAsC;iBAOhCga,SAAO,CAACha,IAAD,CAPyB;MAElC8zD,UAFkC,YAElCA,UAFkC;MAGlC5B,WAHkC,YAGlCA,WAHkC;MAIlCG,MAJkC,YAIlCA,MAJkC;MAKlC5yB,KALkC,YAKlCA,KALkC;MAMlC00B,KANkC,YAMlCA,KANkC;;MAS9BE,aAAa,GAAG,EAAtB;EACAP,UAAU,CAAC3+D,OAAX,CAAmB,UAAC4zC,KAAD,EAAQ9nB,EAAR,EAAe;QAC1B4xC,QAAQ,GAAGR,MAAM,CAACr1D,KAAP,CAAaikB,EAAb,CAAjB;;QACI4xC,QAAQ,CAACtkE,IAAT,KAAkB,KAAtB,EAA6B;;KAFG;;;IAOhCskE,QAAQ,CAAChqD,KAAT,GAAiBgqD,QAAQ,CAACnuE,IAA1B;IACAmuE,QAAQ,CAACnuE,IAAT,GAAgB,EAAhB;IACAmuE,QAAQ,CAACr2D,EAAT,GAAcusC,KAAK,CAACvsC,EAApB;QAEMI,MAAM,GAAG,EAAf;QACM1M,MAAM,GAAG,EAAf;QACIzH,KAAJ;QACI6rE,KAAJ;;SACK,IAAIruE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG8iD,KAAK,CAAC/rC,KAAN,CAAY3X,MAAhC,EAAwCY,CAAC,EAAzC,EAA6C;MAC3CwC,KAAK,GAAGsgD,KAAK,CAAC/rC,KAAN,CAAY/W,CAAZ,CAAR;MACAquE,KAAK,GAAG7rE,KAAK,CAAC/D,IAAd;;UACI,CAAC+D,KAAK,CAAC4qE,KAAX,EAAkB;YACZnkE,KAAK,CAACzG,KAAK,CAAC4uC,KAAP,CAAT,EAAwB;;;;YAGpBr3B,IAAI,CAAC0yD,aAAT,EAAwB;UACtBjqE,KAAK,CAAC2qE,MAAN,GAAelB,WAAW,CAAClkE,QAAZ,CAAqBmqC,KAArB,CAA2B/qC,KAA3B,GAAmC8kE,WAAW,CAAClkE,QAAZ,CAAqBmqC,KAArB,CAA2B/qC,KAA3B,CAAiCknE,KAAK,CAAClB,MAAN,GAAekB,KAAK,CAAClB,MAAN,CAAazpE,KAA5B,GAAoC,CAArE,CAAnC,GAA6G,CAA5H;;;YAEE,CAACuF,KAAK,CAACzG,KAAK,CAAC0vC,KAAP,CAAV,EAAyB;UACvBv7B,MAAM,CAACtX,IAAP,CAAYmD,KAAK,CAAC0vC,KAAlB;;;QAEF06B,QAAQ,CAACnuE,IAAT,CAAcY,IAAd,CAAmBmD,KAAK,CAAC/D,IAAzB;;;MAEFwL,MAAM,CAAC5K,IAAP,CAAYmD,KAAZ;;;QAGIuwC,MAAM,GAAGp8B,MAAM,CAAChJ,IAAP,CAAY,UAACtQ,CAAD,EAAIuQ,CAAJ;aAAUvQ,CAAC,GAAGuQ,CAAd;KAAZ,EAA6BhL,IAAI,CAACgG,KAAL,CAAW,CAAC+N,MAAM,CAACvX,MAAP,GAAgB,CAAjB,IAAsB,CAAjC,CAA7B,CAAf;IAEAgvE,aAAa,CAAC/uE,IAAd,CAAmB;MACjButE,QAAQ,EAARA,QADiB;MAEjBD,OAAO,EAAEnzB,KAAK,CAACziC,KAAN,CAAYikB,EAAZ,CAFQ;MAGjB6xC,OAAO,EAAEqB,KAAK,CAACn3D,KAAN,CAAYikB,EAAZ,CAHQ;MAIjB+X,MAAM,EAANA,MAJiB;MAKjB9oC,MAAM,EAANA,MALiB;MAMjBqjE,cAAc,EAAExqB,KAAK,CAACwqB;KANxB;GAnCF;SA6COc,aAAP;;;AAGF,IAAME,mBAAmB,GAAG;EAC1B1yC,OAAO,EAAE,CAAC,OAAD,EAAU,UAAV,CADiB;EAE1Bpc,eAAe,EAAE;IACf6U,KAAK,EAAE;MACL/lB,IAAI,EAAE,QADD;MAEL7D,IAAI,EAAE;;GALgB;EAQ1ByzB,OAR0B,qBAQhB,EARgB;EAU1BlM,MAV0B,yBAUT;QAARvzB,IAAQ,SAARA,IAAQ;;qBAEW,KAAK4G,IAFhB;QAEPC,KAFO,cAEPA,KAFO;QAEAC,MAFA,cAEAA,MAFA;SAGVma,KAAL,GAAa,KAAK3X,QAAL,CAAcA,QAAd,IAA0B,EAAvC;QACM0kE,aAAa,GAAG,CAAC,KAAK/sD,KAAL,CAAWusD,WAAZ,IAA2B,OAAO,KAAKvsD,KAAL,CAAWusD,WAAX,CAAuBkB,MAA9B,KAAyC,WAA1F;QAEMiB,aAAa,GAAGD,sBAAsB,CAAC;MAC3C1vE,IAAI,EAAJA,IAD2C;MAE3CihB,KAAK,EAAE,KAAKA,KAF+B;MAG3Cra,IAAI,EAAE,KAAKA,IAHgC;MAI3C22B,QAAQ,EAAE,KAAKA,QAJ4B;MAK3C3H,KAAK,EAAE,KAAKA,KAL+B;MAM3Co4C,aAAa,EAAbA,aAN2C;MAO3CrtD,MAAM,EAAE,KAAKM,KAAL,CAAWusD,WAAX,IAA0B,KAAKvsD,KAAL,CAAWusD,WAAX,CAAuB76B,KAAjD,IAA0D,KAAK1xB,KAAL,CAAWusD,WAAX,CAAuB76B,KAAvB,CAA6BjqC,KAAvF,GAA+F,KAAK0rB,KAAL,CAAW1rB,KAAX,CAAiB,KAAKuY,KAAL,CAAWusD,WAAX,CAAuB76B,KAAvB,CAA6BjqC,KAA9C,EAAqDiY,MAArD,EAA/F,GAA+J;KAP7H,CAA5C;;QAUI,KAAKM,KAAL,CAAW0sD,MAAX,IAAqB,KAAK1sD,KAAL,CAAW0sD,MAAX,CAAkBz+D,IAA3C,EAAiD;UACzC4gE,QAAQ,GAAGH,aAAa,CAAC/vE,GAAd,CAAkB,UAACR,CAAD;eAAQ;UACzC0Y,EAAE,EAAE1Y,CAAC,CAAC+uE,QAAF,CAAWr2D,EAD0B;UAEzC9X,IAAI,EAAEZ,CAAC,CAAC+uE,QAAF,CAAWnuE;SAFgB;OAAlB,EAGbkP,IAHa,CAGR,KAAK+R,KAAL,CAAW0sD,MAAX,CAAkBz+D,IAHV,EAGgBtP,GAHhB,CAGoB,UAACV,CAAD;eAAOA,CAAC,CAAC4Y,EAAT;OAHpB,CAAjB;MAIA63D,aAAa,CAACzgE,IAAd,CAAmB,UAACtQ,CAAD,EAAIuQ,CAAJ;eAAU2gE,QAAQ,CAACxgE,OAAT,CAAiB1Q,CAAC,CAACuvE,QAAF,CAAWr2D,EAA5B,IAAkCg4D,QAAQ,CAACxgE,OAAT,CAAiBH,CAAC,CAACg/D,QAAF,CAAWr2D,EAA5B,CAA5C;OAAnB;KALF,MAMO;MACL63D,aAAa,CAACzgE,IAAd,CAAmB,UAACtQ,CAAD,EAAIuQ,CAAJ;eAAUvQ,CAAC,CAAC01C,MAAF,GAAWnlC,CAAC,CAACmlC,MAAvB;OAAnB;KAvBa;;;WA2BRy5B,mBAAmB,CAAC4B,aAAD,EAAgB;MACxC9oE,KAAK,EAALA,KADwC;MAExCC,MAAM,EAANA,MAFwC;MAGxCknE,aAAa,EAAbA,aAHwC;MAIxC/sD,KAAK,EAAE,KAAKA;KAJY,CAA1B;;CArCJ;;AClXA;;;;;;;;;AAQA,IAAM1gB,MAAI,GAAG,MAAb;AAEA,AAAe,SAASyL,MAAT,CAAcgqC,OAAd,EAAuB;EACpCA,OAAO,CAAC5kC,SAAR,CAAkB7Q,MAAlB,EAAwB6Q,mBAAxB;;;ACVF;;;;;;;;;;;;;AAYA,IAAM8P,kBAAgB,GAAG;;;;EAIvBuN,KAAK,EAAE;;;;IAILld,UAAU,EAAE;;CARhB;;;;;;;;;;AAoBA,SAASw+D,aAAT,CAAuB5tD,GAAvB,EAA4Bgc,KAA5B,EAAiD;MAAd1f,KAAc,uEAAN,IAAM;MAC3Cva,CAAJ;MACIG,CAAJ;;MAEI,QAAO85B,KAAK,CAACpzB,MAAb,MAAwB,QAA5B,EAAsC;IACpC7G,CAAC,GAAGi6B,KAAK,CAACpzB,MAAN,CAAa7G,CAAjB;IACAG,CAAC,GAAG85B,KAAK,CAACpzB,MAAN,CAAa1G,CAAjB;GAFF,MAGO;IACLH,CAAC,GAAGi6B,KAAK,CAACprB,OAAV;IACA1O,CAAC,GAAG85B,KAAK,CAACnrB,OAAV;;;MAGIg9D,MAAM,GAAG9rE,CAAC,GAAGie,GAAG,CAACgN,KAAJ,CAAUwV,YAAV,CAAuB/2B,IAA1C;MACMqiE,MAAM,GAAG5rE,CAAC,GAAG8d,GAAG,CAACgN,KAAJ,CAAUwV,YAAV,CAAuB72B,GAA1C;SAEO;IACL5J,CAAC,EAAEua,KAAK,GAAGta,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAYzG,IAAI,CAACwG,GAAL,CAASqlE,MAAT,EAAiB7tD,GAAG,CAACvb,IAAJ,CAASC,KAA1B,CAAZ,CAAH,GAAmDmpE,MADtD;IAEL3rE,CAAC,EAAEoa,KAAK,GAAGta,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAYzG,IAAI,CAACwG,GAAL,CAASslE,MAAT,EAAiB9tD,GAAG,CAACvb,IAAJ,CAASE,MAA1B,CAAZ,CAAH,GAAoDmpE;GAF9D;;;;;;;;;;;AAaF,SAASC,iBAAT,CAA2B/tD,GAA3B,EAAgCliB,CAAhC,EAAmC;SAC1B;IACLiE,CAAC,EAAEjE,CAAC,CAACiE,CAAF,GAAMie,GAAG,CAACvb,IAAJ,CAAS1C,CADb;IAELG,CAAC,EAAEpE,CAAC,CAACoE,CAAF,GAAM8d,GAAG,CAACvb,IAAJ,CAASvC;GAFpB;;;;;;;;;;AAYF,SAASqwD,gBAAT,CAAwBprD,QAAxB,EAAkC;SACzBA,QAAQ,CAACA,QAAT,CAAkBmlB,KAAlB,CAAwBld,UAAxB,CAAmC3R,GAAnC,CAAuC,UAACuP,CAAD;WAC5C;MACErN,GAAG,EAAEqN,CAAC,CAACrN,GADT;MAEE21B,QAAQ,EAAEtoB,CAAC,CAACsoB,QAFd;MAGEz3B,IAAI,EAAEmP,CAAC,CAACnP,IAHV;MAIEkuB,MAAM,EAAE/e,CAAC,CAAC+e,MAAF,IAAY;KALsB;GAAvC,CAAP;;;;;;;;;;AAeF,SAASiiD,UAAT,CAAoBhhD,KAApB,EAA2BiF,KAA3B,EAAkC;EAChCjF,KAAK,CAACklC,WAAN,CAAkB5jD,OAAlB,CAA0B,UAACxD,MAAD,EAAY;QAChCzK,KAAK,CAACC,OAAN,CAAcwK,MAAM,CAACwqB,QAArB,CAAJ,EAAoC;MAClCxqB,MAAM,CAACwqB,QAAP,CAAgBhnB,OAAhB,CAAwB,UAACuQ,OAAD,EAAa;QACnCoT,KAAK,CAAC3F,KAAN,CAAYzN,OAAZ,EAAqBvb,GAArB;OADF;;GAFJ;;;;;;;;;;;AAgBF,SAAS2qE,MAAT,CAAgBC,EAAhB,EAAoBpsC,EAApB,EAAwB;MAChBv4B,IAAI,GAAGvH,IAAI,CAACwG,GAAL,CAAS0lE,EAAE,CAACnsE,CAAZ,EAAe+/B,EAAE,CAAC//B,CAAlB,CAAb;MACM2H,IAAI,GAAG1H,IAAI,CAACwG,GAAL,CAAS0lE,EAAE,CAAChsE,CAAZ,EAAe4/B,EAAE,CAAC5/B,CAAlB,CAAb;MACMuH,IAAI,GAAGzH,IAAI,CAACyG,GAAL,CAASylE,EAAE,CAACnsE,CAAZ,EAAe+/B,EAAE,CAAC//B,CAAlB,CAAb;MACM4H,IAAI,GAAG3H,IAAI,CAACyG,GAAL,CAASylE,EAAE,CAAChsE,CAAZ,EAAe4/B,EAAE,CAAC5/B,CAAlB,CAAb;SAEO;IACLH,CAAC,EAAEwH,IADE;IAELrH,CAAC,EAAEwH,IAFE;IAGLhF,KAAK,EAAE+E,IAAI,GAAGF,IAHT;IAIL5E,MAAM,EAAEgF,IAAI,GAAGD;GAJjB;;;;;;;;;AAaF,SAASykE,WAAT,CAAqBnuD,GAArB,EAA0B;MACpBA,GAAG,CAACgN,KAAJ,CAAU4G,MAAd,EAAsB;QACdvwB,KAAK,GAAG0qE,iBAAiB,CAAC/tD,GAAD,EAAMA,GAAG,CAACgN,KAAJ,CAAU3pB,KAAhB,CAA/B;QACMC,GAAG,GAAGyqE,iBAAiB,CAAC/tD,GAAD,EAAMA,GAAG,CAACgN,KAAJ,CAAU1pB,GAAhB,CAA7B;QAEMq8B,MAAM,GAAG3f,GAAG,CAACiS,KAAJ,CAAU8N,QAAV,CAAmBkuC,MAAM,CAAC5qE,KAAD,EAAQC,GAAR,CAAzB,EAAuC;MAAE8L,UAAU,EAAE4Q,GAAG,CAACgN,KAAJ,CAAUklC;KAA/D,CAAf;IACAlyC,GAAG,CAACiS,KAAJ,CAAU+N,eAAV,CAA0BL,MAA1B,EAAkC;MAAEvwB,UAAU,EAAE4Q,GAAG,CAACgN,KAAJ,CAAUklC;KAA1D;;;;AAIJ,SAAS9gC,QAAT,CAAgBpR,GAAhB,EAAqB;EACnBA,GAAG,CAAC2P,QAAJ,CAAayB,MAAb,CAAoB,CAClBnoB,MAAM,CAAC;IAAE7K,IAAI,EAAE;GAAT,EAAmB6vE,MAAM,CAACjuD,GAAG,CAACgN,KAAJ,CAAU3pB,KAAX,EAAkB2c,GAAG,CAACgN,KAAJ,CAAU1pB,GAA5B,CAAzB,EAA2D0c,GAAG,CAACyT,KAAJ,CAAU/lB,IAArE,CADY,CAApB;;;AAKF,SAAS+kD,YAAT,GAAsB;SACb;IACLpvD,KAAK,EAAE;MAAEtB,CAAC,EAAE,CAAL;MAAQG,CAAC,EAAE;KADb;IAELoB,GAAG,EAAE;MAAEvB,CAAC,EAAE,CAAL;MAAQG,CAAC,EAAE;KAFX;IAGL0xB,MAAM,EAAE;GAHV;;;AAOF,IAAMmH,UAAU,GAAG;EACjBC,OAAO,EAAE,CAAC,OAAD,EAAU,UAAV,CADQ;EAEjBpc,eAAe,EAAE;IACfvP,MAAM,EAAE;MACN/H,YAAY,EAAE;KAFD;IAIfH,QAAQ,EAAE4X,kBAJK;IAKf0U,KAAK,EAAE;MACL/lB,IAAI,EAAE;;GARO;EAWjBinB,EAAE,EAAE;IACF47B,SADE,qBACQzgD,CADR,EACW;WACNzM,KAAL,CAAWyM,CAAX;KAFA;IAIF0gD,QAJE,oBAIO1gD,CAJP,EAIU;WACLyX,IAAL,CAAUzX,CAAV;KALA;IAOF2gD,OAPE,mBAOM3gD,CAPN,EAOS;WACJxM,GAAL,CAASwM,CAAT;KARA;IAUFs+D,UAVE,wBAUW;WACNpb,MAAL;;GAtBa;EAyBjB11B,OAzBiB,qBAyBP;SACHtQ,KAAL,GAAaylC,YAAU,EAAvB;GA1Be;EA4BjBjrD,aA5BiB,2BA4BD;WACP,CAAP;GA7Be;EA+BjB4pB,MA/BiB,oBA+BR,EA/BQ;EAgCjB/tB,KAhCiB,iBAgCXyM,CAhCW,EAgCR;SACFkd,KAAL,CAAWwV,YAAX,GAA0B,KAAK7S,QAAL,CAAcoG,OAAd,GAAwBC,qBAAxB,EAA1B;QACMl4B,CAAC,GAAG8vE,aAAa,CAAC,IAAD,EAAO99D,CAAP,EAAU,KAAV,CAAvB,CAFO;;QAKH,CAACyyB,aAAa,CAAC;MACjBxgC,CAAC,EAAE,CADc;MACXG,CAAC,EAAE,CADQ;MACLwC,KAAK,EAAE,KAAKD,IAAL,CAAUC,KADZ;MACmBC,MAAM,EAAE,KAAKF,IAAL,CAAUE;KADtC,EAEf7G,CAFe,CAAlB,EAEO;;;;SAIFkvB,KAAL,CAAWklC,WAAX,GAAyBK,gBAAc,CAAC,KAAKprD,QAAN,CAAvC;SACK6lB,KAAL,CAAW3pB,KAAX,GAAmBuqE,aAAa,CAAC,IAAD,EAAO99D,CAAP,CAAhC;SACKkd,KAAL,CAAW4G,MAAX,GAAoB,IAApB;GA7Ce;EA+CjBrM,IA/CiB,gBA+CZzX,CA/CY,EA+CT;QACF,CAAC,KAAKkd,KAAL,CAAW4G,MAAhB,EAAwB;;;;SAInB5G,KAAL,CAAW1pB,GAAX,GAAiBsqE,aAAa,CAAC,IAAD,EAAO99D,CAAP,CAA9B;IAEAq+D,WAAW,CAAC,IAAD,CAAX;IACA/8C,QAAM,CAAC,IAAD,CAAN;GAvDe;EAyDjB9tB,GAzDiB,iBAyDX;QACA,CAAC,KAAK0pB,KAAL,CAAW4G,MAAhB,EAAwB;;;;SAInB5G,KAAL,GAAaylC,YAAU,EAAvB;SACK9iC,QAAL,CAAcyB,MAAd,CAAqB,EAArB;GA/De;EAiEjB4hC,MAjEiB,oBAiER;QACH,CAAC,KAAKhmC,KAAL,CAAW4G,MAAhB,EAAwB;;;;IAGxBo6C,UAAU,CAAC,KAAKhhD,KAAN,EAAa,KAAKiF,KAAlB,CAAV;SACKjF,KAAL,GAAaylC,YAAU,EAAvB;SACK9iC,QAAL,CAAcyB,MAAd,CAAqB,EAArB;;CAvEJ;;ACtJe,SAASi9C,SAAT,CAAmBx6B,OAAnB,EAA4B;EACzCA,OAAO,CAAC5kC,SAAR,CAAkB,YAAlB,EAAgC8rB,UAAhC;;;ACDa,SAAS9gB,SAAT,CAAmB8V,KAAnB,QAKZ;MAJDkC,KAIC,QAJDA,KAIC;MAHD1rB,KAGC,QAHDA,KAGC;MAFDpH,KAEC,QAFDA,KAEC;MADDxC,CACC,QADDA,CACC;MACK2xE,OAAO,GAAG;IACdzuD,SAAS,EAAE;MACTtO,OAAO,EAAE0gB,KAAK,CAAC1gB,OADN;MAEThL,KAAK,EAAE0rB,KAAK,CAAC1rB,KAFJ;MAGT6M,SAAS,EAAE6e,KAAK,CAAC7e;KAJL;IAMd7M,KAAK,EAALA,KANc;IAOd5J,CAAC,EAADA;GAPF;MAUMkB,IAAI,GAAG,EAAb;EACAkyB,KAAK,CAACzhB,OAAN,CAAc,UAACmU,IAAD,EAAU;QAClB,OAAOtjB,KAAK,CAAC8Z,OAAb,KAAyB,UAA7B,EAAyC;UACjC+G,GAAG,GAAG/W,MAAM,CAAC;QAAEwZ,IAAI,EAAJA;OAAH,EAAW6rD,OAAX,CAAlB;MACAzwE,IAAI,CAACY,IAAL,CAAUU,KAAK,CAAC8Z,OAAN,CAAc+G,GAAd,CAAV;;GAHJ;SAOOniB,IAAP;;;ACvBF,SAAS0wE,cAAT,CAAwBpvE,KAAxB,EAA+Bga,IAA/B,EAAqC;SAC5B;IACLq1D,OAAO,EAAE,OAAOrvE,KAAK,CAACsvE,YAAb,KAA8B,UAA9B,GAA2CtvE,KAAK,CAACsvE,YAAN,CAAmB;MAAEpnE,IAAI,EAAE8R,IAAI,CAAC9R;KAAhC,CAA3C,GAAqFlI,KAAK,CAACsvE,YAD/F;IAELrhC,OAAO,EAAE,OAAOjuC,KAAK,CAACuvE,YAAb,KAA8B,UAA9B,GAA2CvvE,KAAK,CAACuvE,YAAN,CAAmB;MAAErnE,IAAI,EAAE8R,IAAI,CAAC9R;KAAhC,CAA3C,GAAqFlI,KAAK,CAACuvE,YAF/F;IAGLC,KAAK,EAAE,OAAOxvE,KAAK,CAACyvE,UAAb,KAA4B,UAA5B,GAAyCzvE,KAAK,CAACyvE,UAAN,CAAiB;MAAEvnE,IAAI,EAAE8R,IAAI,CAAC9R;KAA9B,CAAzC,GAAiFlI,KAAK,CAACyvE;GAHhG;;;AAOF,SAASC,cAAT,CAAwBlyE,CAAxB,EAA2BkB,IAA3B,EAAiC41B,KAAjC,EAAwCt0B,KAAxC,EAA+C;SACtCA,KAAK,CAACiuC,OAAN,CAAc;IACnBzwC,CAAC,EAADA,CADmB;IAEnB82B,KAAK,EAALA,KAFmB;IAGnB51B,IAAI,EAAJA;GAHK,CAAP;;;AAOF,AAAe,SAASuzB,QAAT,CAAgBvzB,IAAhB,EAAsBiqD,SAAtB,QAKZ;MAJDn4B,QAIC,QAJDA,QAIC;MAHD8D,KAGC,QAHDA,KAGC;MAFDt0B,KAEC,QAFDA,KAEC;MADDxC,CACC,QADDA,CACC;MACKmyE,OAAO,GAAGP,cAAc,CAACpvE,KAAD,EAAQ2oD,SAAR,CAA9B;MACM1a,OAAO,GAAGyhC,cAAc,CAAClyE,CAAD,EAAIkB,IAAJ,EAAU41B,KAAV,EAAiBt0B,KAAjB,CAA9B;MAEM4vE,mBAAmB,GAAG;IAC1B1xD,QAAQ,EAAE,UADgB;IAE1B0oD,OAAO,EAAE;GAFX;MAKMiJ,WAAW,GACf;IAAK,GAAG,EAAE7vE,KAAK,CAACo6B,SAAhB;IAA2B,KAAK,EAAE8rC,WAAW,CAACp8D,MAAM,CAAC;qBAAiB;KAAlB,EAA0B6lE,OAAO,CAACN,OAAlC,CAAP,CAA7C;IAAiG,KAAK,EAAEvlE,MAAM,CAAC8lE,mBAAD,EAAsBjnB,SAAS,CAACmnB,oBAAhC;KAC5G;IAAK,KAAK,EAAEx7C,KAAK,CAAC2Z,OAAlB;IAA2B,KAAK,EAAEi4B,WAAW,CAACp8D,MAAM,CAAC;6BAAyB;KAA1B,EAAkC6lE,OAAO,CAAC1hC,OAA1C,CAAP;KAC1CA,OADH,CADF,EAIE;IAAK,KAAK,EAAEi4B,WAAW,CAACp8D,MAAM,CAAC;2BAAuB;KAAxB,EAAgC6lE,OAAO,CAACH,KAAxC,CAAP,CAAvB;IAA+E,KAAK,EAAE1lE,MAAM,CAAC,EAAD,EAAKwqB,KAAK,CAACk7C,KAAX,EAAkBl7C,KAAK,iBAAUq0B,SAAS,CAACzgD,IAApB,EAAvB,EAAoDygD,SAAS,CAAConB,kBAA9D;IAJ9F,CADF;EASAv/C,QAAQ,CAACyB,MAAT,CAAgB49C,WAAhB;SAEOr/C,QAAQ,CAACoG,OAAT,GAAmB7S,QAAnB,CAA4B,CAA5B,CAAP;;;AC5CF;;;;AAIA,SAASisD,eAAT,GAA2B;MACnB39D,EAAE,GAAG,SAASA,EAAT,GAAc,EAAzB;;MACMmjB,EAAE,GAAG;IACTy6C,OAAO,EAAE,EADA;IAETC,SAAS,EAAE,EAFF;IAGTz7C,MAAM,EAAE,EAHC;IAIT07C,SAAS,EAAE,EAJF;IAKTC,QAAQ,EAAE,EALD;IAMTC,SAAS,EAAE;GANb;MAQIxiD,KAAJ;;EAEAxb,EAAE,CAAC2X,GAAH,GAAS,UAACpsB,CAAD,EAAO;IACdiwB,KAAK,GAAGjwB,CAAR;IACA43B,EAAE,CAAC3H,KAAD,CAAF,CAAU1e,OAAV,CAAkB,UAAC0tB,KAAD;aAAWA,KAAK,CAACj/B,CAAD,CAAhB;KAAlB;GAFF;;EAKAyU,EAAE,CAACmjB,EAAH,GAAQ,UAACh1B,GAAD,EAAMq8B,KAAN,EAAgB;QAClB37B,KAAK,CAACC,OAAN,CAAcX,GAAd,CAAJ,EAAwB;MACtBA,GAAG,CAAC2O,OAAJ,CAAY,UAAC6L,CAAD;eAAOwa,EAAE,CAACxa,CAAD,CAAF,CAAM1b,IAAN,CAAWu9B,KAAX,CAAP;OAAZ;KADF,MAEO;MACLrH,EAAE,CAACh1B,GAAD,CAAF,CAAQlB,IAAR,CAAau9B,KAAb;;GAJJ;;EAQAxqB,EAAE,CAAC8tB,OAAH,GAAa,YAAM;IACjB7/B,MAAM,CAACgS,IAAP,CAAYkjB,EAAZ,EAAgBrmB,OAAhB,CAAwB,UAAC3O,GAAD,EAAS;MAC/Bg1B,EAAE,CAACh1B,GAAD,CAAF,CAAQnB,MAAR,GAAiB,CAAjB;KADF;GADF,CAzByB;;;;;SAmClBgT,EAAP;;;AAGF,AAAe,SAASi+D,kBAAT,OAGZ;MAFDC,eAEC,QAFDA,eAEC;MADDC,YACC,QADDA,YACC;MACGC,QAAQ,GAAG,IAAf;MACIC,WAAW,GAAG,IAAlB;MACIriD,QAAQ,GAAG,KAAf;MACMR,KAAK,GAAGmiD,eAAe,EAA7B;;MACM39D,EAAE,GAAG,SAASA,EAAT,GAAc,EAAzB;;MACMg+D,SAAS,GAAG,SAAZA,SAAY,GAAM;IACtBI,QAAQ,GAAG,IAAX;IACAC,WAAW,GAAG,IAAd;IACAriD,QAAQ,GAAG,KAAX;IACAR,KAAK,CAAC7D,GAAN,CAAU,WAAV;GAJF;;EAOA3X,EAAE,CAACs+D,MAAH,GAAY,UAAC/jD,MAAD,EAA8D;QAArD2E,QAAqD,uEAA1Cg/C,eAA0C;QAAzBK,KAAyB,uEAAjBJ,YAAiB;;QACpEC,QAAJ,EAAc;MACZI,YAAY,CAACJ,QAAD,CAAZ;MACA5iD,KAAK,CAAC7D,GAAN,CAAU,WAAV;;;IAGF6D,KAAK,CAAC7D,GAAN,CAAU,SAAV;IACAymD,QAAQ,GAAGK,UAAU,CAAC,YAAM;MAC1BlkD,MAAM;MACNyB,QAAQ,GAAG,IAAX;MACAoiD,QAAQ,GAAG,IAAX;MACA5iD,KAAK,CAAC7D,GAAN,CAAU,QAAV;KAJmB,EAKlB4mD,KALkB,CAArB;;QAOIr/C,QAAQ,GAAG,CAAf,EAAkB;UACZm/C,WAAJ,EAAiB;QACfG,YAAY,CAACH,WAAD,CAAZ;;;MAEFA,WAAW,GAAGI,UAAU,CAACT,SAAD,EAAY9+C,QAAQ,GAAG1uB,IAAI,CAACyG,GAAL,CAASsnE,KAAT,EAAgB,CAAhB,CAAvB,CAAxB;;GAlBJ;;EAsBAv+D,EAAE,CAAC4X,KAAH,GAAW,YAAM;QACXoE,QAAJ,EAAc;MACZR,KAAK,CAAC7D,GAAN,CAAU,WAAV;KADF,MAEO,IAAIymD,QAAJ,EAAc;MACnBI,YAAY,CAACJ,QAAD,CAAZ;MACA5iD,KAAK,CAAC7D,GAAN,CAAU,UAAV;;;QAEE0mD,WAAJ,EAAiB;MACfG,YAAY,CAACH,WAAD,CAAZ;;;IAEFD,QAAQ,GAAG,IAAX;IACAC,WAAW,GAAG,IAAd;IACAriD,QAAQ,GAAG,KAAX;GAZF;;EAeAhc,EAAE,CAACmjB,EAAH,GAAQ,UAACh1B,GAAD,EAAMq8B,KAAN,EAAgB;IACtBhP,KAAK,CAAC2H,EAAN,CAASh1B,GAAT,EAAcq8B,KAAd;GADF;;EAIAxqB,EAAE,CAAC8tB,OAAH,GAAa,YAAM;IACjB9tB,EAAE,CAAC4X,KAAH;IACA4D,KAAK,CAACsS,OAAN;GAFF;;SAKO9tB,EAAP;;;ACtGF,SAAS0+D,gBAAT,GAAsC;MAAZp4D,MAAY,uEAAH,CAAG;SAC7B;IACLrM,IAAI,6CAAsC,CAACqM,MAAvC,QADC;IAELpM,KAAK,sBAAeoM,MAAf,cAFA;IAGLnM,GAAG,8CAAuC,CAACmM,MAAxC,QAHE;IAILlM,MAAM,4BAAqBkM,MAArB;GAJR;;;AAQF,SAASq4D,aAAT,CAAuBzrE,KAAvB,EAA8BC,MAA9B,EAAkD;MAAZmT,MAAY,uEAAH,CAAG;SACzC;IACLrM,IAAI,EAAE;MAAE1J,CAAC,EAAE,CAAC2C,KAAD,GAASoT,MAAd;MAAsB5V,CAAC,EAAE,CAACyC,MAAD,GAAU;KADpC;IAEL+G,KAAK,EAAE;MAAE3J,CAAC,EAAE+V,MAAL;MAAa5V,CAAC,EAAE,CAACyC,MAAD,GAAU;KAF5B;IAGLgH,GAAG,EAAE;MAAE5J,CAAC,EAAE,CAAC2C,KAAD,GAAS,CAAd;MAAiBxC,CAAC,EAAE,CAACyC,MAAD,GAAUmT;KAH9B;IAILlM,MAAM,EAAE;MAAE7J,CAAC,EAAE,CAAC2C,KAAD,GAAS,CAAd;MAAiBxC,CAAC,EAAE4V;;GAJ9B;;;AAQF,SAASs4D,qBAAT,CAA+Bt4D,MAA/B,EAAuC;SAC9B;IACLrM,IAAI,EAAE;MACJA,IAAI,EAAE,MADF;MAEJE,GAAG,uBAAgBmM,MAAhB,QAFC;MAGJu4D,WAAW,YAAKv4D,MAAL;KAJR;IAMLpM,KAAK,EAAE;MACLD,IAAI,YAAK,CAACqM,MAAD,GAAU,CAAf,OADC;MAELnM,GAAG,uBAAgBmM,MAAhB,QAFE;MAGLu4D,WAAW,YAAKv4D,MAAL;KATR;IAWLnM,GAAG,EAAE;MACHF,IAAI,uBAAgBqM,MAAhB,QADD;MAEHnM,GAAG,EAAE,MAFF;MAGH0kE,WAAW,YAAKv4D,MAAL;KAdR;IAgBLlM,MAAM,EAAE;MACNH,IAAI,uBAAgBqM,MAAhB,QADE;MAENnM,GAAG,YAAK,CAACmM,MAAD,GAAU,CAAf,OAFG;MAGNu4D,WAAW,YAAKv4D,MAAL;;GAnBf;;;AAwBF,SAASw4D,YAAT,CAAsB5iE,IAAtB,EAA4B+nC,EAA5B,EAAgCC,EAAhC,EAAoChxC,KAApC,EAA2CC,MAA3C,EAAmDmT,MAAnD,EAA2D;MACnDrT,IAAI,GAAG;IACX1C,CAAC,EAAE0zC,EAAE,GAAG39B,MAAM,CAAC/V,CADJ;IAEXG,CAAC,EAAEwzC,EAAE,GAAG59B,MAAM,CAAC5V,CAFJ;IAGXwC,KAAK,EAALA,KAHW;IAIXC,MAAM,EAANA;GAJF;;MAOIF,IAAI,CAAC1C,CAAL,GAAS,CAAT,IAAc0C,IAAI,CAACvC,CAAL,GAAS,CAA3B,EAA8B;WACrB,KAAP;;;MAEEuC,IAAI,CAAC1C,CAAL,GAAS0C,IAAI,CAACC,KAAd,GAAsBgJ,IAAI,CAAChJ,KAA3B,IAAoCD,IAAI,CAACvC,CAAL,GAASuC,IAAI,CAACE,MAAd,GAAuB+I,IAAI,CAAC/I,MAApE,EAA4E;WACnE,KAAP;;;SAEK,IAAP;;;;;;;;AAOF,AAAO,SAAS4rE,UAAT,OAEJ;MADD7iE,IACC,QADDA,IACC;MADK+nC,EACL,QADKA,EACL;MADSC,EACT,QADSA,EACT;MADahxC,KACb,QADaA,KACb;MADoBC,MACpB,QADoBA,MACpB;MAD4BmT,MAC5B,QAD4BA,MAC5B;MACKrT,IAAI,GAAG;IACX1C,CAAC,EAAE0zC,EAAE,GAAG39B,MAAM,CAAC/V,CADJ;IAEXG,CAAC,EAAEwzC,EAAE,GAAG59B,MAAM,CAAC5V,CAFJ;IAGXwC,KAAK,EAALA,KAHW;IAIXC,MAAM,EAANA;GAJF;MAOI6rE,OAAO,GAAG/rE,IAAI,CAAC1C,CAAL,GAAS,CAAT,GAAa,CAAC0C,IAAI,CAAC1C,CAAnB,GAAuB,CAArC;MACI0uE,OAAO,GAAGhsE,IAAI,CAACvC,CAAL,GAAS,CAAT,GAAa,CAACuC,IAAI,CAACvC,CAAnB,GAAuB,CAArC;EAEAsuE,OAAO,IAAI/rE,IAAI,CAAC1C,CAAL,GAAS0C,IAAI,CAACC,KAAd,GAAsBgJ,IAAI,CAAChJ,KAA3B,GACP,EAAGD,IAAI,CAAC1C,CAAL,GAAS0C,IAAI,CAACC,KAAf,GAAwBgJ,IAAI,CAAChJ,KAA/B,CADO,GACiC,CAD5C;EAEA+rE,OAAO,IAAIhsE,IAAI,CAACvC,CAAL,GAASuC,IAAI,CAACE,MAAd,GAAuB+I,IAAI,CAAC/I,MAA5B,GACP,EAAGF,IAAI,CAACvC,CAAL,GAASuC,IAAI,CAACE,MAAf,GAAyB+I,IAAI,CAAC/I,MAAhC,CADO,GACmC,CAD9C;SAGO;IACL5C,CAAC,EAAEyuE,OADE;IAELtuE,CAAC,EAAEuuE;GAFL;;;AAMF,SAASC,aAAT,QAOG;MAND7wD,SAMC,SANDA,SAMC;MALDkQ,KAKC,SALDA,KAKC;MAJD4gD,OAIC,SAJDA,OAIC;MAHMC,QAGN,SAHDlsE,KAGC;MAFOmsE,SAEP,SAFDlsE,MAEC;MADD2V,OACC,SADDA,OACC;MACOw2D,YADP,GACwBH,OADxB,CACOG,YADP;;8BAOGjxD,SAAS,CAACkxD,6BAAV,CAAwChhD,KAAK,CAAC,CAAD,CAA7C,CAPH;MAGChuB,CAHD,yBAGCA,CAHD;MAICG,CAJD,yBAICA,CAJD;MAKCwC,KALD,yBAKCA,KALD;MAMCC,MAND,yBAMCA,MAND;;MASKqsE,KAAK,GAAG;IACZvlE,IAAI,EAAE;MAAE1J,CAAC,EAADA,CAAF;MAAKG,CAAC,EAAEA,CAAC,GAAIyC,MAAM,GAAG;KADhB;IAEZ+G,KAAK,EAAE;MAAE3J,CAAC,EAAEA,CAAC,GAAG2C,KAAT;MAAgBxC,CAAC,EAAEA,CAAC,GAAIyC,MAAM,GAAG;KAF5B;IAGZgH,GAAG,EAAE;MAAE5J,CAAC,EAAEA,CAAC,GAAI2C,KAAK,GAAG,CAAlB;MAAsBxC,CAAC,EAADA;KAHf;IAIZ0J,MAAM,EAAE;MAAE7J,CAAC,EAAEA,CAAC,GAAI2C,KAAK,GAAG,CAAlB;MAAsBxC,CAAC,EAAEA,CAAC,GAAGyC;;GAJvC,CATC;;MAiBKssE,cAAc,GAAGf,gBAAgB,CAAC51D,OAAO,CAACxC,MAAT,CAAvC;MACM+e,SAAS,GAAGo6C,cAAc,CAAC32D,OAAO,CAACjT,IAAT,CAAhC;;MACIwvB,SAAJ,EAAe;WACN;MACLo4C,oBAAoB,EAAE;QACpBxjE,IAAI,YAAKulE,KAAK,CAAC12D,OAAO,CAACjT,IAAT,CAAL,CAAoBtF,CAAzB,OADgB;QAEpB4J,GAAG,YAAKqlE,KAAK,CAAC12D,OAAO,CAACjT,IAAT,CAAL,CAAoBnF,CAAzB,OAFiB;QAGpB20B,SAAS,EAATA;OAJG;MAMLq4C,kBAAkB,EAAEkB,qBAAqB,CAAC91D,OAAO,CAACxC,MAAT,CAArB,CAAsCwC,OAAO,CAACjT,IAA9C,CANf;MAOLA,IAAI,EAAEiT,OAAO,CAACjT;KAPhB;;;MAWIqG,IAAI,GAAG;IACXhJ,KAAK,EAAE4V,OAAO,CAAC5M,IAAR,KAAiB,QAAjB,GAA4BojE,YAAY,CAACpsE,KAAzC,GAAiD3D,MAAM,CAACmwE,UADpD;IAEXvsE,MAAM,EAAE2V,OAAO,CAAC5M,IAAR,KAAiB,QAAjB,GAA4BojE,YAAY,CAACnsE,MAAzC,GAAkD5D,MAAM,CAACowE;GAFnE;MAIMC,WAAW,GAAGjB,aAAa,CAACS,QAAD,EAAWC,SAAX,EAAsBv2D,OAAO,CAACxC,MAA9B,CAAjC;MACMu5D,SAAS,GAAG,CAAC,KAAD,EAAQ,MAAR,EAAgB,OAAhB,EAAyB,QAAzB,CAAlB;;OAEK,IAAIjyE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGiyE,SAAS,CAAC7yE,MAA9B,EAAsCY,CAAC,IAAI,CAA3C,EAA8C;QACtCiI,IAAI,GAAGgqE,SAAS,CAACjyE,CAAD,CAAtB;QACMq2C,EAAE,GAAGn7B,OAAO,CAAC5M,IAAR,KAAiB,QAAjB,GAA4BsjE,KAAK,CAAC3pE,IAAD,CAAL,CAAYtF,CAAxC,GAA4C+uE,YAAY,CAACrlE,IAAb,GAAoBulE,KAAK,CAAC3pE,IAAD,CAAL,CAAYtF,CAAvF;QACM2zC,EAAE,GAAGp7B,OAAO,CAAC5M,IAAR,KAAiB,QAAjB,GAA4BsjE,KAAK,CAAC3pE,IAAD,CAAL,CAAYnF,CAAxC,GAA4C4uE,YAAY,CAACnlE,GAAb,GAAmBqlE,KAAK,CAAC3pE,IAAD,CAAL,CAAYnF,CAAtF;;QACIouE,YAAY,CAAC5iE,IAAD,EAAO+nC,EAAP,EAAWC,EAAX,EAAek7B,QAAf,EAAyBC,SAAzB,EAAoCO,WAAW,CAAC/pE,IAAD,CAA/C,CAAhB,EAAwE;aAC/D;QACL4nE,oBAAoB,EAAE;UACpBxjE,IAAI,YAAKulE,KAAK,CAAC3pE,IAAD,CAAL,CAAYtF,CAAjB,OADgB;UAEpB4J,GAAG,YAAKqlE,KAAK,CAAC3pE,IAAD,CAAL,CAAYnF,CAAjB,OAFiB;UAGpB20B,SAAS,EAAEo6C,cAAc,CAAC5pE,IAAD;SAJtB;QAML6nE,kBAAkB,EAAEkB,qBAAqB,CAAC91D,OAAO,CAACxC,MAAT,CAArB,CAAsCzQ,IAAtC,CANf;QAOLA,IAAI,EAAJA;OAPF;;;;SAYG;IACL4nE,oBAAoB,EAAE;MACpBxjE,IAAI,YAAKulE,KAAK,CAACrlE,GAAN,CAAU5J,CAAf,OADgB;MAEpB4J,GAAG,YAAKqlE,KAAK,CAACrlE,GAAN,CAAUzJ,CAAf,OAFiB;MAGpB20B,SAAS,EAAEo6C,cAAc,CAACtlE;KAJvB;IAMLujE,kBAAkB,EAAEkB,qBAAqB,CAAC91D,OAAO,CAACxC,MAAT,CAArB,CAAsCnM,GANrD;IAOLtE,IAAI,EAAE;GAPR;;;AAWF,SAASiqE,YAAT,QAQG;MAPDh3D,OAOC,SAPDA,OAOC;MANDq2D,OAMC,SANDA,OAMC;MALDjsE,KAKC,SALDA,KAKC;MAJDC,MAIC,SAJDA,MAIC;MAHD0sE,SAGC,SAHDA,SAGC;MAFDtvE,CAEC,SAFDA,CAEC;MADDG,CACC,SADDA,CACC;MAEC4uE,YAFD,GAGGH,OAHH,CAECG,YAFD;;MAMKG,cAAc,GAAGf,gBAAgB,CAAC51D,OAAO,CAACxC,MAAT,CAAvC;MACM+e,SAAS,GAAGo6C,cAAc,CAAC32D,OAAO,CAACjT,IAAT,CAAhC;;MACIwvB,SAAJ,EAAe;WACN;MACLo4C,oBAAoB,EAAE;QACpBxjE,IAAI,YAAK1J,CAAL,OADgB;QAEpB4J,GAAG,YAAKzJ,CAAL,OAFiB;QAGpB20B,SAAS,EAATA;OAJG;MAMLq4C,kBAAkB,EAAEkB,qBAAqB,CAAC91D,OAAO,CAACxC,MAAT,CAArB,CAAsCwC,OAAO,CAACjT,IAA9C,CANf;MAOLA,IAAI,EAAEiT,OAAO,CAACjT;KAPhB;;;MAWIqG,IAAI,GAAG;IACXhJ,KAAK,EAAE4V,OAAO,CAAC5M,IAAR,KAAiB,QAAjB,GAA4BojE,YAAY,CAACpsE,KAAzC,GAAiD3D,MAAM,CAACmwE,UADpD;IAEXvsE,MAAM,EAAE2V,OAAO,CAAC5M,IAAR,KAAiB,QAAjB,GAA4BojE,YAAY,CAACnsE,MAAzC,GAAkD5D,MAAM,CAACowE;GAFnE;MAIMC,WAAW,GAAGjB,aAAa,CAACzrE,KAAD,EAAQC,MAAR,EAAgB2V,OAAO,CAACxC,MAAxB,CAAjC;MAEMy5D,OAAO,GAAG,EAAhB;MACMC,UAAU,GAAG,EAAnB;MACM/7B,EAAE,GAAGn7B,OAAO,CAAC5M,IAAR,KAAiB,QAAjB,GAA4B3L,CAA5B,GAAgC+uE,YAAY,CAACrlE,IAAb,GAAoB1J,CAA/D;MACM2zC,EAAE,GAAGp7B,OAAO,CAAC5M,IAAR,KAAiB,QAAjB,GAA4BxL,CAA5B,GAAgC4uE,YAAY,CAACnlE,GAAb,GAAmBzJ,CAA9D;;OAEK,IAAI9C,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGiyE,SAAS,CAAC7yE,MAA9B,EAAsCY,CAAC,IAAI,CAA3C,EAA8C;QACtCiI,IAAI,GAAGgqE,SAAS,CAACjyE,CAAD,CAAtB;QAEM0Y,MAAM,GAAGy4D,UAAU,CAAC;MACxB7iE,IAAI,EAAJA,IADwB;MAClB+nC,EAAE,EAAFA,EADkB;MACdC,EAAE,EAAFA,EADc;MACVhxC,KAAK,EAALA,KADU;MACHC,MAAM,EAANA,MADG;MACKmT,MAAM,EAAEs5D,WAAW,CAAC/pE,IAAD;KADzB,CAAzB;QAIM4nE,oBAAoB,GAAG;MAC3BxjE,IAAI,YAAK1J,CAAL,OADuB;MAE3B4J,GAAG,YAAKzJ,CAAL,OAFwB;MAG3B20B,SAAS,EAAEo6C,cAAc,CAAC5pE,IAAD;KAH3B;QAKM6nE,kBAAkB,GAAGkB,qBAAqB,CAAC91D,OAAO,CAACxC,MAAT,CAArB,CAAsCzQ,IAAtC,CAA3B;;QAEIyQ,MAAM,CAAC/V,CAAP,KAAa,CAAjB,EAAoB;MAClBktE,oBAAoB,CAACvqE,KAArB,aAAgCA,KAAK,GAAG8sE,UAAR,GAAqBxvE,IAAI,CAAC2O,GAAL,CAASmH,MAAM,CAAC/V,CAAhB,CAArD;;UAEIsF,IAAI,KAAK,KAAT,IAAkBA,IAAI,KAAK,QAA/B,EAAyC;QACvC4nE,oBAAoB,CAACxjE,IAArB,aAA+B1J,CAAC,GAAG+V,MAAM,CAAC/V,CAA1C;QAEAmtE,kBAAkB,CAACzjE,IAAnB,sBAAsCqM,MAAM,CAAC/V,CAAP,GAAW,CAAX,GAAe,GAAf,GAAqB,GAA3D,cAAkEC,IAAI,CAAC2O,GAAL,CAASmH,MAAM,CAAC/V,CAAhB,CAAlE;;;;QAIE4rB,MAAM,GAAG;MACbshD,oBAAoB,EAApBA,oBADa;MAEbC,kBAAkB,EAAlBA,kBAFa;MAGb7nE,IAAI,EAAJA,IAHa;MAIb5C,IAAI,EAAE;QACJC,KAAK,EAALA,KADI;QAEJC,MAAM,EAANA;;KANJ;;QAUImT,MAAM,CAAC/V,CAAP,KAAa,CAAb,IAAkB+V,MAAM,CAAC5V,CAAP,KAAa,CAAnC,EAAsC;aAC7ByrB,MAAP;;;IAGFA,MAAM,CAAC7V,MAAP,GAAgBA,MAAhB;IAEAy5D,OAAO,CAAC9yE,IAAR,CAAakvB,MAAb;;;EAGF4jD,OAAO,CAACxkE,IAAR,CAAa,UAACtQ,CAAD,EAAIuQ,CAAJ;WAAUhL,IAAI,CAAC2O,GAAL,CAASlU,CAAC,CAACqb,MAAF,CAAS/V,CAAlB,IAAuBC,IAAI,CAAC2O,GAAL,CAAS3D,CAAC,CAAC8K,MAAF,CAAS/V,CAAlB,CAAjC;GAAb;SAEOwvE,OAAO,CAAC,CAAD,CAAd;;;AAGF,SAASE,cAAT,QAKG;MAJDn3D,OAIC,SAJDA,OAIC;MAHDq2D,OAGC,SAHDA,OAGC;MAFDjsE,KAEC,SAFDA,KAEC;MADDC,MACC,SADDA,MACC;MAEC5C,CAFD,GAIG4uE,OAJH,CAEC5uE,CAFD;MAGCG,CAHD,GAIGyuE,OAJH,CAGCzuE,CAHD;SAMMovE,YAAY,CAAC;IAClBvvE,CAAC,EAADA,CADkB;IAElBG,CAAC,EAADA,CAFkB;IAGlByuE,OAAO,EAAPA,OAHkB;IAIlBjsE,KAAK,EAALA,KAJkB;IAKlBC,MAAM,EAANA,MALkB;IAMlB2V,OAAO,EAAPA,OANkB;IAOlB+2D,SAAS,EAAE,CAAC,KAAD,EAAQ,MAAR,EAAgB,OAAhB,EAAyB,QAAzB;GAPM,CAAnB;;;AAWF,SAASK,YAAT,QAOG;MANDp3D,OAMC,SANDA,OAMC;MALDq2D,OAKC,SALDA,OAKC;MAJDjsE,KAIC,SAJDA,KAIC;MAHDC,MAGC,SAHDA,MAGC;MAFDorB,KAEC,SAFDA,KAEC;MADDlQ,SACC,SADDA,SACC;MACK4C,IAAI,GAAGsN,KAAK,CAAC,CAAD,CAAlB;MACQztB,EAFP,GAEkBquE,OAFlB,CAEOruE,EAFP;MAEWC,EAFX,GAEkBouE,OAFlB,CAEWpuE,EAFX;MAGK6iC,eAAe,GAAGvlB,SAAS,CAAC8xD,0BAAV,CAAqClvD,IAArC,CAAxB,CAHC;;MAMK7Z,MAAM,GAAG;IACb7G,CAAC,EAAEO,EAAE,GAAG8iC,eAAe,CAACrjC,CAArB,GAA0BqjC,eAAe,CAAC1gC,KAAhB,GAAwB,CADxC;IAEbxC,CAAC,EAAEK,EAAE,GAAG6iC,eAAe,CAACljC,CAArB,GAA0BkjC,eAAe,CAACzgC,MAAhB,GAAyB;GAFxD;yBASI8d,IAAI,CAACyzB,IAAL,CAAUppC,KAfb;MAYCzJ,KAZD,oBAYCA,KAZD;MAaCC,GAbD,oBAaCA,GAbD;MAcCw2B,WAdD,oBAcCA,WAdD;;MAkBK++B,MAAM,GAAI,CAACx1D,KAAK,GAAGC,GAAT,IAAgB,CAAjB,GAAuBtB,IAAI,CAACiE,EAAL,GAAU,CAAhD;MACMiyD,GAAG,GAAGl2D,IAAI,CAACiE,EAAL,GAAU,CAAtB;MACM0yB,OAAO,GAAG,CAAEkgC,MAAM,GAAGX,GAAV,GAAiBA,GAAlB,IAAyBA,GAAzC;MACImZ,SAAS,GAAG,CAAC,KAAD,EAAQ,MAAR,EAAgB,OAAhB,EAAyB,QAAzB,CAAhB;;MAEI/2D,OAAO,CAACjT,IAAR,KAAiB,MAArB,EAA6B;QACvBsxB,OAAO,IAAI32B,IAAI,CAACiE,EAAL,GAAU,CAArB,IAA0B0yB,OAAO,IAAK32B,IAAI,CAACiE,EAAL,GAAU,CAAX,GAAgB,CAAzD,EAA4D;MAC1DorE,SAAS,GAAG,CAAC,OAAD,EAAU,KAAV,EAAiB,QAAjB,EAA2B,MAA3B,CAAZ;KADF,MAEO,IAAI14C,OAAO,IAAK32B,IAAI,CAACiE,EAAL,GAAU,CAAX,GAAgB,CAA/B,EAAkC;MACvCorE,SAAS,GAAG,CAAC,QAAD,EAAW,MAAX,EAAmB,OAAnB,EAA4B,KAA5B,CAAZ;KADK,MAEA,IAAI14C,OAAO,IAAK32B,IAAI,CAACiE,EAAL,GAAU,CAAX,GAAgB,CAA/B,EAAkC;MACvCorE,SAAS,GAAG,CAAC,MAAD,EAAS,KAAT,EAAgB,QAAhB,EAA0B,OAA1B,CAAZ;KADK,MAEA;MACLA,SAAS,GAAG,CAAC,KAAD,EAAQ,MAAR,EAAgB,OAAhB,EAAyB,QAAzB,CAAZ;;;;SAIGC,YAAY,CAAC;IAClBvvE,CAAC,EAAE6G,MAAM,CAAC7G,CAAP,GAAY+3B,WAAW,GAAGsL,eAAe,CAAC/3B,UAAhB,CAA2BtL,CAAzC,GAA6CC,IAAI,CAACC,GAAL,CAAS02B,OAAT,CAD1C;IAElBz2B,CAAC,EAAE0G,MAAM,CAAC1G,CAAP,GAAY43B,WAAW,GAAGsL,eAAe,CAAC/3B,UAAhB,CAA2BnL,CAAzC,GAA6CF,IAAI,CAACG,GAAL,CAASw2B,OAAT,CAF1C;IAGlBg4C,OAAO,EAAPA,OAHkB;IAIlBjsE,KAAK,EAALA,KAJkB;IAKlBC,MAAM,EAANA,MALkB;IAMlB2V,OAAO,EAAPA,OANkB;IAOlB+2D,SAAS,EAATA;GAPiB,CAAnB;;;AAWF,SAASM,2BAAT,CAAoClvD,IAApC,EAA0CkuD,OAA1C,EAAmD1+C,KAAnD,EAA0D;MAClDlnB,IAAI,GAAG0X,IAAI,CAAC9iB,GAAL,GAAWsyB,KAAK,CAAChjB,SAAN,CAAgBwT,IAAI,CAAC9iB,GAArB,CAAX,GACTsyB,KAAK,CAAC0W,mBAAN,CAA0B;IAAE5mC,CAAC,EAAE4uE,OAAO,CAAC//D,OAAb;IAAsB1O,CAAC,EAAEyuE,OAAO,CAAC9/D;GAA3D,EAAsE,CAAtE,CADJ;;MAGI,CAAC9F,IAAL,EAAW;WACF;MACLhJ,CAAC,EAAE,CADE;MAELG,CAAC,EAAE,CAFE;MAGLwC,KAAK,EAAE,CAHF;MAILC,MAAM,EAAE,CAJH;MAKL0I,UAAU,EAAE;QACVtL,CAAC,EAAE,CADO;QAEVG,CAAC,EAAE;;KAPP;;;MAYI0vE,aAAa,GAAG7mE,IAAI,CAACtG,IAA3B;SACOwE,MAAM,CAAC;IAAEoE,UAAU,EAAEukE,aAAa,CAACvkE;GAA7B,EAA2CukE,aAAa,CAACjzC,aAAzD,CAAb;;;AAGF,SAASoyC,8BAAT,CAAuCtuD,IAAvC,EAA6CkuD,OAA7C,EAAsD1+C,KAAtD,EAA6D;MACrDmT,eAAe,GAAGusC,2BAA0B,CAAClvD,IAAD,EAAOkuD,OAAP,EAAgB1+C,KAAhB,CAAlD;;MACMy7B,MAAM,GAAGjrC,IAAI,CAACirC,MAApB;SAEO;IACL3rD,CAAC,EAAEqjC,eAAe,CAACrjC,CAAhB,GAAoB4uE,OAAO,CAACruE,EAA5B,GAAiCorD,MAAM,CAAC3rD,CADtC;IAELG,CAAC,EAAEkjC,eAAe,CAACljC,CAAhB,GAAoByuE,OAAO,CAACpuE,EAA5B,GAAiCmrD,MAAM,CAACxrD,CAFtC;IAGLwC,KAAK,EAAEgpD,MAAM,CAAChpD,KAHT;IAILC,MAAM,EAAE+oD,MAAM,CAAC/oD;GAJjB;;;AAQF,IAAMktE,UAAU,GAAG;EACjBnkB,MAAM,EAAEgjB,aADS;EAEjBC,OAAO,EAAEc,cAFQ;EAGjB3kE,KAAK,EAAE4kE;CAHT;AAMA,AAAe,SAAS5pB,SAAT,eAIZ;MAJiCpjD,KAIjC,SAJiCA,KAIjC;MAJwCC,MAIxC,SAJwCA,MAIxC;MAHDstB,KAGC,SAHDA,KAGC;MAFDjF,KAEC,SAFDA,KAEC;MADD7tB,KACC,SADDA,KACC;MACK2yE,OAAO,GAAG;IACdjyD,SAAS,EAAE;MACTzM,SAAS,EAAE6e,KAAK,CAAC7e,SADR;MAET7M,KAAK,EAAE0rB,KAAK,CAAC1rB,KAFJ;MAGT0I,SAAS,EAAEgjB,KAAK,CAAChjB,SAHR;MAIT0iE,0BAA0B,EAAE,oCAAClvD,IAAD;eAAUkvD,2BAA0B,CAAClvD,IAAD,EAAOuK,KAAK,CAAC2jD,OAAb,EAAsB1+C,KAAtB,CAApC;OAJnB;MAKT8+C,6BAA6B,EAAE,uCAACtuD,IAAD;eAAUsuD,8BAA6B,CAACtuD,IAAD,EAAOuK,KAAK,CAAC2jD,OAAb,EAAsB1+C,KAAtB,CAAvC;;KANnB;IAQdlC,KAAK,EAAE/C,KAAK,CAAC+G,WARC;IASd48C,OAAO,EAAE3jD,KAAK,CAAC2jD,OATD;IAUdjsE,KAAK,EAALA,KAVc;IAWdC,MAAM,EAANA;GAXF;;MAaMvG,IAAI,WAAUe,KAAK,CAAC2oD,SAAhB,CAAV;;MAEI1pD,IAAI,KAAK,QAAT,IAAqB,OAAOe,KAAK,CAAC2oD,SAAN,CAAgBt2C,EAAvB,KAA8B,UAAvD,EAAmE;;WAE1DrS,KAAK,CAAC2oD,SAAN,CAAgBt2C,EAAhB,CAAmBsgE,OAAnB,CAAP;;;MAGE34D,IAAI,GAAG;IACT/a,IAAI,EAAE,SADG;IAET0Z,MAAM,EAAE,CAFC;IAGTzQ,IAAI,EAAE,MAHG;IAITqG,IAAI,EAAE;GAJR;;MAMItP,IAAI,KAAK,UAAb,EAAyB;;IAEvB+a,IAAI,GAAGlQ,MAAM,CAACkQ,IAAD,EAAOha,KAAK,CAAC2oD,SAAN,CAAgBgqB,OAAhB,CAAP,CAAb;;;MAGE1zE,IAAI,KAAK,QAAT,IAAqByzE,UAAU,CAAC1yE,KAAK,CAAC2oD,SAAN,CAAgB1pD,IAAjB,CAAnC,EAA2D;;IAEzD+a,IAAI,GAAGlQ,MAAM,CAACkQ,IAAD,EAAOha,KAAK,CAAC2oD,SAAb,CAAb;GAFF,MAGO,IAAI1pD,IAAI,KAAK,QAAT,IAAqByzE,UAAU,CAAC1yE,KAAK,CAAC2oD,SAAP,CAAnC,EAAsD;;IAE3D3uC,IAAI,GAAGlQ,MAAM,CAACkQ,IAAD,EAAO;MAAE/a,IAAI,EAAEe,KAAK,CAAC2oD;KAArB,CAAb;;;EAGFgqB,OAAO,CAACx3D,OAAR,GAAkBnB,IAAlB;MACM44D,IAAI,GAAGF,UAAU,CAAC14D,IAAI,CAAC/a,IAAN,CAAV,CAAsB0zE,OAAtB,CAAb;;8BAOIA,OAAO,CAACjyD,SAAR,CAAkB8xD,0BAAlB,CAA6CG,OAAO,CAAC/hD,KAAR,CAAc,CAAd,CAA7C,CAhDH;MA4CI6lC,IA5CJ,yBA4CC7zD,CA5CD;MA6CI2zD,IA7CJ,yBA6CCxzD,CA7CD;MA8CQ2zD,IA9CR,yBA8CCnxD,KA9CD;MA+CSixD,IA/CT,yBA+CChxD,MA/CD;;EAiDDixD,IAAI,IAAIkc,OAAO,CAACnB,OAAR,CAAgBruE,EAAxB;EACAuzD,IAAI,IAAID,IAAR;EACAF,IAAI,IAAIoc,OAAO,CAACnB,OAAR,CAAgBpuE,EAAxB;EACAozD,IAAI,IAAID,IAAR,CApDC;;EAuDDqc,IAAI,CAAC9C,oBAAL,CAA0BxjE,IAA1B,aAAoCzJ,IAAI,CAACwG,GAAL,CAASxG,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAYmtD,IAAZ,EAAkB7M,UAAU,CAACgpB,IAAI,CAAC9C,oBAAL,CAA0BxjE,IAA3B,CAA5B,CAAT,EAAwEoqD,IAAxE,CAApC;EACAkc,IAAI,CAAC9C,oBAAL,CAA0BtjE,GAA1B,aAAmC3J,IAAI,CAACwG,GAAL,CAASxG,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAYitD,IAAZ,EAAkB3M,UAAU,CAACgpB,IAAI,CAAC9C,oBAAL,CAA0BtjE,GAA3B,CAA5B,CAAT,EAAuEgqD,IAAvE,CAAnC;SAEOoc,IAAP;;;AC1aF,IAAIjzE,QAAJ;AAEA,AAAO,SAASkzE,SAAT,CAAmBjmD,MAAnB,EAA2B;EAChCjtB,QAAQ,GAAGitB,MAAX;;AAGF,AAAO,SAASkmD,YAAT,CAAsBlmD,MAAtB,EAA8B;MAC/BjtB,QAAQ,KAAKitB,MAAjB,EAAyB;IACvBjtB,QAAQ,GAAG,IAAX;WACO,IAAP;;;SAGK,KAAP;;AAGF,AAAO,SAASozE,YAAT,CAAsBz1E,CAAtB,EAAyB;MAC1BqC,QAAQ,IAAIA,QAAQ,KAAKrC,CAA7B,EAAgC;IAC9BqC,QAAQ;;;AAIZ,AAIO,SAAS8T,QAAT,GAAkB;EACvB9T,QAAQ,GAAG,IAAX;;;ACdF;;;;;AAIA,IAAMigB,kBAAgB,GAAG;;;;;EAKvB2R,QAAQ,EAAE,IALa;;;;;;EAUvBq/C,KAAK,EAAE,GAVgB;;;;;;;EAgBvB7iE,MAAM,EAAE,gBAAC6iB,KAAD;WAAWA,KAAK,CAAC7iB,MAAN,CAAa,UAACuV,IAAD;aAAUA,IAAI,CAAC5kB,IAAL,IAAa,OAAO4kB,IAAI,CAAC5kB,IAAL,CAAUiF,KAAjB,KAA2B,WAAlD;KAAb,CAAX;GAhBe;;;;;;;EAsBvBmW,OAAO,EAAE,iBAAC+G,GAAD;WAASA,GAAG,CAACyC,IAAJ,CAAS5kB,IAAT,CAAciF,KAAvB;GAtBc;;;;;;;EA4BvBsqC,OAAO,EAAE;QAAGzwC,CAAH,QAAGA,CAAH;QAAMkB,IAAN,QAAMA,IAAN;WAAiBA,IAAI,CAACJ,GAAL,CAAS,UAACukB,KAAD;aAAWrlB,CAAC,CAAC,KAAD,EAAQ,EAAR,EAAYqlB,KAAZ,CAAZ;KAAT,CAAjB;GA5Bc;;;;;;;;;EAoCvBmwD,OAAO,EAAE,iBAACzzB,IAAD,EAAOC,IAAP;WAAgBD,IAAI,CAAClgD,MAAL,IACpBkgD,IAAI,CAAClgD,MAAL,KAAgBmgD,IAAI,CAACngD,MADD,IAEpBkgD,IAAI,CAACjyC,KAAL,CAAW,UAAC3O,CAAD,EAAIsB,CAAJ;aAAUu/C,IAAI,CAACv/C,CAAD,CAAJ,IAAW2vD,IAAI,CAACC,SAAL,CAAelxD,CAAC,CAACD,IAAjB,MAA2BkxD,IAAI,CAACC,SAAL,CAAerQ,IAAI,CAACv/C,CAAD,CAAJ,CAAQvB,IAAvB,CAAhD;KAAX,CAFI;GApCc;;;;;EA0CvBiqD,SAAS,EAAE;;;;;IAKT1pD,IAAI,EAAE,SALG;;;;;;IAUTiJ,IAAI,EAAE,MAVG;;;;;;IAeTyQ,MAAM,EAAE,CAfC;;;;;;;;IAsBTpK,IAAI,EAAE;GAhEe;;;;;;EAsEvB+gE,YAAY,EAAE,EAtES;;;;;;EA2EvBC,YAAY,EAAE,EA3ES;;;;;;EAgFvBE,UAAU,EAAE,EAhFW;;;;;;EAqFvBr1C,SAAS,EAAE,KArFY;;;;;;EA0FvB2G,QAAQ,EAAEz5B,SA1Fa;;;;;;EA+FvB2rE,UAAU,EAAE3rE,SA/FW;;;;;;EAoGvB4rE,SAAS,EAAE5rE,SApGY;;;;;;EAyGvB6rE,UAAU,EAAE7rE,SAzGW;;;;;;EA8GvB8rE,MAAM,EAAE9rE,SA9Ge;;;;;;EAmHvB+rE,SAAS,EAAE/rE;CAnHb;AAsHA,IAAMgsE,aAAa,GAAG;EACpBjE,OAAO,EAAE,EADW;EAEpBphC,OAAO,EAAE;IACP1b,eAAe,EAAE,UADV;IAEPD,KAAK,EAAE,uBAFA;IAGPF,UAAU,EAAE,cAHL;IAIPC,QAAQ,EAAE,YAJH;IAKPmsC,UAAU,EAAE,cALL;IAMPtV,YAAY,EAAE,KANP;IAOP9mC,OAAO,EAAE,KAPF;IAQPgP,OAAO,EAAE;GAVS;EAYpBo+C,KAAK,EAAE;IACLtxD,QAAQ,EAAE,UADL;IAEL3Y,KAAK,EAAE,KAFF;IAGLC,MAAM,EAAE,KAHH;IAIL+tE,WAAW,EAAE,OAJR;IAKLjhD,KAAK,EAAE,UALF;IAMLlB,OAAO,EAAE;GAlBS;kBAoBJ;IACdoiD,cAAc,EAAE,aADF;IAEdC,eAAe,EAAE,aAFH;IAGdC,gBAAgB,EAAE;GAvBA;eAyBP;IACXC,iBAAiB,EAAE,aADR;IAEXF,eAAe,EAAE,aAFN;IAGXC,gBAAgB,EAAE;GA5BA;iBA8BL;IACbF,cAAc,EAAE,aADH;IAEbC,eAAe,EAAE,aAFJ;IAGbE,iBAAiB,EAAE;GAjCD;gBAmCN;IACZH,cAAc,EAAE,aADJ;IAEZG,iBAAiB,EAAE,aAFP;IAGZD,gBAAgB,EAAE;;CAtCtB;;AA0CA,SAASE,OAAT,CAAiB/2C,KAAjB,SAA0C;MAAhB/J,KAAgB,SAAhBA,KAAgB;MAATjF,KAAS,SAATA,KAAS;MACpCjrB,CAAC,GAAG,CAAR;MACIG,CAAC,GAAG,CAAR;;MACI85B,KAAK,CAACpzB,MAAV,EAAkB;IAChB7G,CAAC,IAAIi6B,KAAK,CAACpzB,MAAN,CAAa7G,CAAlB;IACAG,CAAC,IAAI85B,KAAK,CAACpzB,MAAN,CAAa1G,CAAlB;GAFF,MAGO;IACLH,CAAC,IAAIi6B,KAAK,CAACprB,OAAX;IACA1O,CAAC,IAAI85B,KAAK,CAACnrB,OAAX;GARsC;;;MAWlCihD,WAAW,GAAG7/B,KAAK,CAAC8D,OAAN,CAAcC,qBAAd,EAApB;MACM86C,YAAY,GAAG9jD,KAAK,CAACgmD,aAAN,CAAoBh9C,qBAApB,EAArB;MACMplB,OAAO,GAAG7O,CAAhB;MACM8O,OAAO,GAAG3O,CAAhB;MACMI,EAAE,GAAGwvD,WAAW,CAACrmD,IAAZ,GAAmBqlE,YAAY,CAACrlE,IAA3C;MACMlJ,EAAE,GAAGuvD,WAAW,CAACnmD,GAAZ,GAAkBmlE,YAAY,CAACnlE,GAA1C;MACM1B,EAAE,GAAGlI,CAAC,GAAG+vD,WAAW,CAACrmD,IAA3B;MACMvB,EAAE,GAAGhI,CAAC,GAAG4vD,WAAW,CAACnmD,GAA3B;EACA5J,CAAC,IAAI+uE,YAAY,CAACrlE,IAAlB;EACAvJ,CAAC,IAAI4uE,YAAY,CAACnlE,GAAlB;SACO;IACL5J,CAAC,EAADA,CADK;;IAELG,CAAC,EAADA,CAFK;IAGLI,EAAE,EAAFA,EAHK;;IAILC,EAAE,EAAFA,EAJK;IAKL0H,EAAE,EAAFA,EALK;;IAMLC,EAAE,EAAFA,EANK;IAOL0G,OAAO,EAAPA,OAPK;IAQLC,OAAO,EAAPA,OARK;IASLigE,YAAY,EAAZA,YATK;;IAULhf,WAAW,EAAXA,WAVK;;GAAP;;;AAcF,IAAM7iD,WAAS,GAAG;EAChB+rB,OAAO,EAAE,CAAC,OAAD,EAAU,UAAV,CADO;EAEhBpc,eAAe,EAAE;IACfzX,QAAQ,EAAE4X,kBADK;IAEf0U,KAAK,EAAEg/C;GAJO;EAMhB9iD,QAAQ,EAAE,KANM;EAOhBgF,EAAE,EAAE;IACFoK,IADE,kBACK;WACAA,IAAL;KAFA;IAIFr3B,IAJE,gBAIGs0B,KAJH,EAIqB;UAAX7iB,IAAW,uEAAJ,EAAI;WAChBzR,IAAL,CAAUs0B,KAAV,EAAiB7iB,IAAjB;KALA;IAOF85D,OAPE,mBAOMn1E,CAPN,EAOS;WACJm1E,OAAL,CAAan1E,CAAb;;GAfY;EAkBhBihC,IAlBgB,kBAkBT;SACAm0C,UAAL,CAAgB9pD,KAAhB;SACK4D,KAAL,CAAW+G,WAAX,GAAyB,EAAzB;SACK/G,KAAL,CAAW2jD,OAAX,GAAqB,EAArB;GArBc;EAuBhBjpE,IAvBgB,gBAuBXs0B,KAvBW,EAuB6B;;;oFAAJ,EAAI;QAA/BjM,KAA+B,SAA/BA,KAA+B;QAAxBW,QAAwB,SAAxBA,QAAwB;QAAdq/C,KAAc,SAAdA,KAAc;;QACvC,KAAK/iD,KAAL,CAAWimD,OAAf,EAAwB;;KADmB;;;SAMtCjmD,KAAL,CAAW2jD,OAAX,GAAqBoC,OAAO,CAAC/2C,KAAD,EAAQ,IAAR,CAA5B;QAEIm3C,MAAJ;;QACI9yE,KAAK,CAACC,OAAN,CAAcyvB,KAAd,CAAJ,EAA0B;MACxBojD,MAAM,GAAG,KAAKh0E,KAAL,CAAW+N,MAAX,CAAkB6iB,KAAlB,CAAT;KADF,MAEO;MACLojD,MAAM,GAAG,KAAKh0E,KAAL,CAAW+N,MAAX,CAAkB,KAAK+kB,KAAL,CAAW8N,QAAX,CAAoB;QAC7Ch+B,CAAC,EAAE,KAAKirB,KAAL,CAAW2jD,OAAX,CAAmB1mE,EADuB;QAE7C/H,CAAC,EAAE,KAAK8qB,KAAL,CAAW2jD,OAAX,CAAmBzmE;OAFG,CAAlB,CAAT;;;QAME,KAAK/K,KAAL,CAAWgzE,OAAX,CAAmB,KAAKnlD,KAAL,CAAW+G,WAA9B,EAA2Co/C,MAA3C,CAAJ,EAAwD;;;;SAInDD,UAAL,CAAgB9pD,KAAhB;SACK4D,KAAL,CAAW+G,WAAX,GAAyBo/C,MAAzB;;QAEI,KAAKnmD,KAAL,CAAW+G,WAAX,CAAuBv1B,MAA3B,EAAmC;WAC5B00E,UAAL,CAAgBpD,MAAhB,CACE;eAAM,KAAI,CAACsD,cAAL,CAAoB,KAAI,CAACpmD,KAAL,CAAW+G,WAA/B,CAAN;OADF,EAEErD,QAFF,EAGEq/C,KAHF;;GAjDY;EAwDhBkD,OAxDgB,mBAwDRn1E,CAxDQ,EAwDL;SACJkvB,KAAL,CAAWimD,OAAX,GAAqB,CAAC,CAACn1E,CAAvB;GAzDc;EA2DhBspB,IA3DgB,gBA2DXjgB,QA3DW,EA2DD;;;SACR6lB,KAAL,GAAa;MACX+G,WAAW,EAAE,EADF;MAEX48C,OAAO,EAAE,EAFE;MAGXqC,aAAa,EAAE,IAHJ;MAIXC,OAAO,EAAE;KAJX;SAMK9zE,KAAL,GAAagI,QAAQ,CAACA,QAAtB;SACK+rE,UAAL,GAAkBzD,kBAAkB,CAAC;MACnCC,eAAe,EAAE,KAAKvwE,KAAL,CAAWuxB,QADO;MAEnCi/C,YAAY,EAAE,KAAKxwE,KAAL,CAAW4wE;KAFS,CAApC;QAKMsD,UAAU,GAAG,KAAKH,UAAL,CAAgB9pD,KAAnC;SACK8pD,UAAL,CAAgBv+C,EAAhB,CAAmB,SAAnB,EAA8B,YAAM;;MAElCu9C,YAAY,CAACmB,UAAD,CAAZ;MACArB,SAAS,CAACqB,UAAD,CAAT;;UAEI,OAAO,MAAI,CAACl0E,KAAL,CAAWizE,UAAlB,KAAiC,UAArC,EAAiD;QAC/C,MAAI,CAACjzE,KAAL,CAAWizE,UAAX,CAAsBxxE,IAAtB,CAA2B6F,SAA3B,EAAsC;UACpCoZ,SAAS,EAAE;YACTzM,SAAS,EAAE,MAAI,CAAC6e,KAAL,CAAW7e,SADb;YAET7M,KAAK,EAAE,MAAI,CAAC0rB,KAAL,CAAW1rB;;SAHtB;;KANJ;SAeK2sE,UAAL,CAAgBv+C,EAAhB,CAAmB,CAAC,WAAD,EAAc,WAAd,CAAnB,EAA+C,YAAM;UAC7C2+C,WAAW,GAAG;QAClBzzD,SAAS,EAAE;UACTzM,SAAS,EAAE,MAAI,CAAC6e,KAAL,CAAW7e,SADb;UAET7M,KAAK,EAAE,MAAI,CAAC0rB,KAAL,CAAW1rB;;OAHtB;;UAOI,OAAO,MAAI,CAACpH,KAAL,CAAWmzE,UAAlB,KAAiC,UAArC,EAAiD;QAC/C,MAAI,CAACnzE,KAAL,CAAWmzE,UAAX,CAAsB1xE,IAAtB,CAA2B6F,SAA3B,EAAsCwC,MAAM,CAAC;UAAE8sB,OAAO,EAAE,MAAI,CAAC/I,KAAL,CAAWumD;SAAvB,EAAqCD,WAArC,CAA5C;;;UAGE,OAAO,MAAI,CAACn0E,KAAL,CAAWozE,MAAlB,KAA6B,UAAjC,EAA6C;QAC3C,MAAI,CAACpzE,KAAL,CAAWozE,MAAX,CAAkB3xE,IAAlB,CAAuB6F,SAAvB,EAAkCwC,MAAM,CAAC;UAAE8sB,OAAO,EAAE,MAAI,CAAC/I,KAAL,CAAWumD;SAAvB,EAAqCD,WAArC,CAAxC;OADF,MAEO;QACL,MAAI,CAAC3jD,QAAL,CAAcvG,KAAd,CAAoB,EAApB,EADK;;;;UAIH,OAAO,MAAI,CAACjqB,KAAL,CAAWqzE,SAAlB,KAAgC,UAApC,EAAgD;QAC9C,MAAI,CAACrzE,KAAL,CAAWqzE,SAAX,CAAqB5xE,IAArB,CAA0B6F,SAA1B,EAAqC6sE,WAArC;;;MAGFrB,YAAY,CAACoB,UAAD,CAAZ;MACA,MAAI,CAACrmD,KAAL,CAAWumD,UAAX,GAAwB9sE,SAAxB;KAvBF;SA0BKysE,UAAL,CAAgBv+C,EAAhB,CAAmB,QAAnB,EAA6B,YAAM;UAC7B,OAAO,MAAI,CAACx1B,KAAL,CAAWkzE,SAAlB,KAAgC,UAApC,EAAgD;QAC9C,MAAI,CAAClzE,KAAL,CAAWkzE,SAAX,CAAqBzxE,IAArB,CAA0B6F,SAA1B,EAAqC;UACnCsvB,OAAO,EAAE,MAAI,CAAC/I,KAAL,CAAWumD,UADe;UAEnC1zD,SAAS,EAAE;YACTzM,SAAS,EAAE,MAAI,CAAC6e,KAAL,CAAW7e,SADb;YAET7M,KAAK,EAAE,MAAI,CAAC0rB,KAAL,CAAW1rB;;SAJtB;;KAFJ;GAlHc;EA8HhB+2B,OA9HgB,qBA8HN;SACHlW,IAAL,CAAU,KAAKjgB,QAAf;GA/Hc;EAiIhBu2B,YAjIgB,+BAiIW;QAAZv2B,QAAY,SAAZA,QAAY;;QACrB,KAAK+rE,UAAT,EAAqB;WACdA,UAAL,CAAgB5zC,OAAhB;MACA1sB,QAAM;;;SAEHwU,IAAL,CAAUjgB,QAAV;GAtIc;EAwIhBiqB,MAxIgB,kBAwITz0B,CAxIS,EAwIN;SACHA,CAAL,GAASA,CAAT;WACO,EAAP,CAFQ;GAxIM;EA4IhBihC,aA5IgB,2BA4IA;SACTs1C,UAAL,CAAgB5zC,OAAhB;IACA1sB,QAAM;GA9IQ;EAgJhBstB,QAhJgB,sBAgJL;QACL,KAAK/gC,KAAL,CAAW+gC,QAAf,EAAyB;WAClBlT,KAAL,CAAWgmD,aAAX,GAA2B,OAAO,KAAK7zE,KAAL,CAAW+gC,QAAlB,KAA+B,UAA/B,GAA4C,KAAK/gC,KAAL,CAAW+gC,QAAX,CAAoB;QACzFrgB,SAAS,EAAE;UACTzM,SAAS,EAAE,KAAK6e,KAAL,CAAW7e,SADb;UAET7M,KAAK,EAAE,KAAK0rB,KAAL,CAAW1rB;;OAHiD,CAA5C,GAKtB,KAAKpH,KAAL,CAAW+gC,QALhB;;kCAM0B,KAAKlT,KAAL,CAAWgmD,aAAX,CAAyBh9C,qBAAzB,EAPH;UAOftxB,KAPe,yBAOfA,KAPe;UAORC,MAPQ,yBAORA,MAPQ;;WAQlBgrB,QAAL,CAAc2P,OAAd;WACK3P,QAAL,CAAcvnB,IAAd,CAAmB;QAAE1D,KAAK,EAALA,KAAF;QAASC,MAAM,EAANA;OAA5B;WACKgrB,QAAL,CAAcuQ,QAAd,CAAuB,KAAKlT,KAAL,CAAWgmD,aAAlC;KAVF,MAWO;WACAhmD,KAAL,CAAWgmD,aAAX,GAA2B,KAAKrjD,QAAL,CAAcoG,OAAd,EAA3B;;GA7JY;EAgKhByH,OAhKgB,qBAgKN;SACH0C,QAAL;GAjKc;EAmKhBhQ,OAnKgB,qBAmKN;;SAEHgQ,QAAL;GArKc;EAuKhBkzC,cAvKgB,0BAuKDrjD,KAvKC,EAuKM;QACd5Z,KAAK,GAAG8D,SAAS,CAAC8V,KAAD,EAAQ,IAAR,CAAvB;QACMyjD,aAAa,GAAGpiD,QAAM,CAACjb,KAAD,EAAQ;MAAEsd,KAAK,EAAE;QAAEhoB,IAAI,EAAE,KAAR;QAAeE,GAAG,EAAE,KAApB;QAA2B8nE,UAAU,EAAE;;KAAxD,EAAsE,IAAtE,CAA5B;QACMnzB,GAAG,GAAGwH,SAAS,CAAC0rB,aAAa,CAACx9C,qBAAd,EAAD,EAAwC,IAAxC,CAArB;SACKhJ,KAAL,CAAWumD,UAAX,GAAwBniD,QAAM,CAACjb,KAAD,EAAQmqC,GAAR,EAAa,IAAb,CAA9B;;CA3KJ;;ACjNA;;;;;;;;;AAQA,IAAMliD,MAAI,GAAG,SAAb;AAEA,AAAe,SAASs1E,UAAT,CAAoB7/B,OAApB,EAA6B;EAC1CA,OAAO,CAAC5kC,SAAR,CAAkB7Q,MAAlB,EAAwBowE,WAAxB;;;ACbF,IAAMmF,gBAAgB,GAAG;EACvB34C,OAAO,EAAE,CAAC,UAAD,EAAa,OAAb,CADc;EAEvBpc,eAAe,EAAE;IACfzX,QAAQ,EAAE;MACRjI,MAAM,EAAE,EADA;MAER4gC,QAAQ,EAAE,GAFF;MAGRj7B,IAAI,EAAE,sBAHE;MAIRrD,MAAM,EAAE,MAJA;MAKR+uB,OAAO,EAAE,CALD;MAMRqjD,YAAY,EAAE;;GATK;EAYvBj/C,EAAE,EAAE;IACFjN,MADE,oBACO;WACFmsD,IAAL;;GAdmB;EAiBvBA,IAjBuB,kBAiBhB;;;QACCl0C,MAAM,GAAG,KAAK1N,KAAL,CAAW4N,UAAX,CAAsB,KAAK1gC,KAAL,CAAW2gC,QAAjC,EAA2C5yB,MAA3C,CAAkD,UAACnQ,CAAD;aAAOA,CAAC,CAAC4C,GAAF,KAAU,KAAI,CAACR,KAAL,CAAWD,MAA5B;KAAlD,CAAf,CADK;;QAEC40E,SAAS,GAAGn0C,MAAM,CAACzyB,MAAP,CAAc,UAACnQ,CAAD;aAAOA,CAAC,CAAC68B,QAAT;KAAd,EAAiCn8B,GAAjC,CAAqC,UAACV,CAAD;aAAOA,CAAC,CAAC68B,QAAT;KAArC,CAAlB;IAEAk6C,SAAS,CAACxlE,OAAV,CAAkB,UAAC5R,CAAD,EAAO;MACvBA,CAAC,CAACmI,IAAF,GAAS,KAAI,CAAC1F,KAAL,CAAW0F,IAApB;MACAnI,CAAC,CAAC8E,MAAF,GAAW,KAAI,CAACrC,KAAL,CAAWqC,MAAtB;MACA9E,CAAC,CAAC6zB,OAAF,GAAY,KAAI,CAACpxB,KAAL,CAAWoxB,OAAvB;MACA7zB,CAAC,CAACk9B,QAAF,GAAa;QAAEx7B,IAAI,EAAE;OAArB;KAJF;SAOKuxB,QAAL,CAAcyB,MAAd,CAAqB0iD,SAArB;GA5BqB;EA8BvBx2C,OA9BuB,qBA8Bb;SACHn+B,KAAL,GAAa,KAAKgI,QAAL,CAAcA,QAA3B;GA/BqB;EAiCvBwH,MAjCuB,wBAiCE;QAAhB9G,KAAgB,QAAhBA,KAAgB;QAATD,KAAS,QAATA,KAAS;;QACnB,KAAKzI,KAAL,CAAWy0E,YAAf,EAA6B;aACpB/rE,KAAP;;;WAEKD,KAAP;GArCqB;EAuCvBwpB,MAvCuB,oBAuCd,EAvCc;EAwCvBoM,OAxCuB,qBAwCb;SACHq2C,IAAL;GAzCqB;EA2CvB3jD,OA3CuB,qBA2Cb;SACH/wB,KAAL,GAAa,KAAKgI,QAAL,CAAcA,QAA3B;SACK0sE,IAAL;;CA7CJ;;ACEA,IAAME,KAAK,GAAG/xE,IAAI,CAACiE,EAAL,GAAU,CAAxB;;;;;;;;;;;;;;;;AAgBA,SAAS+tE,WAAT,CAAqBlwE,EAArB,EAAyBC,EAAzB,EAA6BghD,QAA7B,EAAuC7/C,YAAvC,EAAqDC,SAArD,EAAgE8uE,IAAhE,EAAsEC,IAAtE,EAA4EC,MAA5E,EAAoFC,MAApF,EAA4F;MACtFnvE,UAAJ;MACID,QAAJ;MACIqvE,UAAJ;MACIpqE,EAAJ;MACIC,EAAJ;MACIoqE,WAAJ;MAEMC,GAAG,GAAGx8C,SAAS,CAACgtB,QAAQ,GAAG,GAAZ,CAArB,CAR0F;;MAWpF9iD,GAAG,GAAGD,IAAI,CAACC,GAAL,CAASsyE,GAAT,CAAZ;MACMpyE,GAAG,GAAGH,IAAI,CAACG,GAAL,CAASoyE,GAAT,CAAZ;MACMC,GAAG,GAAG,CAACL,MAAM,GAAGF,IAAV,IAAkB,CAA9B;MACMQ,GAAG,GAAG,CAACL,MAAM,GAAGF,IAAV,IAAkB,CAA9B;MAEMQ,GAAG,GAAIzyE,GAAG,GAAGuyE,GAAP,GAAeryE,GAAG,GAAGsyE,GAAjC;MACME,GAAG,GAAI1yE,GAAG,GAAGwyE,GAAP,GAAetyE,GAAG,GAAGqyE,GAAjC,CAjB0F;;EAoB1F1wE,EAAE,GAAG9B,IAAI,CAAC2O,GAAL,CAAS7M,EAAT,CAAL;EACAC,EAAE,GAAG/B,IAAI,CAAC2O,GAAL,CAAS5M,EAAT,CAAL;EAEAuwE,WAAW,GAAItyE,IAAI,CAACw2B,GAAL,CAASk8C,GAAT,EAAc,CAAd,IAAmB1yE,IAAI,CAACw2B,GAAL,CAAS10B,EAAT,EAAa,CAAb,CAApB,GAAwC9B,IAAI,CAACw2B,GAAL,CAASm8C,GAAT,EAAc,CAAd,IAAmB3yE,IAAI,CAACw2B,GAAL,CAASz0B,EAAT,EAAa,CAAb,CAAzE;;MACIuwE,WAAW,GAAG,CAAlB,EAAqB;IACnBA,WAAW,GAAGtyE,IAAI,CAACkE,IAAL,CAAUouE,WAAV,CAAd;IACAxwE,EAAE,IAAIwwE,WAAN;IACAvwE,EAAE,IAAIuwE,WAAN;GA3BwF;;;MA+BpFM,IAAI,GAAG9wE,EAAE,GAAGC,EAAlB;MACM8wE,KAAK,GAAG/wE,EAAE,GAAG6wE,GAAnB;MACMG,KAAK,GAAG/wE,EAAE,GAAG2wE,GAAnB;MACMK,GAAG,GAAG/yE,IAAI,CAACw2B,GAAL,CAASq8C,KAAT,EAAgB,CAAhB,IAAqB7yE,IAAI,CAACw2B,GAAL,CAASs8C,KAAT,EAAgB,CAAhB,CAAjC;MACMxrE,GAAG,GAAGtH,IAAI,CAACw2B,GAAL,CAASo8C,IAAT,EAAe,CAAf,IAAoBG,GAAhC;MAEIC,IAAI,GAAGhzE,IAAI,CAACkE,IAAL,CAAUlE,IAAI,CAACyG,GAAL,CAASa,GAAG,GAAGyrE,GAAf,EAAoB,CAApB,CAAV,CAAX;;MAEI7vE,YAAY,KAAKC,SAArB,EAAgC;IAC9B6vE,IAAI,GAAG,CAACA,IAAR;;;MAGIC,GAAG,GAAGD,IAAI,IAAIH,KAAK,GAAG9wE,EAAZ,CAAhB;MACMmxE,GAAG,GAAGF,IAAI,GAAG,EAAEF,KAAK,GAAGhxE,EAAV,CAAnB,CA5C0F;;MA+CpFqxE,EAAE,GAAG,CAAChB,MAAM,GAAGF,IAAV,IAAkB,CAA7B;MACMmB,EAAE,GAAG,CAAChB,MAAM,GAAGF,IAAV,IAAkB,CAA7B;EACAjqE,EAAE,GAAKhI,GAAG,GAAGgzE,GAAP,GAAe9yE,GAAG,GAAG+yE,GAAtB,GAA8BC,EAAnC;EACAjrE,EAAE,GAAI/H,GAAG,GAAG8yE,GAAP,GAAehzE,GAAG,GAAGizE,GAArB,GAA4BE,EAAjC,CAlD0F;;MAqDpFC,EAAE,GAAG,CAACX,GAAG,GAAGO,GAAP,IAAcnxE,EAAzB;MACMwxE,EAAE,GAAG,CAACX,GAAG,GAAGO,GAAP,IAAcnxE,EAAzB;MACM0xC,EAAE,GAAG,CAAC,CAACi/B,GAAD,GAAOO,GAAR,IAAenxE,EAA1B;MACM4xC,EAAE,GAAG,CAAC,CAACi/B,GAAD,GAAOO,GAAR,IAAenxE,EAA1B;EACAkB,UAAU,GAAGjD,IAAI,CAACmE,KAAL,CAAWmvE,EAAX,EAAeD,EAAf,CAAb;EACApwE,UAAU,IAAIA,UAAU,GAAG,CAAb,GAAiB8uE,KAAjB,GAAyB,CAAvC;EACA/uE,QAAQ,GAAGhD,IAAI,CAACmE,KAAL,CAAWuvC,EAAX,EAAeD,EAAf,CAAX;EACAzwC,QAAQ,IAAIA,QAAQ,GAAG,CAAX,GAAe+uE,KAAf,GAAuB,CAAnC;EAEAM,UAAU,GAAGrvE,QAAQ,GAAGC,UAAxB;;MAEI,CAACE,SAAD,IAAcF,UAAU,GAAGD,QAA/B,EAAyC;IACvCqvE,UAAU,IAAIN,KAAd;GADF,MAEO,IAAI5uE,SAAS,IAAIH,QAAQ,GAAGC,UAA5B,EAAwC;IAC7CovE,UAAU,IAAIN,KAAd;;;EAGFM,UAAU,IAAIN,KAAd;SAEO;IACL9uE,UAAU,EAAVA,UADK;IAELovE,UAAU,EAAVA,UAFK;IAGLpqE,EAAE,EAAFA,EAHK;IAILC,EAAE,EAAFA,EAJK;IAKLpG,EAAE,EAAFA,EALK;IAMLC,EAAE,EAAFA;GANF;;;AC1FF;;;;;;;;AAQA,AAAe,SAASwxE,QAAT,CAAkBx4E,CAAlB,EAAqBy4E,GAArB,EAA0BC,GAA1B,EAA+B3lE,CAA/B,EAAkC;MACzCulE,EAAE,GAAGrzE,IAAI,CAAC2O,GAAL,CAAU5T,CAAC,CAACgF,CAAF,GAAM0zE,GAAG,CAAC1zE,CAAX,IAAiByzE,GAAG,CAACzzE,CAAJ,GAAQyzE,GAAG,CAACzzE,CAA7B,CAAT,CAAX;MACMuzE,EAAE,GAAGtzE,IAAI,CAAC2O,GAAL,CAAU5T,CAAC,CAACmF,CAAF,GAAMuzE,GAAG,CAACvzE,CAAX,IAAiBszE,GAAG,CAACtzE,CAAJ,GAAQszE,GAAG,CAACtzE,CAA7B,CAAT,CAAX;MACMuzC,EAAE,GAAGzzC,IAAI,CAAC2O,GAAL,CAAU6kE,GAAG,CAACzzE,CAAJ,GAAQ+N,CAAC,CAAC/N,CAAX,IAAiB0zE,GAAG,CAAC1zE,CAAJ,GAAQ0zE,GAAG,CAAC1zE,CAA7B,CAAT,CAAX;MACM2zC,EAAE,GAAG1zC,IAAI,CAAC2O,GAAL,CAAU6kE,GAAG,CAACtzE,CAAJ,GAAQ4N,CAAC,CAAC5N,CAAX,IAAiBuzE,GAAG,CAACvzE,CAAJ,GAAQuzE,GAAG,CAACvzE,CAA7B,CAAT,CAAX;SAEOmzE,EAAE,GAAGC,EAAL,GAAU7/B,EAAV,GAAeC,EAAtB;;;ACZF,SAASggC,GAAT,CAAaxH,EAAb,EAAiBpsC,EAAjB,EAAqB;SACZ;IACL//B,CAAC,EAAE,CAACmsE,EAAE,CAACnsE,CAAH,GAAO+/B,EAAE,CAAC//B,CAAX,IAAgB,CADd;IAELG,CAAC,EAAE,CAACgsE,EAAE,CAAChsE,CAAH,GAAO4/B,EAAE,CAAC5/B,CAAX,IAAgB;GAFrB;;;AAMF,SAASwe,WAAT,CAAqB1jB,CAArB,EAAwBD,CAAxB,EAA2By4E,GAA3B,EAAgCC,GAAhC,EAAqC3lE,CAArC,EAAwC;MAChC6lE,EAAE,GAAG,IAAI34E,CAAf;MACM8d,EAAE,GAAG9Y,IAAI,CAACw2B,GAAL,CAASm9C,EAAT,EAAa,CAAb,IAAkB54E,CAA7B;MACMwI,EAAE,GAAG,IAAIvD,IAAI,CAACw2B,GAAL,CAASm9C,EAAT,EAAa,CAAb,CAAJ,GAAsB34E,CAAtB,GAA0Bw4E,GAArC;MACMhwE,EAAE,GAAG,IAAImwE,EAAJ,GAAS3zE,IAAI,CAACw2B,GAAL,CAASx7B,CAAT,EAAY,CAAZ,CAAT,GAA0By4E,GAArC;MACMG,EAAE,GAAG5zE,IAAI,CAACw2B,GAAL,CAASx7B,CAAT,EAAY,CAAZ,IAAiB8S,CAA5B;SAEOgL,EAAE,GAAGvV,EAAL,GAAUC,EAAV,GAAeowE,EAAtB;;;;;;;;;;;;;;;AAcF,SAASC,QAAT,CAAkB94E,CAAlB,EAAqBy4E,GAArB,EAA0BC,GAA1B,EAA+B3lE,CAA/B,EAA+C;MAAbzG,MAAa,uEAAJ,EAAI;;MACzCksE,QAAQ,CAACx4E,CAAD,EAAIy4E,GAAJ,EAASC,GAAT,EAAc3lE,CAAd,CAAR,IAA4B,EAAhC,EAAoC;;QAE9BzG,MAAM,CAAC8D,OAAP,CAAepQ,CAAf,MAAsB,CAAC,CAA3B,EAA8B;MAC5BsM,MAAM,CAAC5K,IAAP,CAAY1B,CAAZ;;;QAEEsM,MAAM,CAAC8D,OAAP,CAAe2C,CAAf,MAAsB,CAAC,CAA3B,EAA8B;MAC5BzG,MAAM,CAAC5K,IAAP,CAAYqR,CAAZ;;;WAEKzG,MAAP;;;MAGIrM,CAAC,GAAG,GAAV;MAEM84E,EAAE,GAAGJ,GAAG,CAAC34E,CAAD,EAAIy4E,GAAJ,CAAd;MACMO,EAAE,GAAGL,GAAG,CAACF,GAAD,EAAMC,GAAN,CAAd;MACMO,EAAE,GAAGN,GAAG,CAACD,GAAD,EAAM3lE,CAAN,CAAd;MAEM9C,CAAC,GAAG;;IACRjL,CAAC,EAAE2e,WAAW,CAAC1jB,CAAD,EAAID,CAAC,CAACgF,CAAN,EAASyzE,GAAG,CAACzzE,CAAb,EAAgB0zE,GAAG,CAAC1zE,CAApB,EAAuB+N,CAAC,CAAC/N,CAAzB,CADN;IAERG,CAAC,EAAEwe,WAAW,CAAC1jB,CAAD,EAAID,CAAC,CAACmF,CAAN,EAASszE,GAAG,CAACtzE,CAAb,EAAgBuzE,GAAG,CAACvzE,CAApB,EAAuB4N,CAAC,CAAC5N,CAAzB;GAFhB;MAKM+zE,EAAE,GAAGP,GAAG,CAACI,EAAD,EAAKC,EAAL,CAAd,CAvB6C;;MAwBvC1b,EAAE,GAAGqb,GAAG,CAACK,EAAD,EAAKC,EAAL,CAAd,CAxB6C;;EA0B7CH,QAAQ,CAAC94E,CAAD,EAAI+4E,EAAJ,EAAQG,EAAR,EAAYjpE,CAAZ,EAAe3D,MAAf,CAAR,CA1B6C;;EA2B7CwsE,QAAQ,CAAC7oE,CAAD,EAAIqtD,EAAJ,EAAQ2b,EAAR,EAAYlmE,CAAZ,EAAezG,MAAf,CAAR,CA3B6C;;SA6BtCA,MAAP;;;ACjDF,SAAS6sE,OAAT,CAAiBn5E,CAAjB,EAAoBo5E,EAApB,EAAwBrmE,CAAxB,EAA2B;MACnB5L,IAAI,GAAGnH,CAAC,CAACgF,CAAF,GAAQ,IAAI,CAAL,IAAWo0E,EAAE,CAACp0E,CAAH,GAAOhF,CAAC,CAACgF,CAApB,CAApB;MACMoC,IAAI,GAAGpH,CAAC,CAACmF,CAAF,GAAQ,IAAI,CAAL,IAAWi0E,EAAE,CAACj0E,CAAH,GAAOnF,CAAC,CAACmF,CAApB,CAApB;MACMkC,IAAI,GAAG0L,CAAC,CAAC/N,CAAF,GAAQ,IAAI,CAAL,IAAWo0E,EAAE,CAACp0E,CAAH,GAAO+N,CAAC,CAAC/N,CAApB,CAApB;MACMsC,IAAI,GAAGyL,CAAC,CAAC5N,CAAF,GAAQ,IAAI,CAAL,IAAWi0E,EAAE,CAACj0E,CAAH,GAAO4N,CAAC,CAAC5N,CAApB,CAApB;MACMszE,GAAG,GAAG;IAAEzzE,CAAC,EAAEmC,IAAL;IAAWhC,CAAC,EAAEiC;GAA1B;MACMsxE,GAAG,GAAG;IAAE1zE,CAAC,EAAEqC,IAAL;IAAWlC,CAAC,EAAEmC;GAA1B;SAEO;IAAEmxE,GAAG,EAAHA,GAAF;IAAOC,GAAG,EAAHA;GAAd;;;;;;;;;;;;;AAYF,SAASI,UAAT,CAAkB94E,CAAlB,EAAqBo5E,EAArB,EAAyBrmE,CAAzB,EAA4B;iBACLomE,OAAO,CAACn5E,CAAD,EAAIo5E,EAAJ,EAAQrmE,CAAR,CADF;MAClB0lE,GADkB,YAClBA,GADkB;MACbC,GADa,YACbA,GADa;;SAGnBW,QAAa,CAACr5E,CAAD,EAAIy4E,GAAJ,EAASC,GAAT,EAAc3lE,CAAd,CAApB;;;AC5BF,IAAMywB,SAAO,GAAG,KAAhB;;AAEA,SAAS81C,gBAAT,CAA0BhtE,MAA1B,EAAkC;OAC3B,IAAIjK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGiK,MAAM,CAAC7K,MAAP,GAAgB,CAApC,EAAuCY,CAAC,EAAxC,EAA4C;QACpC8uE,EAAE,GAAG7kE,MAAM,CAACjK,CAAD,CAAjB;QACM0iC,EAAE,GAAGz4B,MAAM,CAACjK,CAAC,GAAG,CAAL,CAAjB;;QACI4C,IAAI,CAAC2O,GAAL,CAASu9D,EAAE,CAACnsE,CAAH,GAAO+/B,EAAE,CAAC//B,CAAnB,IAAwBw+B,SAAxB,IAAmCv+B,IAAI,CAAC2O,GAAL,CAASu9D,EAAE,CAAChsE,CAAH,GAAO4/B,EAAE,CAAC5/B,CAAnB,IAAwBq+B,SAA/D,EAAwE;MACtEl3B,MAAM,CAAC1K,MAAP,CAAcS,CAAd,EAAiB,CAAjB;MACAA,CAAC;;;;;;;;;;;;;;AAaP,SAASk3E,WAAT,CAAqBv5E,CAArB,EAAwBo3E,MAAxB,EAAgCC,MAAhC,EAAwC;MAChC/qE,MAAM,GAAG,EAAf;MACMnE,YAAY,GAAG,CAAC,CAACnI,CAAC,CAAC,CAAD,CAAxB,CAFsC;;MAGhCoI,SAAS,GAAG,CAAC,CAACpI,CAAC,CAAC,CAAD,CAArB,CAHsC;;MAIhCgoD,QAAQ,GAAGhoD,CAAC,CAAC,CAAD,CAAlB;MACIk3E,IAAI,GAAGl3E,CAAC,CAAC,CAAD,CAAZ;MACIm3E,IAAI,GAAGn3E,CAAC,CAAC,CAAD,CAAZ;MACI+G,EAAE,GAAG/G,CAAC,CAAC,CAAD,CAAV;MACIgH,EAAE,GAAGhH,CAAC,CAAC,CAAD,CAAV;MACIkN,EAAJ;MACIC,EAAJ;MACImqE,UAAJ;MACIpvE,UAAJ;;MAEIlI,CAAC,CAAC,CAAD,CAAD,KAAS,GAAb,EAAkB;IAChBk3E,IAAI,IAAIE,MAAR;IACAD,IAAI,IAAIE,MAAR;GAhBoC;;;MAoBlCD,MAAM,KAAKD,IAAX,IAAmBE,MAAM,KAAKF,IAAlC,EAAwC;WAC/B7qE,MAAP;GArBoC;;;MAyBlC,CAACvF,EAAD,IAAO,CAACC,EAAZ,EAAgB;IACdsF,MAAM,CAAC5K,IAAP,CAAY;MAAEsD,CAAC,EAAEkyE,IAAL;MAAW/xE,CAAC,EAAEgyE;KAA1B;WACO7qE,MAAP;;;qBAKE2qE,WAAW,CAAClwE,EAAD,EAAKC,EAAL,EAASghD,QAAT,EAAmB7/C,YAAnB,EAAiCC,SAAjC,EAA4C8uE,IAA5C,EAAkDC,IAAlD,EAAwDC,MAAxD,EAAgEC,MAAhE,CAhCuB;;EA+BpCnqE,EA/BoC,gBA+BpCA,EA/BoC;EA+BhCC,EA/BgC,gBA+BhCA,EA/BgC;EA+B5BpG,EA/B4B,gBA+B5BA,EA/B4B;EA+BxBC,EA/BwB,gBA+BxBA,EA/BwB;EA+BpBswE,UA/BoB,gBA+BpBA,UA/BoB;EA+BRpvE,UA/BQ,gBA+BRA,UA/BQ;;MAmChCnH,CAAC,GAAGkE,IAAI,CAAC2O,GAAL,CAAS0jE,UAAU,GAAGryE,IAAI,CAACkE,IAAL,CAAU,CAAClE,IAAI,CAACw2B,GAAL,CAAS10B,EAAT,EAAa,CAAb,IAAkB9B,IAAI,CAACw2B,GAAL,CAASz0B,EAAT,EAAa,CAAb,CAAnB,IAAsC,CAAhD,CAAtB,CAAV,CAnCsC;;MAsChCsvB,GAAG,GAAGrxB,IAAI,CAACiJ,IAAL,CAAUnN,CAAC,GAAG,EAAd,CAAZ;MACMy4E,QAAQ,GAAGlC,UAAU,GAAGhhD,GAA9B;;OAEK,IAAIlZ,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAIkZ,GAArB,EAA0BlZ,CAAC,EAA3B,EAA+B;QACvBq8D,UAAU,GAAGD,QAAQ,GAAGp8D,CAA9B;QACMwe,OAAO,GAAG,CAAC1zB,UAAU,GAAGuxE,UAAd,IAA4BzC,KAA5C;QACM9xE,GAAG,GAAGD,IAAI,CAACC,GAAL,CAAS02B,OAAT,CAAZ;QACMx2B,GAAG,GAAGH,IAAI,CAACG,GAAL,CAASw2B,OAAT,CAAZ,CAJ6B;;IAM7BtvB,MAAM,CAAC5K,IAAP,CAAY;MACVsD,CAAC,EAAEkI,EAAE,GAAIhI,GAAG,GAAG6B,EAAZ,GAAmB,CAAC3B,GAAD,GAAOF,GADnB;MAEVC,CAAC,EAAEgI,EAAE,GAAI/H,GAAG,GAAG4B,EAAZ,GAAmB9B,GAAG,GAAGE;KAF9B;GA/CoC;;;SAuD/BkH,MAAP;;;;;;;;;;AASF,AAAe,SAASotE,YAAT,CAAsB74E,IAAtB,EAA4B;MACnC84E,QAAQ,GAAG93E,KAAS,CAAChB,IAAD,CAA1B;MACM+E,QAAQ,GAAG,EAAjB;MACM0G,MAAM,GAAG,EAAf;MACItH,CAAC,GAAG,CAAR,CAJyC;;MAKrCG,CAAC,GAAG,CAAR;MACIqC,GAAG,GAAG,IAAV,CANyC;;MAOrCC,GAAG,GAAG,IAAV;MACIoB,IAAI,GAAG,IAAX,CARyC;;MASrCC,IAAI,GAAG,IAAX;;OAEK,IAAIzG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGs3E,QAAQ,CAACl4E,MAA7B,EAAqC,EAAEY,CAAvC,EAA0C;QAClCioE,GAAG,GAAGqP,QAAQ,CAACt3E,CAAD,CAApB;QACMsG,QAAQ,GAAG2hE,GAAG,CAAC,CAAD,CAApB,CAFwC;;QAKpC3hE,QAAQ,KAAK,GAAb,IAAoBA,QAAQ,KAAK,GAAjC,IAAwCA,QAAQ,KAAK,GAArD,IAA4DA,QAAQ,KAAK,GAA7E,EAAkF;MAChFnB,GAAG,GAAG,IAAN;MACAC,GAAG,GAAG,IAAN;;;QAGEkB,QAAQ,KAAK,GAAb,IAAoBA,QAAQ,KAAK,GAAjC,IAAwCA,QAAQ,KAAK,GAArD,IAA4DA,QAAQ,KAAK,GAA7E,EAAkF;MAChFE,IAAI,GAAG,IAAP;MACAC,IAAI,GAAG,IAAP;;;YAGMH,QAAR;WACO,GAAL;YACM2D,MAAM,CAAC7K,MAAX,EAAmB;UACjBmE,QAAQ,CAAClE,IAAT,CAAc4K,MAAM,CAAC1K,MAAP,CAAc,CAAd,CAAd;;;;;WAGC,GAAL;;QACEoD,CAAC,IAAIslE,GAAG,CAAC,CAAD,CAAR;QACAnlE,CAAC,IAAImlE,GAAG,CAAC,CAAD,CAAR;QACAh+D,MAAM,CAAC5K,IAAP,CAAY;UAAEsD,CAAC,EAADA,CAAF;UAAKG,CAAC,EAADA;SAAjB;;;WAEG,GAAL;YACMmH,MAAM,CAAC7K,MAAX,EAAmB;UACjBmE,QAAQ,CAAClE,IAAT,CAAc4K,MAAM,CAAC1K,MAAP,CAAc,CAAd,CAAd;;;;;WAGC,GAAL;;QACEoD,CAAC,GAAGslE,GAAG,CAAC,CAAD,CAAP;QACAnlE,CAAC,GAAGmlE,GAAG,CAAC,CAAD,CAAP;QACAh+D,MAAM,CAAC5K,IAAP,CAAY;UAAEsD,CAAC,EAADA,CAAF;UAAKG,CAAC,EAADA;SAAjB;;;WAEG,GAAL;QACEH,CAAC,GAAGslE,GAAG,CAAC,CAAD,CAAP;QACAh+D,MAAM,CAAC5K,IAAP,CAAY;UAAEsD,CAAC,EAADA,CAAF;UAAKG,CAAC,EAADA;SAAjB;;;WAEG,GAAL;QACEH,CAAC,IAAIslE,GAAG,CAAC,CAAD,CAAR;QACAh+D,MAAM,CAAC5K,IAAP,CAAY;UAAEsD,CAAC,EAADA,CAAF;UAAKG,CAAC,EAADA;SAAjB;;;WAEG,GAAL;QACEA,CAAC,GAAGmlE,GAAG,CAAC,CAAD,CAAP;QACAh+D,MAAM,CAAC5K,IAAP,CAAY;UAAEsD,CAAC,EAADA,CAAF;UAAKG,CAAC,EAADA;SAAjB;;;WAEG,GAAL;QACEA,CAAC,IAAImlE,GAAG,CAAC,CAAD,CAAR;QACAh+D,MAAM,CAAC5K,IAAP,CAAY;UAAEsD,CAAC,EAADA,CAAF;UAAKG,CAAC,EAADA;SAAjB;;;WAEG,GAAL;QACEmH,MAAM,CAAC5K,IAAP,OAAA4K,MAAM,uBAASitE,WAAW,CAACjP,GAAD,EAAMtlE,CAAN,EAASG,CAAT,CAApB,EAAN;QACAH,CAAC,IAAIslE,GAAG,CAAC,CAAD,CAAR;QACAnlE,CAAC,IAAImlE,GAAG,CAAC,CAAD,CAAR;;;WAEG,GAAL;QACEh+D,MAAM,CAAC5K,IAAP,OAAA4K,MAAM,uBAASitE,WAAW,CAACjP,GAAD,EAAMtlE,CAAN,EAASG,CAAT,CAApB,EAAN;QACAH,CAAC,GAAGslE,GAAG,CAAC,CAAD,CAAP;QACAnlE,CAAC,GAAGmlE,GAAG,CAAC,CAAD,CAAP;;;WAEG,GAAL;QACEh+D,MAAM,CAAC5K,IAAP,OAAA4K,MAAM,uBAASstE,QAAkB,CAC/B;UAAE50E,CAAC,EAADA,CAAF;UAAKG,CAAC,EAADA;SAD0B,EAE/B;UAAEH,CAAC,EAAEslE,GAAG,CAAC,CAAD,CAAH,GAAStlE,CAAd;UAAiBG,CAAC,EAAEmlE,GAAG,CAAC,CAAD,CAAH,GAASnlE;SAFE,EAG/B;UAAEH,CAAC,EAAEslE,GAAG,CAAC,CAAD,CAAH,GAAStlE,CAAd;UAAiBG,CAAC,EAAEmlE,GAAG,CAAC,CAAD,CAAH,GAASnlE;SAHE,EAI/B;UAAEH,CAAC,EAAEslE,GAAG,CAAC,CAAD,CAAH,GAAStlE,CAAd;UAAiBG,CAAC,EAAEmlE,GAAG,CAAC,CAAD,CAAH,GAASnlE;SAJE,CAA3B,EAAN;QAMAqC,GAAG,GAAG8iE,GAAG,CAAC,CAAD,CAAH,GAAStlE,CAAf,CAPF;;QAQEyC,GAAG,GAAG6iE,GAAG,CAAC,CAAD,CAAH,GAASnlE,CAAf;QACAH,CAAC,IAAIslE,GAAG,CAAC,CAAD,CAAR;QACAnlE,CAAC,IAAImlE,GAAG,CAAC,CAAD,CAAR;;;WAEG,GAAL;QACEh+D,MAAM,CAAC5K,IAAP,OAAA4K,MAAM,uBAASstE,QAAkB,CAC/B;UAAE50E,CAAC,EAADA,CAAF;UAAKG,CAAC,EAADA;SAD0B,EAE/B;UAAEH,CAAC,EAAEslE,GAAG,CAAC,CAAD,CAAR;UAAanlE,CAAC,EAAEmlE,GAAG,CAAC,CAAD;SAFY,EAG/B;UAAEtlE,CAAC,EAAEslE,GAAG,CAAC,CAAD,CAAR;UAAanlE,CAAC,EAAEmlE,GAAG,CAAC,CAAD;SAHY,EAI/B;UAAEtlE,CAAC,EAAEslE,GAAG,CAAC,CAAD,CAAR;UAAanlE,CAAC,EAAEmlE,GAAG,CAAC,CAAD;SAJY,CAA3B,EAAN;QAMA9iE,GAAG,GAAG8iE,GAAG,CAAC,CAAD,CAAT,CAPF;;QAQE7iE,GAAG,GAAG6iE,GAAG,CAAC,CAAD,CAAT;QACAtlE,CAAC,GAAGslE,GAAG,CAAC,CAAD,CAAP;QACAnlE,CAAC,GAAGmlE,GAAG,CAAC,CAAD,CAAP;;;WAEG,GAAL;YACM9iE,GAAG,KAAK,IAAR,IAAgBA,GAAG,KAAK,IAA5B,EAAkC;UAChCA,GAAG,GAAGxC,CAAN;UACAyC,GAAG,GAAGtC,CAAN;;;QAGFmH,MAAM,CAAC5K,IAAP,OAAA4K,MAAM,uBAASstE,QAAkB,CAC/B;UAAE50E,CAAC,EAADA,CAAF;UAAKG,CAAC,EAADA;SAD0B,EAE/B;UAAEH,CAAC,EAAG,IAAIA,CAAL,GAAUwC,GAAf;UAAoBrC,CAAC,EAAG,IAAIA,CAAL,GAAUsC;SAFF,EAG/B;UAAEzC,CAAC,EAAEslE,GAAG,CAAC,CAAD,CAAH,GAAStlE,CAAd;UAAiBG,CAAC,EAAEmlE,GAAG,CAAC,CAAD,CAAH,GAASnlE;SAHE,EAI/B;UAAEH,CAAC,EAAEslE,GAAG,CAAC,CAAD,CAAH,GAAStlE,CAAd;UAAiBG,CAAC,EAAEmlE,GAAG,CAAC,CAAD,CAAH,GAASnlE;SAJE,CAA3B,EAAN;QAMAqC,GAAG,GAAG8iE,GAAG,CAAC,CAAD,CAAH,GAAStlE,CAAf,CAZF;;QAaEyC,GAAG,GAAG6iE,GAAG,CAAC,CAAD,CAAH,GAASnlE,CAAf;QACAH,CAAC,IAAIslE,GAAG,CAAC,CAAD,CAAR;QACAnlE,CAAC,IAAImlE,GAAG,CAAC,CAAD,CAAR;;;WAEG,GAAL;YACM9iE,GAAG,KAAK,IAAR,IAAgBA,GAAG,KAAK,IAA5B,EAAkC;UAChCA,GAAG,GAAGxC,CAAN;UACAyC,GAAG,GAAGtC,CAAN;;;QAGFmH,MAAM,CAAC5K,IAAP,OAAA4K,MAAM,uBAASstE,QAAkB,CAC/B;UAAE50E,CAAC,EAADA,CAAF;UAAKG,CAAC,EAADA;SAD0B,EAE/B;UAAEH,CAAC,EAAG,IAAIA,CAAL,GAAUwC,GAAf;UAAoBrC,CAAC,EAAG,IAAIA,CAAL,GAAUsC;SAFF,EAG/B;UAAEzC,CAAC,EAAEslE,GAAG,CAAC,CAAD,CAAR;UAAanlE,CAAC,EAAEmlE,GAAG,CAAC,CAAD;SAHY,EAI/B;UAAEtlE,CAAC,EAAEslE,GAAG,CAAC,CAAD,CAAR;UAAanlE,CAAC,EAAEmlE,GAAG,CAAC,CAAD;SAJY,CAA3B,EAAN;QAMA9iE,GAAG,GAAG8iE,GAAG,CAAC,CAAD,CAAT,CAZF;;QAaE7iE,GAAG,GAAG6iE,GAAG,CAAC,CAAD,CAAT;QACAtlE,CAAC,GAAGslE,GAAG,CAAC,CAAD,CAAP;QACAnlE,CAAC,GAAGmlE,GAAG,CAAC,CAAD,CAAP;;;WAEG,GAAL;QACEh+D,MAAM,CAAC5K,IAAP,OAAA4K,MAAM,uBAASutE,UAAiB,CAC9B;UAAE70E,CAAC,EAADA,CAAF;UAAKG,CAAC,EAADA;SADyB,EAE9B;UAAEH,CAAC,EAAEslE,GAAG,CAAC,CAAD,CAAR;UAAanlE,CAAC,EAAEmlE,GAAG,CAAC,CAAD;SAFW,EAG9B;UAAEtlE,CAAC,EAAEslE,GAAG,CAAC,CAAD,CAAR;UAAanlE,CAAC,EAAEmlE,GAAG,CAAC,CAAD;SAHW,CAA1B,EAAN;QAMAzhE,IAAI,GAAGyhE,GAAG,CAAC,CAAD,CAAV,CAPF;;QAQExhE,IAAI,GAAGwhE,GAAG,CAAC,CAAD,CAAV;QACAtlE,CAAC,GAAGslE,GAAG,CAAC,CAAD,CAAP;QACAnlE,CAAC,GAAGmlE,GAAG,CAAC,CAAD,CAAP;;;WAEG,GAAL;QACEh+D,MAAM,CAAC5K,IAAP,OAAA4K,MAAM,uBAASutE,UAAiB,CAC9B;UAAE70E,CAAC,EAADA,CAAF;UAAKG,CAAC,EAADA;SADyB,EAE9B;UAAEH,CAAC,EAAEslE,GAAG,CAAC,CAAD,CAAH,GAAStlE,CAAd;UAAiBG,CAAC,EAAEmlE,GAAG,CAAC,CAAD,CAAH,GAASnlE;SAFC,EAG9B;UAAEH,CAAC,EAAEslE,GAAG,CAAC,CAAD,CAAH,GAAStlE,CAAd;UAAiBG,CAAC,EAAEmlE,GAAG,CAAC,CAAD,CAAH,GAASnlE;SAHC,CAA1B,EAAN;QAMA0D,IAAI,GAAGyhE,GAAG,CAAC,CAAD,CAAH,GAAStlE,CAAhB,CAPF;;QAQE8D,IAAI,GAAGwhE,GAAG,CAAC,CAAD,CAAH,GAASnlE,CAAhB;QACAH,CAAC,IAAIslE,GAAG,CAAC,CAAD,CAAR;QACAnlE,CAAC,IAAImlE,GAAG,CAAC,CAAD,CAAR;;;WAEG,GAAL;YACMzhE,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAK,IAA9B,EAAoC;UAClCA,IAAI,GAAG7D,CAAP;UACA8D,IAAI,GAAG3D,CAAP;;;QAGF0D,IAAI,GAAI,IAAI7D,CAAL,GAAU6D,IAAjB,CANF;;QAOEC,IAAI,GAAI,IAAI3D,CAAL,GAAU2D,IAAjB;QACAwD,MAAM,CAAC5K,IAAP,OAAA4K,MAAM,uBAASutE,UAAiB,CAC9B;UAAE70E,CAAC,EAADA,CAAF;UAAKG,CAAC,EAADA;SADyB,EAE9B;UAAEH,CAAC,EAAE6D,IAAL;UAAW1D,CAAC,EAAE2D;SAFgB,EAG9B;UAAE9D,CAAC,EAAEslE,GAAG,CAAC,CAAD,CAAR;UAAanlE,CAAC,EAAEmlE,GAAG,CAAC,CAAD;SAHW,CAA1B,EAAN;QAMAtlE,CAAC,GAAGslE,GAAG,CAAC,CAAD,CAAP;QACAnlE,CAAC,GAAGmlE,GAAG,CAAC,CAAD,CAAP;;;WAEG,GAAL;YACMzhE,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAK,IAA9B,EAAoC;UAClCA,IAAI,GAAG7D,CAAP;UACA8D,IAAI,GAAG3D,CAAP;;;QAGF0D,IAAI,GAAI,IAAI7D,CAAL,GAAU6D,IAAjB,CANF;;QAOEC,IAAI,GAAI,IAAI3D,CAAL,GAAU2D,IAAjB;QACAwD,MAAM,CAAC5K,IAAP,OAAA4K,MAAM,uBAASutE,UAAiB,CAC9B;UAAE70E,CAAC,EAADA,CAAF;UAAKG,CAAC,EAADA;SADyB,EAE9B;UAAEH,CAAC,EAAE6D,IAAL;UAAW1D,CAAC,EAAE2D;SAFgB,EAG9B;UAAE9D,CAAC,EAAEslE,GAAG,CAAC,CAAD,CAAH,GAAStlE,CAAd;UAAiBG,CAAC,EAAEmlE,GAAG,CAAC,CAAD,CAAH,GAASnlE;SAHC,CAA1B,EAAN;QAKAH,CAAC,IAAIslE,GAAG,CAAC,CAAD,CAAR;QACAnlE,CAAC,IAAImlE,GAAG,CAAC,CAAD,CAAR;;;WAEG,GAAL;WACK,GAAL;YACMh+D,MAAM,CAAC7K,MAAX,EAAmB;UACjB6K,MAAM,CAAC5K,IAAP,CAAY;YAAEsD,CAAC,EAAEsH,MAAM,CAAC,CAAD,CAAN,CAAUtH,CAAf;YAAkBG,CAAC,EAAEmH,MAAM,CAAC,CAAD,CAAN,CAAUnH;WAA3C;;;;;cArKN;;;;;EA6KFm0E,gBAAgB,CAAChtE,MAAD,CAAhB;EACA1G,QAAQ,CAAClE,IAAT,CAAc4K,MAAM,CAAC1K,MAAP,CAAc,CAAd,CAAd;SAEOgE,QAAP;;;AClSF,IAAMk0E,oBAAoB,GAAG;EAC3B77C,OAAO,EAAE,CAAC,UAAD,EAAa,OAAb,CADkB;EAE3Bpc,eAAe,EAAE;IACfzX,QAAQ,EAAE;MACRjI,MAAM,EAAE,EADA;MAER2F,IAAI,EAAE,aAFE;MAGRrD,MAAM,EAAE,MAHA;MAIR+uB,OAAO,EAAE,CAJD;MAKR+J,MAAM,EAAE,CALA;MAMRs5C,YAAY,EAAE;;GATS;EAY3Bj/C,EAAE,EAAE;IACFjN,MADE,oBACO;WACFmsD,IAAL;;GAduB;EAiB3BA,IAjB2B,kBAiBpB;;;QACCl0C,MAAM,GAAG,KAAK1N,KAAL,CAAW4N,UAAX,CAAsB,MAAtB,EAA8B3yB,MAA9B,CAAqC,UAACnQ,CAAD;aAAOA,CAAC,CAAC4C,GAAF,KAAU,KAAI,CAACR,KAAL,CAAWD,MAA5B;KAArC,CAAf,CADK;;QAGC43E,OAAO,GAAG,EAAhB;IACAn3C,MAAM,CAACrxB,OAAP,CAAe,UAACvR,CAAD,EAAO;MACpBg6E,YAAc,CAACh6E,CAAC,CAAC0jE,KAAF,CAAQlyD,CAAT,CAAd,CAA0BD,OAA1B,CAAkC,UAACspB,OAAD,EAAa;QAC7CA,OAAO,CAACtpB,OAAR,CAAgB,UAACxQ,CAAD,EAAO;UACrBg5E,OAAO,CAACr4E,IAAR,CAAa;YACXL,IAAI,EAAE,QADK;YAEX6L,EAAE,EAAEnM,CAAC,CAACiE,CAFK;YAGXmI,EAAE,EAAEpM,CAAC,CAACoE,CAHK;YAIXkB,CAAC,EAAE,KAAI,CAACjE,KAAL,CAAWm7B,MAJH;YAKXz1B,IAAI,EAAE,KAAI,CAAC1F,KAAL,CAAW0F,IALN;YAMXrD,MAAM,EAAE,KAAI,CAACrC,KAAL,CAAWqC,MANR;YAOX+uB,OAAO,EAAE,KAAI,CAACpxB,KAAL,CAAWoxB,OAPT;YAQXqJ,QAAQ,EAAE;cAAEx7B,IAAI,EAAE;;WARpB;SADF;OADF;KADF;SAiBKuxB,QAAL,CAAcyB,MAAd,CAAqB0lD,OAArB;GAtCyB;EAwC3Bx5C,OAxC2B,qBAwCjB;SACHn+B,KAAL,GAAa,KAAKgI,QAAL,CAAcA,QAA3B;GAzCyB;EA2C3BwH,MA3C2B,wBA2CF;QAAhB9G,KAAgB,QAAhBA,KAAgB;QAATD,KAAS,QAATA,KAAS;;QACnB,KAAKzI,KAAL,CAAWy0E,YAAf,EAA6B;aACpB/rE,KAAP;;;WAEKD,KAAP;GA/CyB;EAiD3BwpB,MAjD2B,oBAiDlB,EAjDkB;EAkD3BoM,OAlD2B,qBAkDjB;SACHq2C,IAAL;GAnDyB;EAqD3B3jD,OArD2B,qBAqDjB;SACH/wB,KAAL,GAAa,KAAKgI,QAAL,CAAcA,QAA3B;SACK0sE,IAAL;;CAvDJ;;ACCO,SAASmD,aAAT,CAAuBnjC,OAAvB,EAAgC;EACrCA,OAAO,CAAC5kC,SAAR,CAAkB,gBAAlB,EAAoCgoE,gBAApC;;AAGF,AAAO,SAASC,iBAAT,CAA2BrjC,OAA3B,EAAoC;EACzCA,OAAO,CAAC5kC,SAAR,CAAkB,sBAAlB,EAA0CkoE,oBAA1C;;;ACcF,iBAAe,CACbC,KADa,EAEbC,WAFa,EAGbhhC,KAHa,EAIbqC,QAJa,EAKbkC,OALa,EAMbqJ,IANa,EAObe,IAPa,EAQba,SARa,EASbmI,UATa,EAUbkD,YAVa,EAWbwB,UAXa,EAYbkP,MAZa,EAabuF,iBAba,EAcb2C,gBAda,EAebwN,MAfa,EAgBbC,SAhBa,EAiBbC,UAjBa,EAkBbR,aAlBa,EAmBbE,iBAnBa,CAAf;;ICtBMO;;;;;;gBAIQr5E,IAAZ,EAAkB;;;SACXs5E,OAAL,GAAe,IAAf;SACKC,SAAL,GAAiB,EAAjB;SACKC,UAAL,GAAkB,IAAlB;SACKx5E,IAAL,GAAYA,IAAZ;SACKP,IAAL,GAAY,IAAZ;;;;;;;;;;6BAOO;UACH,KAAK65E,OAAT,EAAkB;aACXA,OAAL,CAAaG,WAAb,CAAyB,IAAzB;;;aAEK,IAAP;;;;;;;;;;;;;;;2BA0EKr6D,GAAG;UACF0F,QAAQ,GAAG,KAAKA,QAAtB;UACM40D,SAAS,GAAGt6D,CAAC,CAAC0F,QAApB;;UACIA,QAAQ,CAAC1kB,MAAT,KAAoBs5E,SAAS,CAACt5E,MAAlC,EAA0C;eACjC,KAAP;OAJM;;;WAOH,IAAIY,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG8jB,QAAQ,CAAC1kB,MAA7B,EAAqCY,CAAC,EAAtC,EAA0C;YACpC,CAAC8jB,QAAQ,CAAC9jB,CAAD,CAAR,CAAY24E,MAAZ,CAAmBD,SAAS,CAAC14E,CAAD,CAA5B,CAAL,EAAuC;iBAC9B,KAAP;;;;aAGG,IAAP;;;;6BAGO;aACA;QACLhB,IAAI,EAAE,KAAKA,IADN;QAEL8kB,QAAQ,EAAE,KAAKA,QAAL,CAAczlB,GAAd,CAAkB,UAACu6E,EAAD;iBAAQA,EAAE,CAACC,MAAH,EAAR;SAAlB;OAFZ;;;;wBAlFW;aACJ,KAAKP,OAAZ;;;;;;;;;;;;wBAUa;aACN,KAAKC,SAAL,IAAkB,KAAKA,SAAL,CAAen5E,MAAxC;;;;;;;;;;wBAQa;aACN,KAAKm5E,SAAZ;;;;;;;;;;wBAQc;UACV,CAAC,KAAKC,UAAV,EAAsB;aACfA,UAAL,GAAkB,EAAlB;;YACI,KAAKrlE,MAAT,EAAiB;;;mCACVqlE,UAAL,EAAgBn5E,IAAhB,0BAAqB,KAAK8T,MAA1B,8BAAqC,KAAKA,MAAL,CAAYmQ,SAAjD;;;;aAIG,KAAKk1D,UAAZ;;;;;;;;;;wBAQgB;UACVx0E,CAAC,GAAG,EAAV;UACMqhB,GAAG,GAAG,KAAKvB,QAAL,CAAc1kB,MAA1B;UACIY,CAAJ;UACI1C,CAAJ;;WAEK0C,CAAC,GAAG,CAAJ,EAAOqlB,GAAZ,EAAiBrlB,CAAC,GAAGqlB,GAArB,EAA0BrlB,CAAC,EAA3B,EAA+B;QAC7B1C,CAAC,GAAG,KAAKwmB,QAAL,CAAc9jB,CAAd,CAAJ;QACAgE,CAAC,CAAC3E,IAAF,CAAO/B,CAAP;;YAEIA,CAAC,CAACwmB,QAAF,CAAW1kB,MAAf,EAAuB;UACrB4E,CAAC,CAAC3E,IAAF,OAAA2E,CAAC,uBAAS1G,CAAC,CAACw7E,WAAX,EAAD;;;;aAGG90E,CAAP;;;;;;;AC3EJ;;;;;IAIM+0E;;;qBAGI;mFAAJ,EAAI;sBADNp2E,CACM;QADNA,CACM,uBADF,CACE;sBADCG,CACD;QADCA,CACD,uBADK,CACL;0BADQwC,KACR;QADQA,KACR,2BADgB,CAChB;2BADmBC,MACnB;QADmBA,MACnB,4BAD4B,CAC5B;6BAD+BoE,QAC/B;QAD+BA,QAC/B,8BAD0C,CAC1C;8BAD6CC,SAC7C;QAD6CA,SAC7C,+BADyD,CACzD;;;;SACDmgB,GAAL,CAAS;MACPpnB,CAAC,EAADA,CADO;MACJG,CAAC,EAADA,CADI;MACDwC,KAAK,EAALA,KADC;MACMC,MAAM,EAANA,MADN;MACcoE,QAAQ,EAARA,QADd;MACwBC,SAAS,EAATA;KADjC;;;;;0BAOM;sFAAJ,EAAI;0BADNjH,CACM;UADNA,CACM,wBADF,CACE;0BADCG,CACD;UADCA,CACD,wBADK,CACL;8BADQwC,KACR;UADQA,KACR,4BADgB,CAChB;+BADmBC,MACnB;UADmBA,MACnB,6BAD4B,CAC5B;iCAD+BoE,QAC/B;UAD+BA,QAC/B,+BAD0C,CAC1C;kCAD6CC,SAC7C;UAD6CA,SAC7C,gCADyD,CACzD;;WACD5K,IAAL,GAAY,MAAZ;;UAEIsG,KAAK,IAAI,CAAb,EAAgB;aACT3C,CAAL,GAASA,CAAT;aACK2C,KAAL,GAAa1C,IAAI,CAACyG,GAAL,CAAS/D,KAAT,EAAgBqE,QAAhB,CAAb;OAFF,MAGO;aACAhH,CAAL,GAASA,CAAC,GAAGC,IAAI,CAACwG,GAAL,CAAS9D,KAAT,EAAgB,CAACqE,QAAjB,CAAb;aACKrE,KAAL,GAAa,CAAC1C,IAAI,CAACwG,GAAL,CAAS9D,KAAT,EAAgB,CAACqE,QAAjB,CAAd;;;UAGEpE,MAAM,IAAI,CAAd,EAAiB;aACVzC,CAAL,GAASA,CAAT;aACKyC,MAAL,GAAc3C,IAAI,CAACyG,GAAL,CAAS9D,MAAT,EAAiBqE,SAAjB,CAAd;OAFF,MAGO;aACA9G,CAAL,GAASA,CAAC,GAAGF,IAAI,CAACwG,GAAL,CAAS7D,MAAT,EAAiB,CAACqE,SAAlB,CAAb;aACKrE,MAAL,GAAc,CAAC3C,IAAI,CAACwG,GAAL,CAAS7D,MAAT,EAAiB,CAACqE,SAAlB,CAAf;;;;;;;;;;kCAQUlL,GAAG;aACRykC,aAAa,CAAC,IAAD,EAAOzkC,CAAP,CAApB;;;;;;;;;mCAOauL,QAAQ;UACfQ,IAAI,GAAGM,YAAY,CAACd,MAAD,CAAzB;aACOy5B,YAAY,CAAC,IAAD,EAAOj5B,IAAP,CAAnB;;;;;;;;;mCAOaR,QAAQ;UACf5E,IAAI,GAAGsF,YAAY,CAACV,MAAD,CAAzB;aACO45B,YAAY,CAAC,IAAD,EAAOx+B,IAAP,CAAnB;;;;;;;;;qCAOe/H,GAAG;aACX4kC,cAAc,CAAC5kC,CAAD,EAAI,IAAJ,CAArB;;;;;;;;;sCAOgBwkC,SAAS;aAClB2B,eAAe,CAAC3B,OAAD,EAAU,IAAV,CAAtB;;;;;;;;;6BAOO;aACA,CACL;QAAEn/B,CAAC,EAAE,KAAKA,CAAV;QAAaG,CAAC,EAAE,KAAKA;OADhB,EAEL;QAAEH,CAAC,EAAE,KAAKA,CAAL,GAAS,KAAK2C,KAAnB;QAA0BxC,CAAC,EAAE,KAAKA;OAF7B,EAGL;QAAEH,CAAC,EAAE,KAAKA,CAAL,GAAS,KAAK2C,KAAnB;QAA0BxC,CAAC,EAAE,KAAKA,CAAL,GAAS,KAAKyC;OAHtC,EAIL;QAAE5C,CAAC,EAAE,KAAKA,CAAV;QAAaG,CAAC,EAAE,KAAKA,CAAL,GAAS,KAAKyC;OAJzB,CAAP;;;;;;;AASJ,SAASqV,QAAT,GAAyB;oCAAN1c,IAAM;IAANA,IAAM;;;oBACZ66E,OAAX,EAAsB76E,IAAtB;;;AC/FF;;;;;IAIM86E;;;uBAGI;mFAAJ,EAAI;uBADNnuE,EACM;QADNA,EACM,wBADD,CACC;uBADEC,EACF;QADEA,EACF,wBADO,CACP;sBADU9G,CACV;QADUA,CACV,uBADc,CACd;8BADiBi1E,SACjB;QADiBA,SACjB,+BAD6B,CAC7B;;;;SACDlvD,GAAL,CAAS;MACPlf,EAAE,EAAFA,EADO;MACHC,EAAE,EAAFA,EADG;MACC9G,CAAC,EAADA,CADD;MACIi1E,SAAS,EAATA;KADb;;;;;0BAOM;sFAAJ,EAAI;2BADNpuE,EACM;UADNA,EACM,yBADD,CACC;2BADEC,EACF;UADEA,EACF,yBADO,CACP;0BADU9G,CACV;UADUA,CACV,wBADc,CACd;kCADiBi1E,SACjB;UADiBA,SACjB,gCAD6B,CAC7B;;WACDj6E,IAAL,GAAY,QAAZ;WACK6L,EAAL,GAAUA,EAAV;WACKC,EAAL,GAAUA,EAAV;WACK9G,CAAL,GAASpB,IAAI,CAACyG,GAAL,CAASrF,CAAT,EAAYi1E,SAAZ,CAAT;WACKC,MAAL,GAAc;QAAEv2E,CAAC,EAAE,KAAKkI,EAAV;QAAc/H,CAAC,EAAE,KAAKgI;OAApC;;;;;;;;;kCAOYpM,GAAG;aACRsjC,eAAe,CAAC,IAAD,EAAOtjC,CAAP,CAAtB;;;;;;;;;mCAOauL,QAAQ;UACfQ,IAAI,GAAGM,YAAY,CAACd,MAAD,CAAzB;aAEOw4B,cAAc,CAAC,IAAD,EAAOh4B,IAAP,CAArB;;;;;;;;;mCAOaR,QAAQ;UACf5E,IAAI,GAAGsF,YAAY,CAACV,MAAD,CAAzB;aAEOi4B,cAAc,CAAC,IAAD,EAAO78B,IAAP,CAArB;;;;;;;;;qCAOe/H,GAAG;aACXulC,gBAAgB,CAAC,IAAD,EAAOvlC,CAAP,CAAvB;;;;;;;;;sCAOgBwkC,SAAS;aAClBkB,iBAAiB,CAAC,IAAD,EAAOlB,OAAP,CAAxB;;;;;;;;;6BAOO;aACA,CACL;QACEn/B,CAAC,EAAE,KAAKkI,EADV;QAEE/H,CAAC,EAAE,KAAKgI;OAHL,CAAP;;;;;;;AASJ,SAAS8P,QAAT,GAAyB;oCAAN1c,IAAM;IAANA,IAAM;;;oBACZ86E,SAAX,EAAwB96E,IAAxB;;;AClFF;;;;;IAIMi7E;;;qBAGI;mFAAJ,EAAI;sBADN90E,EACM;QADNA,EACM,uBADD,CACC;sBADEC,EACF;QADEA,EACF,uBADO,CACP;uBADUC,EACV;QADUA,EACV,wBADe,CACf;uBADkBC,EAClB;QADkBA,EAClB,wBADuB,CACvB;8BAD0B40E,SAC1B;QAD0BA,SAC1B,+BADsC,CACtC;;;;SACDrvD,GAAL,CAAS;MACP1lB,EAAE,EAAFA,EADO;MACHC,EAAE,EAAFA,EADG;MACCC,EAAE,EAAFA,EADD;MACKC,EAAE,EAAFA,EADL;MACS40E,SAAS,EAATA;KADlB;;;;;0BAOM;sFAAJ,EAAI;0BADN/0E,EACM;UADNA,EACM,wBADD,CACC;0BADEC,EACF;UADEA,EACF,wBADO,CACP;2BADUC,EACV;UADUA,EACV,yBADe,CACf;2BADkBC,EAClB;UADkBA,EAClB,yBADuB,CACvB;kCAD0B40E,SAC1B;UAD0BA,SAC1B,gCADsC,CACtC;;WACDp6E,IAAL,GAAY,MAAZ;WACKqF,EAAL,GAAUA,EAAV;WACKC,EAAL,GAAUA,EAAV;WACKC,EAAL,GAAUA,EAAV;WACKC,EAAL,GAAUA,EAAV;WACK40E,SAAL,GAAiBx2E,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAYzG,IAAI,CAACkb,KAAL,CAAWs7D,SAAX,CAAZ,CAAjB;WAEKC,OAAL,GAAe,KAAKpvE,MAAL,EAAf;WACKqvE,QAAL,GAAgBj1E,EAAE,KAAKE,EAAP,IAAaD,EAAE,KAAKE,EAApC;;;;;;;;;kCAOY9F,GAAG;UACX,KAAK06E,SAAL,GAAiB,CAArB,EAAwB;YAChB97E,CAAC,GAAG;UAAEuN,EAAE,EAAEnM,CAAC,CAACiE,CAAR;UAAWmI,EAAE,EAAEpM,CAAC,CAACoE,CAAjB;UAAoBkB,CAAC,EAAE,KAAKo1E;SAAtC;eACO32C,cAAc,CAACnlC,CAAD,EAAI,IAAJ,CAArB;;;aAEKunC,aAAa,CAAC,IAAD,EAAOnmC,CAAP,CAApB;;;;;;;;;mCAOauL,QAAQ;UACfQ,IAAI,GAAGM,YAAY,CAACd,MAAD,CAAzB;aACOs5B,YAAY,CAAC,IAAD,EAAO94B,IAAP,CAAnB;;;;;;;;;mCAOaR,QAAQ;UACf5E,IAAI,GAAGsF,YAAY,CAACV,MAAD,CAAzB;aACOy5B,YAAY,CAACr+B,IAAD,EAAO,IAAP,CAAnB;;;;;;;;;qCAOe/H,GAAG;aACXmlC,cAAc,CAACnlC,CAAD,EAAI,IAAJ,CAArB;;;;;;;;;sCAOgBwkC,SAAS;aAClB0B,eAAe,CAAC1B,OAAD,EAAU,IAAV,CAAtB;;;;;;;;;6BAOO;aACA,CACL;QAAEn/B,CAAC,EAAE,KAAK0B,EAAV;QAAcvB,CAAC,EAAE,KAAKwB;OADjB,EAEL;QAAE3B,CAAC,EAAE,KAAK4B,EAAV;QAAczB,CAAC,EAAE,KAAK0B;OAFjB,CAAP;;;;;;;AAOJ,SAASoW,QAAT,GAAyB;oCAAN1c,IAAM;IAANA,IAAM;;;oBACZi7E,OAAX,EAAsBj7E,IAAtB;;;ACnFF,SAAS85B,KAAT,CAAe9sB,QAAf,EAAyB;MACjB4gC,KAAK,GAAG5gC,QAAQ,CAAC,CAAD,CAAtB;MACM6gC,IAAI,GAAG7gC,QAAQ,CAACA,QAAQ,CAAC9L,MAAT,GAAkB,CAAnB,CAArB;;MAEI0sC,KAAK,CAACnpC,CAAN,KAAYopC,IAAI,CAACppC,CAAjB,IAAsBmpC,KAAK,CAAChpC,CAAN,KAAYipC,IAAI,CAACjpC,CAA3C,EAA8C;IAC5CoI,QAAQ,CAAC7L,IAAT,CAAcysC,KAAd;;;;AAIJ,SAASmrC,kBAAT,CAA0B/rE,QAA1B,EAAoC;OAC7B,IAAIlL,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkL,QAAQ,CAAC9L,MAAT,GAAkB,CAAtC,EAAyCY,CAAC,EAA1C,EAA8C;QACtCu5E,EAAE,GAAGruE,QAAQ,CAAClL,CAAD,CAAnB;QACM64B,EAAE,GAAG3tB,QAAQ,CAAClL,CAAC,GAAG,CAAL,CAAnB;;QACIu5E,EAAE,CAAC52E,CAAH,KAASk2B,EAAE,CAACl2B,CAAZ,IAAiB42E,EAAE,CAACz2E,CAAH,KAAS+1B,EAAE,CAAC/1B,CAAjC,EAAoC;MAClCoI,QAAQ,CAAC3L,MAAT,CAAgBS,CAAhB,EAAmB,CAAnB;MACAA,CAAC;;;;;;;;;;IASDw5E;;;wBACgC;mFAAJ,EAAI;6BAAtBtuE,QAAsB;QAAtBA,QAAsB,8BAAX,EAAW;;;;SAC7B6e,GAAL,CAAS;MAAE7e,QAAQ,EAARA;KAAX;;;;;;;;;;;;0BAS0B;sFAAJ,EAAI;iCAAtBA,QAAsB;UAAtBA,QAAsB,+BAAX,EAAW;;WACrBlM,IAAL,GAAY,SAAZ;WACKkM,QAAL,GAAgBA,QAAQ,CAACwC,KAAT,EAAhB;WACKq0B,KAAL,GAAa,EAAb;MAEAk1C,kBAAgB,CAAC,KAAK/rE,QAAN,CAAhB;;UAEI,KAAKA,QAAL,CAAc9L,MAAd,IAAwB,CAA5B,EAA+B;;;;MAI/B44B,KAAK,CAAC,KAAK9sB,QAAN,CAAL;WAEKf,IAAL,GAAYC,GAAZ;WACKE,IAAL,GAAYF,GAAZ;WACKC,IAAL,GAAYD,GAAZ;WACKG,IAAL,GAAYH,GAAZ;;WAEK,IAAIpK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKkL,QAAL,CAAc9L,MAAlC,EAA0CY,CAAC,EAA3C,EAA+C;YACzCA,CAAC,GAAG,KAAKkL,QAAL,CAAc9L,MAAd,GAAuB,CAA/B,EAAkC;eAC3B2iC,KAAL,CAAW1iC,IAAX,CAAgB,CAAC,KAAK6L,QAAL,CAAclL,CAAd,CAAD,EAAmB,KAAKkL,QAAL,CAAclL,CAAC,GAAG,CAAlB,CAAnB,CAAhB;;;aAGGmK,IAAL,GAAYlB,KAAK,CAAC,KAAKkB,IAAN,CAAL,GAAmB,KAAKe,QAAL,CAAclL,CAAd,EAAiB2C,CAApC,GAAwCC,IAAI,CAACwG,GAAL,CAAS,KAAKe,IAAd,EAAoB,KAAKe,QAAL,CAAclL,CAAd,EAAiB2C,CAArC,CAApD;aACK0H,IAAL,GAAYpB,KAAK,CAAC,KAAKoB,IAAN,CAAL,GAAmB,KAAKa,QAAL,CAAclL,CAAd,EAAiB2C,CAApC,GAAwCC,IAAI,CAACyG,GAAL,CAAS,KAAKgB,IAAd,EAAoB,KAAKa,QAAL,CAAclL,CAAd,EAAiB2C,CAArC,CAApD;aACK2H,IAAL,GAAYrB,KAAK,CAAC,KAAKqB,IAAN,CAAL,GAAmB,KAAKY,QAAL,CAAclL,CAAd,EAAiB8C,CAApC,GAAwCF,IAAI,CAACwG,GAAL,CAAS,KAAKkB,IAAd,EAAoB,KAAKY,QAAL,CAAclL,CAAd,EAAiB8C,CAArC,CAApD;aACKyH,IAAL,GAAYtB,KAAK,CAAC,KAAKsB,IAAN,CAAL,GAAmB,KAAKW,QAAL,CAAclL,CAAd,EAAiB8C,CAApC,GAAwCF,IAAI,CAACyG,GAAL,CAAS,KAAKkB,IAAd,EAAoB,KAAKW,QAAL,CAAclL,CAAd,EAAiB8C,CAArC,CAApD;;;WAGG22E,OAAL,GAAe,IAAf;WACKC,aAAL,GAAqB,IAArB;;;;;;;;;;;kCASYl3E,OAAO;aACZygC,gBAAgB,CAAC,IAAD,EAAOzgC,KAAP,CAAvB;;;;;;;;;;;qCASes1B,QAAQ;aAChBkL,iBAAiB,CAAClL,MAAD,EAAS,IAAT,CAAxB;;;;;;;;;mCAOa7tB,QAAQ;aACdu5B,eAAe,CAAC,IAAD,EAAOz4B,YAAY,CAAEd,MAAF,CAAnB,CAAtB;;;;;;;;;mCAOaA,QAAQ;aACdw5B,eAAe,CAAC,IAAD,EAAO94B,YAAY,CAACV,MAAD,CAAnB,CAAtB;;;;;;;;;;;sCASgB63B,SAAS;;UAErB,CAAC+B,YAAY,CAAC,KAAKT,YAAL,EAAD,EAAsBtB,OAAO,CAACsB,YAAR,EAAtB,CAAjB,EAAgE;eACvD,KAAP;;;UAGEu2C,UAAU,GAAG,KAAjB;;WACK,IAAI35E,CAAC,GAAG,CAAR,EAAWqlB,GAAG,GAAG,KAAK0c,KAAL,CAAW3iC,MAAjC,EAAyCY,CAAC,GAAGqlB,GAA7C,EAAkDrlB,CAAC,EAAnD,EAAuD;QACrD25E,UAAU,GAAGn2C,eAAe,CAAC1B,OAAD,EAAU/2B,YAAY,CAAC,KAAKg3B,KAAL,CAAW/hC,CAAX,CAAD,CAAtB,CAA5B;;YACI25E,UAAU,KAAK,IAAnB,EAAyB;;;;;aAIpBA,UAAP;;;;;;;;;6BAOO;aACA,KAAKzuE,QAAZ;;;;;;;;;6BAOO;UACH,CAAC,KAAKuuE,OAAV,EAAmB;aACZA,OAAL,GAAe,CACb;UAAE92E,CAAC,EAAE,KAAKwH,IAAV;UAAgBrH,CAAC,EAAE,KAAKwH;SADX,EAEb;UAAE3H,CAAC,EAAE,KAAK0H,IAAV;UAAgBvH,CAAC,EAAE,KAAKwH;SAFX,EAGb;UAAE3H,CAAC,EAAE,KAAK0H,IAAV;UAAgBvH,CAAC,EAAE,KAAKyH;SAHX,EAIb;UAAE5H,CAAC,EAAE,KAAKwH,IAAV;UAAgBrH,CAAC,EAAE,KAAKyH;SAJX,CAAf;;;aAQK,KAAKkvE,OAAZ;;;;;;;;;mCAOa;UACT,CAAC,KAAKC,aAAV,EAAyB;aAClBA,aAAL,GAAqB;UACnB/2E,CAAC,EAAE,KAAKwH,IADW;UAEnBrH,CAAC,EAAE,KAAKwH,IAFW;UAGnBhF,KAAK,EAAE,KAAK+E,IAAL,GAAY,KAAKF,IAHL;UAInB5E,MAAM,EAAE,KAAKgF,IAAL,GAAY,KAAKD;SAJ3B;;;aAOK,KAAKovE,aAAZ;;;;;;;;;;;;;;;AAYJ,SAAS9+D,QAAT,GAAsB;oCAAHvd,CAAG;IAAHA,CAAG;;;oBACTm8E,UAAX,EAAyBn8E,CAAzB;;;ACjLF,SAASu8E,iBAAT,CAA2B9K,EAA3B,EAA+BpsC,EAA/B,EAAmC;SAC1BosC,EAAE,CAACnsE,CAAH,KAAS+/B,EAAE,CAAC//B,CAAZ,IAAiBmsE,EAAE,CAAChsE,CAAH,KAAS4/B,EAAE,CAAC5/B,CAApC;;;;;;;;IAOI+2E;;;yBAC8B;mFAAJ,EAAI;2BAApB5vE,MAAoB;QAApBA,MAAoB,4BAAX,EAAW;;;;SAC3B8f,GAAL,CAAS;MAAE9f,MAAM,EAANA;KAAX;;;;;0BAGwB;sFAAJ,EAAI;+BAApBA,MAAoB;UAApBA,MAAoB,6BAAX,EAAW;;WACnBjL,IAAL,GAAY,UAAZ;WACKuE,QAAL,GAAgB,EAAhB;WACKu2E,OAAL,GAAe7vE,MAAM,CAACyD,KAAP,EAAf;;UAEI,KAAKosE,OAAL,CAAa16E,MAAb,GAAsB,CAA1B,EAA6B;aACtB,IAAIY,CAAC,GAAG,CAAR,EAAWqlB,GAAG,GAAG,KAAKy0D,OAAL,CAAa16E,MAAb,GAAsB,CAA5C,EAA+CY,CAAC,GAAGqlB,GAAnD,EAAwDrlB,CAAC,EAAzD,EAA6D;cACvD45E,iBAAiB,CAAC,KAAKE,OAAL,CAAa95E,CAAb,CAAD,EAAkB,KAAK85E,OAAL,CAAa95E,CAAC,GAAG,CAAjB,CAAlB,CAArB,EAA6D;iBACtDuD,QAAL,CAAclE,IAAd,CAAmB;cACjBgF,EAAE,EAAE,KAAKy1E,OAAL,CAAa95E,CAAb,EAAgB2C,CADH;cAEjB2B,EAAE,EAAE,KAAKw1E,OAAL,CAAa95E,CAAb,EAAgB8C,CAFH;cAGjByB,EAAE,EAAE,KAAKu1E,OAAL,CAAa95E,CAAC,GAAG,CAAjB,EAAoB2C,CAHP;cAIjB6B,EAAE,EAAE,KAAKs1E,OAAL,CAAa95E,CAAC,GAAG,CAAjB,EAAoB8C;aAJ1B;;;;;;;;;;;;kCAeMN,OAAO;aACZ,KAAKe,QAAL,CAAcgK,IAAd,CAAmB,UAAC9C,IAAD;eAAUo6B,aAAa,CAACp6B,IAAD,EAAOjI,KAAP,CAAvB;OAAnB,CAAP;;;;;;;;;qCAOes1B,QAAQ;aAChB,KAAKv0B,QAAL,CAAcgK,IAAd,CAAmB,UAAC9C,IAAD;eAAUg4B,cAAc,CAAC3K,MAAD,EAASrtB,IAAT,CAAxB;OAAnB,CAAP;;;;;;;;;mCAOaR,QAAQ;UACf8vE,QAAQ,GAAGhvE,YAAY,CAACd,MAAD,CAA7B;aACO,KAAK1G,QAAL,CAAcgK,IAAd,CAAmB,UAAC9C,IAAD;eAAU84B,YAAY,CAAC94B,IAAD,EAAOsvE,QAAP,CAAtB;OAAnB,CAAP;;;;;;;;;mCAOa9vE,QAAQ;UACf5E,IAAI,GAAGsF,YAAY,CAACV,MAAD,CAAzB;aACO,KAAK1G,QAAL,CAAcgK,IAAd,CAAmB,UAAC9C,IAAD;eAAUi5B,YAAY,CAACr+B,IAAD,EAAOoF,IAAP,CAAtB;OAAnB,CAAP;;;;;;;;;sCAOgBq3B,SAAS;;aAElB,KAAKv+B,QAAL,CAAcgK,IAAd,CAAmB,UAAC9C,IAAD;eAAU+4B,eAAe,CAAC1B,OAAD,EAAUr3B,IAAV,CAAzB;OAAnB,CAAP;;;;;;;;;6BAOO;aACA,KAAKqvE,OAAZ;;;;;;;AAIJ,SAASl/D,QAAT,GAAsB;oCAAHvd,CAAG;IAAHA,CAAG;;;oBACTw8E,WAAX,EAA0Bx8E,CAA1B;;;AC1FF,IAAM6V,KAAG,GAAGU,eAAQ,EAApB;AAEAV,KAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgBlO,QAAhB;AACA6N,KAAG,CAACK,GAAJ,CAAQ,QAAR,EAAkBukB,QAAlB;AACA5kB,KAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgB9I,QAAhB;AACAyI,KAAG,CAACK,GAAJ,CAAQ,SAAR,EAAmBuuB,QAAnB;AACA5uB,KAAG,CAACK,GAAJ,CAAQ,UAAR,EAAoBymE,QAApB;AAEA,AAAO,SAASp/D,QAAT,CAAgB5b,IAAhB,EAAsBoiB,KAAtB,EAA6B;;SAC3BlO,KAAG,CAACE,GAAJ,CAAQpU,IAAR,EAAcoiB,KAAd,CAAP;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACdF;;;;;IAIM64D;;;gCACyB;QAAjBhgE,UAAiB,uEAAJ,EAAI;;;;SACtB8P,GAAL,CAAS9P,UAAT;;;;;0BAGmB;;;UAAjBA,UAAiB,uEAAJ,EAAI;WACdigE,UAAL,GAAkB,EAAlB;MACAjgE,UAAU,CAAC/K,OAAX,CAAmB,UAACirE,GAAD,EAAS;YACpBC,WAAW,GAAGC,QAAO,CAACF,GAAG,CAACn7E,IAAL,EAAWm7E,GAAX,CAA3B;;YACIC,WAAJ,EAAiB;UACf,KAAI,CAACF,UAAL,CAAgB76E,IAAhB,CAAqB+6E,WAArB;;OAHJ;;;;;;;;;kCAYY17E,GAAG;aACR,KAAKw7E,UAAL,CAAgB3sE,IAAhB,CAAqB,UAAC4sE,GAAD;eAASA,GAAG,CAACG,aAAJ,CAAkB57E,CAAlB,CAAT;OAArB,CAAP;;;;;;;;;mCAOauL,QAAQ;aACd,KAAKiwE,UAAL,CAAgB3sE,IAAhB,CAAqB,UAAC4sE,GAAD;eAASA,GAAG,CAACI,cAAJ,CAAmBtwE,MAAnB,CAAT;OAArB,CAAP;;;;;;;;;mCAOaA,QAAQ;aACd,KAAKiwE,UAAL,CAAgB3sE,IAAhB,CAAqB,UAAC4sE,GAAD;eAASA,GAAG,CAACK,cAAJ,CAAmBvwE,MAAnB,CAAT;OAArB,CAAP;;;;;;;;;qCAOe3M,GAAG;aACX,KAAK48E,UAAL,CAAgB3sE,IAAhB,CAAqB,UAAC4sE,GAAD;eAASA,GAAG,CAACM,gBAAJ,CAAqBn9E,CAArB,CAAT;OAArB,CAAP;;;;;;;;;sCAOgBwkC,SAAS;aAClB,KAAKo4C,UAAL,CAAgB3sE,IAAhB,CAAqB,UAAC4sE,GAAD;eAASA,GAAG,CAACO,iBAAJ,CAAsB54C,OAAtB,CAAT;OAArB,CAAP;;;;;;;AAIJ,SAASlnB,QAAT,GAAyB;oCAAN1c,IAAM;IAANA,IAAM;;;oBACZ+7E,kBAAX,EAAiC/7E,IAAjC;;;IC/DIy8E;;;;;;;oBAKU;;;SACPC,SAAL,GAAiB,CACf,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CADe,EAEf,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAFe,EAGf,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAHe,CAAjB;SAMKC,MAAL,GAAc,EAAd;;;;;;;;;4BAMM;UACAC,EAAE,GAAG,IAAIH,MAAJ,EAAX;aACOG,EAAE,CAACC,QAAH,CAAY,IAAZ,CAAP;;;;;;;;;wBAOEl6E,KAAK;WACF+5E,SAAL,GAAiB/5E,GAAjB;aACO,IAAP;;;;;;;;2BAMK;WACAg6E,MAAL,CAAYx7E,IAAZ,CAAiB,KAAK27E,QAAtB;;aACO,IAAP;;;;;;;;8BAMQ;UACJ,KAAKH,MAAL,CAAYz7E,MAAhB,EAAwB;aACjBw7E,SAAL,GAAiB,KAAKC,MAAL,CAAY94D,GAAZ,EAAjB,CADsB;;;aAGjB,IAAP;;;;;;;;;wBAOEre,OAAO;;UACL1D,CAAJ,EACE8zC,CADF;;WAEK9zC,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG,KAAK46E,SAAL,CAAex7E,MAA/B,EAAuCY,CAAC,EAAxC,EAA4C;aACrC8zC,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG,KAAK8mC,SAAL,CAAe56E,CAAf,EAAkBZ,MAAlC,EAA0C00C,CAAC,EAA3C,EAA+C;eACxC8mC,SAAL,CAAe56E,CAAf,EAAkB8zC,CAAlB,KAAwBpwC,KAAxB;;;;aAGG,IAAP;;;;;;;;;;8BAQQf,GAAGG,GAAG;WACTi4E,QAAL,CAAc,CAAC,CAAC,CAAD,EAAI,CAAJ,EAAOp4E,CAAP,CAAD,EAAY,CAAC,CAAD,EAAI,CAAJ,EAAOG,CAAP,CAAZ,EAAuB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAAvB,CAAd;aACO,IAAP;;;;;;;;;2BAOKm4E,aAAa;UACdp4E,GAAG,GAAGD,IAAI,CAACC,GAAL,CAAS,CAACo4E,WAAV,CAAV;UACEl4E,GAAG,GAAGH,IAAI,CAACG,GAAL,CAAS,CAACk4E,WAAV,CADR;WAEKF,QAAL,CAAc,CAAC,CAACl4E,GAAD,EAAME,GAAN,EAAW,CAAX,CAAD,EAAgB,CAAC,CAACA,GAAF,EAAOF,GAAP,EAAY,CAAZ,CAAhB,EAAgC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAAhC,CAAd;aACO,IAAP;;;;;;;;;;;6BASOa,OAAO;UACV1D,CAAJ,EACE8zC,CADF,EAEEr2C,CAFF,EAGEsd,CAHF;;UAIIrX,KAAK,YAAYi3E,MAArB,EAA6B;QAC3Bj3E,KAAK,GAAGA,KAAK,CAACk3E,SAAd;;;UAEE35E,KAAK,CAACC,OAAN,CAAcwC,KAAd,CAAJ,EAA0B;;QACxBjG,CAAC,GAAG,CACF,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CADE,EAEF,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAFE,EAGF,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAHE,CAAJ;;aAKKuC,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG,KAAK46E,SAAL,CAAex7E,MAA/B,EAAuCY,CAAC,EAAxC,EAA4C;;eACrC8zC,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG,KAAK8mC,SAAL,CAAe56E,CAAf,EAAkBZ,MAAlC,EAA0C00C,CAAC,EAA3C,EAA+C;;iBACxC/4B,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG,CAAhB,EAAmBA,CAAC,EAApB,EAAwB;;cACtBtd,CAAC,CAACuC,CAAD,CAAD,CAAK8zC,CAAL,KAAW,KAAK8mC,SAAL,CAAe56E,CAAf,EAAkB+a,CAAlB,IAAuBrX,KAAK,CAACqX,CAAD,CAAL,CAAS+4B,CAAT,CAAlC;;;;;aAID8mC,SAAL,GAAiBn9E,CAAjB;OAbF,MAcO;;aACAuC,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG,KAAK46E,SAAL,CAAex7E,MAA/B,EAAuCY,CAAC,EAAxC,EAA4C;eACrC8zC,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG,KAAK8mC,SAAL,CAAe56E,CAAf,EAAkBZ,MAAlC,EAA0C00C,CAAC,EAA3C,EAA+C;iBACxC8mC,SAAL,CAAe56E,CAAf,EAAkB8zC,CAAlB,KAAwBpwC,KAAxB;;;;;aAIC,IAAP;;;;;;;;;;0BAQIf,GAAU;UAAPG,CAAO,uEAAHH,CAAG;;;;WAKTo4E,QAAL,CAAc,CAAC,CAACp4E,CAAD,EAAI,CAAJ,EAAO,CAAP,CAAD,EAAY,CAAC,CAAD,EAAIG,CAAJ,EAAO,CAAP,CAAZ,EAAuB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAAvB,CAAd;aACO,IAAP;;;;;;;;;;;;;;8BAYQzF,GAAGuQ,GAAGtQ,GAAG6R,GAAGuB,GAAG0F,GAAG;WACrB2kE,QAAL,CAAc,CAAC,CAAC19E,CAAD,EAAIC,CAAJ,EAAOoT,CAAP,CAAD,EAAY,CAAC9C,CAAD,EAAIuB,CAAJ,EAAOiH,CAAP,CAAZ,EAAuB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAAvB,CAAd;aAEO,IAAP;;;;;;;;;kCAOY;UACR/Y,CAAC,GAAG,KAAKu9E,SAAL,CAAe,CAAf,EAAkB,CAAlB,CAAR;UACEhtE,CAAC,GAAG,KAAKgtE,SAAL,CAAe,CAAf,EAAkB,CAAlB,CADN;UAEEt9E,CAAC,GAAG,KAAKs9E,SAAL,CAAe,CAAf,EAAkB,CAAlB,CAFN;UAGEzrE,CAAC,GAAG,KAAKyrE,SAAL,CAAe,CAAf,EAAkB,CAAlB,CAHN;UAIElqE,CAAC,GAAG,KAAKkqE,SAAL,CAAe,CAAf,EAAkB,CAAlB,CAJN;UAKExkE,CAAC,GAAG,KAAKwkE,SAAL,CAAe,CAAf,EAAkB,CAAlB,CALN;UAME74E,CAAC,GAAG,KAAK64E,SAAL,CAAe,CAAf,EAAkB,CAAlB,CANN;UAOEr9E,CAAC,GAAG,KAAKq9E,SAAL,CAAe,CAAf,EAAkB,CAAlB,CAPN;UAQE56E,CAAC,GAAG,KAAK46E,SAAL,CAAe,CAAf,EAAkB,CAAlB,CARN;UASEl8E,CAAC,GAAG,CATN;MAWAA,CAAC,GAAKrB,CAAC,GAAGqT,CAAJ,GAAQ1Q,CAAT,GAAe4N,CAAC,GAAGwI,CAAJ,GAAQrU,CAAvB,GAA6BzE,CAAC,GAAG6R,CAAJ,GAAQ5R,CAAtC,GAA6CD,CAAC,GAAGoT,CAAJ,GAAQ3O,CAArD,GAA2D6L,CAAC,GAAGuB,CAAJ,GAAQnP,CAAnE,GAAyE3C,CAAC,GAAG+Y,CAAJ,GAAQ7Y,CAArF;aAEOmB,CAAP;;;;;;;;6BAMO;UACHyS,EAAE,GAAG,KAAK+pE,WAAL,EAAT;UACE79E,CAAC,GAAG,KAAKu9E,SAAL,CAAe,CAAf,EAAkB,CAAlB,CADN;UAEEhtE,CAAC,GAAG,KAAKgtE,SAAL,CAAe,CAAf,EAAkB,CAAlB,CAFN;UAGEt9E,CAAC,GAAG,KAAKs9E,SAAL,CAAe,CAAf,EAAkB,CAAlB,CAHN;UAIEzrE,CAAC,GAAG,KAAKyrE,SAAL,CAAe,CAAf,EAAkB,CAAlB,CAJN;UAKElqE,CAAC,GAAG,KAAKkqE,SAAL,CAAe,CAAf,EAAkB,CAAlB,CALN;UAMExkE,CAAC,GAAG,KAAKwkE,SAAL,CAAe,CAAf,EAAkB,CAAlB,CANN;UAOE74E,CAAC,GAAG,KAAK64E,SAAL,CAAe,CAAf,EAAkB,CAAlB,CAPN;UAQEr9E,CAAC,GAAG,KAAKq9E,SAAL,CAAe,CAAf,EAAkB,CAAlB,CARN;UASE7/D,CAAC,GAAG,KAAK6/D,SAAL,CAAe,CAAf,EAAkB,CAAlB,CATN;WAWKA,SAAL,GAAiB,CACf,CAAElqE,CAAC,GAAGqK,CAAL,GAAW3E,CAAC,GAAG7Y,CAAhB,EAAqBD,CAAC,GAAGC,CAAL,GAAWqQ,CAAC,GAAGmN,CAAnC,EAAwCnN,CAAC,GAAGwI,CAAL,GAAW9Y,CAAC,GAAGoT,CAAtD,CADe,EAEf,CAAE0F,CAAC,GAAGrU,CAAL,GAAWoN,CAAC,GAAG4L,CAAhB,EAAqB1d,CAAC,GAAG0d,CAAL,GAAWzd,CAAC,GAAGyE,CAAnC,EAAwCzE,CAAC,GAAG6R,CAAL,GAAW9R,CAAC,GAAG+Y,CAAtD,CAFe,EAGf,CAAEjH,CAAC,GAAG5R,CAAL,GAAWmT,CAAC,GAAG3O,CAAhB,EAAqBA,CAAC,GAAG6L,CAAL,GAAWvQ,CAAC,GAAGE,CAAnC,EAAwCF,CAAC,GAAGqT,CAAL,GAAW9C,CAAC,GAAGuB,CAAtD,CAHe,CAAjB;WAMK4rE,QAAL,CAAc,IAAI5pE,EAAlB,EAlBO;;aAmBA,IAAP;;;;;;;;gCAMU;UACJ1T,CAAC,GAAG4C,MAAM,CAACua,MAAP,CAAc,KAAKggE,SAAnB,CAAV,CADU;;WAELA,SAAL,GAAiB,CACf,CAACn9E,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,CAAD,EAAUA,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,CAAV,EAAmBA,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,CAAnB,CADe,EAEf,CAACA,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,CAAD,EAAUA,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,CAAV,EAAmBA,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,CAAnB,CAFe,EAGf,CAACA,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,CAAD,EAAUA,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,CAAV,EAAmBA,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,CAAnB,CAHe,CAAjB;aAKO,IAAP;;;;;;;;+BAMS;WACJm9E,SAAL,GAAiB,CACf,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CADe,EAEf,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAFe,EAGf,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAHe,CAAjB;aAKO,IAAP;;;;+BAGS;uBACC,KAAKA,SAAL,CAAev8E,GAAf,CAAmB,UAAC2F,CAAD;eAAOA,CAAC,CAAC2V,IAAF,CAAO,IAAP,CAAP;OAAnB,EAAwCA,IAAxC,CAA6C,IAA7C,CAAV;;;;iCAGW;UACLlc,CAAC,GAAG,KAAKm9E,SAAf;aACOn9E,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,MAAY,CAAZ,IAAiBA,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,MAAY,CAA7B,IAAkCA,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,MAAY,CAA9C,IACFA,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,MAAY,CADV,IACeA,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,MAAY,CAD3B,IACgCA,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,MAAY,CAD5C,IAEFA,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,MAAY,CAFV,IAEeA,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,MAAY,CAF3B,IAEgCA,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,MAAY,CAFnD;;;;;;;;mCAQaiB,GAAG;UACZy8E,GAAG,GAAG,CAACz8E,CAAC,CAACiE,CAAH,EAAMjE,CAAC,CAACoE,CAAR,EAAW,CAAX,CAAV;UACE9C,CADF;UAEE8zC,CAFF;UAGEpjC,CAAC,GAAG,KAAKkqE,SAHX;UAIEn9E,CAAC,GAAG,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAJN;;WAKKuC,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG,KAAK46E,SAAL,CAAex7E,MAA/B,EAAuCY,CAAC,EAAxC,EAA4C;;aACrC8zC,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG,KAAK8mC,SAAL,CAAe56E,CAAf,EAAkBZ,MAAlC,EAA0C00C,CAAC,EAA3C,EAA+C;;UAC7Cr2C,CAAC,CAACuC,CAAD,CAAD,IAAQm7E,GAAG,CAACrnC,CAAD,CAAH,GAASpjC,CAAC,CAAC1Q,CAAD,CAAD,CAAK8zC,CAAL,CAAjB;;;;aAIG;QAAEnxC,CAAC,EAAElF,CAAC,CAAC,CAAD,CAAN;QAAWqF,CAAC,EAAErF,CAAC,CAAC,CAAD;OAAtB;;;;;;;;oCAMcse,OAAO;UACjBo/D,GAAJ;UACEn7E,CADF;UAEE8zC,CAFF;UAGE/4B,CAHF;UAIEtd,CAJF;UAKEiT,CAAC,GAAG,KAAKkqE,SALX;UAME/mE,GAAG,GAAG,EANR;;WAQKkH,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGgB,KAAK,CAAC3c,MAAtB,EAA8B2b,CAAC,EAA/B,EAAmC;QACjCogE,GAAG,GAAG,CAACp/D,KAAK,CAAChB,CAAD,CAAL,CAASpY,CAAV,EAAaoZ,KAAK,CAAChB,CAAD,CAAL,CAASjY,CAAtB,EAAyB,CAAzB,CAAN;QACArF,CAAC,GAAG,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAAJ;;aAEKuC,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG,KAAK46E,SAAL,CAAex7E,MAA/B,EAAuCY,CAAC,EAAxC,EAA4C;;eACrC8zC,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG,KAAK8mC,SAAL,CAAe56E,CAAf,EAAkBZ,MAAlC,EAA0C00C,CAAC,EAA3C,EAA+C;;YAC7Cr2C,CAAC,CAACuC,CAAD,CAAD,IAAQm7E,GAAG,CAACrnC,CAAD,CAAH,GAASpjC,CAAC,CAAC1Q,CAAD,CAAD,CAAK8zC,CAAL,CAAjB;;;;QAGJjgC,GAAG,CAACxU,IAAJ,CAAS;UAAEsD,CAAC,EAAElF,CAAC,CAAC,CAAD,CAAN;UAAWqF,CAAC,EAAErF,CAAC,CAAC,CAAD;SAAxB;;;aAEKoW,GAAP;;;;wBAGa;UACPpW,CAAC,GAAG,KAAKm9E,SAAf;aACO,CACL,CAACn9E,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,CAAD,EAAUA,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,CAAV,EAAmBA,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,CAAnB,CADK,EAEL,CAACA,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,CAAD,EAAUA,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,CAAV,EAAmBA,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,CAAnB,CAFK,EAGL,CAACA,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,CAAD,EAAUA,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,CAAV,EAAmBA,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,CAAnB,CAHK,CAAP;;;;;;;ACzRJ,IAAM29E,cAAc,GAAG,gEAAvB;;AAEA,SAASC,cAAT,CAAwB5jD,SAAxB,EAAmC;MAC7Bh6B,CAAJ;MACE65E,QAAQ,GAAG,EADb;;SAEO,CAAC75E,CAAC,GAAG29E,cAAc,CAACE,IAAf,CAAoB7jD,SAApB,CAAL,MAAyC,IAAhD,EAAsD;;QAC9C8jD,OAAO,GAAG99E,CAAC,CAAC,CAAD,CAAD,CAAKmB,IAAL,EAAhB;QACMV,IAAI,GAAGq9E,OAAO,CAACxtE,OAAR,CAAgB,GAAhB,MAAyB,CAAC,CAA1B,GAA8BwtE,OAAO,CAACprE,KAAR,CAAc,GAAd,CAA9B,GAAmDorE,OAAO,CAACprE,KAAR,CAAc,GAAd,CAAhE;IAEAmnE,QAAQ,CAACj4E,IAAT,CAAc;MACZ4oE,GAAG,EAAExqE,CAAC,CAAC,CAAD,CADM;MAEZS,IAAI,EAAEA,IAAI,CAAC4P,MAAL,CAAY,UAACzQ,CAAD;eAAOA,CAAC,CAACuB,IAAF,GAASQ,MAAT,GAAkB,CAAzB;OAAZ,EAAwCf,GAAxC,CAA4C,UAAChB,CAAD;eAAOiB,MAAM,CAACjB,CAAD,CAAb;OAA5C;KAFR;;;SAMKi6E,QAAP;;;AAGF,SAASkE,gBAAT,CAA0BviE,MAA1B,EAAkCwe,SAAlC,EAA6C;MACrC8B,OAAO,GAAG9B,SAAS,CAACv5B,IAAV,CAAe,CAAf,KAAqB0E,IAAI,CAACiE,EAAL,GAAU,GAA/B,CAAhB;;MAEI4wB,SAAS,CAACv5B,IAAV,CAAekB,MAAf,GAAwB,CAA5B,EAA+B;QACvBuD,CAAC,GAAG80B,SAAS,CAACv5B,IAAV,CAAe,CAAf,CAAV;QACM4E,CAAC,GAAG20B,SAAS,CAACv5B,IAAV,CAAe,CAAf,CAAV;IACA+a,MAAM,CAAChS,SAAP,CAAiBtE,CAAjB,EAAoBG,CAApB;IACAmW,MAAM,CAAC/R,MAAP,CAAcqyB,OAAd;IACAtgB,MAAM,CAAChS,SAAP,CAAiB,CAACtE,CAAlB,EAAqB,CAACG,CAAtB;GALF,MAMO,IAAI20B,SAAS,CAACv5B,IAAV,CAAekB,MAAf,KAA0B,CAA9B,EAAiC;IACtC6Z,MAAM,CAAC/R,MAAP,CAAcqyB,OAAd;;;;AAIJ,SAASkiD,eAAT,CAAyBxiE,MAAzB,EAAiCwe,SAAjC,EAA4C;MACpC90B,CAAC,GAAG80B,SAAS,CAACv5B,IAAV,CAAe,CAAf,CAAV;MACM4E,CAAC,GAAGmG,KAAK,CAACwuB,SAAS,CAACv5B,IAAV,CAAe,CAAf,CAAD,CAAL,GAA2Bu5B,SAAS,CAACv5B,IAAV,CAAe,CAAf,CAA3B,GAA+Cu5B,SAAS,CAACv5B,IAAV,CAAe,CAAf,CAAzD;EACA+a,MAAM,CAAC9R,KAAP,CAAaxE,CAAb,EAAgBG,CAAhB;;;AAGF,SAAS44E,mBAAT,CAA6BziE,MAA7B,EAAqCwe,SAArC,EAAgD;MACxC90B,CAAC,GAAG80B,SAAS,CAACv5B,IAAV,CAAe,CAAf,CAAV;MACM4E,CAAC,GAAGmG,KAAK,CAACwuB,SAAS,CAACv5B,IAAV,CAAe,CAAf,CAAD,CAAL,GAA2B,CAA3B,GAA+Bu5B,SAAS,CAACv5B,IAAV,CAAe,CAAf,CAAzC;EACA+a,MAAM,CAAChS,SAAP,CAAiBtE,CAAjB,EAAoBG,CAApB;;;AAGF,SAAS64E,gBAAT,CAA0B1iE,MAA1B,EAAkCwe,SAAlC,EAA6C;MACvCA,SAAS,CAACv5B,IAAV,CAAekB,MAAf,IAAyB,CAA7B,EAAgC;IAC9B6Z,MAAM,CAACwe,SAAP,OAAAxe,MAAM,uBAAcwe,SAAS,CAACv5B,IAAxB,EAAN;;;;AAIJ,AAAe,SAAS09E,gBAAT,CAA0Bh+E,CAA1B,EAA6Bqb,MAA7B,EAAqC;MAC5C4iE,UAAU,GAAGR,cAAc,CAACz9E,CAAD,CAAjC;MACI65B,SAAJ;;OAEK,IAAIz3B,CAAC,GAAG,CAAR,EAAWqlB,GAAG,GAAGw2D,UAAU,CAACz8E,MAAjC,EAAyCY,CAAC,GAAGqlB,GAA7C,EAAkDrlB,CAAC,EAAnD,EAAuD;IACrDy3B,SAAS,GAAGokD,UAAU,CAAC77E,CAAD,CAAtB;;QAEIy3B,SAAS,CAACwwC,GAAV,KAAkB,QAAtB,EAAgC;MAC9BuT,gBAAgB,CAACviE,MAAD,EAASwe,SAAT,CAAhB;KADF,MAEO,IAAIA,SAAS,CAACwwC,GAAV,KAAkB,OAAtB,EAA+B;MACpCwT,eAAe,CAACxiE,MAAD,EAASwe,SAAT,CAAf;KADK,MAEA,IAAIA,SAAS,CAACwwC,GAAV,KAAkB,QAAtB,EAAgC;MACrC0T,gBAAgB,CAAC1iE,MAAD,EAASwe,SAAT,CAAhB;KADK,MAEA,IAAIA,SAAS,CAACwwC,GAAV,KAAkB,WAAtB,EAAmC;MACxCyT,mBAAmB,CAACziE,MAAD,EAASwe,SAAT,CAAnB;;;;;AChEN;AAEA,IAAMqkD,aAAa,GAAG;EACpB98E,IAAI,EAAE,WADc;EAEpBkvB,IAAI,EAAE,sDAFc;EAGpB6tD,SAAS,EAAE,OAHS;EAIpBrT,GAAG,EAAE;CAJP;AAOA,IAAMsT,OAAO,GAAG;EACdh9E,IAAI,EAAE,cAAC1B,CAAD,EAAI2+E,OAAJ,EAAgB;;WACbA,OAAO,CAACnuE,MAAR,CAAe,UAAC6lB,CAAD,EAAO;UACrB30B,IAAI,GAAG20B,CAAC,CAAC30B,IAAf;;UAEIA,IAAJ,EAAU;eACDA,IAAI,CAACC,WAAL,OAAuB3B,CAAC,CAAC2B,WAAF,EAA9B;;;aAEK,KAAP;KANK,CAAP;GAFY;EAYdivB,IAAI,EAAE,cAACA,KAAD,EAAOguD,QAAP,EAAiBx4E,KAAjB,EAAwBu4E,OAAxB,EAAoC;;WACjCA,OAAO,CAACnuE,MAAR,CAAe,UAAC6lB,CAAD,EAAO;UACrB91B,CAAC,GAAG81B,CAAC,CAAC0tC,KAAF,CAAQnzC,KAAR,CAAV;;UAEI,CAACguD,QAAL,EAAe;;eACN,OAAOr+E,CAAP,KAAa,WAApB;;;UAEE,OAAOA,CAAP,KAAa,WAAjB,EAA8B;eACrB,KAAP;;;cAGMq+E,QAAR;aACO,GAAL;iBACSx4E,KAAK,KAAK/E,MAAM,CAACd,CAAD,CAAvB;;aACG,IAAL;iBACS6F,KAAK,KAAK/E,MAAM,CAACd,CAAD,CAAvB;;;iBAEO,KAAP;;KAhBC,CAAP;GAbY;EAkCdk+E,SAAS,EAAE,mBAACE,OAAD;WAAaA,OAAb;GAlCG;EAoCdvT,GAAG,EAAE,aAAChoC,QAAD,EAAWu7C,OAAX,EAAuB;;WACnBA,OAAO,CAACnuE,MAAR,CAAe,UAAC6lB,CAAD,EAAO;UACrB+0C,GAAG,GAAG/0C,CAAC,CAAC+0C,GAAd;;UACIA,GAAJ,EAAS;eACAA,GAAG,CACP9pE,IADI,GAEJuR,KAFI,CAEE,KAFF,EAGJpC,OAHI,CAGI2yB,QAAQ,CAAC7hC,OAAT,CAAiB,GAAjB,EAAsB,EAAtB,CAHJ,MAGmC,CAAC,CAH3C;;;aAKK,KAAP;KARK,CAAP;;CArCJ;;;;;;;;;;;;;;;AA+DA,AAAO,SAASiP,MAAT,CAAgBkxD,KAAhB,EAAuBid,OAAvB,EAAgC;MACjC,CAACA,OAAD,IAAY,CAACA,OAAO,CAAC78E,MAArB,IAA+B,CAAC4/D,KAAhC,IAA0C,OAAOgd,OAAO,CAAChd,KAAK,CAAChgE,IAAP,CAAd,KAA+B,UAA7E,EAA0F;WACjF,EAAP;;;UAGMggE,KAAK,CAAChgE,IAAd;SACO,MAAL;aACSg9E,OAAO,CAAChd,KAAK,CAAChgE,IAAP,CAAP,CAAoBggE,KAAK,CAACt7D,KAA1B,EAAiCu4E,OAAjC,CAAP;;SACG,MAAL;aACSD,OAAO,CAAChd,KAAK,CAAChgE,IAAP,CAAP,CAAoBggE,KAAK,CAACmd,SAA1B,EAAqCnd,KAAK,CAACkd,QAA3C,EAAqDld,KAAK,CAACod,cAA3D,EAA2EH,OAA3E,CAAP;;SACG,WAAL;aACSD,OAAO,CAAChd,KAAK,CAAChgE,IAAP,CAAP,CAAoBi9E,OAApB,CAAP;;SACG,KAAL;aACSD,OAAO,CAAChd,KAAK,CAAChgE,IAAP,CAAP,CAAoBggE,KAAK,CAACt7D,KAA1B,EAAiCu4E,OAAjC,CAAP;;;aAEO,EAAP;;;;;;;;;;;;;AAaN,AAAO,SAASI,QAAT,CAAkB1+E,CAAlB,EAAqB;MACpB2+E,MAAM,GAAG,EAAf;MACIvjD,GAAJ;MACIwjD,IAAJ;MACIn+E,KAAJ;MACIo+E,aAAJ;EAEA7+E,CAAC,CAACwS,KAAF,CAAQ,SAAR,EAAmBjB,OAAnB,CAA2B,UAACutE,KAAD,EAAW;IACpCA,KAAK,GAAGA,KAAK,CAAC79E,IAAN,EAAR;IACAm6B,GAAG,GAAG,EAAN;;QACM2jD,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACn8E,GAAD,EAAS;MACpCnC,KAAK,GAAGq+E,KAAK,CAACr+E,KAAN,CAAY09E,aAAa,CAACv7E,GAAD,CAAzB,CAAR;;UACInC,KAAJ,EAAW;QACTo+E,aAAa,GAAG,IAAhB;QACAC,KAAK,GAAGA,KAAK,CAAC/uE,KAAN,CAAYtP,KAAK,CAAC,CAAD,CAAL,CAASgB,MAArB,CAAR;QACAm9E,IAAI,GAAG;UACLv9E,IAAI,EAAEuB,GADD;UAELmD,KAAK,EAAEtF,KAAK,CAAC,CAAD;SAFd;;YAKImC,GAAG,KAAK,MAAZ,EAAoB;;UAElBnC,KAAK,GAAGA,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,sDAAf,CAAR;UACAm+E,IAAI,CAACJ,SAAL,GAAiB/9E,KAAK,CAAC,CAAD,CAAtB;UACAm+E,IAAI,CAACL,QAAL,GAAgB99E,KAAK,CAAC,CAAD,CAArB;UACAm+E,IAAI,CAACH,cAAL,GAAsBh+E,KAAK,CAAC,CAAD,CAA3B;;;QAEF26B,GAAG,CAAC15B,IAAJ,CAASk9E,IAAT;;KAjBJ;;WAoBOE,KAAP,EAAc;MACZD,aAAa,GAAG,KAAhB;MAEAp+E,KAAK,GAAGq+E,KAAK,CAACr+E,KAAN,CAAY,mBAAZ,CAAR;;UACIA,KAAJ,EAAW;QACTo+E,aAAa,GAAG,IAAhB;QACAzjD,GAAG,CAAC15B,IAAJ,CAAS;UACPL,IAAI,EAAE,GADC;UAEP0E,KAAK,EAAEtF,KAAK,CAAC,CAAD;SAFd;QAIAq+E,KAAK,GAAGA,KAAK,CAAC/uE,KAAN,CAAYtP,KAAK,CAAC,CAAD,CAAL,CAASgB,MAArB,CAAR;;;MAGFiB,MAAM,CAACgS,IAAP,CAAYypE,aAAZ,EAA2B5sE,OAA3B,CAAmCwtE,oBAAnC;;UAEI3jD,GAAG,IAAIA,GAAG,CAAC35B,MAAX,IAAqBk9E,MAAM,CAACvuE,OAAP,CAAegrB,GAAf,IAAsB,CAA/C,EAAkD;QAChDujD,MAAM,CAACj9E,IAAP,CAAY05B,GAAZ;;;UAGE,CAACyjD,aAAL,EAAoB;;;;GA1CxB;SA+COF,MAAP;;;AAGF,SAASK,IAAT,CAAch/E,CAAd,EAAiBqe,MAAjB,EAAyB;MACjBuS,MAAM,GAAG,EAAf;MACMquD,YAAY,GAAG,EAArB;MACIN,MAAJ;MACIxD,WAAJ;;MAEI98D,MAAM,CAAC6H,QAAX,EAAqB;IACnBy4D,MAAM,GAAGD,QAAQ,CAAC1+E,CAAD,CAAjB;IACAm7E,WAAW,GAAG98D,MAAM,CAAC88D,WAArB;QAEI+D,MAAJ;;+BAESC,EANU,EAMFC,IANE;MAOjBF,MAAM,GAAGP,MAAM,CAACQ,EAAD,CAAf;UAEME,MAAM,GAAG,EAAf;UACI/hE,QAAQ,GAAG69D,WAAW,CAACprE,KAAZ,EAAf;UACIuvE,YAAY,GAAG,KAAnB;MACAJ,MAAM,CAAC7kE,OAAP,GAAiB9I,OAAjB,CAAyB,UAAC8vD,KAAD,EAAW;YAC9BA,KAAK,CAAChgE,IAAN,KAAe,GAAnB,EAAwB;UACtBg+E,MAAM,CAAC39E,IAAP,CAAY4b,QAAZ;UACAA,QAAQ,GAAG69D,WAAW,CAACprE,KAAZ,EAAX;UACAuvE,YAAY,GAAG,KAAf;;;;QAIFhiE,QAAQ,GAAGnN,MAAM,CAACkxD,KAAD,EAAQ/jD,QAAR,CAAjB;QACAgiE,YAAY,GAAG,IAAf;OATF;;UAYIA,YAAJ,EAAkB;QAChBD,MAAM,CAAC39E,IAAP,CAAY4b,QAAZ;;;UAGIiiE,QAAQ,GAAGF,MAAM,CAAC,CAAD,CAAN,CAAUlvE,MAAV,CAAiB,UAACuV,IAAD,EAAU;YACtC85D,QAAQ,GAAG95D,IAAI,CAAClQ,MAApB;YACIkU,GAAJ;;aAEK,IAAIrnB,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAGg9E,MAAM,CAAC59E,MAA3B,EAAmCY,EAAC,EAApC,EAAwC;UACtCqnB,GAAG,GAAG21D,MAAM,CAACh9E,EAAD,CAAN,CAAU+N,OAAV,CAAkBovE,QAAlB,CAAN;;iBACOA,QAAQ,IAAI91D,GAAG,GAAG,CAAzB,EAA4B;YAC1B81D,QAAQ,GAAGA,QAAQ,CAAChqE,MAApB;YACAkU,GAAG,GAAG21D,MAAM,CAACh9E,EAAD,CAAN,CAAU+N,OAAV,CAAkBovE,QAAlB,CAAN;;;cAEE91D,GAAG,GAAG,CAAV,EAAa;mBACJ,KAAP;;;;eAGG,IAAP;OAde,CAAjB;MAiBAu1D,YAAY,CAACv9E,IAAb,CAAkB69E,QAAlB;;;SAvCG,IAAIJ,EAAE,GAAG,CAAT,EAAYC,IAAI,GAAGT,MAAM,CAACl9E,MAA/B,EAAuC09E,EAAE,GAAGC,IAA5C,EAAkDD,EAAE,EAApD,EAAwD;YAA/CA,EAA+C,EAAvCC,IAAuC;;;SA0CnD,IAAI/8E,CAAC,GAAG,CAAR,EAAWqlB,GAAG,GAAGu3D,YAAY,CAACx9E,MAAnC,EAA2CY,CAAC,GAAGqlB,GAA/C,EAAoDrlB,CAAC,EAArD,EAAyD;WAClD,IAAIo9E,EAAE,GAAG,CAAT,EAAYC,IAAI,GAAGT,YAAY,CAAC58E,CAAD,CAAZ,CAAgBZ,MAAxC,EAAgDg+E,EAAE,GAAGC,IAArD,EAA2DD,EAAE,EAA7D,EAAiE;YAC3D7uD,MAAM,CAACxgB,OAAP,CAAe6uE,YAAY,CAAC58E,CAAD,CAAZ,CAAgBo9E,EAAhB,CAAf,IAAsC,CAA1C,EAA6C;UAC3C7uD,MAAM,CAAClvB,IAAP,CAAYu9E,YAAY,CAAC58E,CAAD,CAAZ,CAAgBo9E,EAAhB,CAAZ;;;;;;SAMD7uD,MAAM,IAAI,EAAjB;;;AAGF,mBAAe;EACbouD,IAAI,EAAJA;CADF;;AC5NA,SAASW,SAAT,CAAmBrzE,MAAnB,EAA2BszE,GAA3B,EAAgC;OACzB,IAAIv9E,CAAC,GAAG,CAAR,EAAWqlB,GAAG,GAAGpb,MAAM,CAAC7K,MAA7B,EAAqCY,CAAC,GAAGqlB,GAAzC,EAA8CrlB,CAAC,EAA/C,EAAmD;IACjDiK,MAAM,CAACjK,CAAD,CAAN,CAAU2C,CAAV,IAAe46E,GAAf;IACAtzE,MAAM,CAACjK,CAAD,CAAN,CAAU8C,CAAV,IAAey6E,GAAf;;;;AAIJ,SAASC,aAAT,CAAuBC,QAAvB,EAAiCF,GAAjC,EAAsCG,GAAtC,EAA2C;MACnC1+E,IAAI,GAAGy+E,QAAQ,CAACz+E,IAAtB;MACMiL,MAAM,GAAGyzE,GAAG,GAAGA,GAAG,CAACC,eAAJ,CAAoBF,QAAQ,CAACxzE,MAAT,EAApB,CAAH,GAA4CwzE,QAAQ,CAACxzE,MAAT,EAA9D;EACAqzE,SAAS,CAACrzE,MAAD,EAASszE,GAAT,CAAT;MACI/hE,GAAG,GAAG,IAAV;;MAEIxc,IAAI,KAAK,MAAT,IAAmBA,IAAI,KAAK,QAAhC,EAA0C;IACxCwc,GAAG,GAAG7Q,YAAY,CAACV,MAAD,CAAlB;IACAuR,GAAG,CAACxc,IAAJ,GAAWA,IAAX;GAFF,MAGO,IAAIA,IAAI,KAAK,QAAb,EAAuB;IAC5Bwc,GAAG,GAAG5Q,cAAc,CAACX,MAAD,EAASwzE,QAAQ,CAACz5E,CAAlB,CAApB;IACAwX,GAAG,CAACxc,IAAJ,GAAWA,IAAX;GAFK,MAGA,IAAIA,IAAI,KAAK,MAAb,EAAqB;IAC1Bwc,GAAG,GAAGzQ,YAAY,CAACd,MAAD,CAAlB;IACAuR,GAAG,CAACxc,IAAJ,GAAWA,IAAX;GAFK,MAGA,IAAIA,IAAI,KAAK,SAAT,IAAsBA,IAAI,KAAK,UAAnC,EAA+C;QAC9CR,IAAI,GAAGu5B,YAAY,CAAC9tB,MAAD,EAASjL,IAAI,KAAK,SAAlB,CAAzB;IACAwc,GAAG,GAAG;MACJxc,IAAI,EAAE,MADF;MAEJmQ,CAAC,EAAE3Q;KAFL;;;SAMKgd,GAAP;;;;;;;;AAOF,SAASoiE,eAAT,CAAyBv6D,IAAzB,EAA+Bk6D,GAA/B,EAAoC;MAC9Bl6D,IAAI,CAACmX,QAAT,EAAmB;QACXkjD,GAAG,GAAGr6D,IAAI,CAACw6D,eAAjB;QACMC,YAAY,GAAGz6D,IAAI,CAAC06D,YAAL,KAAsB,YAA3C;;QAEID,YAAJ,EAAkB;UACVh6D,QAAQ,GAAGT,IAAI,CAACmX,QAAL,CAAc0/C,UAAd,CAAyB77E,GAAzB,CAA6B,UAACo/E,QAAD;eAAcD,aAAa,CAACC,QAAD,EAAWF,GAAX,EAAgBG,GAAhB,CAA3B;OAA7B,CAAjB;aAEO;QACL1+E,IAAI,EAAE,WADD;QAEL8kB,QAAQ,EAARA;OAFF;;;WAMK05D,aAAa,CAACn6D,IAAI,CAACmX,QAAN,EAAgB+iD,GAAhB,EAAqBG,GAArB,CAApB;;;SAGK,IAAP;;;;;;;IAMIM;;;qBACQ36D,IAAZ,EAAkB;;;;;SACXo2D,OAAL,GAAe,YAA6B;UAA5BwE,gBAA4B,uEAAT,IAAS;;iBAGtC56D,IAAI,CAAC+f,YAAL,GAAoB/f,IAAI,CAAC+f,YAAL,CAAkB66C,gBAAlB,CAApB,GAA0D;QAC5Dt7E,CAAC,EAAE,CADyD;QACtDG,CAAC,EAAE,CADmD;QAChDwC,KAAK,EAAE,CADyC;QACtCC,MAAM,EAAE;OAJU;UAExC5C,CAFwC,QAExCA,CAFwC;UAErCG,CAFqC,QAErCA,CAFqC;UAElCwC,KAFkC,QAElCA,KAFkC;UAE3BC,MAF2B,QAE3BA,MAF2B;;aAMnC;QACL5C,CAAC,EAADA,CADK;QACFG,CAAC,EAADA,CADE;QACCwC,KAAK,EAALA,KADD;QACQC,MAAM,EAANA;OADf;KANF;;SAUK24E,MAAL,GAAc76D,IAAI,CAACg+C,KAAnB;SACK8c,KAAL,GAAa96D,IAAI,CAACrkB,IAAlB;SACKupC,KAAL,GAAallB,IAAI,CAAC5kB,IAAlB;SACK2/E,IAAL,GAAY/6D,IAAI,CAACg7D,KAAL,GAAah7D,IAAI,CAACg7D,KAAL,CAAWd,GAAxB,GAA8B,CAA1C;;SACKe,SAAL,GAAiB;aAAMV,eAAe,CAACv6D,IAAD,EAAO,KAAI,CAAC+6D,IAAZ,CAArB;KAAjB;;SACKG,KAAL,GAAal7D,IAAI,CAACyzB,IAAlB;SACK0nC,IAAL,GAAYn7D,IAAI,CAACqlD,GAAjB;;SACK6P,SAAL,GAAiB;aAAMl1D,IAAI,CAACS,QAAL,CAAczlB,GAAd,CAAkB,UAAC+f,CAAD;eAAO,IAAI4/D,SAAJ,CAAc5/D,CAAd,CAAP;OAAlB,CAAN;KAAjB;;SACKk6D,OAAL,GAAe;aAAOj1D,IAAI,CAAClQ,MAAL,GAAc,IAAI6qE,SAAJ,CAAc36D,IAAI,CAAClQ,MAAnB,CAAd,GAA2C,IAAlD;KAAf;;SAEKsrE,MAAL,GAAc;MACZC,mBAAmB,EAAE;KADvB;;SAGKC,uBAAL,GAA+B,YAAM;UAC/B,CAAC,KAAI,CAACF,MAAL,CAAYC,mBAAb,IAAoC,KAAI,CAAC/nD,OAA7C,EAAsD;QACpD,KAAI,CAAC8nD,MAAL,CAAYC,mBAAZ,GAAkC,KAAI,CAAC/nD,OAAL,CAAaC,qBAAb,EAAlC;;;aAEK,KAAI,CAAC6nD,MAAL,CAAYC,mBAAZ,IAAmC;QAAEryE,IAAI,EAAE,CAAR;QAAWE,GAAG,EAAE;OAA1D;KAJF;;;;;;;;;;;;;;;;;;;;;;;;;qCAyHezM,QAAiC;UAAzBm+E,gBAAyB,uEAAN,IAAM;;UAC1Cj/E,IAAI,WAAUc,MAAV,CAAV;;UACMwuD,MAAM,GAAG2vB,gBAAgB,GAAG,KAAK3vB,MAAR,GAAiB,KAAKkG,WAArD;;UACMoqB,QAAQ,GAAG,KAAKD,uBAAL,EAAjB;;UACIz7E,EAAE,GAAG07E,QAAQ,CAACvyE,IAAlB;UACIlJ,EAAE,GAAGy7E,QAAQ,CAACryE,GAAlB;;UAEIvN,IAAI,KAAK,QAAT,IAAqBc,MAAM,KAAK,IAAhC,IAAwC,OAAOA,MAAM,CAAC82B,qBAAd,KAAwC,UAApF,EAAgG;oCAChE92B,MAAM,CAAC82B,qBAAP,EADgE;2DACtFvqB,IADsF;YACtFA,IADsF,uCAC/E,CAD+E;2DAC5EE,GAD4E;YAC5EA,GAD4E,uCACtE,CADsE;;QAE9FrJ,EAAE,IAAImJ,IAAN;QACAlJ,EAAE,IAAIoJ,GAAN;;;MAGF+hD,MAAM,CAAC3rD,CAAP,IAAYO,EAAZ;MACAorD,MAAM,CAACxrD,CAAP,IAAYK,EAAZ;aAEOmrD,MAAP;;;;;;;;;;;;wBA7Ha;aACN,KAAKiqB,SAAL,EAAP;;;;;;;;;wBAOW;aACJ,KAAKD,OAAL,EAAP;;;;;;;;;wBAOS;aACF,KAAK6F,KAAZ;;;;;;;;;wBAOS;aACF,KAAK51C,KAAZ;;;;;;;;;wBAOU;aACH,KAAK21C,MAAZ;;;;;;;;;;sBAQUxtE,GAAG;WACR+tE,MAAL,CAAYC,mBAAZ,GAAkC,IAAlC;WACKG,QAAL,GAAgBnuE,CAAhB;;;;;;;wBAOY;aACL,KAAKmuE,QAAZ;;;;;;;;;;sBAQM9jE,GAAG;WACJvT,IAAL,GAAYuT,CAAZ;;;;;;;wBAOQ;aACD,KAAKvT,IAAZ;;;;;;;;;;wBAQW;UACL8mD,MAAM,GAAG,KAAKmrB,OAAL,EAAf;;MACAnrB,MAAM,CAAC3rD,CAAP,IAAY,KAAKy7E,IAAjB;MACA9vB,MAAM,CAACxrD,CAAP,IAAY,KAAKs7E,IAAjB;MACA9vB,MAAM,CAAChpD,KAAP,IAAgB,KAAK84E,IAArB;MACA9vB,MAAM,CAAC/oD,MAAP,IAAiB,KAAK64E,IAAtB;aACO9vB,MAAP;;;;;;;;;;wBAQgB;UACVA,MAAM,GAAG,KAAKmrB,OAAL,CAAa,KAAb,CAAf;;aACOnrB,MAAP;;;;wBA2Ca;aACN,KAAKgwB,SAAL,EAAP;;;;;;;;;wBAOS;aACF,KAAKC,KAAZ;;;;;;;;;wBAOQ;aACD,KAAKC,IAAZ;;;;;;;AAIJ,SAAS5jE,QAAT,GAAsB;oCAAHvd,CAAG;IAAHA,CAAG;;;oBACT2gF,SAAX,EAAwB3gF,CAAxB;;;IC/PWyhF,SAAb;;AAAA;qBACcz7D,IAAZ,EAAkB;;;SACX07D,KAAL,GAAaC,QAAe,CAAC37D,IAAD,CAA5B;SACKi1D,OAAL,GAAe,IAAf;SACK2G,MAAL,GAAc,IAAd;;;;;wBAGS;aACF,KAAKF,KAAZ;;;;sBAGSrgF,CAXb,EAWgB;WACP45E,OAAL,GAAe55E,CAAf;KAZJ;wBAee;aACJ,KAAK45E,OAAZ;;;;sBAGQt4E,CAnBZ,EAmBe;WACNi/E,MAAL,GAAcj/E,CAAd;KApBJ;wBAuBc;aACH,KAAKi/E,MAAZ;;;;;;AAIJ,AAAe,SAASrkE,QAAT,GAAsB;oCAAHvd,CAAG;IAAHA,CAAG;;;oBACxByhF,SAAX,EAAwBzhF,CAAxB;;;ACtBF,SAAS6hF,gBAAT,CAA0B77D,IAA1B,EAAgC87D,SAAhC,EAA2C;MACnCzgF,CAAC,GAAG2kB,IAAI,CAAClQ,MAAf;;MAEIzU,CAAC,IAAIA,CAAC,CAACM,IAAF,KAAW,OAApB,EAA6B;IAC3BmgF,SAAS,CAAChsE,MAAV,GAAmBisE,QAAe,CAAC1gF,CAAD,CAAlC;QAEM27B,EAAE,GAAG37B,CAAC,CAACyU,MAAb;;QACIknB,EAAE,IAAIA,EAAE,CAACr7B,IAAH,KAAY,OAAtB,EAA+B;MAC7BkgF,gBAAgB,CAAC7kD,EAAD,EAAK8kD,SAAS,CAAChsE,MAAf,CAAhB;;;;;AAKN,SAASksE,gBAAT,CAA0Bp0E,KAA1B,EAAiCorB,UAAjC,EAA6C;OACtC,IAAIr2B,CAAC,GAAG,CAAR,EAAWqlB,GAAG,GAAGgR,UAAU,CAACj3B,MAAjC,EAAyCY,CAAC,GAAGqlB,GAA7C,EAAkDrlB,CAAC,EAAnD,EAAuD;IACrDq2B,UAAU,CAACr2B,CAAD,CAAV,CAAcohB,KAAd,GAAsBnW,KAAtB;;;;AAIJ,SAASq0E,0BAAT,CAAoCj8D,IAApC,EAA0CrkB,IAA1C,EAAgDoiB,KAAhD,EAAuD;MAC/ClX,GAAG,GAAGmZ,IAAI,CAACy1D,WAAL,CAAiB15E,MAA7B;;OAEK,IAAIY,CAAC,GAAGkK,GAAG,GAAG,CAAnB,EAAsBlK,CAAC,IAAI,CAA3B,EAA8BA,CAAC,EAA/B,EAAmC;QAC3B82C,IAAI,GAAGzzB,IAAI,CAACy1D,WAAL,CAAiB94E,CAAjB,CAAb;;QACI82C,IAAI,CAACtc,QAAL,KAAkB,IAAtB,EAA4B;;;;QAIxBsc,IAAI,CAACtc,QAAL,CAAcx7B,IAAd,EAAoBoiB,KAApB,CAAJ,EAAgC;UACxB+9D,SAAS,GAAGC,QAAe,CAACtoC,IAAD,CAAjC;MAEAooC,gBAAgB,CAACpoC,IAAD,EAAOqoC,SAAP,CAAhB;aAEOA,SAAP;;;;SAGG,IAAP;;;AAGF,SAASI,wBAAT,CAAkCl8D,IAAlC,EAAwCrkB,IAAxC,EAA8CoiB,KAA9C,EAAqD;MAC/CiC,IAAI,CAACmX,QAAL,CAAcx7B,IAAd,EAAoBoiB,KAApB,CAAJ,EAAgC;QACxB9jB,CAAC,GAAG8hF,QAAe,CAAC/7D,IAAD,CAAzB;IAEA67D,gBAAgB,CAAC77D,IAAD,EAAO/lB,CAAP,CAAhB;WAEOA,CAAP;;;SAGK,IAAP;;;AAGF,SAASkiF,gBAAT,CAA0Bn8D,IAA1B,EAAgCjC,KAAhC,EAAuC;MACjCq+D,gBAAgB,GAAG,EAAvB;;MACIp8D,IAAI,CAACw6D,eAAT,EAA0B;QACpB58E,KAAK,CAACC,OAAN,CAAckgB,KAAd,CAAJ,EAA0B;;MACxBq+D,gBAAgB,GAAGp8D,IAAI,CAACq8D,sBAAL,CAA4B/B,eAA5B,CAA4Cv8D,KAA5C,CAAnB;KADF,MAEO,IAAI,CAACnY,KAAK,CAACmY,KAAK,CAACpd,CAAP,CAAV,EAAqB;;UACpBtF,CAAC,GAAG;QAAEiE,CAAC,EAAEye,KAAK,CAACvW,EAAX;QAAe/H,CAAC,EAAEse,KAAK,CAACtW;OAAlC;;kCACsDuY,IAAI,CAACq8D,sBAAL,CAA4BC,cAA5B,CAA2CjhF,CAA3C,CAF5B;;MAEpB+gF,gBAAgB,CAAC50E,EAFG,yBAEvBlI,CAFuB;MAEI88E,gBAAgB,CAAC30E,EAFrB,yBAEChI,CAFD;MAG1B28E,gBAAgB,CAACz7E,CAAjB,GAAqBod,KAAK,CAACpd,CAA3B;KAHK,MAIA,IAAI/C,KAAK,CAACC,OAAN,CAAckgB,KAAK,CAAClW,QAApB,CAAJ,EAAmC;;MACxCu0E,gBAAgB,CAACv0E,QAAjB,GAA4BmY,IAAI,CAACq8D,sBAAL,CAA4B/B,eAA5B,CAA4Cv8D,KAAK,CAAClW,QAAlD,CAA5B;KADK,MAEA;;MACLu0E,gBAAgB,GAAGp8D,IAAI,CAACq8D,sBAAL,CAA4BC,cAA5B,CAA2Cv+D,KAA3C,CAAnB;;GAVJ,MAYO;IACLq+D,gBAAgB,GAAGr+D,KAAnB;;;MAGEngB,KAAK,CAACC,OAAN,CAAcu+E,gBAAgB,CAACv0E,QAA/B,CAAJ,EAA8C;IAC5Cu0E,gBAAgB,GAAGG,QAAa,CAACH,gBAAD,CAAhC,CAD4C;;;SAIvCA,gBAAP;;;AAGF,SAASI,gBAAT,CAA0Bx8D,IAA1B,EAAgCy8D,gBAAhC,EAAkD1+D,KAAlD,EAAyD;MACnDiC,IAAI,CAAC06D,YAAL,KAAsB,IAA1B,EAAgC;WACvB,IAAP;;;MAGI0B,gBAAgB,GAAGD,gBAAgB,CAACn8D,IAAD,EAAOjC,KAAP,CAAzC;;MAEIiC,IAAI,CAAC06D,YAAL,KAAsB,YAA1B,EAAwC;WAC/BuB,0BAA0B,CAACj8D,IAAD,EAAOy8D,gBAAP,EAAyBL,gBAAzB,CAAjC;;;SAGKF,wBAAwB,CAACl8D,IAAD,EAAOy8D,gBAAP,EAAyBL,gBAAzB,CAA/B;;;AAGF,SAASM,iBAAT,CAA2BpvD,KAA3B,EAAkCmvD,gBAAlC,EAAoDthE,GAApD,EAAyD4C,KAAzD,EAAgE;MACxDlX,GAAG,GAAGymB,KAAK,CAACvxB,MAAlB;;OACK,IAAIY,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkK,GAApB,EAAyBlK,CAAC,EAA1B,EAA8B;QACtBqjB,IAAI,GAAGsN,KAAK,CAAC3wB,CAAD,CAAlB;QAEMm/E,SAAS,GAAGU,gBAAgB,CAACx8D,IAAD,EAAOy8D,gBAAP,EAAyB1+D,KAAzB,CAAlC;;QAEI+9D,SAAJ,EAAe;MAAE3gE,GAAG,CAACnf,IAAJ,CAAS8/E,SAAT;KALW;;;QAQxB97D,IAAI,CAACS,QAAL,IAAiB,CAACq7D,SAAlB,IAA+B,CAAC97D,IAAI,CAACmX,QAAzC,EAAmD;MACjDulD,iBAAiB,CAAC18D,IAAI,CAACS,QAAN,EAAgBg8D,gBAAhB,EAAkCthE,GAAlC,EAAuC4C,KAAvC,CAAjB;;;;;AAKN,SAAS4+D,YAAT,CAAsBrvD,KAAtB,EAA6BmvD,gBAA7B,EAA+C1+D,KAA/C,EAAsD;MAC9ClX,GAAG,GAAGymB,KAAK,CAACvxB,MAAlB;;OACK,IAAIY,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkK,GAApB,EAAyBlK,CAAC,EAA1B,EAA8B;QACtBqjB,IAAI,GAAGsN,KAAK,CAAC3wB,CAAD,CAAlB;QAEMm/E,SAAS,GAAGU,gBAAgB,CAACx8D,IAAD,EAAOy8D,gBAAP,EAAyB1+D,KAAzB,CAAlC;;QAEI+9D,SAAS,KAAK,IAAlB,EAAwB;aAAS,IAAP;;;QAEtB97D,IAAI,CAACS,QAAL,IAAiB,CAACT,IAAI,CAACmX,QAA3B,EAAqC;aAC5BwlD,YAAY,CAAC38D,IAAI,CAACS,QAAN,EAAgBg8D,gBAAhB,EAAkC1+D,KAAlC,CAAnB;;;;SAGG,KAAP;;;AAGF,SAAS6+D,YAAT,CAAsBh1E,KAAtB,EAAwC;MAAXi1E,KAAW,uEAAH,CAAG;MAChClhF,IAAI,GAAGgM,YAAY,CAACC,KAAD,CAAzB;MACIk1E,MAAM,GAAG,EAAb;;UAEQnhF,IAAR;SACO,QAAL;MACEmhF,MAAM,CAACt1E,EAAP,GAAYI,KAAK,CAACJ,EAAN,GAAWq1E,KAAvB;MACAC,MAAM,CAACr1E,EAAP,GAAYG,KAAK,CAACH,EAAN,GAAWo1E,KAAvB;MACAC,MAAM,CAACn8E,CAAP,GAAWiH,KAAK,CAACjH,CAAjB;aACO,CAAC,kBAAD,EAAqBm8E,MAArB,CAAP;;SACG,MAAL;MACEA,MAAM,GAAGz1E,YAAY,CAACO,KAAD,CAAZ,CAAoB5M,GAApB,CAAwB,UAACK,CAAD;eAAOs6B,cAAc,CAACt6B,CAAD,EAAIwhF,KAAJ,CAArB;OAAxB,CAAT;aACO,CAAC,gBAAD,EAAmBC,MAAnB,CAAP;;SACG,MAAL;MACEA,MAAM,GAAG31E,YAAY,CAACS,KAAD,CAAZ,CAAoB5M,GAApB,CAAwB,UAACK,CAAD;eAAOs6B,cAAc,CAACt6B,CAAD,EAAIwhF,KAAJ,CAArB;OAAxB,CAAT;aACO,CAAC,gBAAD,EAAmBC,MAAnB,CAAP;;SACG,OAAL;MACEA,MAAM,GAAGnnD,cAAc,CAAC/tB,KAAD,EAAQi1E,KAAR,CAAvB;aACO,CAAC,eAAD,EAAkBC,MAAlB,CAAP;;SACG,SAAL;MACEA,MAAM,CAACj1E,QAAP,GAAkBD,KAAK,CAACC,QAAN,CAAe7M,GAAf,CAAmB,UAAC+hF,MAAD;eAAYpnD,cAAc,CAAConD,MAAD,EAASF,KAAT,CAA1B;OAAnB,CAAlB;aACO,CAAC,mBAAD,EAAsBC,MAAtB,CAAP;;;aAEO,EAAP;;;;AAIN,AAAO,SAASE,qBAAT,CAA+Bh9D,IAA/B,EAAqCpY,KAArC,EAA4C;sBACdg1E,YAAY,CAACh1E,KAAD,EAAQoY,IAAI,CAACk6D,GAAb,CADE;;MAC1CuC,gBAD0C;MACxBK,MADwB;;MAE3C9pD,UAAU,GAAG,EAAnB;;MAEIypD,gBAAJ,EAAsB;IACpBC,iBAAiB,CAAC,CAAC18D,IAAD,CAAD,EAASy8D,gBAAT,EAA2BzpD,UAA3B,EAAuC8pD,MAAvC,CAAjB;IACAd,gBAAgB,CAACp0E,KAAD,EAAQorB,UAAR,CAAhB;;;SAEKA,UAAP;;AAGF,AAAO,SAASiqD,kBAAT,CAA4Bj9D,IAA5B,EAAkCpY,KAAlC,EAAyC;uBACXg1E,YAAY,CAACh1E,KAAD,EAAQoY,IAAI,CAACk6D,GAAb,CADD;;MACvCuC,gBADuC;MACrBK,MADqB;;SAGvCH,YAAY,CAAC,CAAC38D,IAAD,CAAD,EAASy8D,gBAAT,EAA2BK,MAA3B,CAAnB;;;ACjKF;;;;;;;;;;;;;;;;IAgBMI;;;;;yBACQvhF,IAAZ,EAAkB;;;;;uFACVA,IAAN;UACKwhF,MAAL,GAAc,IAAd;UACKlC,SAAL,GAAiB;MACft/E,IAAI,EAAE,IADS;MAEf28B,UAAU,EAAE,IAFG;MAGfvpB,EAAE,EAAE;KAHN;UAKK8rE,MAAL,GAAc,EAAd;UACKa,KAAL,GAAa,IAAb;;;;;;0BAGU;UAARlhF,CAAQ,uEAAJ,EAAI;WACLwlB,IAAL,GAAYxlB,CAAZ;UAGEY,IAJQ,GASNZ,CATM,CAIRY,IAJQ;UAKRq4C,IALQ,GASNj5C,CATM,CAKRi5C,IALQ;UAMR4xB,GANQ,GASN7qE,CATM,CAMR6qE,GANQ;UAOR+X,eAPQ,GASN5iF,CATM,CAOR4iF,eAPQ;UAQRC,aARQ,GASN7iF,CATM,CAQR6iF,aARQ;MAWV/oD,qBAAqB,CAAC,KAAK0pC,KAAN,EAAaxjE,CAAb,CAArB;;UAEI,OAAOY,IAAP,KAAgB,WAApB,EAAiC;aAC1BA,IAAL,GAAYA,IAAZ;;;UAGE,QAAOq4C,IAAP,MAAgB,QAApB,EAA8B;aACvBA,IAAL,GAAYjtC,MAAM,CAAC,IAAD,EAAO,EAAP,EAAWitC,IAAX,CAAlB;;;UAGE,OAAO4xB,GAAP,KAAe,QAAnB,EAA6B;aACtBA,GAAL,GAAWA,GAAX;;;UAGE,OAAO+X,eAAP,KAA2B,QAA/B,EAAyC;aAClCA,eAAL,GAAuBA,eAAvB;;;UAGE,OAAOC,aAAP,KAAyB,QAA7B,EAAuC;aAChCA,aAAL,GAAqBA,aAArB;;;;;+BAIOhgD,UAAU;aACZigD,YAAY,CAAChE,IAAb,CAAkBj8C,QAAlB,EAA4B,IAA5B,EAAkCriC,GAAlC,CAAsC,UAACglB,IAAD;eAAU27D,QAAe,CAAC37D,IAAD,CAAzB;OAAtC,CAAP;;;;iCAGWpY,OAAO;aACXo1E,qBAAqB,CAAC,IAAD,EAAOp1E,KAAP,CAA5B;;;;kCAGYvM,GAAG;aACR4hF,kBAAkB,CAAC,IAAD,EAAO5hF,CAAP,CAAzB;;;;mCAGa+L,MAAM;aACZ61E,kBAAkB,CAAC,IAAD,EAAO71E,IAAP,CAAzB;;;;mCAGapF,MAAM;aACZi7E,kBAAkB,CAAC,IAAD,EAAOj7E,IAAP,CAAzB;;;;qCAGeyyB,QAAQ;aAChBwoD,kBAAkB,CAAC,IAAD,EAAOxoD,MAAP,CAAzB;;;;sCAGgBgK,SAAS;aAClBw+C,kBAAkB,CAAC,IAAD,EAAOx+C,OAAP,CAAzB;;;;4CAGsC;UAAlBrkC,CAAkB,uEAAd,IAAIk9E,MAAJ,EAAc;;UAClC,OAAO,KAAKtZ,KAAL,CAAW5pC,SAAlB,KAAgC,WAApC,EAAiD;QAAEmkD,gBAAgB,CAAC,KAAKva,KAAL,CAAW5pC,SAAZ,EAAuBh6B,CAAvB,CAAhB;;;WAC9CogF,eAAL,GAAuBpgF,CAAC,CAACmjF,KAAF,EAAvB;;;;6CAGuC;UAAlBnjF,CAAkB,uEAAd,IAAIk9E,MAAJ,EAAc;UACjCt9E,CAAC,GAAG,KAAKimB,SAAf;;UAEIjmB,CAAC,CAAC+B,MAAF,GAAW,CAAf,EAAkB;aACX,IAAIY,CAAC,GAAG3C,CAAC,CAAC+B,MAAF,GAAW,CAAxB,EAA2BY,CAAC,IAAI,CAAhC,EAAmCA,CAAC,EAApC,EAAwC;UACtC3C,CAAC,CAAC2C,CAAD,CAAD,CAAK6gF,qBAAL,CAA2BpjF,CAA3B;UACAA,CAAC,GAAGJ,CAAC,CAAC2C,CAAD,CAAD,CAAK69E,eAAT;;;;WAICgD,qBAAL,CAA2BpjF,CAA3B;;;;;;;;;;;yBASGJ,GAAG;aACC,KAAKgkE,KAAL,CAAWhkE,CAAX,CAAP;;;;2BAGK8R,GAAG;UACFkyD,KAAK,GAAG,KAAKA,KAAnB;UACMyf,QAAQ,GAAGzgF,MAAM,CAACgS,IAAP,CAAYgvD,KAAZ,CAAjB;UACM0f,MAAM,GAAG5xE,CAAC,CAACkyD,KAAjB;UACM2f,SAAS,GAAG3gF,MAAM,CAACgS,IAAP,CAAY0uE,MAAZ,CAAlB;;UACID,QAAQ,CAAC1hF,MAAT,KAAoB4hF,SAAS,CAAC5hF,MAAlC,EAA0C;eACjC,KAAP;;;WAEG,IAAIY,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG8gF,QAAQ,CAAC1hF,MAA7B,EAAqCY,CAAC,EAAtC,EAA0C;YAClCO,GAAG,GAAGugF,QAAQ,CAAC9gF,CAAD,CAApB;;YACI,CAACK,MAAM,CAACyoB,cAAP,CAAsBtnB,IAAtB,CAA2Bu/E,MAA3B,EAAmCxgF,GAAnC,CAAL,EAA8C;iBACrC,KAAP;;;YAEE8gE,KAAK,CAAC9gE,GAAD,CAAL,KAAewgF,MAAM,CAACxgF,GAAD,CAAzB,EAAgC;iBACvB,KAAP;;;;uFAIgB4O,CAApB;;;;6BAGO;UACD8xE,IAAI,4EAAV;;MACAA,IAAI,CAAC5f,KAAL,GAAa,KAAKA,KAAlB;aACO4f,IAAP;;;;wBAGU;aACH,KAAK/C,MAAZ;;;;wBAGU;UACN,KAAK5F,OAAL,IAAgB,CAAC,KAAKkI,MAA1B,EAAkC;;aAC3BA,MAAL,GAAc,KAAKlI,OAAL,CAAa+F,KAA3B;OADF,MAEO,IAAI,CAAC,KAAK/F,OAAN,IAAiB,KAAKkI,MAAL,KAAgB,IAArC,EAA2C;aAC3CA,MAAL,GAAc,IAAd;;;aAEK,KAAKA,MAAZ;;;;sBAGkB/iF,GAAG;WAChByjF,IAAL,GAAYzjF,CAAZ;WACK0jF,KAAL,GAAa,IAAb;;wBAGoB;aACb,KAAKD,IAAZ;;;;wBAG2B;WACtBC,KAAL,GAAa,KAAKA,KAAL,GAAa,KAAKA,KAAlB,GAA0B,KAAKD,IAAL,CAAUN,KAAV,GAAkB/gE,MAAlB,EAAvC;aACO,KAAKshE,KAAZ;;;;sBAGO/iE,GAAG;WACL2gE,KAAL,GAAa3gE,CAAb;;wBAGS;aACF,KAAK2gE,KAAZ;;;;sBAGWpjD,YAAY;UACjB38B,IAAI,GAAGiC,KAAK,CAACC,OAAN,CAAcy6B,UAAd,IAA4B,YAA5B,GAA4CA,UAAU,IAAIA,UAAU,CAAC38B,IAAlF;;UACI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;;aAEvBs/E,SAAL,CAAet/E,IAAf,GAAsB,IAAtB;aACKs/E,SAAL,CAAe3iD,UAAf,GAA4B,IAA5B;aACK2iD,SAAL,CAAelsE,EAAf,GAAoB,IAApB;;OANqB;;;UAWnB,KAAKksE,SAAL,KAAmB,IAAnB,IAA2B,KAAKA,SAAL,CAAet/E,IAAf,KAAwBA,IAAnD,IAA2D,KAAKs/E,SAAL,CAAelsE,EAAf,KAAsB,IAArF,EAA2F;aACpFksE,SAAL,CAAelsE,EAAf,CAAkB2X,GAAlB,CAAsB4R,UAAtB;;aACK2iD,SAAL,CAAe3iD,UAAf,GAA4BA,UAA5B;;OAbqB;;;WAkBlB2iD,SAAL,CAAet/E,IAAf,GAAsBA,IAAtB;WACKs/E,SAAL,CAAe3iD,UAAf,GAA4BA,UAA5B;;wBAGa;;UAET,KAAK2iD,SAAL,CAAelsE,EAAf,KAAsB,IAA1B,EAAgC;eACvB,KAAKksE,SAAL,CAAelsE,EAAtB;OAHW;;;cAOL,KAAKksE,SAAL,CAAet/E,IAAvB;aACO,YAAL;eACOs/E,SAAL,CAAelsE,EAAf,GAAoBgvE,QAAkB,CAAC,KAAK9C,SAAL,CAAe3iD,UAAhB,CAAtC;;;aAEG,YAAL;;;iBAES,IAAP;;aACG,QAAL;eACO2iD,SAAL,CAAelsE,EAAf,GAAoBqrE,QAAQ,CAAC,MAAD,EAAS,KAAKr6C,YAAL,EAAT,CAA5B;;;aAEG,MAAL;aACK,MAAL;aACK,QAAL;aACK,SAAL;aACK,UAAL;eACOk7C,SAAL,CAAelsE,EAAf,GAAoBqrE,QAAQ,CAAC,KAAKa,SAAL,CAAet/E,IAAhB,EAAsB,KAAKs/E,SAAL,CAAe3iD,UAArC,CAA5B;;;;iBAGO,IAAP;;;aAGG,KAAK2iD,SAAL,CAAelsE,EAAtB;;;;wBAGiB;aACV,KAAKksE,SAAL,CAAet/E,IAAtB;;;;;EA3NwBq5E;;ICzBtBgJ;;;;;;;;;;;;;6BACK/jF,GAAG;UACN,CAACA,CAAD,IAAM,EAAEA,CAAC,YAAY+6E,IAAf,CAAV,EAAgC;cACxB,IAAIz4E,SAAJ,iDAAuDtC,CAAvD,EAAN;;;UAGEA,CAAC,KAAK,IAAV,EAAgB;cACR,IAAIwS,KAAJ,CAAU,8BAAV,CAAN;;;UAGExS,CAAC,CAACi7E,SAAF,IAAej7E,CAAC,CAACi7E,SAAF,CAAYn5E,MAA3B,IAAqC,KAAKkkB,SAAL,CAAevV,OAAf,CAAuBzQ,CAAvB,KAA6B,CAAtE,EAAyE;cACjE,IAAIwS,KAAJ,CAAU,mCAAV,CAAN;;;UAGExS,CAAC,CAACg7E,OAAF,IAAah7E,CAAC,CAACg7E,OAAF,KAAc,IAA/B,EAAqC;QACnCh7E,CAAC,CAACg7E,OAAF,CAAUG,WAAV,CAAsBn7E,CAAtB;;;WAGGi7E,SAAL,CAAel5E,IAAf,CAAoB/B,CAApB;;MACAA,CAAC,CAACg7E,OAAF,GAAY,IAAZ;MACAh7E,CAAC,CAACk7E,UAAF,GAAe,IAAf;aAEO,IAAP;;;;gCAGU10D,UAAU;UAChB9jB,CAAJ;UACEkK,GAAG,GAAG4Z,QAAQ,GAAGA,QAAQ,CAAC1kB,MAAZ,GAAqB,CADrC;;WAEKY,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGkK,GAAhB,EAAqBlK,CAAC,EAAtB,EAA0B;aACnBshF,QAAL,CAAcx9D,QAAQ,CAAC9jB,CAAD,CAAtB;;;aAEK,IAAP;;;;;;;;;;;gCASU1C,GAAG;UACPikF,IAAI,GAAG,KAAKhJ,SAAL,CAAexqE,OAAf,CAAuBzQ,CAAvB,CAAb;;UACIikF,IAAI,IAAI,CAAZ,EAAe;aACRhJ,SAAL,CAAeh5E,MAAf,CAAsBgiF,IAAtB,EAA4B,CAA5B;;QACAjkF,CAAC,CAACg7E,OAAF,GAAY,IAAZ;QACAh7E,CAAC,CAACk7E,UAAF,GAAe,IAAf;;;aAEK,IAAP;;;;mCAGa10D,UAAU;UACnB9jB,CAAJ,EACEkK,GADF;;UAEI,CAAC,KAAKquE,SAAV,EAAqB;eACZ,IAAP;;;UAEEz0D,QAAJ,EAAc;QACZ5Z,GAAG,GAAG4Z,QAAQ,CAAC1kB,MAAf;;aACKY,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGkK,GAAhB,EAAqBlK,CAAC,EAAtB,EAA0B;eACnBy4E,WAAL,CAAiB30D,QAAQ,CAAC9jB,CAAD,CAAzB;;OAHJ,MAKO;eACE,KAAKu4E,SAAL,CAAen5E,MAAtB,EAA8B;eACvBq5E,WAAL,CAAiB,KAAKF,SAAL,CAAe,CAAf,CAAjB;;;;aAGG,IAAP;;;;;EAlEwBF;;ACE5B;;;;;;AAMA,IAAMmJ,EAAE,GAAGH,aAAa,CAAC1gF,SAAzB;;IAEqB8gF;;;;;uBACC;;;QAAR9jF,CAAQ,uEAAJ,EAAI;;;;kBACaA,CADb,CACVqB,IADU;QACVA,IADU,wBACH,WADG;mFAEZA,IAAN;;UACK+qB,GAAL,CAASpsB,CAAT;;;;;;;0BAGU;UAARE,CAAQ,uEAAJ,EAAI;;yEACAA,CAAV;;UAEQ28B,QAHE,GAGW38B,CAHX,CAGF28B,QAHE;UAIJzgB,IAAI,GAAGlQ,MAAM,CAAC;QAClB7K,IAAI,EAAE;OADW,EAEhBw7B,QAFgB,CAAnB;WAIKA,QAAL,GAAgBzgB,IAAhB;WACK2nE,cAAL,GAAsB;QAAEC,IAAI,EAAE,IAAR;QAAcC,KAAK,EAAE;OAA3C;WACKC,QAAL,GAAgB;QAAEF,IAAI,EAAE,IAAR;QAAcC,KAAK,EAAE;OAArC;;;;oCAGcE,OAAO7D,kBAAkB;UACnC,OAAO6D,KAAK,CAACxzB,MAAb,KAAwB,WAA5B,EAAyC;YACjCjpD,IAAI,GAAG,KAAKq8E,cAAL,CAAoBzD,gBAApB,KAAyC,EAAtD;;4BACmB6D,KAAK,CAACxzB,MAAN,CAAa2vB,gBAAb,CAFoB;;YAEhCnP,EAFgC;YAE1BnsC,EAF0B;;YAG5Bx4B,IAH4B,GAGV2kE,EAHU,CAG/BnsE,CAH+B;YAGnB2H,IAHmB,GAGVwkE,EAHU,CAGtBhsE,CAHsB;YAI5BuH,IAJ4B,GAIVs4B,EAJU,CAI/BhgC,CAJ+B;YAInB4H,IAJmB,GAIVo4B,EAJU,CAItB7/B,CAJsB;;YAMjCi/E,KAAK,GAAG94E,KAAK,CAAC5D,IAAI,CAACC,KAAN,CAAL,GAAoB+E,IAApB,GAA2BzH,IAAI,CAACyG,GAAL,CAASgB,IAAT,EAAehF,IAAI,CAACC,KAAL,GAAaD,IAAI,CAAC1C,CAAjC,CAAzC;;YACMq/E,KAAK,GAAG/4E,KAAK,CAAC5D,IAAI,CAACE,MAAN,CAAL,GAAqBgF,IAArB,GAA4B3H,IAAI,CAACyG,GAAL,CAASkB,IAAT,EAAelF,IAAI,CAACE,MAAL,GAAcF,IAAI,CAACvC,CAAlC,CAA1C;;QAEAuC,IAAI,CAAC1C,CAAL,GAASsG,KAAK,CAAC5D,IAAI,CAAC1C,CAAN,CAAL,GAAgBwH,IAAhB,GAAuBvH,IAAI,CAACwG,GAAL,CAASe,IAAT,EAAe9E,IAAI,CAAC1C,CAApB,CAAhC;QACA0C,IAAI,CAACvC,CAAL,GAASmG,KAAK,CAAC5D,IAAI,CAACvC,CAAN,CAAL,GAAgBwH,IAAhB,GAAuB1H,IAAI,CAACwG,GAAL,CAASkB,IAAT,EAAejF,IAAI,CAACvC,CAApB,CAAhC;QACAuC,IAAI,CAACC,KAAL,GAAay8E,KAAK,GAAG18E,IAAI,CAAC1C,CAA1B;QACA0C,IAAI,CAACE,MAAL,GAAcy8E,KAAK,GAAG38E,IAAI,CAACvC,CAA3B;aAEK4+E,cAAL,CAAoBzD,gBAApB,IAAwC54E,IAAxC;;;;;mCAImC;UAA1B44E,gBAA0B,uEAAP,KAAO;;UACjC,KAAKyD,cAAL,CAAoBzD,gBAApB,MAA0C,IAA9C,EAAoD;eAC3C,KAAKyD,cAAL,CAAoBzD,gBAApB,CAAP;;;UAGI/zE,GAAG,GAAG,KAAK4Z,QAAL,CAAc1kB,MAA1B;;WAEK,IAAIY,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkK,GAApB,EAAyBlK,CAAC,EAA1B,EAA8B;aACvBiiF,eAAL,CAAqB,KAAKn+D,QAAL,CAAc9jB,CAAd,CAArB,EAAuCi+E,gBAAvC;;;WAGGyD,cAAL,CAAoBzD,gBAApB,IAAwCp0E,MAAM,CAAC;QAC7ClH,CAAC,EAAE,CAD0C;QACvCG,CAAC,EAAE,CADoC;QACjCwC,KAAK,EAAE,CAD0B;QACvBC,MAAM,EAAE;OADc,EAE3C,KAAKm8E,cAAL,CAAoBzD,gBAApB,CAF2C,CAA9C;aAIO,KAAKyD,cAAL,CAAoBzD,gBAApB,CAAP;;;;6BAG+B;UAA1BA,gBAA0B,uEAAP,KAAO;;UAC3B,KAAK4D,QAAL,CAAc5D,gBAAd,MAAoC,IAAxC,EAA8C;eACrC,KAAK4D,QAAL,CAAc5D,gBAAd,CAAP;;;UAEI54E,IAAI,GAAG,KAAK+9B,YAAL,CAAkB66C,gBAAlB,CAAb;WAEK4D,QAAL,CAAc5D,gBAAd,IAAkC,CAChC;QAAEt7E,CAAC,EAAE0C,IAAI,CAAC1C,CAAV;QAAaG,CAAC,EAAEuC,IAAI,CAACvC;OADW,EAEhC;QAAEH,CAAC,EAAE0C,IAAI,CAAC1C,CAAL,GAAS0C,IAAI,CAACC,KAAnB;QAA0BxC,CAAC,EAAEuC,IAAI,CAACvC;OAFF,EAGhC;QAAEH,CAAC,EAAE0C,IAAI,CAAC1C,CAAL,GAAS0C,IAAI,CAACC,KAAnB;QAA0BxC,CAAC,EAAEuC,IAAI,CAACvC,CAAL,GAASuC,IAAI,CAACE;OAHX,EAIhC;QAAE5C,CAAC,EAAE0C,IAAI,CAAC1C,CAAV;QAAaG,CAAC,EAAEuC,IAAI,CAACvC,CAAL,GAASuC,IAAI,CAACE;OAJE,CAAlC;aAMO,KAAKs8E,QAAL,CAAc5D,gBAAd,CAAP;;;;6BAGO3gF,GAAG;UACJ0G,CAAC,GAAGw9E,EAAE,CAACF,QAAH,CAAY9/E,IAAZ,CAAiB,IAAjB,EAAuBlE,CAAvB,CAAV;;UAEI,KAAKghF,SAAL,IAAkB,KAAKA,SAAL,CAAet/E,IAAf,KAAwB,QAA9C,EAAwD;aACjDijF,eAAL,CAAqB3kF,CAArB,EAAwB,IAAxB;YACMyc,IAAI,GAAGlQ,MAAM,CAAC;UAClB7K,IAAI,EAAE,QADY;UACF2D,CAAC,EAAE,CADD;UACIG,CAAC,EAAE,CADP;UACUwC,KAAK,EAAE,CADjB;UACoBC,MAAM,EAAE;SAD7B,EAEhB,KAAKm8E,cAAL,CAAoBC,IAFJ,CAAnB;aAGKnnD,QAAL,GAAgBzgB,IAAhB;;;aAGK/V,CAAP;;;;gCAGU8f,UAAU;UACd9f,CAAC,GAAGw9E,EAAE,CAACU,WAAH,CAAe1gF,IAAf,CAAoB,IAApB,EAA0BsiB,QAA1B,CAAV;UACM5Z,GAAG,GAAG4Z,QAAQ,CAAC1kB,MAArB;;UAEI,KAAKk/E,SAAL,IAAkB,KAAKA,SAAL,CAAet/E,IAAf,KAAwB,QAA1C,IAAsDkL,GAAG,GAAG,CAAhE,EAAmE;aAC5D,IAAIlK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkK,GAApB,EAAyBlK,CAAC,EAA1B,EAA8B;eACvBiiF,eAAL,CAAqBn+D,QAAQ,CAAC9jB,CAAD,CAA7B,EAAkC,IAAlC;;;YAEI+Z,IAAI,GAAGlQ,MAAM,CAAC;UAClB7K,IAAI,EAAE,QADY;UACF2D,CAAC,EAAE,CADD;UACIG,CAAC,EAAE,CADP;UACUwC,KAAK,EAAE,CADjB;UACoBC,MAAM,EAAE;SAD7B,EAEhB,KAAKm8E,cAAL,CAAoBC,IAFJ,CAAnB;aAGKnnD,QAAL,GAAgBzgB,IAAhB;;;aAGK/V,CAAP;;;;gCAGU1G,GAAG;MACbA,CAAC,CAACkjF,MAAF,GAAW,IAAX;UACI1pC,IAAI,GAAGx5C,CAAC,CAACw7E,WAAb;UACE5uE,GAAG,GAAG4sC,IAAI,GAAGA,IAAI,CAAC13C,MAAR,GAAiB,CAD7B;UAEEY,CAFF,CAFa;;WAMRA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGkK,GAAhB,EAAqBlK,CAAC,EAAtB,EAA0B;QACxB82C,IAAI,CAAC92C,CAAD,CAAJ,CAAQwgF,MAAR,GAAiB,IAAjB;;;MAGFgB,EAAE,CAAC/I,WAAH,CAAej3E,IAAf,CAAoB,IAApB,EAA0BlE,CAA1B;;UAEI,KAAKghF,SAAL,IAAkB,KAAKA,SAAL,CAAet/E,IAAf,KAAwB,QAA9C,EAAwD;aACjD0iF,cAAL,GAAsB;UAAEC,IAAI,EAAE,IAAR;UAAcC,KAAK,EAAE;SAA3C;aACKC,QAAL,GAAgB;UAAEF,IAAI,EAAE,IAAR;UAAcC,KAAK,EAAE;SAArC;YACM7nE,IAAI,GAAGlQ,MAAM,CAAC,KAAKu5B,YAAL,CAAkB,IAAlB,CAAD,EAA0B;UAAEpkC,IAAI,EAAE;SAAlC,CAAnB;aACKw7B,QAAL,GAAgBzgB,IAAhB;;;aAGK,IAAP;;;;mCAGa+J,UAAU;MACvB09D,EAAE,CAACW,cAAH,CAAkB3gF,IAAlB,CAAuB,IAAvB,EAA6BsiB,QAA7B;;UAEI,KAAKw6D,SAAL,IAAkB,KAAKA,SAAL,CAAet/E,IAAf,KAAwB,QAA9C,EAAwD;aACjD0iF,cAAL,GAAsB;UAAEC,IAAI,EAAE,IAAR;UAAcC,KAAK,EAAE;SAA3C;aACKC,QAAL,GAAgB;UAAEF,IAAI,EAAE,IAAR;UAAcC,KAAK,EAAE;SAArC;YACM7nE,IAAI,GAAGlQ,MAAM,CAAC,KAAKu5B,YAAL,CAAkB,IAAlB,CAAD,EAA0B;UAAEpkC,IAAI,EAAE;SAAlC,CAAnB;aACKw7B,QAAL,GAAgBzgB,IAAhB;;;aAGK,IAAP;;;;;EAvImCwmE;AA2IhC,SAAS3lE,QAAT,GAAsB;oCAAHjd,CAAG;IAAHA,CAAG;;;oBAChB8jF,SAAX,EAAwB9jF,CAAxB;;;ICtJmBykF;;;;;iBACP7E,GAAZ,EAAiB;;;;;+EACT,OAAN;UACKiD,MAAL;UACK6B,SAAL,GAAiB9E,GAAG,IAAI,CAAxB;;;;;;wBAGQ;aACD,KAAK8E,SAAZ;;;;;EAR+BZ;AAY5B,SAAS7mE,QAAT,GAAsB;oCAAHvd,CAAG;IAAHA,CAAG;;;oBAChB+kF,KAAX,EAAoB/kF,CAApB;;;ACZF;;;;;;;;;;;;;;;;;;;;;;AAsBA,IAAMmkF,IAAE,GAAGH,aAAa,CAAC1gF,SAAzB;AAEA,IAAM2hF,YAAY,GAAG,CACnB,IADmB,EAEnB,IAFmB,EAGnB,IAHmB,EAInB,IAJmB,EAKnB,IALmB,EAMnB,QANmB,EAOnB,OAPmB,CAArB;;IAUqBC;;;;;0BACC;;;QAAR5kF,CAAQ,uEAAJ,EAAI;;;;kBACaA,CADb,CACVqB,IADU;QACVA,IADU,wBACH,WADG;sFAEZA,IAAN;;UACK+qB,GAAL,CAASpsB,CAAT;;UACK+7E,aAAL,GAAqB,EAArB;;;;;;0BAGU;UAAR77E,CAAQ,uEAAJ,EAAI;;4EACAA,CAAV;;UAEMwjE,KAAK,GAAG,KAAKA,KAAnB;UAEImhB,OAAO,GAAG,EAAd;;WAEK,IAAIxiF,CAAC,GAAG,CAAR,EAAWqlB,GAAG,GAAGi9D,YAAY,CAACljF,MAAnC,EAA2CY,CAAC,KAAKqlB,GAAjD,EAAsDrlB,CAAC,EAAvD,EAA2D;QACzDwiF,OAAO,GAAGF,YAAY,CAACtiF,CAAD,CAAtB;;YAEI,OAAOnC,CAAC,CAAC2kF,OAAD,CAAR,KAAsB,WAA1B,EAAuC;UACrCnhB,KAAK,CAACmhB,OAAD,CAAL,GAAiB3kF,CAAC,CAAC2kF,OAAD,CAAlB;;;;;;6BAKGllF,GAAG;UACJ0G,CAAC,GAAGw9E,IAAE,CAACF,QAAH,CAAY9/E,IAAZ,CAAiB,IAAjB,EAAuBlE,CAAvB,CAAV;aAEO0G,CAAP;;;;gCAGU8f,UAAU;UACd9f,CAAC,GAAGw9E,IAAE,CAACU,WAAH,CAAe1gF,IAAf,CAAoB,IAApB,EAA0BsiB,QAA1B,CAAV;aAEO9f,CAAP;;;;gCAGU1G,GAAG;MACbA,CAAC,CAACkjF,MAAF,GAAW,IAAX;UACI1pC,IAAI,GAAGx5C,CAAC,CAACw7E,WAAb;UACE5uE,GAAG,GAAG4sC,IAAI,GAAGA,IAAI,CAAC13C,MAAR,GAAiB,CAD7B;UAEEY,CAFF,CAFa;;WAMRA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGkK,GAAhB,EAAqBlK,CAAC,EAAtB,EAA0B;QACxB82C,IAAI,CAAC92C,CAAD,CAAJ,CAAQwgF,MAAR,GAAiB,IAAjB;;;MAGFgB,IAAE,CAAC/I,WAAH,CAAej3E,IAAf,CAAoB,IAApB,EAA0BlE,CAA1B;aAEO,IAAP;;;;mCAGawmB,UAAU;MACvB09D,IAAE,CAACW,cAAH,CAAkB3gF,IAAlB,CAAuB,IAAvB,EAA6BsiB,QAA7B;aAEO,IAAP;;;;;EAtDsCy8D;AA0DnC,SAAS3lE,QAAT,GAAsB;oCAAHjd,CAAG;IAAHA,CAAG;;;oBAChB4kF,YAAX,EAA2B5kF,CAA3B;;;AC7FF;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,IAAM6jF,IAAE,GAAGH,aAAa,CAAC1gF,SAAzB;AAEA,IAAM2hF,cAAY,GAAG,CACnB,cADmB,EAEnB,GAFmB,EAGnB,GAHmB,EAInB,OAJmB,EAKnB,QALmB,EAMnB,IANmB,CAArB;;IASqBG;;;;;yBACC;;;QAAR9kF,CAAQ,uEAAJ,EAAI;;;;kBACaA,CADb,CACVqB,IADU;QACVA,IADU,wBACH,WADG;qFAEZA,IAAN;;UACK+qB,GAAL,CAASpsB,CAAT;;UACK+7E,aAAL,GAAqB,EAArB;;;;;;0BAGU;UAAR77E,CAAQ,uEAAJ,EAAI;;2EACAA,CAAV;;UAEMwjE,KAAK,GAAG,KAAKA,KAAnB;UAEImhB,OAAO,GAAG,EAAd;;WAEK,IAAIxiF,CAAC,GAAG,CAAR,EAAWqlB,GAAG,GAAGi9D,cAAY,CAACljF,MAAnC,EAA2CY,CAAC,KAAKqlB,GAAjD,EAAsDrlB,CAAC,EAAvD,EAA2D;QACzDwiF,OAAO,GAAGF,cAAY,CAACtiF,CAAD,CAAtB;;YAEI,OAAOnC,CAAC,CAAC2kF,OAAD,CAAR,KAAsB,WAA1B,EAAuC;UACrCnhB,KAAK,CAACmhB,OAAD,CAAL,GAAiB3kF,CAAC,CAAC2kF,OAAD,CAAlB;;;;;;6BAKGllF,GAAG;UACJ0G,CAAC,GAAGw9E,IAAE,CAACF,QAAH,CAAY9/E,IAAZ,CAAiB,IAAjB,EAAuBlE,CAAvB,CAAV;aAEO0G,CAAP;;;;gCAGU8f,UAAU;UACd9f,CAAC,GAAGw9E,IAAE,CAACU,WAAH,CAAe1gF,IAAf,CAAoB,IAApB,EAA0BsiB,QAA1B,CAAV;aAEO9f,CAAP;;;;gCAGU1G,GAAG;MACbA,CAAC,CAACkjF,MAAF,GAAW,IAAX;UACI1pC,IAAI,GAAGx5C,CAAC,CAACw7E,WAAb;UACE5uE,GAAG,GAAG4sC,IAAI,GAAGA,IAAI,CAAC13C,MAAR,GAAiB,CAD7B;UAEEY,CAFF,CAFa;;WAMRA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGkK,GAAhB,EAAqBlK,CAAC,EAAtB,EAA0B;QACxB82C,IAAI,CAAC92C,CAAD,CAAJ,CAAQwgF,MAAR,GAAiB,IAAjB;;;MAGFgB,IAAE,CAAC/I,WAAH,CAAej3E,IAAf,CAAoB,IAApB,EAA0BlE,CAA1B;aAEO,IAAP;;;;mCAGawmB,UAAU;MACvB09D,IAAE,CAACW,cAAH,CAAkB3gF,IAAlB,CAAuB,IAAvB,EAA6BsiB,QAA7B;aAEO,IAAP;;;;;EAtDqCy8D;AA0DlC,SAAS3lE,QAAT,GAAsB;oCAAHjd,CAAG;IAAHA,CAAG;;;oBAChB8kF,WAAX,EAA0B9kF,CAA1B;;;AC5FF;;;;;;;;;IASqB+kF;;;;;kBACD;;;;;;;8EACV,MAAN;;qBACK34D,GAAL;;;;;;;0BAGU;UAARlsB,CAAQ,uEAAJ,EAAI;iBASNA,CATM,CAER8E,CAFQ;UAERA,CAFQ,qBAEJ,CAFI;iBASN9E,CATM,CAGRiF,CAHQ;UAGRA,CAHQ,qBAGJ,CAHI;qBASNjF,CATM,CAIRyH,KAJQ;UAIRA,KAJQ,yBAIA,CAJA;sBASNzH,CATM,CAKR0H,MALQ;UAKRA,MALQ,0BAKC,CALD;kBASN1H,CATM,CAMR6G,EANQ;UAMRA,EANQ,sBAMH,CANG;kBASN7G,CATM,CAOR8G,EAPQ;UAORA,EAPQ,sBAOH,CAPG;UAQR61B,QARQ,GASN38B,CATM,CAQR28B,QARQ;UAUJzgB,IAAI,GAAGlQ,MAAM,CAAC;QAClB7K,IAAI,EAAE,MADY;QACJ2D,CAAC,EAADA,CADI;QACDG,CAAC,EAADA,CADC;QACEwC,KAAK,EAALA,KADF;QACSC,MAAM,EAANA;OADV,EAEhBi1B,QAFgB,CAAnB;;oEAIU38B,CAAV;;UAEIyH,KAAK,IAAI,CAAb,EAAgB;aACT+7D,KAAL,CAAW1+D,CAAX,GAAeA,CAAf;aACK0+D,KAAL,CAAW/7D,KAAX,GAAmBA,KAAnB;OAFF,MAGO;aACA+7D,KAAL,CAAW1+D,CAAX,GAAeA,CAAC,GAAG2C,KAAnB;aACK+7D,KAAL,CAAW/7D,KAAX,GAAmB,CAACA,KAApB;;;UAGEC,MAAM,IAAI,CAAd,EAAiB;aACV87D,KAAL,CAAWv+D,CAAX,GAAeA,CAAf;aACKu+D,KAAL,CAAW97D,MAAX,GAAoBA,MAApB;OAFF,MAGO;aACA87D,KAAL,CAAWv+D,CAAX,GAAeA,CAAC,GAAGyC,MAAnB;aACK87D,KAAL,CAAW97D,MAAX,GAAoB,CAACA,MAArB;;;UAGEb,EAAE,GAAG,CAAT,EAAY;aAAO28D,KAAL,CAAW38D,EAAX,GAAgBA,EAAhB;;;UACVC,EAAE,GAAG,CAAT,EAAY;aAAO08D,KAAL,CAAW18D,EAAX,GAAgBA,EAAhB;;;WAET61B,QAAL,GAAgBzgB,IAAhB;WACK2nE,cAAL,GAAsB;QAAEC,IAAI,EAAE,IAAR;QAAcC,KAAK,EAAE;OAA3C;WACKC,QAAL,GAAgB;QAAEF,IAAI,EAAE,IAAR;QAAcC,KAAK,EAAE;OAArC;;;;mCAGqC;UAA1B3D,gBAA0B,uEAAP,KAAO;;UACjC,KAAKyD,cAAL,CAAoBzD,gBAApB,MAA0C,IAA9C,EAAoD;eAC3C,KAAKyD,cAAL,CAAoBzD,gBAApB,CAAP;;;UAEIv/E,CAAC,GAAGgM,YAAY,CAAC,KAAK22D,KAAN,CAAtB;UACMshB,EAAE,GAAG1E,gBAAgB,IAAI,KAAKJ,eAAzB,GAA2C,KAAKA,eAAL,CAAqBF,eAArB,CAAqCj/E,CAArC,CAA3C,GAAqFA,CAAhG;;uBACiCsL,SAAS,CAAC24E,EAAD,CANL;;UAM9Bx4E,IAN8B;UAMxBG,IANwB;UAMlBD,IANkB;UAMZE,IANY;;WAQhCm3E,cAAL,CAAoBzD,gBAApB,IAAwC;QACtCt7E,CAAC,EAAEwH,IADmC;QAEtCrH,CAAC,EAAEwH,IAFmC;QAGtChF,KAAK,EAAE+E,IAAI,GAAGF,IAHwB;QAItC5E,MAAM,EAAEgF,IAAI,GAAGD;OAJjB;aAOO,KAAKo3E,cAAL,CAAoBzD,gBAApB,CAAP;;;;6BAG+B;UAA1BA,gBAA0B,uEAAP,KAAO;;UAC3B,KAAK4D,QAAL,CAAc5D,gBAAd,MAAoC,IAAxC,EAA8C;eACrC,KAAK4D,QAAL,CAAc5D,gBAAd,CAAP;;;UAEI54E,IAAI,GAAG,KAAK+9B,YAAL,CAAkB66C,gBAAlB,CAAb;WAEK4D,QAAL,CAAc5D,gBAAd,IAAkC,CAChC;QAAEt7E,CAAC,EAAE0C,IAAI,CAAC1C,CAAV;QAAaG,CAAC,EAAEuC,IAAI,CAACvC;OADW,EAEhC;QAAEH,CAAC,EAAE0C,IAAI,CAAC1C,CAAL,GAAS0C,IAAI,CAACC,KAAnB;QAA0BxC,CAAC,EAAEuC,IAAI,CAACvC;OAFF,EAGhC;QAAEH,CAAC,EAAE0C,IAAI,CAAC1C,CAAL,GAAS0C,IAAI,CAACC,KAAnB;QAA0BxC,CAAC,EAAEuC,IAAI,CAACvC,CAAL,GAASuC,IAAI,CAACE;OAHX,EAIhC;QAAE5C,CAAC,EAAE0C,IAAI,CAAC1C,CAAV;QAAaG,CAAC,EAAEuC,IAAI,CAACvC,CAAL,GAASuC,IAAI,CAACE;OAJE,CAAlC;aAOO,KAAKs8E,QAAL,CAAc5D,gBAAd,CAAP;;;;;EA7E8BsC;AAiF3B,SAAS3lE,QAAT,GAAsB;oCAAHjd,CAAG;IAAHA,CAAG;;;oBAChB+kF,IAAX,EAAmB/kF,CAAnB;;;AC9FF;;;;;;;;IAQqBilF;;;;;oBACD;;;;;;;gFACV,QAAN;;qBACK74D,GAAL;;;;;;;0BAGU;UAARlsB,CAAQ,uEAAJ,EAAI;kBAGNA,CAHM,CAERgN,EAFQ;UAERA,EAFQ,sBAEH,CAFG;kBAGNhN,CAHM,CAEAiN,EAFA;UAEAA,EAFA,sBAEK,CAFL;iBAGNjN,CAHM,CAEQmG,CAFR;UAEQA,CAFR,qBAEY,CAFZ;UAEew2B,QAFf,GAGN38B,CAHM,CAEe28B,QAFf;UAIJzgB,IAAI,GAAGlQ,MAAM,CAAC;QAClB7K,IAAI,EAAE,QADY;QACF6L,EAAE,EAAFA,EADE;QACEC,EAAE,EAAFA,EADF;QACM9G,CAAC,EAADA;OADP,EAEhBw2B,QAFgB,CAAnB;;sEAIU38B,CAAV;;WAEKwjE,KAAL,CAAWx2D,EAAX,GAAgBA,EAAhB;WACKw2D,KAAL,CAAWv2D,EAAX,GAAgBA,EAAhB;WACKu2D,KAAL,CAAWr9D,CAAX,GAAeA,CAAf;WAEKw2B,QAAL,GAAgBzgB,IAAhB;WACK2nE,cAAL,GAAsB;QAAEC,IAAI,EAAE,IAAR;QAAcC,KAAK,EAAE;OAA3C;WACKC,QAAL,GAAgB;QAAEF,IAAI,EAAE,IAAR;QAAcC,KAAK,EAAE;OAArC;;;;mCAGqC;UAA1B3D,gBAA0B,uEAAP,KAAO;;UACjC,KAAKyD,cAAL,CAAoBzD,gBAApB,MAA0C,IAA9C,EAAoD;eAC3C,KAAKyD,cAAL,CAAoBzD,gBAApB,CAAP;OAFmC;;;;UAM/Bv/E,CAAC,GAAG,KAAK4vD,MAAL,CAAY2vB,gBAAZ,CAAV;WAEKyD,cAAL,CAAoBzD,gBAApB,IAAwC;QACtCt7E,CAAC,EAAEjE,CAAC,CAAC,CAAD,CAAD,CAAKiE,CAD8B;QAEtCG,CAAC,EAAEpE,CAAC,CAAC,CAAD,CAAD,CAAKoE,CAF8B;QAGtCwC,KAAK,EAAE5G,CAAC,CAAC,CAAD,CAAD,CAAKiE,CAAL,GAASjE,CAAC,CAAC,CAAD,CAAD,CAAKiE,CAHiB;QAItC4C,MAAM,EAAE7G,CAAC,CAAC,CAAD,CAAD,CAAKoE,CAAL,GAASpE,CAAC,CAAC,CAAD,CAAD,CAAKoE;OAJxB;aAMO,KAAK4+E,cAAL,CAAoBzD,gBAApB,CAAP;;;;6BAG+B;UAA1BA,gBAA0B,uEAAP,KAAO;;UAC3B,KAAK4D,QAAL,CAAc5D,gBAAd,MAAoC,IAAxC,EAA8C;eACrC,KAAK4D,QAAL,CAAc5D,gBAAd,CAAP;OAF6B;;;wBAO3B,KAAK5c,KAPsB;UAM7Bx2D,EAN6B,eAM7BA,EAN6B;UAMzBC,EANyB,eAMzBA,EANyB;UAMlBq3B,EANkB,eAMrBn+B,CANqB;UAMXo+B,EANW,eAMdp+B,CANc;UAQzBrB,CAAC,GAAGkI,EAAE,GAAGs3B,EAAf;UACMr/B,CAAC,GAAGgI,EAAE,GAAGs3B,EAAf;UACI/7B,CAAC,GAAG87B,EAAE,GAAG,CAAb;UACI5kC,CAAC,GAAG6kC,EAAE,GAAG,CAAb;UACI1jC,CAAC,GAAG,CACN;QAAEiE,CAAC,EAADA,CAAF;QAAKG,CAAC,EAADA;OADC,EAEN;QAAEH,CAAC,EAAEA,CAAC,GAAG0D,CAAT;QAAYvD,CAAC,EAADA;OAFN,EAGN;QAAEH,CAAC,EAAEA,CAAC,GAAG0D,CAAT;QAAYvD,CAAC,EAAEA,CAAC,GAAGvF;OAHb,EAIN;QAAEoF,CAAC,EAADA,CAAF;QAAKG,CAAC,EAAEA,CAAC,GAAGvF;OAJN,CAAR;;UAOI0gF,gBAAgB,IAAI,KAAKJ,eAA7B,EAA8C;QAC5Cn/E,CAAC,GAAG,KAAKm/E,eAAL,CAAqBF,eAArB,CAAqCj/E,CAArC,CAAJ;;yBACiCsL,SAAS,CAACtL,CAAD,CAFE;;YAErCyL,IAFqC;YAE/BG,IAF+B;YAEzBD,IAFyB;YAEnBE,IAFmB;;QAG5ClE,CAAC,GAAGgE,IAAI,GAAGF,IAAX;QACA5M,CAAC,GAAGgN,IAAI,GAAGD,IAAX;aAEKu3E,QAAL,CAAc5D,gBAAd,IAAkC,CAChC;UAAEt7E,CAAC,EAAEwH,IAAL;UAAWrH,CAAC,EAAEwH;SADkB,EAEhC;UAAE3H,CAAC,EAAEwH,IAAI,GAAG9D,CAAZ;UAAevD,CAAC,EAAEwH;SAFc,EAGhC;UAAE3H,CAAC,EAAEwH,IAAI,GAAG9D,CAAZ;UAAevD,CAAC,EAAEwH,IAAI,GAAG/M;SAHO,EAIhC;UAAEoF,CAAC,EAAEwH,IAAL;UAAWrH,CAAC,EAAEwH,IAAI,GAAG/M;SAJW,CAAlC;OANF,MAYO;aACAskF,QAAL,CAAc5D,gBAAd,IAAkCv/E,CAAlC;;;aAGK,KAAKmjF,QAAL,CAAc5D,gBAAd,CAAP;;;;;EA7EgCsC;AAiF7B,SAAS3lE,QAAT,GAAsB;oCAAHjd,CAAG;IAAHA,CAAG;;;oBAChBilF,MAAX,EAAqBjlF,CAArB;;;ACvFF;;;;;;;;;IASqBklF;;;;;kBACD;;;;;;;8EACV,MAAN;;qBACK94D,GAAL;;;;;;;0BAGU;UAARlsB,CAAQ,uEAAJ,EAAI;iBAGNA,CAHM,CAERwG,EAFQ;UAERA,EAFQ,qBAEH,CAFG;iBAGNxG,CAHM,CAEAyG,EAFA;UAEAA,EAFA,qBAEK,CAFL;kBAGNzG,CAHM,CAEQ0G,EAFR;UAEQA,EAFR,sBAEa,CAFb;kBAGN1G,CAHM,CAEgB2G,EAFhB;UAEgBA,EAFhB,sBAEqB,CAFrB;UAEwBg2B,QAFxB,GAGN38B,CAHM,CAEwB28B,QAFxB;;oEAIA38B,CAAV;;WACKwjE,KAAL,CAAWh9D,EAAX,GAAgBA,EAAhB;WACKg9D,KAAL,CAAW/8D,EAAX,GAAgBA,EAAhB;WACK+8D,KAAL,CAAW98D,EAAX,GAAgBA,EAAhB;WACK88D,KAAL,CAAW78D,EAAX,GAAgBA,EAAhB;UAEMs+E,eAAe,GAAG;QACtB9jF,IAAI,EAAE,MADgB;QAEtBqF,EAAE,EAAFA,EAFsB;QAGtBC,EAAE,EAAFA,EAHsB;QAItBC,EAAE,EAAFA,EAJsB;QAKtBC,EAAE,EAAFA;OALF;WAOKg2B,QAAL,GAAgB3wB,MAAM,CAACi5E,eAAD,EAAkBtoD,QAAlB,CAAtB;WACKknD,cAAL,GAAsB;QAAEC,IAAI,EAAE,IAAR;QAAcC,KAAK,EAAE;OAA3C;WACKC,QAAL,GAAgB;QAAEF,IAAI,EAAE,IAAR;QAAcC,KAAK,EAAE;OAArC;;;;mCAGqC;UAA1B3D,gBAA0B,uEAAP,KAAO;;UACjC,KAAKyD,cAAL,CAAoBzD,gBAApB,MAA0C,IAA9C,EAAoD;eAC3C,KAAKyD,cAAL,CAAoBzD,gBAApB,CAAP;;;UAEEv/E,CAAC,GAAG8L,YAAY,CAAC,KAAK62D,KAAN,CAApB;;UAEI4c,gBAAgB,IAAI,KAAKJ,eAA7B,EAA8C;QAC5Cn/E,CAAC,GAAG,KAAKm/E,eAAL,CAAqBF,eAArB,CAAqCj/E,CAArC,CAAJ;;;uBAG+BsL,SAAS,CAACtL,CAAD,CAVL;;UAU9ByL,IAV8B;UAUxBG,IAVwB;UAUlBD,IAVkB;UAUZE,IAVY;;UAW/Bw4E,OAAO,GAAG54E,IAAI,KAAKE,IAAT,IAAiBC,IAAI,KAAKC,IAA1C;WAEKm3E,cAAL,CAAoBzD,gBAApB,IAAwC;QACtCt7E,CAAC,EAAEwH,IADmC;QAEtCrH,CAAC,EAAEwH,IAFmC;QAGtChF,KAAK,EAAEy9E,OAAO,GAAGngF,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAYgB,IAAI,GAAGF,IAAnB,CAAH,GAA8B,CAHN;QAItC5E,MAAM,EAAEw9E,OAAO,GAAGngF,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAYkB,IAAI,GAAGD,IAAnB,CAAH,GAA8B;OAJ/C;aAMO,KAAKo3E,cAAL,CAAoBzD,gBAApB,CAAP;;;;6BAG+B;UAA1BA,gBAA0B,uEAAP,KAAO;;UAC3B,KAAK4D,QAAL,CAAc5D,gBAAd,MAAoC,IAAxC,EAA8C;eACrC,KAAK4D,QAAL,CAAc5D,gBAAd,CAAP;;;UAEI54E,IAAI,GAAG,KAAK+9B,YAAL,CAAkB66C,gBAAlB,CAAb;WACK4D,QAAL,CAAc5D,gBAAd,IAAkC,CAChC;QAAEt7E,CAAC,EAAE0C,IAAI,CAAC1C,CAAV;QAAaG,CAAC,EAAEuC,IAAI,CAACvC;OADW,EAEhC;QAAEH,CAAC,EAAE0C,IAAI,CAAC1C,CAAL,GAAS0C,IAAI,CAACC,KAAnB;QAA0BxC,CAAC,EAAEuC,IAAI,CAACvC;OAFF,EAGhC;QAAEH,CAAC,EAAE0C,IAAI,CAAC1C,CAAL,GAAS0C,IAAI,CAACC,KAAnB;QAA0BxC,CAAC,EAAEuC,IAAI,CAACvC,CAAL,GAASuC,IAAI,CAACE;OAHX,EAIhC;QAAE5C,CAAC,EAAE0C,IAAI,CAAC1C,CAAV;QAAaG,CAAC,EAAEuC,IAAI,CAACvC,CAAL,GAASuC,IAAI,CAACE;OAJE,CAAlC;aAMO,KAAKs8E,QAAL,CAAc5D,gBAAd,CAAP;;;;;EA7D8BsC;AAiE3B,SAAS3lE,QAAT,GAAsB;oCAAHjd,CAAG;IAAHA,CAAG;;;oBAChBklF,IAAX,EAAmBllF,CAAnB;;;AClFF,IAAMqlF,IAAI,GAAGpgF,IAAI,CAACiE,EAAL,GAAU,CAAvB;;AAEA,SAASo8E,SAAT,CAAmBnU,EAAnB,EAAuBpsC,EAAvB,EAA2B;MACnB9kC,CAAC,GAAGgF,IAAI,CAACmE,KAAL,CAAW27B,EAAE,CAAC5/B,CAAH,GAAOgsE,EAAE,CAAChsE,CAArB,EAAwB4/B,EAAE,CAAC//B,CAAH,GAAOmsE,EAAE,CAACnsE,CAAlC,CAAV;SACO/E,CAAC,GAAG,CAAJ,GAAQA,CAAC,GAAGgF,IAAI,CAACiE,EAAL,GAAU,CAAtB,GAA0BjJ,CAAjC;;;;AAIF,SAAS2E,aAAT,CAAqB7D,CAArB,EAAwB+D,KAAxB,EAA+By4B,MAA/B,EAAuC;SAC9B;IACLv4B,CAAC,EAAEjE,CAAC,CAACiE,CAAF,GAAOC,IAAI,CAACC,GAAL,CAASJ,KAAT,IAAkBy4B,MADvB;IAELp4B,CAAC,EAAEpE,CAAC,CAACoE,CAAF,GAAOF,IAAI,CAACG,GAAL,CAASN,KAAT,IAAkBy4B;GAF9B;;;AAMF,AAAe,SAASgoD,yBAAT,CAAmCj5E,MAAnC,EAA2CixB,MAA3C,EAA8D;MAAXnhB,IAAW,uEAAJ,EAAI;MACrEopE,IAAI,GAAG,EAAb;MACMnrD,KAAK,GAAG,EAAd,CAF2E;;MAMvEje,IAAI,CAACqpE,gBAAL,KAA0B,GAA9B,EAAmC;QAC3Bn/E,KAAK,GAAGgG,MAAM,CAAC,CAAD,CAAN,CAAUtH,CAAV,GAAcsH,MAAM,CAAC,CAAD,CAAN,CAAUtH,CAAxB,GAA4B,CAAC,CAA7B,GAAiC,CAA/C;QACMuB,GAAG,GAAG+F,MAAM,CAACA,MAAM,CAAC7K,MAAP,GAAgB,CAAjB,CAAN,CAA0BuD,CAA1B,GAA8BsH,MAAM,CAACA,MAAM,CAAC7K,MAAP,GAAgB,CAAjB,CAAN,CAA0BuD,CAAxD,GAA4D,CAA5D,GAAgE,CAAC,CAA7E;IAEAsH,MAAM,CAACo5E,OAAP,CAAe;MAAE1gF,CAAC,EAAEsH,MAAM,CAAC,CAAD,CAAN,CAAUtH,CAAV,GAAcsB,KAAnB;MAA0BnB,CAAC,EAAEmH,MAAM,CAAC,CAAD,CAAN,CAAUnH;KAAtD;IACAmH,MAAM,CAAC5K,IAAP,CAAY;MAAEsD,CAAC,EAAEsH,MAAM,CAACA,MAAM,CAAC7K,MAAP,GAAgB,CAAjB,CAAN,CAA0BuD,CAA1B,GAA8BuB,GAAnC;MAAwCpB,CAAC,EAAEmH,MAAM,CAACA,MAAM,CAAC7K,MAAP,GAAgB,CAAjB,CAAN,CAA0B0D;KAAjF;GALF,MAMO,IAAIiX,IAAI,CAACqpE,gBAAL,KAA0B,GAA9B,EAAmC;QAClCn/E,MAAK,GAAGgG,MAAM,CAAC,CAAD,CAAN,CAAUnH,CAAV,GAAcmH,MAAM,CAAC,CAAD,CAAN,CAAUnH,CAAxB,GAA4B,CAAC,CAA7B,GAAiC,CAA/C;;QACMoB,IAAG,GAAG+F,MAAM,CAACA,MAAM,CAAC7K,MAAP,GAAgB,CAAjB,CAAN,CAA0B0D,CAA1B,GAA8BmH,MAAM,CAACA,MAAM,CAAC7K,MAAP,GAAgB,CAAjB,CAAN,CAA0B0D,CAAxD,GAA4D,CAA5D,GAAgE,CAAC,CAA7E;;IAEAmH,MAAM,CAACo5E,OAAP,CAAe;MAAE1gF,CAAC,EAAEsH,MAAM,CAAC,CAAD,CAAN,CAAUtH,CAAf;MAAkBG,CAAC,EAAEmH,MAAM,CAAC,CAAD,CAAN,CAAUnH,CAAV,GAAcmB;KAAlD;IACAgG,MAAM,CAAC5K,IAAP,CAAY;MAAEsD,CAAC,EAAEsH,MAAM,CAACA,MAAM,CAAC7K,MAAP,GAAgB,CAAjB,CAAN,CAA0BuD,CAA/B;MAAkCG,CAAC,EAAEmH,MAAM,CAACA,MAAM,CAAC7K,MAAP,GAAgB,CAAjB,CAAN,CAA0B0D,CAA1B,GAA8BoB;KAA/E;;;MAGImhB,GAAG,GAAGpb,MAAM,CAAC7K,MAAP,GAAgB,CAA5B;;OACK,IAAIY,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqlB,GAApB,EAAyBrlB,CAAC,EAA1B,EAA8B;QACtBs/C,IAAI,GAAGr1C,MAAM,CAACjK,CAAC,GAAG,CAAL,CAAnB;QACMu/C,IAAI,GAAGt1C,MAAM,CAACjK,CAAD,CAAnB;QACM+hD,IAAI,GAAG93C,MAAM,CAACjK,CAAC,GAAG,CAAL,CAAnB;QACMsjF,UAAU,GAAGL,SAAS,CAAC1jC,IAAD,EAAOD,IAAP,CAA5B;QACMikC,UAAU,GAAGN,SAAS,CAAC1jC,IAAD,EAAOwC,IAAP,CAA5B;QACMyhC,SAAS,GAAG,CAACF,UAAU,GAAGC,UAAd,IAA4B,CAA9C;QACME,UAAU,GAAGD,SAAS,GAAG5gF,IAAI,CAACiE,EAApC;QACM68E,QAAQ,GAAG9gF,IAAI,CAACyG,GAAL,CAASm6E,SAAT,EAAoBC,UAApB,CAAjB;QACME,QAAQ,GAAG/gF,IAAI,CAACwG,GAAL,CAASo6E,SAAT,EAAoBC,UAApB,CAAjB;QACMG,SAAS,GAAGN,UAAU,GAAGC,UAA/B;;QAEIvjF,CAAC,KAAK,CAAV,EAAa;UACL6jF,UAAU,GAAGZ,SAAS,CAAC3jC,IAAD,EAAOC,IAAP,CAA5B;MACA4jC,IAAI,CAAC9jF,IAAL,CAAUkD,aAAW,CAAC+8C,IAAD,EAAOukC,UAAU,GAAGb,IAApB,EAA0B9nD,MAA1B,CAArB;MACAlD,KAAK,CAACqrD,OAAN,CAAc9gF,aAAW,CAAC+8C,IAAD,EAAOukC,UAAU,GAAGb,IAApB,EAA0B9nD,MAA1B,CAAzB;;;QAGI4oD,MAAM,GAAGF,SAAS,GAAGF,QAAH,GAAcC,QAAtC;QACMI,MAAM,GAAGH,SAAS,GAAGD,QAAH,GAAcD,QAAtC;IAEAP,IAAI,CAAC9jF,IAAL,CAAUkD,aAAW,CAACg9C,IAAD,EAAOukC,MAAP,EAAe5oD,MAAf,CAArB;IACAlD,KAAK,CAACqrD,OAAN,CAAc9gF,aAAW,CAACg9C,IAAD,EAAOwkC,MAAP,EAAe7oD,MAAf,CAAzB;;QAEIl7B,CAAC,KAAKqlB,GAAG,GAAG,CAAhB,EAAmB;UACX2+D,UAAU,GAAGf,SAAS,CAAClhC,IAAD,EAAOxC,IAAP,CAA5B;MACA4jC,IAAI,CAAC9jF,IAAL,CAAUkD,aAAW,CAACw/C,IAAD,EAAOiiC,UAAU,GAAGhB,IAApB,EAA0B9nD,MAA1B,CAArB;MACAlD,KAAK,CAACqrD,OAAN,CAAc9gF,aAAW,CAACw/C,IAAD,EAAOiiC,UAAU,GAAGhB,IAApB,EAA0B9nD,MAA1B,CAAzB;;;;SAIG;IACLl8B,IAAI,EAAE,SADD;IAELkM,QAAQ,YACHi4E,IADG,EAEHnrD,KAFG;GAFV;;;ACnEa,SAASisD,SAAT,CAAmBzlE,GAAnB,EAAwB;MAC/B0lE,MAAM,GAAG,EAAf;MACI7mF,CAAJ;MACIgoB,GAAG,GAAG7G,GAAG,CAACpf,MAAd;;OACK,IAAIY,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqlB,GAApB,EAAyBrlB,CAAC,EAA1B,EAA8B;IAC5B3C,CAAC,GAAGmhB,GAAG,CAACxe,CAAD,CAAP;;SACK,IAAI+a,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG1d,CAAC,CAAC+B,MAAtB,EAA8B2b,CAAC,EAA/B,EAAmC;MACjCmpE,MAAM,CAAC7kF,IAAP,CAAYhC,CAAC,CAAC0d,CAAD,CAAb;;;;SAIGmpE,MAAP;;;ACJF,IAAM/iD,SAAO,GAAG,KAAhB;;;;;;;AAQA,SAASgjD,QAAT,CAAkBl6E,MAAlB,EAA0B;MACpBA,MAAM,CAAC7K,MAAP,GAAgB,CAApB,EAAuB;WACd,KAAP;;;MAEI0vE,EAAE,GAAG7kE,MAAM,CAAC,CAAD,CAAjB;MACMy4B,EAAE,GAAGz4B,MAAM,CAACA,MAAM,CAAC7K,MAAP,GAAgB,CAAjB,CAAjB;SAEOwD,IAAI,CAAC2O,GAAL,CAASu9D,EAAE,CAACnsE,CAAH,GAAO+/B,EAAE,CAAC//B,CAAnB,IAAwBw+B,SAAxB,IAAmCv+B,IAAI,CAAC2O,GAAL,CAASu9D,EAAE,CAAChsE,CAAH,GAAO4/B,EAAE,CAAC5/B,CAAnB,IAAwBq+B,SAAlE;;;IAGmBijD;;;;;kBACD;;;;;;;8EACV,MAAN;;qBACKr6D,GAAL;;;;;;;0BAGU;;;UAARlsB,CAAQ,uEAAJ,EAAI;;oEACAA,CAAV;;WACK0F,QAAL,GAAgB,EAAhB;WACK0G,MAAL,GAAc,EAAd;WACKo3D,KAAL,CAAWlyD,CAAX,GAAetR,CAAC,CAACsR,CAAjB;;UAEIlO,KAAK,CAACC,OAAN,CAAcrD,CAAC,CAAC28B,QAAhB,KAA8B,QAAO38B,CAAC,CAAC28B,QAAT,MAAsB,QAAtB,IAAkC,OAAO38B,CAAC,CAAC28B,QAAF,CAAWx7B,IAAlB,KAA2B,WAA/F,EAA6G;aACtGw7B,QAAL,GAAgB38B,CAAC,CAAC28B,QAAlB;OADF,MAEO,IAAI38B,CAAC,CAACsR,CAAN,EAAS;aACT5L,QAAL,GAAgBo0E,YAAc,CAAC95E,CAAC,CAACsR,CAAH,CAA9B;aACK5L,QAAL,CAAc2L,OAAd,CAAsB,UAACspB,OAAD,EAAa;cAC7BA,OAAO,CAACp5B,MAAR,IAAkB,CAAtB,EAAyB,CAAzB,MAEO,IAAI+kF,QAAQ,CAAC3rD,OAAD,CAAZ,EAAuB;YAC5B,MAAI,CAACgC,QAAL,GAAgB3wB,MAAM,CAAC;cACrB7K,IAAI,EAAE,SADe;cAErBkM,QAAQ,EAAEstB;aAFU,EAGnB36B,CAAC,CAAC28B,QAHiB,CAAtB;WADK,MAKA,IAAI,QAAO38B,CAAC,CAAC28B,QAAT,MAAsB,QAAtB,IAAkC38B,CAAC,CAAC28B,QAAF,CAAW6pD,MAAjD,EAAyD;gBACxDr7E,IAAI,GAAG,MAAI,CAACq4D,KAAL,CAAW,cAAX,IAA6B,CAA1C;YACA,MAAI,CAAC7mC,QAAL,GAAgB0oD,yBAAyB,CAAC1qD,OAAD,EAAUxvB,IAAV,EAAgBnL,CAAC,CAAC28B,QAAlB,CAAzC;WAFK,MAGA;YACL,MAAI,CAACA,QAAL,GAAgB3wB,MAAM,CAAC;cACrB7K,IAAI,EAAE,UADe;cAErBiL,MAAM,EAAEuuB;aAFY,EAGnB36B,CAAC,CAAC28B,QAHiB,CAAtB;;SAZJ;;;WAoBGknD,cAAL,GAAsB;QAAEC,IAAI,EAAE,IAAR;QAAcC,KAAK,EAAE;OAA3C;WACKC,QAAL,GAAgB;QAAEF,IAAI,EAAE,IAAR;QAAcC,KAAK,EAAE;OAArC;;;;mCAGqC;UAA1B3D,gBAA0B,uEAAP,KAAO;;UACjC,KAAKyD,cAAL,CAAoBzD,gBAApB,MAA0C,IAA9C,EAAoD;eAC3C,KAAKyD,cAAL,CAAoBzD,gBAApB,CAAP;;;UAGE,CAAC,KAAKh0E,MAAL,CAAY7K,MAAjB,EAAyB;aAClBmE,QAAL,GAAgB,KAAKA,QAAL,CAAcnE,MAAd,GAAuB,KAAKmE,QAA5B,GAAuCo0E,YAAc,CAAC,KAAKtW,KAAL,CAAWlyD,CAAZ,CAArE;aACKlF,MAAL,GAAcq6E,SAAO,CAAC,KAAK/gF,QAAN,CAArB;;;UAGIo/E,EAAE,GAAG1E,gBAAgB,IAAI,KAAKJ,eAAzB,GAA2C,KAAKA,eAAL,CAAqBF,eAArB,CAAqC,KAAK1zE,MAA1C,CAA3C,GAA+F,KAAKA,MAA/G;;uBACiCD,SAAS,CAAC24E,EAAD,CAXL;;UAW9Bx4E,IAX8B;UAWxBG,IAXwB;UAWlBD,IAXkB;UAWZE,IAXY;;WAahCm3E,cAAL,CAAoBzD,gBAApB,IAAwC;QACtCt7E,CAAC,EAAEwH,IAAI,IAAI,CAD2B;QAEtCrH,CAAC,EAAEwH,IAAI,IAAI,CAF2B;QAGtChF,KAAK,EAAG+E,IAAI,GAAGF,IAAR,IAAiB,CAHc;QAItC5E,MAAM,EAAGgF,IAAI,GAAGD,IAAR,IAAiB;OAJ3B;aAOO,KAAKo3E,cAAL,CAAoBzD,gBAApB,CAAP;;;;6BAG+B;UAA1BA,gBAA0B,uEAAP,KAAO;;UAC3B,KAAK4D,QAAL,CAAc5D,gBAAd,MAAoC,IAAxC,EAA8C;eACrC,KAAK4D,QAAL,CAAc5D,gBAAd,CAAP;;;UAEI54E,IAAI,GAAG,KAAK+9B,YAAL,CAAkB66C,gBAAlB,CAAb;WAEK4D,QAAL,CAAc5D,gBAAd,IAAkC,CAChC;QAAEt7E,CAAC,EAAE0C,IAAI,CAAC1C,CAAV;QAAaG,CAAC,EAAEuC,IAAI,CAACvC;OADW,EAEhC;QAAEH,CAAC,EAAE0C,IAAI,CAAC1C,CAAL,GAAS0C,IAAI,CAACC,KAAnB;QAA0BxC,CAAC,EAAEuC,IAAI,CAACvC;OAFF,EAGhC;QAAEH,CAAC,EAAE0C,IAAI,CAAC1C,CAAL,GAAS0C,IAAI,CAACC,KAAnB;QAA0BxC,CAAC,EAAEuC,IAAI,CAACvC,CAAL,GAASuC,IAAI,CAACE;OAHX,EAIhC;QAAE5C,CAAC,EAAE0C,IAAI,CAAC1C,CAAV;QAAaG,CAAC,EAAEuC,IAAI,CAACvC,CAAL,GAASuC,IAAI,CAACE;OAJE,CAAlC;aAMO,KAAKs8E,QAAL,CAAc5D,gBAAd,CAAP;;;;;EA3E8BsC;AA+E3B,SAAS3lE,QAAT,GAAsB;oCAAHjd,CAAG;IAAHA,CAAG;;;oBAChBymF,MAAX,EAAmBzmF,CAAnB;;;AClGF,SAAS4mF,OAAT,OAAyD;MAAtC9lF,IAAsC,QAAtCA,IAAsC;MAAhCi7E,aAAgC,QAAhCA,aAAgC;MAAjB8K,aAAiB,QAAjBA,aAAiB;SAChD,OAAO/lF,IAAP,KAAgB,WAAhB,IAA+BA,IAAI,KAAK,IAAxC,KAAiDi7E,aAAa,IAAI8K,aAAlE,CAAP;;;;;;;;;;;;;;;;;;;;;;;;;;IA0BmBC;;;;;kBACD;;;;;;;8EACV,MAAN;;qBACK16D,GAAL;;;;;;;0BAGU;UAARlsB,CAAQ,uEAAJ,EAAI;iBAYNA,CAZM,CAER8E,CAFQ;UAERA,CAFQ,qBAEJ,CAFI;iBAYN9E,CAZM,CAGRiF,CAHQ;UAGRA,CAHQ,qBAGJ,CAHI;kBAYNjF,CAZM,CAIRqF,EAJQ;UAIRA,EAJQ,sBAIH,CAJG;kBAYNrF,CAZM,CAKRsF,EALQ;UAKRA,EALQ,sBAKH,CALG;UAMR8lE,YANQ,GAYNprE,CAZM,CAMRorE,YANQ;UAOR54C,IAPQ,GAYNxyB,CAZM,CAORwyB,IAPQ;UAQR5Z,KARQ,GAYN5Y,CAZM,CAQR4Y,KARQ;UASR+jB,QATQ,GAYN38B,CAZM,CASR28B,QATQ;UAUR4I,YAVQ,GAYNvlC,CAZM,CAURulC,YAVQ;UAWRm/B,QAXQ,GAYN1kE,CAZM,CAWR0kE,QAXQ;;oEAcA1kE,CAAV;;WACKwjE,KAAL,CAAW1+D,CAAX,GAAeA,CAAf;WACK0+D,KAAL,CAAWv+D,CAAX,GAAeA,CAAf;WACKu+D,KAAL,CAAWn+D,EAAX,GAAgBA,EAAhB;WACKm+D,KAAL,CAAWl+D,EAAX,GAAgBA,EAAhB;WACKk+D,KAAL,CAAWhxC,IAAX,GAAkBA,IAAlB;;UACI,OAAO5Z,KAAP,KAAiB,WAArB,EAAkC;aAC3B4qD,KAAL,CAAW5qD,KAAX,GAAmB9X,MAAM,CAAC8X,KAAD,CAAzB;;;UAEE,QAAO2sB,YAAP,MAAwB,QAA5B,EAAsC;aAC/BohD,aAAL,GAAqB;iBAAMphD,YAAN;SAArB;OADF,MAEO,IAAI,OAAO6lC,YAAP,KAAwB,UAA5B,EAAwC;aACxCub,aAAL,GAAqBvb,YAArB;;;UAGE,OAAO1G,QAAP,KAAoB,QAAxB,EAAkC;aAC3BA,QAAL,GAAgBA,QAAhB;;;WAGG/nC,QAAL,GAAgB3wB,MAAM,CAAC;QAAE7K,IAAI,EAAEulF,OAAO,CAAC,IAAD,CAAP,GAAgB,QAAhB,GAA2B;OAApC,EAA4C/pD,QAA5C,CAAtB;WAEKknD,cAAL,GAAsB;QAAEC,IAAI,EAAE,IAAR;QAAcC,KAAK,EAAE;OAA3C;WACKC,QAAL,GAAgB;QAAEF,IAAI,EAAE,IAAR;QAAcC,KAAK,EAAE;OAArC;;;;mCAGqC;UAA1B3D,gBAA0B,uEAAP,KAAO;;UACjC,KAAKyD,cAAL,CAAoBzD,gBAApB,MAA0C,IAA9C,EAAoD;eAC3C,KAAKyD,cAAL,CAAoBzD,gBAApB,CAAP;;;UAGE54E,IAAJ;;UACI,OAAO,KAAKm/E,aAAZ,KAA8B,UAAlC,EAA8C;QAC5Cn/E,IAAI,GAAG,KAAKm/E,aAAL,CAAmB,KAAKnjB,KAAxB,CAAP;OADF,MAEO;eACE;UACL1+D,CAAC,EAAE,CADE;UAELG,CAAC,EAAE,CAFE;UAGLwC,KAAK,EAAE,CAHF;UAILC,MAAM,EAAE;SAJV;;;UAQI7G,CAAC,GAAGgM,YAAY,CAACrF,IAAD,CAAtB;UACMs9E,EAAE,GAAG1E,gBAAgB,IAAI,KAAKJ,eAAzB,GAA2C,KAAKA,eAAL,CAAqBF,eAArB,CAAqCj/E,CAArC,CAA3C,GAAqFA,CAAhG;;uBACiCsL,SAAS,CAAC24E,EAAD,CAnBL;;UAmB9Bx4E,IAnB8B;UAmBxBG,IAnBwB;UAmBlBD,IAnBkB;UAmBZE,IAnBY;;WAqBhCm3E,cAAL,CAAoBzD,gBAApB,IAAwC;QACtCt7E,CAAC,EAAEwH,IADmC;QAEtCrH,CAAC,EAAEwH,IAFmC;QAGtChF,KAAK,EAAE+E,IAAI,GAAGF,IAHwB;QAItC5E,MAAM,EAAEgF,IAAI,GAAGD;OAJjB;aAOO,KAAKo3E,cAAL,CAAoBzD,gBAApB,CAAP;;;;6BAG+B;UAA1BA,gBAA0B,uEAAP,KAAO;;UAC3B,KAAK4D,QAAL,CAAc5D,gBAAd,MAAoC,IAAxC,EAA8C;eACrC,KAAK4D,QAAL,CAAc5D,gBAAd,CAAP;;;UAEI54E,IAAI,GAAG,KAAK+9B,YAAL,CAAkB66C,gBAAlB,CAAb;WAEK4D,QAAL,CAAc5D,gBAAd,IAAkC,CAChC;QAAEt7E,CAAC,EAAE0C,IAAI,CAAC1C,CAAV;QAAaG,CAAC,EAAEuC,IAAI,CAACvC;OADW,EAEhC;QAAEH,CAAC,EAAE0C,IAAI,CAAC1C,CAAL,GAAS0C,IAAI,CAACC,KAAnB;QAA0BxC,CAAC,EAAEuC,IAAI,CAACvC;OAFF,EAGhC;QAAEH,CAAC,EAAE0C,IAAI,CAAC1C,CAAL,GAAS0C,IAAI,CAACC,KAAnB;QAA0BxC,CAAC,EAAEuC,IAAI,CAACvC,CAAL,GAASuC,IAAI,CAACE;OAHX,EAIhC;QAAE5C,CAAC,EAAE0C,IAAI,CAAC1C,CAAV;QAAaG,CAAC,EAAEuC,IAAI,CAACvC,CAAL,GAASuC,IAAI,CAACE;OAJE,CAAlC;aAMO,KAAKs8E,QAAL,CAAc5D,gBAAd,CAAP;;;;;EAxF8BsC;AA4F3B,SAAS3lE,QAAT,GAAsB;oCAAHjd,CAAG;IAAHA,CAAG;;;oBAChB8mF,IAAX,EAAmB9mF,CAAnB;;;ACpHF,IAAMuV,KAAG,GAAGU,eAAQ,EAApB;AAEAV,KAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgBlO,QAAhB;AACA6N,KAAG,CAACK,GAAJ,CAAQ,QAAR,EAAkBukB,QAAlB;AACA5kB,KAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgB8c,QAAhB;AACAnd,KAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgB9I,QAAhB;AACAyI,KAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgB/U,QAAhB;AACA0U,KAAG,CAACK,GAAJ,CAAQ,OAAR,EAAiB8qE,QAAjB;AACAnrE,KAAG,CAACK,GAAJ,CAAQ,WAAR,EAAqB0pB,QAArB;AACA/pB,KAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgB0pB,QAAhB;AACA/pB,KAAG,CAACK,GAAJ,CAAQ,gBAAR,EAA0BmxE,QAA1B;AACAxxE,KAAG,CAACK,GAAJ,CAAQ,gBAAR,EAA0BmxE,QAA1B;AACAxxE,KAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgBmxE,QAAhB;AACAxxE,KAAG,CAACK,GAAJ,CAAQ,SAAR,EAAmBoxE,QAAnB;AAEA,AAAO,SAAS/pE,QAAT,CAAgB5b,IAAhB,EAAsBoiB,KAAtB,EAA6B;;SAC3BlO,KAAG,CAACE,GAAJ,CAAQpU,IAAR,EAAcoiB,KAAd,CAAP;;;ACzBF;;;;;;;;AAOA,SAASwjE,cAAT,GAAwC;MAAhBC,SAAgB,uEAAJ,EAAI;MAChCC,MAAM,GAAG,CAAC,EAAD,CAAf;;;;;;;;WAQSrlE,OAAT,GAAmB;;QAEXlG,IAAI,GAAGurE,MAAM,CAACA,MAAM,CAAC1lF,MAAP,GAAgB,CAAjB,CAAnB;WACOma,IAAP;;;;;;;;;;EASFkG,OAAO,CAACzY,IAAR,GAAe,SAASA,IAAT,GAAyB;QAAXuS,IAAW,uEAAJ,EAAI;QAChCgS,OAAO,GAAG9L,OAAO,EAAvB;QACM9E,GAAG,GAAG,EAAZ;QACIpa,GAAG,GAAG,EAAV,CAHsC;;SAMjC,IAAIP,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6kF,SAAS,CAACzlF,MAA9B,EAAsCY,CAAC,EAAvC,EAA2C;MACzCO,GAAG,GAAGskF,SAAS,CAAC7kF,CAAD,CAAf;;UACI,OAAOurB,OAAO,CAAChrB,GAAD,CAAd,KAAwB,WAA5B,EAAyC;QAAEoa,GAAG,CAACpa,GAAD,CAAH,GAAWgrB,OAAO,CAAChrB,GAAD,CAAlB;;KARP;;;IAYtCsJ,MAAM,CAAC8Q,GAAD,EAAMpB,IAAN,CAAN,CAZsC;;IAetCurE,MAAM,CAACzlF,IAAP,CAAYsb,GAAZ,EAfsC;;WAkB/B8E,OAAO,EAAd;GAlBF;;;;;;;;EA0BAA,OAAO,CAACrY,OAAR,GAAkB,SAASA,OAAT,GAAmB;;IAEnC09E,MAAM,CAACvlF,MAAP,CAAculF,MAAM,CAAC1lF,MAAP,GAAgB,CAA9B,EAAiC,CAAjC;GAFF;;SAKOqgB,OAAP;;;ACxDF,IAAMslE,YAAY,GAAGH,cAAc,CAAC,CAClC,QADkC,EAElC,MAFkC,EAGlC,aAHkC,EAIlC,SAJkC,EAKlC,YALkC,EAMlC,UANkC,EAOlC,UAPkC,CAAD,CAAnC;;AAUA,SAASI,OAAT,CAAiBp3D,KAAjB,EAAwBoZ,SAAxB,EAAmC;MAC7B,CAAC/lC,KAAK,CAACC,OAAN,CAAc8lC,SAAd,CAAL,EAA+B;;;;OAI1B,IAAIhnC,CAAC,GAAG,CAAR,EAAWqlB,GAAG,GAAG2hB,SAAS,CAAC5nC,MAAhC,EAAwCY,CAAC,GAAGqlB,GAA5C,EAAiDrlB,CAAC,EAAlD,EAAsD;IACpDgnC,SAAS,CAAChnC,CAAD,CAAT,CAAa4tB,KAAb;;;;AAIJ,SAASq3D,WAAT,CAAqBr3D,KAArB,EAA4BxG,KAA5B,EAAmCuJ,KAAnC,EAA0C;EACxC/C,KAAK,CAACvK,IAAN,GAAasN,KAAK,CAACvJ,KAAD,CAAlB;EACAwG,KAAK,CAACxG,KAAN,GAAcA,KAAd;;;AAGF,SAAS89D,QAAT,CAAkBnuE,KAAlB,EAAyB5D,MAAzB,EAAiC8F,MAAjC,EAAyCsc,EAAzC,EAA6C;MACvCqtC,QAAQ,GAAG,KAAf;MACMh1C,KAAK,GAAG;IACZu3D,QAAQ,EAAEpuE,KADE;IAEZsM,IAAI,EAAE,IAFM;IAGZ+D,KAAK,EAAE;GAHT;;OAKK,IAAIpnB,CAAC,GAAG,CAAR,EAAWqlB,GAAG,GAAGtO,KAAK,CAAC3X,MAA5B,EAAoCY,CAAC,GAAGqlB,GAAxC,EAA6CrlB,CAAC,EAA9C,EAAkD;IAChDilF,WAAW,CAACr3D,KAAD,EAAQ5tB,CAAR,EAAW+W,KAAX,CAAX;IACAiuE,OAAO,CAACp3D,KAAD,EAAQ2H,EAAE,CAAC3a,MAAX,CAAP;IAEAgoD,QAAQ,GAAG,OAAOh1C,KAAK,CAACvK,IAAN,CAAWu/C,QAAlB,KAA+B,UAA/B,GAA4Ch1C,KAAK,CAACvK,IAAN,CAAWu/C,QAAX,EAA5C,GAAoEh1C,KAAK,CAACvK,IAAN,CAAWu/C,QAA1F;;QACIA,QAAJ,EAAc;;KALkC;;;IAUhDh1C,KAAK,CAACvK,IAAN,GAAa0hE,YAAY,CAAC/9E,IAAb,CAAkB4mB,KAAK,CAACvK,IAAxB,CAAb;QAEM+hE,WAAW,GAAGxqE,QAAM,CAACgT,KAAK,CAACvK,IAAN,CAAWrkB,IAAZ,EAAkB4uB,KAAK,CAACvK,IAAxB,CAA1B;;QACI+hE,WAAJ,EAAiB;UACXx3D,KAAK,CAACvK,IAAN,CAAWoU,SAAf,EAA0B;QACxBxe,MAAM,CAACjS,IAAP;QACA40E,gBAAgB,CAAChuD,KAAK,CAACvK,IAAN,CAAWoU,SAAZ,EAAuBxe,MAAvB,CAAhB;;;UAGE,CAACA,MAAM,CAACosE,UAAP,EAAL,EAA0B;QACxBD,WAAW,CAACvH,eAAZ,GAA8B5kE,MAAM,CAAC2nE,KAAP,EAA9B;;;MAGFztE,MAAM,CAACmuE,QAAP,CAAgB8D,WAAhB;;UACIx3D,KAAK,CAACvK,IAAN,CAAWS,QAAf,EAAyB;QACvBohE,QAAQ,CAACt3D,KAAK,CAACvK,IAAN,CAAWS,QAAZ,EAAsBshE,WAAtB,EAAmCnsE,MAAnC,EAA2Csc,EAA3C,CAAR;;;UAGE3H,KAAK,CAACvK,IAAN,CAAWoU,SAAf,EAA0B;QACxBxe,MAAM,CAAC7R,OAAP;;KA7B4C;;;IAkChD29E,YAAY,CAAC39E,OAAb;;;;AAIJ,AAAe,SAASk+E,KAAT,OAKZ;MAJDvuE,KAIC,QAJDA,KAIC;MAHDsnE,KAGC,QAHDA,KAGC;MAFDd,GAEC,QAFDA,GAEC;qBADDhoD,EACC;MADDA,EACC,wBADI,EACJ;;MACG,CAAC8oD,KAAL,EAAY;IACVA,KAAK,GAAGzjE,QAAM,CAAC,OAAD,EAAU2iE,GAAV,CAAd;;;EAGF2H,QAAQ,CAACnuE,KAAD,EAAQsnE,KAAR,EAAe,IAAI1D,MAAJ,EAAf,EAA6BplD,EAA7B,CAAR;SAEO8oD,KAAP;;;ACrFF;;;;;;;;;AAQA,AAAe,SAASkH,oBAAT,CAA8BxjF,CAA9B,EAAiCshB,IAAjC,EAAuCmiE,QAAvC,EAAiD;MACtDxxC,WADsD,GAClBwxC,QADkB,CACtDxxC,WADsD;MACzC60B,MADyC,GAClB2c,QADkB,CACzC3c,MADyC;wBAClB2c,QADkB,CACjCnd,KADiC;MACjCA,KADiC,gCACzB,EADyB;MAG1Dod,WAAW,GAAG,IAAlB;;MAEIzxC,WAAW,KAAK,QAApB,EAA8B;QACtBsa,MAAM,GAAGjrC,IAAI,CAAC+f,YAAL,EAAf;IAEAqiD,WAAW,GAAG1jF,CAAC,CAAC2jF,oBAAF,CACZp3B,MAAM,CAAC3rD,CAAP,GAAY2rD,MAAM,CAAChpD,KAAP,GAAe,CADf,EAEZgpD,MAAM,CAACxrD,CAAP,GAAYwrD,MAAM,CAAC/oD,MAAP,GAAgB,CAFhB,EAGZ,IAHY,EAIZ+oD,MAAM,CAAC3rD,CAAP,GAAY2rD,MAAM,CAAChpD,KAAP,GAAe,CAJf,EAKZgpD,MAAM,CAACxrD,CAAP,GAAYwrD,MAAM,CAAC/oD,MAAP,GAAgB,CALhB,EAMX3C,IAAI,CAACyG,GAAL,CAASilD,MAAM,CAAChpD,KAAhB,EAAuBgpD,MAAM,CAAC/oD,MAA9B,IAAwC,CAN7B,CAAd;GAHF,MAWO;QACC0E,MAAM,GAAG2uB,eAAe,CAACiwC,MAAD,CAA9B;KACC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,EAAyB35D,OAAzB,CAAiC,UAAC5R,CAAD,EAAO;UAClCA,CAAC,IAAIkoF,QAAT,EAAmB;QACjBv7E,MAAM,CAAC3M,CAAD,CAAN,GAAYkoF,QAAQ,CAACloF,CAAD,CAApB;;KAFJ;;QAMMgxD,OAAM,GAAGjrC,IAAI,CAAC+f,YAAL,EAAf;;IAEAqiD,WAAW,GAAG1jF,CAAC,CAAC4jF,oBAAF,CACZr3B,OAAM,CAAC3rD,CAAP,GAAYsH,MAAM,CAAC5F,EAAP,GAAYiqD,OAAM,CAAChpD,KADnB,EAEZgpD,OAAM,CAACxrD,CAAP,GAAYmH,MAAM,CAAC3F,EAAP,GAAYgqD,OAAM,CAAC/oD,MAFnB,EAGZ+oD,OAAM,CAAC3rD,CAAP,GAAYsH,MAAM,CAAC1F,EAAP,GAAY+pD,OAAM,CAAChpD,KAHnB,EAIZgpD,OAAM,CAACxrD,CAAP,GAAYmH,MAAM,CAACzF,EAAP,GAAY8pD,OAAM,CAAC/oD,MAJnB,CAAd;;;OAQG,IAAIvF,CAAC,GAAG,CAAR,EAAWqlB,GAAG,GAAGgjD,KAAK,CAACjpE,MAA5B,EAAoCY,CAAC,GAAGqlB,GAAxC,EAA6CrlB,CAAC,EAA9C,EAAkD;QAC5C4xB,IAAI,GAAGy2C,KAAK,CAACroE,CAAD,CAAhB;IACAylF,WAAW,CAACG,YAAZ,CAAyBh0D,IAAI,CAAClZ,MAA9B,EAAsCkZ,IAAI,CAACS,KAA3C;;;SAGKozD,WAAP;;;ACjDF,SAASI,UAAT,CAAoB5xE,OAApB,EAA6B6xE,WAA7B,EAA0CllE,GAA1C,EAA+C;EAC7CklE,WAAW,CAACxgF,KAAZ,GAAoB2O,OAAO,CAAC3O,KAA5B;EACAwgF,WAAW,CAACvgF,MAAZ,GAAqB0O,OAAO,CAAC1O,MAA7B;EACAqb,GAAG,CAAC5Z,IAAJ;EACA4Z,GAAG,CAACmlE,SAAJ,GAAgB9xE,OAAO,CAACxO,IAAxB;EAEAwO,OAAO,CAACssB,MAAR,CAAerxB,OAAf,CAAuB,UAACvR,CAAD,EAAO;YACpBA,CAAC,CAACqB,IAAV;WACO,MAAL;QACE4hB,GAAG,CAACvb,IAAJ,CAAS1H,CAAC,CAACgF,CAAX,EAAchF,CAAC,CAACmF,CAAhB,EAAmBnF,CAAC,CAAC2H,KAArB,EAA4B3H,CAAC,CAAC4H,MAA9B;;;;;;GAHN;EASAqb,GAAG,CAACnb,IAAJ;EACAmb,GAAG,CAACxZ,OAAJ;SACOwZ,GAAG,CAAColE,aAAJ,CAAkBF,WAAlB,EAA+B,QAA/B,CAAP;;;AAGF,AAAe,SAASG,WAAT,CAAqBpkF,QAArB,EAA+B;MACtCikF,WAAW,GAAGjkF,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAApB;MACM8e,GAAG,GAAGklE,WAAW,CAAC9jF,UAAZ,CAAuB,IAAvB,CAAZ;MAEI8xB,KAAK,GAAG,EAAZ;SAEO;IACLlZ,MADK,kBACE3G,OADF,EACW;UACR1T,GAAG,GAAG0T,OAAO,CAAC1T,GAApB;;UACIA,GAAJ,EAAS;QACPuzB,KAAK,CAACvzB,GAAD,CAAL,GAAauzB,KAAK,CAACvzB,GAAD,CAAL,IAAcslF,UAAU,CAAC5xE,OAAD,EAAU6xE,WAAV,EAAuBllE,GAAvB,CAArC;eACOkT,KAAK,CAACvzB,GAAD,CAAZ;;;aAEKslF,UAAU,CAAC5xE,OAAD,EAAU6xE,WAAV,EAAuBllE,GAAvB,CAAjB;KAPG;IASLoJ,KATK,mBASG;MACN8J,KAAK,GAAG,EAAR;;GAVJ;;;AC1BF;;;;;;;;;;;;;;;;;;;;AAoBA,AAAe,SAASoyD,iBAAT,GAEP;iFAAJ,EAAI;MADNvjF,CACM,QADNA,CACM;MADHG,CACG,QADHA,CACG;MADAwC,KACA,QADAA,KACA;MADOC,MACP,QADOA,MACP;MADe0I,UACf,QADeA,UACf;MAD2B5C,MAC3B,QAD2BA,MAC3B;MADmCS,SACnC,QADmCA,SACnC;;MACAklC,GAAG,GAAG;IACVruC,CAAC,EAAE,CADO;IAEVG,CAAC,EAAE,CAFO;IAGVwC,KAAK,EAAE,CAHG;IAIVC,MAAM,EAAE,CAJE;IAKV0I,UAAU,EAAE;MACVtL,CAAC,EAAE,CADO;MAEVG,CAAC,EAAE;KAPK;IASVuI,MAAM,EAAE;MACNgB,IAAI,EAAE,CADA;MAENE,GAAG,EAAE;KAXG;IAaVT,SAAS,EAAE;MACTO,IAAI,EAAE,CADG;MAETC,KAAK,EAAE,CAFE;MAGTC,GAAG,EAAE,CAHI;MAITC,MAAM,EAAE,CAJC;MAKTijB,IAAI,EAAE;;GAlBV;EAsBAuhB,GAAG,CAACruC,CAAJ,GAAQsG,KAAK,CAACtG,CAAD,CAAL,GAAWquC,GAAG,CAACruC,CAAf,GAAmBA,CAA3B;EACAquC,GAAG,CAACluC,CAAJ,GAAQmG,KAAK,CAACnG,CAAD,CAAL,GAAWkuC,GAAG,CAACluC,CAAf,GAAmBA,CAA3B;EACAkuC,GAAG,CAAC1rC,KAAJ,GAAY2D,KAAK,CAAC3D,KAAD,CAAL,GAAe0rC,GAAG,CAAC1rC,KAAnB,GAA2BA,KAAvC;EACA0rC,GAAG,CAACzrC,MAAJ,GAAa0D,KAAK,CAAC1D,MAAD,CAAL,GAAgByrC,GAAG,CAACzrC,MAApB,GAA6BA,MAA1C;;MACI,OAAO0I,UAAP,KAAsB,WAA1B,EAAuC;IACrC+iC,GAAG,CAAC/iC,UAAJ,CAAetL,CAAf,GAAmBsG,KAAK,CAACgF,UAAU,CAACtL,CAAZ,CAAL,GAAsBquC,GAAG,CAAC/iC,UAAJ,CAAetL,CAArC,GAAyCsL,UAAU,CAACtL,CAAvE;IACAquC,GAAG,CAAC/iC,UAAJ,CAAenL,CAAf,GAAmBmG,KAAK,CAACgF,UAAU,CAACnL,CAAZ,CAAL,GAAsBkuC,GAAG,CAAC/iC,UAAJ,CAAenL,CAArC,GAAyCmL,UAAU,CAACnL,CAAvE;;;MAGE,OAAOuI,MAAP,KAAkB,WAAtB,EAAmC;IACjC2lC,GAAG,CAAC3lC,MAAJ,CAAWgB,IAAX,GAAkBpD,KAAK,CAACoC,MAAM,CAACgB,IAAR,CAAL,GAAqB,CAArB,GAAyBhB,MAAM,CAACgB,IAAlD;IACA2kC,GAAG,CAAC3lC,MAAJ,CAAWkB,GAAX,GAAiBtD,KAAK,CAACoC,MAAM,CAACkB,GAAR,CAAL,GAAoB,CAApB,GAAwBlB,MAAM,CAACkB,GAAhD;;;MAGE,QAAOT,SAAP,MAAqB,QAAzB,EAAmC;KAChC,MAAD,EAAS,OAAT,EAAkB,KAAlB,EAAyB,QAAzB,EAAmCoD,OAAnC,CAA2C,UAACusB,IAAD,EAAU;UAC/C,CAACxyB,KAAK,CAAC6C,SAAS,CAAC2vB,IAAD,CAAV,CAAN,IAA2B3vB,SAAS,CAAC2vB,IAAD,CAAT,GAAkB,CAAjD,EAAoD;QAClDuV,GAAG,CAACllC,SAAJ,CAAc2vB,IAAd,IAAsB3vB,SAAS,CAAC2vB,IAAD,CAA/B;QACAuV,GAAG,CAACllC,SAAJ,CAAc2jB,IAAd,GAAqB,IAArB;;KAHJ;;;EAQFuhB,GAAG,CAAC3R,gBAAJ,GAAuB;IACrB18B,CAAC,EAAEC,IAAI,CAACkb,KAAL,CAAWkzB,GAAG,CAAC3lC,MAAJ,CAAWgB,IAAX,GAAmB,CAAC2kC,GAAG,CAACruC,CAAJ,GAAQquC,GAAG,CAACllC,SAAJ,CAAcO,IAAvB,IAA+B2kC,GAAG,CAAC/iC,UAAJ,CAAetL,CAA5E,CADkB;IAErBG,CAAC,EAAEF,IAAI,CAACkb,KAAL,CAAWkzB,GAAG,CAAC3lC,MAAJ,CAAWkB,GAAX,GAAkB,CAACykC,GAAG,CAACluC,CAAJ,GAAQkuC,GAAG,CAACllC,SAAJ,CAAcS,GAAvB,IAA8BykC,GAAG,CAAC/iC,UAAJ,CAAenL,CAA1E,CAFkB;IAGrBwC,KAAK,EAAE1C,IAAI,CAACkb,KAAL,CAAW,CAACkzB,GAAG,CAAC1rC,KAAJ,GAAY0rC,GAAG,CAACllC,SAAJ,CAAcO,IAA1B,GAAiC2kC,GAAG,CAACllC,SAAJ,CAAcQ,KAAhD,IAAyD0kC,GAAG,CAAC/iC,UAAJ,CAAetL,CAAnF,CAHc;IAIrB4C,MAAM,EAAE3C,IAAI,CAACkb,KAAL,CAAW,CAACkzB,GAAG,CAACzrC,MAAJ,GAAayrC,GAAG,CAACllC,SAAJ,CAAcS,GAA3B,GAAiCykC,GAAG,CAACllC,SAAJ,CAAcU,MAAhD,IAA0DwkC,GAAG,CAAC/iC,UAAJ,CAAenL,CAApF;GAJV;SAOOkuC,GAAP;;;ACtEF;;;;;AAIA,SAASp2B,QAAT,GAAkB;;;;;MAKV2V,QAAQ,GAAG;;;;;IAKfoG,OAAO,EAAE,mBAAM,EALA;;;;;;IAWfrc,IAAI,EAAE,gBAAM,EAXG;;;;;;IAiBfwmB,QAAQ,EAAE,oBAAM,EAjBD;;;;;;IAuBf9O,MAAM,EAAE;aAAM,KAAN;KAvBO;;;;;;;IA8Bf8E,OAAO,EAAE;aAAM,EAAN;KA9BM;;;;;;;IAqCf2J,UAAU,EAAE;aAAM,EAAN;KArCG;;;;;;IA2CfzW,KAAK,EAAE,iBAAM,EA3CE;;;;;IAgDfm8D,OAAO,EAAE,mBAAM,EAhDA;;;;;;;IAuDfn9E,IAAI,EAAE,gBAAM,EAvDG;;;;;;;;;;;;;;;;IAuEf4xC,WAAW,EAAXA,aAvEe;;;;;;;;IA+EfuD,UAAU,EAAVA,UA/Ee;IAiFfle,MAAM,EAAE,gBAAC1/B,GAAD,EAAS;MACfgwB,QAAQ,CAACoG,OAAT,GAAmByvD,YAAnB,CAAgC,UAAhC,EAA4C7lF,GAA5C;;GAlFJ;SAsFOgwB,QAAP;;;ACpGF,SAASg0D,SAAT,CAAiB9lF,IAAjB,EAAuB;SACd,OAAOA,IAAP,KAAgB,WAAhB,IAA+BA,IAAI,KAAK,IAA/C;;;AAGF,AAAe,SAAS4nF,kBAAT,CAA4B91D,QAA5B,EAAsC;SAC5C,gBAAc;QAAXlN,IAAW,QAAXA,IAAW;;QACfA,IAAI,CAACrkB,IAAL,KAAc,MAAd,IAAwBulF,SAAO,CAAClhE,IAAI,CAAC5kB,IAAN,CAA/B,IAA8C,CAAC4kB,IAAI,CAAC4lD,YAAxD,EAAsE;MACpE5lD,IAAI,CAAC4lD,YAAL,GAAoB14C,QAAQ,CAAC4tB,UAA7B;;GAFJ;;;ACIF,IAAMjrC,KAAG,GAAGU,eAAQ,EAApB;;AAEA,SAAS0yE,UAAT,CAAoB5nF,CAApB,EAAuB;MACjBuC,KAAK,CAACC,OAAN,CAAcxC,CAAd,CAAJ,EAAsB;WACbA,CAAP;;;MAEE,OAAOA,CAAP,KAAa,QAAjB,EAA2B;QACrBA,CAAC,CAACqP,OAAF,CAAU,GAAV,MAAmB,CAAC,CAAxB,EAA2B;aAClBrP,CAAC,CAACyR,KAAF,CAAQ,GAAR,CAAP;;;WAEKzR,CAAC,CAACyR,KAAF,CAAQ,GAAR,CAAP;;;SAEK,EAAP;;;AAGF,SAASo2E,QAAT,CAAkBxkF,CAAlB,EAAqB;MACbykF,GAAG,GAAG,OAAO7kF,MAAP,KAAkB,WAAlB,GAAgC,CAAhC,GAAoCA,MAAM,CAAC8kF,gBAAP,IAA2B,CAA3E;MACMC,sBAAsB,GAAG3kF,CAAC,CAAC4kF,4BAAF,IAC1B5kF,CAAC,CAAC6kF,yBADwB,IAE1B7kF,CAAC,CAAC8kF,wBAFwB,IAG1B9kF,CAAC,CAAC+kF,uBAHwB,IAI1B/kF,CAAC,CAAC2kF,sBAJwB,IAIE,CAJjC;SAKOF,GAAG,GAAGE,sBAAb;;;AAGF,SAASK,aAAT,CAAuBroF,CAAvB,EAA0BqD,CAA1B,EAA6B;EAC3BA,CAAC,CAACilF,YAAF,CAAetoF,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,CAAf,EAAwBA,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,CAAxB,EAAiCA,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,CAAjC,EAA0CA,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,CAA1C,EAAmDA,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,CAAnD,EAA4DA,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,CAA5D;;;AAGF,SAASuoF,YAAT,CAAsBllF,CAAtB,EAAyBpE,CAAzB,EAA4BupF,gBAA5B,EAA6D;MAAf53E,QAAe,uEAAJ,EAAI;MACrD63E,YAAY,GAAG9mF,MAAM,CAACgS,IAAP,CAAY/C,QAAZ,CAArB;;OAEK,IAAItP,CAAC,GAAG,CAAR,EAAWqlB,GAAG,GAAG6hE,gBAAgB,CAAC9nF,MAAvC,EAA+CY,CAAC,GAAGqlB,GAAnD,EAAwDrlB,CAAC,EAAzD,EAA6D;QACvDioE,GAAG,GAAGif,gBAAgB,CAAClnF,CAAD,CAA1B;QAEMonF,QAAQ,GAAGnf,GAAG,CAAC,CAAD,CAApB;QACMof,SAAS,GAAGpf,GAAG,CAAC,CAAD,CAArB;QACMqf,UAAU,GAAGrf,GAAG,CAAC,CAAD,CAAtB;;QAEKmf,QAAQ,IAAIzpF,CAAC,CAAC0jE,KAAd,IAAuB,EAAEgmB,SAAS,IAAI/3E,QAAf,CAAxB,IAAqDvN,CAAC,CAACslF,SAAD,CAAD,KAAiB1pF,CAAC,CAAC0jE,KAAF,CAAQ+lB,QAAR,CAA1E,EAA6F;UACrF1+E,GAAG,GAAG4+E,UAAU,GAAGA,UAAU,CAAC3pF,CAAC,CAAC0jE,KAAF,CAAQ+lB,QAAR,CAAD,CAAb,GAAmCzpF,CAAC,CAAC0jE,KAAF,CAAQ+lB,QAAR,CAAzD;;UACI,OAAOrlF,CAAC,CAACslF,SAAD,CAAR,KAAwB,UAA5B,EAAwC;QACtCtlF,CAAC,CAACslF,SAAD,CAAD,CAAa3+E,GAAb;OADF,MAEO;QACL3G,CAAC,CAACslF,SAAD,CAAD,GAAe3+E,GAAf;;;;;OAKD,IAAI1I,EAAC,GAAG,CAAR,EAAWqlB,IAAG,GAAG8hE,YAAY,CAAC/nF,MAAnC,EAA2CY,EAAC,GAAGqlB,IAA/C,EAAoDrlB,EAAC,EAArD,EAAyD;QACjDO,GAAG,GAAG4mF,YAAY,CAACnnF,EAAD,CAAxB;IACA+B,CAAC,CAACxB,GAAD,CAAD,GAAS+O,QAAQ,CAAC/O,GAAD,CAAjB;;;;AAIJ,SAASgnF,YAAT,CAAsBhnD,MAAtB,EAA8Bx+B,CAA9B,EAAiCmlF,gBAAjC,EAAmD/rE,IAAnD,EAAyD;OAClD,IAAInb,CAAC,GAAG,CAAR,EAAWqlB,GAAG,GAAGkb,MAAM,CAACnhC,MAA7B,EAAqCY,CAAC,GAAGqlB,GAAzC,EAA8CrlB,CAAC,EAA/C,EAAmD;QAC7CiL,KAAK,GAAGs1B,MAAM,CAACvgC,CAAD,CAAlB;QACIsP,QAAQ,GAAG,EAAf;IACAvN,CAAC,CAACiF,IAAF;;QAGIiE,KAAK,CAACo2D,KAAN,KAAgBp2D,KAAK,CAACo2D,KAAN,CAAY57D,IAAZ,IAAoBwF,KAAK,CAACo2D,KAAN,CAAYj/D,MAAhD,CAAJ,EAA6D;UACvD6I,KAAK,CAACo2D,KAAN,CAAY57D,IAAZ,IAAoB,QAAOwF,KAAK,CAACo2D,KAAN,CAAY57D,IAAnB,MAA4B,QAAhD,IAA4DwF,KAAK,CAACo2D,KAAN,CAAY57D,IAAZ,CAAiBzG,IAAjB,KAA0B,UAA1F,EAAsG;QACpGsQ,QAAQ,CAACy2E,SAAT,GAAqBR,oBAAoB,CAACxjF,CAAD,EAAIkJ,KAAJ,EAAWA,KAAK,CAACo2D,KAAN,CAAY57D,IAAvB,CAAzC;OADF,MAEO,IAAIwF,KAAK,CAACo2D,KAAN,CAAY57D,IAAZ,IAAoB,QAAOwF,KAAK,CAACo2D,KAAN,CAAY57D,IAAnB,MAA4B,QAAhD,IAA4DwF,KAAK,CAACo2D,KAAN,CAAY57D,IAAZ,CAAiBzG,IAAjB,KAA0B,SAA1F,EAAqG;QAC1GsQ,QAAQ,CAACy2E,SAAT,GAAqB5qE,IAAI,CAACqsE,QAAL,CAAc5sE,MAAd,CAAqB3P,KAAK,CAACo2D,KAAN,CAAY57D,IAAjC,CAArB;;;UAGEwF,KAAK,CAACo2D,KAAN,CAAYj/D,MAAZ,IAAsB,QAAO6I,KAAK,CAACo2D,KAAN,CAAYj/D,MAAnB,MAA8B,QAApD,IAAgE6I,KAAK,CAACo2D,KAAN,CAAYj/D,MAAZ,CAAmBpD,IAAnB,KAA4B,UAAhG,EAA4G;QAC1GsQ,QAAQ,CAACpN,WAAT,GAAuBqjF,oBAAoB,CAACxjF,CAAD,EAAIkJ,KAAJ,EAAWA,KAAK,CAACo2D,KAAN,CAAYj/D,MAAvB,CAA3C;OADF,MAEO,IAAI6I,KAAK,CAACo2D,KAAN,CAAYj/D,MAAZ,IAAsB,QAAO6I,KAAK,CAACo2D,KAAN,CAAYj/D,MAAnB,MAA8B,QAApD,IAAgE6I,KAAK,CAACo2D,KAAN,CAAYj/D,MAAZ,CAAmBpD,IAAnB,KAA4B,SAAhG,EAA2G;QAChHsQ,QAAQ,CAACpN,WAAT,GAAuBiZ,IAAI,CAACqsE,QAAL,CAAc5sE,MAAd,CAAqB3P,KAAK,CAACo2D,KAAN,CAAYj/D,MAAjC,CAAvB;;;;IAIJ6kF,YAAY,CAACllF,CAAD,EAAIkJ,KAAJ,EAAWi8E,gBAAX,EAA6B53E,QAA7B,CAAZ;;QAEIrE,KAAK,CAAC4yE,eAAV,EAA2B;MACzBkJ,aAAa,CAAC97E,KAAK,CAAC4yE,eAAN,CAAsB7C,QAAvB,EAAiCj5E,CAAjC,CAAb;;;QAGEmR,KAAG,CAACG,GAAJ,CAAQpI,KAAK,CAACjM,IAAd,CAAJ,EAAyB;MACvBkU,KAAG,CAACE,GAAJ,CAAQnI,KAAK,CAACjM,IAAd,EAAoBiM,KAAK,CAACo2D,KAA1B,EAAiC;QAC/Bt/D,CAAC,EAADA,CAD+B;QAE/B0lF,MAAM,EAAE,UAAUx8E,KAAK,CAACo2D,KAAhB,IAAyBp2D,KAAK,CAACo2D,KAAN,CAAY57D,IAAZ,KAAqB,MAFvB;QAG/BiiF,QAAQ,EAAE,YAAYz8E,KAAK,CAACo2D,KAAlB,IAA2Bp2D,KAAK,CAACo2D,KAAN,CAAY,cAAZ,MAAgC,CAHtC;QAI/BkB,QAAQ,EAAEt3D,KAAK,CAACs3D;OAJlB;;;QAOEt3D,KAAK,CAAC6Y,QAAV,EAAoB;MAClByjE,YAAY,CAACt8E,KAAK,CAAC6Y,QAAP,EAAiB/hB,CAAjB,EAAoBmlF,gBAApB,EAAsC/rE,IAAtC,CAAZ;;;IAEFpZ,CAAC,CAACqF,OAAF;;;;;;;;;;;AAUJ,AAAO,SAASmpB,QAAT,GAA0C;MAAxBo3D,OAAwB,uEAAdC,KAAc;MAC3CzhD,EAAJ;MACIm/C,OAAJ;MACIuC,cAAc,GAAG,KAArB;MACIxiF,IAAI,GAAG6gF,iBAAiB,EAA5B;MACMgB,gBAAgB,GAAG,CACvB,CAAC,MAAD,EAAS,WAAT,CADuB,EAEvB,CAAC,QAAD,EAAW,aAAX,CAFuB,EAGvB,CAAC,SAAD,EAAY,aAAZ,CAHuB,EAIvB,CAAC,aAAD,EAAgB,aAAhB,CAJuB,EAKvB,CAAC,cAAD,EAAiB,WAAjB,CALuB,EAMvB,CAAC,iBAAD,EAAoB,UAApB,CANuB,EAOvB,CAAC,kBAAD,EAAqB,aAArB,EAAoCZ,UAApC,CAPuB,CAAzB;MAUIkB,QAAJ;MAEMM,cAAc,GAAGltE,QAAM,EAA7B;;EAEAktE,cAAc,CAACnxD,OAAf,GAAyB;WAAMwP,EAAN;GAAzB;;EAEA2hD,cAAc,CAACxtE,IAAf,GAAsB;WAAM6rB,EAAN;GAAtB;;EAEA2hD,cAAc,CAAChnD,QAAf,GAA0B,UAACnK,OAAD,EAAa;QACjC,CAACwP,EAAL,EAAS;MACPA,EAAE,GAAGxP,OAAO,CAACoxD,aAAR,CAAsBjmF,aAAtB,CAAoC,QAApC,CAAL;MACAqkC,EAAE,CAAC9R,KAAH,CAASpW,QAAT,GAAoB,UAApB;MACAkoB,EAAE,CAAC9R,KAAH,CAAS,wBAAT,IAAqC,aAArC;MACA8R,EAAE,CAAC9R,KAAH,CAAS,yBAAT,IAAsC,aAAtC;MACA8R,EAAE,CAAC9R,KAAH,CAASgzB,aAAT,GAAyB,MAAzB;;;IAGF1wB,OAAO,CAAC8P,WAAR,CAAoBN,EAApB;WAEOA,EAAP;GAXF;;EAcA2hD,cAAc,CAAC91D,MAAf,GAAwB,UAACuO,MAAD,EAAY;QAC9B,CAAC4F,EAAL,EAAS;aACA,KAAP;;;QAEE,CAACqhD,QAAL,EAAe;MACbA,QAAQ,GAAGvB,WAAW,CAAC9/C,EAAE,CAAC4hD,aAAJ,CAAtB;;;QAGIhmF,CAAC,GAAGokC,EAAE,CAACnkC,UAAH,CAAc,IAAd,CAAV;QACMgmF,QAAQ,GAAGzB,QAAQ,CAACxkF,CAAD,CAAzB;QACMkmF,MAAM,GAAG5iF,IAAI,CAAC4I,UAAL,CAAgBtL,CAA/B;QACMulF,MAAM,GAAG7iF,IAAI,CAAC4I,UAAL,CAAgBnL,CAA/B;;QAEI+kF,cAAJ,EAAoB;MAClB1hD,EAAE,CAAC9R,KAAH,CAAShoB,IAAT,aAAmBhH,IAAI,CAACg6B,gBAAL,CAAsB18B,CAAzC;MACAwjC,EAAE,CAAC9R,KAAH,CAAS9nB,GAAT,aAAkBlH,IAAI,CAACg6B,gBAAL,CAAsBv8B,CAAxC;MACAqjC,EAAE,CAAC9R,KAAH,CAAS/uB,KAAT,aAAoBD,IAAI,CAACg6B,gBAAL,CAAsB/5B,KAA1C;MACA6gC,EAAE,CAAC9R,KAAH,CAAS9uB,MAAT,aAAqBF,IAAI,CAACg6B,gBAAL,CAAsB95B,MAA3C;MACA4gC,EAAE,CAAC7gC,KAAH,GAAW1C,IAAI,CAACkb,KAAL,CAAWzY,IAAI,CAACg6B,gBAAL,CAAsB/5B,KAAtB,GAA8B0iF,QAAzC,CAAX;MACA7hD,EAAE,CAAC5gC,MAAH,GAAY3C,IAAI,CAACkb,KAAL,CAAWzY,IAAI,CAACg6B,gBAAL,CAAsB95B,MAAtB,GAA+ByiF,QAA1C,CAAZ;;;QAGIG,cAAc,GAAG;MACrBnpF,IAAI,EAAE,WADe;MAErB8kB,QAAQ,EAAEyc,MAFW;MAGrB9I,SAAS,EAAEpyB,IAAI,CAACyG,SAAL,CAAe2jB,IAAf,uBAAmCpqB,IAAI,CAACyG,SAAL,CAAeO,IAAf,GAAsB27E,QAAtB,GAAiCC,MAApE,eAA+E5iF,IAAI,CAACyG,SAAL,CAAeS,GAAf,GAAqBy7E,QAArB,GAAgCE,MAA/G,SAA2H;KAHxI;;QAMIF,QAAQ,KAAK,CAAb,IAAkBC,MAAM,KAAK,CAA7B,IAAkCC,MAAM,KAAK,CAAjD,EAAoD;MAClDC,cAAc,CAAC1wD,SAAf,oBAAqCuwD,QAAQ,GAAGC,MAAhD,eAA2DD,QAAQ,GAAGE,MAAtE;;;QAGIE,QAAQ,GAAGT,OAAO,CAAC;MACvB5wE,KAAK,EAAE,CAACoxE,cAAD,CADgB;MAEvB5K,GAAG,EAAEyK,QAFkB;MAGvBzyD,EAAE,EAAE;QACF3a,MAAM,EAAE,CACNulD,WAAW,CAAC2nB,cAAc,CAACltC,WAAhB,CADL,EAENyrC,kBAAkB,CAACyB,cAAD,CAFZ;;KAJY,CAAxB;QAUMO,eAAe,GAAG/C,OAAK,GAAG,CAAC8C,QAAQ,CAACzP,MAAT,CAAgB2M,OAAhB,CAAJ,GAA6B,IAA1D;IAEAkC,QAAQ,CAACx9D,KAAT;QAEMs+D,QAAQ,GAAGT,cAAc,IAAIQ,eAAnC;;QACIC,QAAJ,EAAc;MACZR,cAAc,CAAC99D,KAAf;MACAu9D,YAAY,CAACa,QAAQ,CAACtkE,QAAV,EAAoB/hB,CAApB,EAAuBmlF,gBAAvB,EAAyC;QACnDM,QAAQ,EAARA;OADU,CAAZ;;;IAKFK,cAAc,GAAG,KAAjB;IACAvC,OAAK,GAAG8C,QAAR;WACOE,QAAP;GAxDF;;EA2DAR,cAAc,CAAChxD,OAAf,GAAyB,UAAC1V,KAAD;WAAYkkE,OAAK,GAAGA,OAAK,CAACiD,YAAN,CAAmBnnE,KAAnB,CAAH,GAA+B,EAAhD;GAAzB;;EAEA0mE,cAAc,CAACrnD,UAAf,GAA4B,UAACC,QAAD;WAAe4kD,OAAK,GAAGA,OAAK,CAAC7kD,UAAN,CAAiBC,QAAjB,CAAH,GAAgC,EAApD;GAA5B;;EAEAonD,cAAc,CAAC99D,KAAf,GAAuB,YAAM;QACvBmc,EAAJ,EAAQ;MACNA,EAAE,CAAC7gC,KAAH,GAAW6gC,EAAE,CAAC7gC,KAAd,CADM;;;IAGRggF,OAAK,GAAG,IAAR;WAEOwC,cAAP;GANF;;EASAA,cAAc,CAAC9+E,IAAf,GAAsB,UAAC+Q,IAAD,EAAU;QAC1BA,IAAJ,EAAU;UACFyuE,OAAO,GAAGtC,iBAAiB,CAACnsE,IAAD,CAAjC;;UAEI41C,IAAI,CAACC,SAAL,CAAevqD,IAAf,MAAyBsqD,IAAI,CAACC,SAAL,CAAe44B,OAAf,CAA7B,EAAsD;QACpDX,cAAc,GAAG,IAAjB;QACAxiF,IAAI,GAAGmjF,OAAP;;;;WAIGnjF,IAAP;GAVF;;EAaAyiF,cAAc,CAAC5nD,OAAf,GAAyB,YAAM;QACzBiG,EAAJ,EAAQ;UACFA,EAAE,CAACsiD,aAAP,EAAsB;QACpBtiD,EAAE,CAACsiD,aAAH,CAAiBhQ,WAAjB,CAA6BtyC,EAA7B;;;MAEFA,EAAE,GAAG,IAAL;;;IAEFm/C,OAAK,GAAG,IAAR;GAPF;;SAUOwC,cAAP;;AAGF,AAAO,SAASh0E,QAAT,CAAkB9U,IAAlB,EAAwB0pF,QAAxB,EAAkC;EACvCx1E,KAAG,CAACK,GAAJ,CAAQvU,IAAR,EAAc0pF,QAAd;;;ACxPF,SAASC,WAAT,CAAqBt/E,GAArB,EAA0B3F,KAA1B,EAAiC;SACxBd,IAAI,CAACyG,GAAL,CAAS,CAAT,EAAYzG,IAAI,CAACwG,GAAL,CAASC,GAAT,EAAc3F,KAAd,CAAZ,CAAP;;;;;;;;;;AASF,SAASklF,oBAAT,CAA8B7mF,CAA9B,EAAiCY,CAAjC,EAAoCG,CAApC,EAAuCwC,KAAvC,EAA8CC,MAA9C,EAAsDb,EAAtD,EAA0DC,EAA1D,EAA8D;EAC5DD,EAAE,GAAGikF,WAAW,CAACrjF,KAAK,GAAG,CAAT,EAAYZ,EAAE,GAAG,CAAL,GAASA,EAAT,GAAcC,EAA1B,CAAhB;EACAA,EAAE,GAAGgkF,WAAW,CAACpjF,MAAM,GAAG,CAAV,EAAaZ,EAAE,GAAG,CAAL,GAASA,EAAT,GAAcD,EAA3B,CAAhB;EAEA3C,CAAC,CAAC8B,MAAF,CAASlB,CAAT,EAAYG,CAAC,GAAG6B,EAAhB;EACA5C,CAAC,CAAC+B,MAAF,CAASnB,CAAT,EAAYG,CAAC,GAAGyC,MAAJ,GAAaZ,EAAzB;EACA5C,CAAC,CAACmD,gBAAF,CAAmBvC,CAAnB,EAAsBG,CAAC,GAAGyC,MAA1B,EAAkC5C,CAAC,GAAG+B,EAAtC,EAA0C5B,CAAC,GAAGyC,MAA9C;EACAxD,CAAC,CAAC+B,MAAF,CAASnB,CAAC,GAAG2C,KAAJ,GAAYZ,EAArB,EAAyB5B,CAAC,GAAGyC,MAA7B;EACAxD,CAAC,CAACmD,gBAAF,CAAmBvC,CAAC,GAAG2C,KAAvB,EAA8BxC,CAAC,GAAGyC,MAAlC,EAA0C5C,CAAC,GAAG2C,KAA9C,EAAqDxC,CAAC,GAAGyC,MAAJ,GAAaZ,EAAlE;EACA5C,CAAC,CAAC+B,MAAF,CAASnB,CAAC,GAAG2C,KAAb,EAAoBxC,CAAC,GAAG6B,EAAxB;EACA5C,CAAC,CAACmD,gBAAF,CAAmBvC,CAAC,GAAG2C,KAAvB,EAA8BxC,CAA9B,EAAiCH,CAAC,GAAG2C,KAAJ,GAAYZ,EAA7C,EAAiD5B,CAAjD;EACAf,CAAC,CAAC+B,MAAF,CAASnB,CAAC,GAAG+B,EAAb,EAAiB5B,CAAjB;EACAf,CAAC,CAACmD,gBAAF,CAAmBvC,CAAnB,EAAsBG,CAAtB,EAAyBH,CAAzB,EAA4BG,CAAC,GAAG6B,EAAhC;;;AAGF,AAAe,SAASqtB,QAAT,CAAgB3sB,IAAhB,QAA+C;MAAvBtD,CAAuB,QAAvBA,CAAuB;MAApB0lF,MAAoB,QAApBA,MAAoB;MAAZC,QAAY,QAAZA,QAAY;EAC5D3lF,CAAC,CAAC6E,SAAF;;MAEIvB,IAAI,CAACX,EAAL,GAAU,CAAV,IAAeW,IAAI,CAACV,EAAL,GAAU,CAA7B,EAAgC;IAC9BikF,oBAAoB,CAAC7mF,CAAD,EAAIsD,IAAI,CAAC1C,CAAT,EAAY0C,IAAI,CAACvC,CAAjB,EAAoBuC,IAAI,CAACC,KAAzB,EAAgCD,IAAI,CAACE,MAArC,EAA6CF,IAAI,CAACX,EAAlD,EAAsDW,IAAI,CAACV,EAA3D,CAApB;GADF,MAEO;IACL5C,CAAC,CAACsD,IAAF,CAAOA,IAAI,CAAC1C,CAAZ,EAAe0C,IAAI,CAACvC,CAApB,EAAuBuC,IAAI,CAACC,KAA5B,EAAmCD,IAAI,CAACE,MAAxC;;;MAGEkiF,MAAJ,EAAY;IACV1lF,CAAC,CAAC0D,IAAF;;;MAEEiiF,QAAJ,EAAc;IACZ3lF,CAAC,CAACK,MAAF;;;;ACtCW,SAAS4vB,QAAT,CAAgB8F,MAAhB,QAAiD;MAAvB/1B,CAAuB,QAAvBA,CAAuB;MAApB0lF,MAAoB,QAApBA,MAAoB;MAAZC,QAAY,QAAZA,QAAY;EAC9D3lF,CAAC,CAAC6E,SAAF;EACA7E,CAAC,CAAC8B,MAAF,CAASi0B,MAAM,CAACjtB,EAAP,GAAYitB,MAAM,CAAC9zB,CAA5B,EAA+B8zB,MAAM,CAAChtB,EAAtC;EACA/I,CAAC,CAACgC,GAAF,CAAM+zB,MAAM,CAACjtB,EAAb,EAAiBitB,MAAM,CAAChtB,EAAxB,EAA4BgtB,MAAM,CAAC9zB,CAAnC,EAAsC,CAAtC,EAAyCpB,IAAI,CAACiE,EAAL,GAAU,CAAnD,EAAsD,KAAtD;;MACI4gF,MAAJ,EAAY;IACV1lF,CAAC,CAAC0D,IAAF;;;MAEEiiF,QAAJ,EAAc;IACZ3lF,CAAC,CAACK,MAAF;;;;ACRW,SAAS4vB,QAAT,CAAgBvnB,IAAhB,QAAuC;MAAf1I,CAAe,QAAfA,CAAe;MAAZ2lF,QAAY,QAAZA,QAAY;EACpD3lF,CAAC,CAAC6E,SAAF;EACA7E,CAAC,CAAC8B,MAAF,CAAS4G,IAAI,CAACpG,EAAd,EAAkBoG,IAAI,CAACnG,EAAvB;EACAvC,CAAC,CAAC+B,MAAF,CAAS2G,IAAI,CAAClG,EAAd,EAAkBkG,IAAI,CAACjG,EAAvB;;MACIkjF,QAAJ,EAAc;IACZ3lF,CAAC,CAACK,MAAF;;;;ACJJ;;;AAGA,IAAMymF,cAAc,GAAG,miFAAvB;AACA,IAAMC,cAAc,GAAG,2JAAvB;AACA,IAAMC,eAAe,GAAG,iLAAxB;;AAEA,IAAMC,cAAc,GAAG,IAAIC,MAAJ,CAAWJ,cAAX,CAAvB;AACA,IAAMK,cAAc,GAAG,IAAID,MAAJ,CAAWH,cAAX,CAAvB;AACA,IAAMK,eAAe,GAAG,IAAIF,MAAJ,CAAWF,eAAX,CAAxB;;;;AAKA,SAASK,SAAT,CAAmB9rF,CAAnB,EAAsB;SACb0rF,cAAc,CAAC94E,IAAf,CAAoB5S,CAApB,CAAP;;;AAGF,SAAS+rF,SAAT,CAAmB/rF,CAAnB,EAAsB;SACb4rF,cAAc,CAACh5E,IAAf,CAAoB5S,CAApB,KAA0B6rF,eAAe,CAACj5E,IAAhB,CAAqB5S,CAArB,CAAjC;;;AAGF,AAAO,SAASgsF,mBAAT,CAA6B3rF,CAA7B,EAAgC;MACjCygB,CAAC,GAAGzgB,CAAC,GAAGA,CAAC,CAACyB,MAAL,GAAc,CAAvB;MACEY,CADF;MAEE1C,CAFF;;OAGK0C,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGoe,CAAhB,EAAmBpe,CAAC,EAApB,EAAwB;IACtB1C,CAAC,GAAGK,CAAC,CAACqC,CAAD,CAAL;;QACIopF,SAAS,CAAC9rF,CAAD,CAAb,EAAkB;aACT,KAAP;;;QAEE+rF,SAAS,CAAC/rF,CAAD,CAAb,EAAkB;aACT,KAAP;;;;SAGG,KAAP;;AAGF,IAAMisF,gBAAgB,GAAG;EACvBtlF,KAAK,EAAE,KADgB;EAEvBC,GAAG,EAAE,OAFkB;EAGvBsF,MAAM,EAAE,QAHe;EAIvBiwD,MAAM,EAAE;CAJV;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA,AAAO,SAAS+vB,cAAT,CAAwB9lF,KAAxB,EAA+Bg2C,GAA/B,EAAoC;MACrCA,GAAG,KAAK,KAAZ,EAAmB;WACV6vC,gBAAgB,CAAC7lF,KAAD,CAAvB;;;SAEKA,KAAP;;;AC7Ea,SAASsuB,QAAT,CAAgBp0B,CAAhB,QAAoC;MAAfmE,CAAe,QAAfA,CAAe;MAAZwgE,QAAY,QAAZA,QAAY;MAC3ClyC,IAAI,GAAGkyC,QAAQ,IAAIjC,UAAU,CAAC1iE,CAAD,EAAIg9C,aAAJ,CAAnC;EACA74C,CAAC,CAACk/D,IAAF,aAAYrjE,CAAC,CAAC,WAAD,CAAb,cAA8BA,CAAC,CAAC,aAAD,CAA/B;MAEM87C,GAAG,GAAG4vC,mBAAmB,CAAC1rF,CAAC,CAACyyB,IAAH,CAA/B;;MACItuB,CAAC,CAACH,MAAF,CAAS83C,GAAT,KAAiBA,GAArB,EAA0B;IACxB33C,CAAC,CAACH,MAAF,CAAS83C,GAAT,GAAeA,GAAf;;;MAEIniB,UAAU,GAAG35B,CAAC,CAAC,aAAD,CAAD,KAAqB,QAArB,GAAgC,QAAhC,GAA2CA,CAAC,CAAC,aAAD,CAA/D;MACMwrD,SAAS,GAAGogC,cAAc,CAACjyD,UAAD,EAAax1B,CAAC,CAACH,MAAF,CAAS83C,GAAtB,CAAhC;;MACI0P,SAAS,IAAIrnD,CAAC,CAACqnD,SAAF,KAAgBA,SAAjC,EAA4C;IAC1CrnD,CAAC,CAACqnD,SAAF,GAAcA,SAAd;;;MAGIqgC,GAAG,GAAG/oB,iBAAiB,CAAC9iE,CAAD,CAA7B;EAEAmE,CAAC,CAAC2nF,QAAF,CAAWr5D,IAAX,EAAiBzyB,CAAC,CAAC+E,CAAF,GAAM/E,CAAC,CAACsF,EAAzB,EAA6BtF,CAAC,CAACkF,CAAF,GAAMlF,CAAC,CAACuF,EAAR,GAAasmF,GAA1C;;;ACpBa,SAASz3D,QAAT,CAAgBxzB,IAAhB,QAA+C;MAAvBuD,CAAuB,QAAvBA,CAAuB;MAApB2lF,QAAoB,QAApBA,QAAoB;MAAVD,MAAU,QAAVA,MAAU;MACtD/oF,CAAC,GAAG,IAAIuD,MAAJ,CAAWzD,IAAI,CAAC2Q,CAAhB,CAAV;;MACIs4E,MAAJ,EAAY;IACV1lF,CAAC,CAAC0D,IAAF,CAAO/G,CAAP;;;MAEEgpF,QAAJ,EAAc;IACZ3lF,CAAC,CAACK,MAAF,CAAS1D,CAAT;;;;ACCJoV,QAAQ,CAAC,MAAD,EAASzO,QAAT,CAAR;AACAyO,QAAQ,CAAC,QAAD,EAAWgkB,QAAX,CAAR;AACAhkB,QAAQ,CAAC,MAAD,EAASrJ,QAAT,CAAR;AACAqJ,QAAQ,CAAC,MAAD,EAAStV,QAAT,CAAR;AACAsV,QAAQ,CAAC,MAAD,EAASuc,QAAT,CAAR;AAEA,AAEO,SAASs5D,iBAAT,CAA2Bl1C,OAA3B,EAAoC;EACzCA,OAAO,CAAClkB,QAAR,CAAiB,QAAjB,EAA2BA,QAA3B;;;AChBF,SAASthB,MAAT,CAAcxN,IAAd,EAAoB6vC,EAApB,EAAwB;MAChBtmB,KAAK,GAAG,EAAd;MACIjU,KAAJ;MACMkU,OAAO,GAAG,EAAhB;MACM2+D,UAAU,GAAG,EAAnB;MACMC,UAAU,GAAG,EAAnB;MACIC,OAAJ;MACIC,KAAJ;;MACMC,QAAQ,GAAG,SAAXA,QAAW,CAAC3sF,CAAD;WAAOA,CAAC,CAACkZ,EAAT;GAAjB;;MACM0zE,UAAU,GAAG,SAAbA,UAAa,CAAC5mE,IAAD,EAAOrjB,CAAP,EAAa;QAC1BuW,EAAJ;;QACI,QAAO8M,IAAP,MAAgB,QAApB,EAA8B;UACxB,QAAQA,IAAZ,EAAkB;QAChB9M,EAAE,GAAG8M,IAAI,CAAC9M,EAAV;OADF,MAEO;QACLA,EAAE,GAAGvW,CAAL;;KAJJ,MAMO;MACLuW,EAAE,GAAG8M,IAAL;;;WAEK;MACL2qB,OAAO,EAAE3qB,IADJ;MAEL9M,EAAE,YAAKA,EAAL,eAAY8M,IAAI,CAACrkB,IAAL,IAAa,EAAzB;KAFJ;GAXF;;MAiBI,CAACyC,IAAI,CAACyoF,MAAV,EAAkB;IAChBzoF,IAAI,GAAGA,IAAI,CAACpD,GAAL,CAAS4rF,UAAT,CAAP;;;EAGF34C,EAAE,GAAGA,EAAE,CAACjzC,GAAH,CAAO4rF,UAAP,CAAL;EAEAH,OAAO,GAAGroF,IAAI,CAACpD,GAAL,CAAS2rF,QAAT,CAAV;EACAD,KAAK,GAAGz4C,EAAE,CAACjzC,GAAH,CAAO2rF,QAAP,CAAR,CAjCsB;;;;;;OAyCjB,IAAIhqF,CAAC,GAAG,CAAR,EAAWqlB,GAAG,GAAGisB,EAAE,CAAClyC,MAAzB,EAAiCY,CAAC,GAAGqlB,GAArC,EAA0CrlB,CAAC,EAA3C,EAA+C;QACvCqnB,GAAG,GAAGyiE,OAAO,CAAC/7E,OAAR,CAAgBujC,EAAE,CAACtxC,CAAD,CAAF,CAAMuW,EAAtB,CAAZ;;QACI8Q,GAAG,KAAK,CAAC,CAAb,EAAgB;MACd2D,KAAK,CAAC3rB,IAAN,CAAWiyC,EAAE,CAACtxC,CAAD,CAAb;KADF,MAEO;MACL4pF,UAAU,CAACvqF,IAAX,CAAgBiyC,EAAE,CAACtxC,CAAD,CAAlB;;;;OAIC,IAAIA,EAAC,GAAG,CAAR,EAAWqlB,IAAG,GAAG5jB,IAAI,CAACrC,MAA3B,EAAmCY,EAAC,GAAGqlB,IAAvC,EAA4CrlB,EAAC,EAA7C,EAAiD;QACzCqnB,IAAG,GAAG0iE,KAAK,CAACh8E,OAAN,CAActM,IAAI,CAACzB,EAAD,CAAJ,CAAQuW,EAAtB,CAAZ;;QACI8Q,IAAG,KAAK,CAAC,CAAb,EAAgB;MACd4D,OAAO,CAAC5rB,IAAR,CAAaoC,IAAI,CAACzB,EAAD,CAAjB;KADF,MAEO;MACL6pF,UAAU,CAACxqF,IAAX,CAAgBoC,IAAI,CAACzB,EAAD,CAApB;;;;OAIC,IAAIA,GAAC,GAAG,CAAR,EAAWqlB,KAAG,GAAG2F,KAAK,CAAC5rB,MAA5B,EAAoCY,GAAC,GAAGqlB,KAAxC,EAA6CrlB,GAAC,EAA9C,EAAkD;QAC5CgrB,KAAK,CAAChrB,GAAD,CAAL,CAASguC,OAAT,CAAiBlqB,QAArB,EAA+B;MAC7BkH,KAAK,CAAChrB,GAAD,CAAL,CAASiP,IAAT,GAAgBA,MAAI,CAAC,EAAD,EAAK+b,KAAK,CAAChrB,GAAD,CAAL,CAASguC,OAAT,CAAiBlqB,QAAtB,CAApB;MACAkH,KAAK,CAAChrB,GAAD,CAAL,CAAS8jB,QAAT,GAAoBkH,KAAK,CAAChrB,GAAD,CAAL,CAASiP,IAAT,CAAc26E,UAAd,CAAyBtqF,MAAzB,CAAgC0rB,KAAK,CAAChrB,GAAD,CAAL,CAASiP,IAAT,CAAc+b,KAA9C,CAApB;MACAA,KAAK,CAAChrB,GAAD,CAAL,CAAS8jB,QAAT,CAAkBomE,MAAlB,GAA2B,IAA3B;;;;OAIC,IAAIlqF,GAAC,GAAG,CAAR,EAAWqlB,KAAG,GAAGukE,UAAU,CAACxqF,MAAjC,EAAyCY,GAAC,GAAGqlB,KAA7C,EAAkDrlB,GAAC,EAAnD,EAAuD;IACrD4pF,UAAU,CAAC5pF,GAAD,CAAV,CAAciP,IAAd,GAAqBA,MAAI,CAAC46E,UAAU,CAAC7pF,GAAD,CAAV,CAAc8jB,QAAd,IAA0B,EAA3B,EAA+B8lE,UAAU,CAAC5pF,GAAD,CAAV,CAAcguC,OAAd,CAAsBlqB,QAAtB,IAAkC,EAAjE,CAAzB;IACA8lE,UAAU,CAAC5pF,GAAD,CAAV,CAAcgc,MAAd,GAAuB6tE,UAAU,CAAC7pF,GAAD,CAAV,CAAcgc,MAArC;IACA4tE,UAAU,CAAC5pF,GAAD,CAAV,CAAc8jB,QAAd,GAAyB8lE,UAAU,CAAC5pF,GAAD,CAAV,CAAciP,IAAd,CAAmB8H,KAA5C;;;EAGFA,KAAK,GAAG6yE,UAAU,CAACtqF,MAAX,CAAkB0rB,KAAlB,CAAR;EAEAA,KAAK,CAACk/D,MAAN,GAAe,IAAf;EACAj/D,OAAO,CAACi/D,MAAR,GAAiB,IAAjB;EACAN,UAAU,CAACM,MAAX,GAAoB,IAApB;EACAL,UAAU,CAACK,MAAX,GAAoB,IAApB;EACAnzE,KAAK,CAACmzE,MAAN,GAAe,IAAf;SAEO;IACLl/D,KAAK,EAALA,KADK;IAEL4+D,UAAU,EAAVA,UAFK;IAGLC,UAAU,EAAVA,UAHK;IAIL5+D,OAAO,EAAPA,OAJK;IAKLlU,KAAK,EAALA;GALF;;;AASF,SAASozE,WAAT,CAAqBx5D,KAArB,EAA4Bxd,MAA5B,EAAoCyH,MAApC,EAA4C;OACrC,IAAI5a,CAAC,GAAG,CAAR,EAAWqlB,GAAG,GAAGsL,KAAK,CAACvxB,MAA5B,EAAoCY,CAAC,GAAGqlB,GAAxC,EAA6CrlB,CAAC,EAA9C,EAAkD;IAChD2wB,KAAK,CAAC3wB,CAAD,CAAL,CAASgc,MAAT,GAAkBpB,MAAM,CAAC+V,KAAK,CAAC3wB,CAAD,CAAL,CAASguC,OAAT,CAAiBhvC,IAAlB,EAAwBmU,MAAxB,CAAxB;;;;AAIJ,SAASi3E,YAAT,CAAsBz5D,KAAtB,EAA6BuP,OAA7B,EAAsC;OAC/B,IAAIlgC,CAAC,GAAG,CAAR,EAAWqlB,GAAG,GAAGsL,KAAK,CAACvxB,MAA5B,EAAoCY,CAAC,GAAGqlB,GAAxC,EAA6CrlB,CAAC,EAA9C,EAAkD;QAC5C2wB,KAAK,CAAC3wB,CAAD,CAAL,CAASgc,MAAT,KAAoB,IAApB,IAA4B,OAAO2U,KAAK,CAAC3wB,CAAD,CAAL,CAASgc,MAAhB,KAA2B,WAA3D,EAAwE;MACtEkkB,OAAO,CAACvP,KAAK,CAAC3wB,CAAD,CAAL,CAASgc,MAAV,CAAP;MACA2U,KAAK,CAAC3wB,CAAD,CAAL,CAASgc,MAAT,GAAkB,IAAlB;;;;;AAKN,SAASmkB,WAAT,CAAqBxP,KAArB,EAA4B05D,OAA5B,EAAqCC,UAArC,EAAiDC,SAAjD,EAA4D;MACtDhxE,IAAJ;;OACK,IAAIvZ,CAAC,GAAG,CAAR,EAAWqlB,GAAG,GAAGsL,KAAK,CAACvxB,MAA5B,EAAoCY,CAAC,GAAGqlB,GAAxC,EAA6CrlB,CAAC,EAA9C,EAAkD;IAChDuZ,IAAI,GAAGoX,KAAK,CAAC3wB,CAAD,CAAZ;;QACIuZ,IAAI,CAACyC,MAAL,KAAgB,IAAhB,IAAwB,OAAOzC,IAAI,CAACyC,MAAZ,KAAuB,WAAnD,EAAgE;MAC9DsuE,UAAU,CAAC/wE,IAAI,CAACyC,MAAN,EAAczC,IAAI,CAACy0B,OAAnB,CAAV;;UACIz0B,IAAI,CAACtK,IAAT,EAAe;QACbk7E,WAAW,CAAC5wE,IAAI,CAACtK,IAAL,CAAU+b,KAAX,EAAkBzR,IAAI,CAACyC,MAAvB,EAA+BquE,OAA/B,CAAX;QACAD,YAAY,CAAC7wE,IAAI,CAACtK,IAAL,CAAUgc,OAAX,EAAoBs/D,SAApB,CAAZ;QACApqD,WAAW,CAAC5mB,IAAI,CAACtK,IAAL,CAAU8H,KAAX,EAAkBszE,OAAlB,EAA2BC,UAA3B,EAAuCC,SAAvC,CAAX;;;;;;AAMR,SAASC,UAAT,CAAoBC,QAApB,EAA8BC,QAA9B,EAAwCpwE,IAAxC,EAA8C+vE,OAA9C,EAAuDC,UAAvD,EAAmEC,SAAnE,EAA8E;MACtEp7E,CAAC,GAAGF,MAAI,CAACw7E,QAAD,EAAWC,QAAX,CAAd;EAEAP,WAAW,CAACh7E,CAAC,CAAC6b,KAAH,EAAU1Q,IAAV,EAAgB+vE,OAAhB,CAAX;EACAD,YAAY,CAACj7E,CAAC,CAAC8b,OAAH,EAAYs/D,SAAZ,CAAZ;EACApqD,WAAW,CAAChxB,CAAC,CAAC4H,KAAH,EAAUszE,OAAV,EAAmBC,UAAnB,EAA+BC,SAA/B,CAAX;SAEOp7E,CAAC,CAAC4H,KAAT;;;AC3HF,IAAM4zE,KAAK,GAAG,4BAAd;;AAEA,IAAMN,OAAO,GAAG,SAAVA,OAAU,CAACrrF,IAAD,EAAOmU,MAAP,EAAkB;MAC5B,CAACnU,IAAD,IAAS,OAAOA,IAAP,KAAgB,QAA7B,EAAuC;UAC/B,IAAI8Q,KAAJ,yBAA2B9Q,IAA3B,EAAN;;;MAGImnC,EAAE,GAAGhzB,MAAM,CAAC40E,aAAP,CAAqB6C,eAArB,CAAqCD,KAArC,EAA4C3rF,IAAI,KAAK,WAAT,GAAuB,GAAvB,GAA6BA,IAAzE,CAAX;EAEAmU,MAAM,CAACszB,WAAP,CAAmBN,EAAnB;SACOA,EAAP;CARF;;AAWA,IAAMokD,SAAS,GAAG,SAAZA,SAAY,CAACpkD,EAAD,EAAQ;MACpBA,EAAE,CAAC4pB,UAAP,EAAmB;IACjB5pB,EAAE,CAAC4pB,UAAH,CAAc0oB,WAAd,CAA0BtyC,EAA1B;;CAFJ;;AAMA,IAAMmkD,UAAU,GAAG,SAAbA,UAAa,CAAC3zD,OAAD,EAAUpd,IAAV,EAAmB;OAC/B,IAAM2U,IAAX,IAAmB3U,IAAI,CAAC8nD,KAAxB,EAA+B;QACzBnzC,IAAI,KAAK,QAAT,IAAqB3U,IAAI,CAACknE,eAA9B,EAA+C;MAC7C9pD,OAAO,CAACyvD,YAAR,CAAqB,QAArB,EAA+B7sE,IAAI,CAACknE,eAApC;KADF,MAEO,IAAIvyD,IAAI,KAAK,MAAT,IAAmB3U,IAAI,CAACmnE,aAA5B,EAA2C;MAChD/pD,OAAO,CAACyvD,YAAR,CAAqB,MAArB,EAA6B7sE,IAAI,CAACmnE,aAAlC;KADK,MAEA,IAAIxyD,IAAI,KAAK,MAAb,EAAqB;MAC1ByI,OAAO,CAACyvD,YAAR,CAAqB,OAArB,EAA8B,kBAA9B;MACAzvD,OAAO,CAACk0D,WAAR,GAAsBtxE,IAAI,CAACgpD,QAAL,IAAiBjC,UAAU,CAAC/mD,IAAI,CAAC8nD,KAAN,EAAazmB,aAAb,CAAjD;UACMlB,GAAG,GAAG4vC,mBAAmB,CAAC/vE,IAAI,CAAC8nD,KAAL,CAAWhxC,IAAZ,CAA/B;;UACIqpB,GAAG,KAAK,KAAZ,EAAmB;QACjB/iB,OAAO,CAACyvD,YAAR,CAAqB,WAArB,EAAkC,KAAlC;QACAzvD,OAAO,CAACyvD,YAAR,CAAqB,KAArB,EAA4B,KAA5B;QACAzvD,OAAO,CAACyvD,YAAR,CAAqB,aAArB,EAAoCoD,cAAc,CAAC7yD,OAAO,CAAC01B,YAAR,CAAqB,aAArB,CAAD,EAAsC3S,GAAtC,CAAlD;;KAPG,MASA,IAAIngC,IAAI,CAACva,IAAL,KAAc,MAAd,KAAyBkvB,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAK,mBAAnD,CAAJ,EAA6E;UAC5E/qB,EAAE,GAAG,CAACwzB,OAAO,CAAC01B,YAAR,CAAqBn+B,IAArB,CAAD,IAA+B,CAA1C;UACIxlB,GAAG,GAAG,CAAV;;UACIwlB,IAAI,KAAK,mBAAb,EAAkC;QAChCxlB,GAAG,GAAGg4D,iBAAiB,CAACnnD,IAAI,CAAC8nD,KAAN,CAAvB;OADF,MAEO;QACL34D,GAAG,GAAG6Q,IAAI,CAAC8nD,KAAL,CAAWnzC,IAAX,CAAN;;;MAEFyI,OAAO,CAACyvD,YAAR,CAAqB,IAArB,EAA2B19E,GAAG,GAAGvF,EAAjC;KARK,MASA,IAAIoW,IAAI,CAACva,IAAL,KAAc,MAAd,IAAwBkvB,IAAI,KAAK,OAAjC,IAA4C3U,IAAI,CAAC8nD,KAAL,CAAW5qD,KAA3D,EAAkE;UACjE7Y,CAAC,GAAG+4B,OAAO,CAACoxD,aAAR,CAAsB6C,eAAtB,CAAsCD,KAAtC,EAA6C,OAA7C,CAAV;MACA/sF,CAAC,CAACitF,WAAF,GAAgBtxE,IAAI,CAAC8nD,KAAL,CAAW5qD,KAA3B;MACAkgB,OAAO,CAAC8P,WAAR,CAAoB7oC,CAApB;KAHK,MAIA;MACL+4B,OAAO,CAACyvD,YAAR,CAAqBl4D,IAArB,EAA2B3U,IAAI,CAAC8nD,KAAL,CAAWnzC,IAAX,CAA3B;;;;MAIA,OAAO3U,IAAI,CAAC9a,IAAZ,KAAqB,QAArB,IAAiC,OAAO8a,IAAI,CAAC9a,IAAZ,KAAqB,QAAtD,IAAkE,OAAO8a,IAAI,CAAC9a,IAAZ,KAAqB,SAA3F,EAAsG;IACpGk4B,OAAO,CAACyvD,YAAR,CAAqB,MAArB,EAA6B7sE,IAAI,CAAC9a,IAAlC;GADF,MAEO,IAAI,QAAO8a,IAAI,CAAC9a,IAAZ,MAAqB,QAArB,IAAiC8a,IAAI,CAAC9a,IAAL,KAAc,IAAnD,EAAyD;SACzD,IAAM0Q,CAAX,IAAgBoK,IAAI,CAAC9a,IAArB,EAA2B;UACrB,OAAO8a,IAAI,CAAC9a,IAAL,CAAU0Q,CAAV,CAAP,KAAwB,QAAxB,IAAoC,OAAOoK,IAAI,CAAC9a,IAAL,CAAU0Q,CAAV,CAAP,KAAwB,QAA5D,IAAwE,OAAOoK,IAAI,CAAC9a,IAAL,CAAU0Q,CAAV,CAAP,KAAwB,SAApG,EAA+G;QAC7GwnB,OAAO,CAACyvD,YAAR,gBAA6Bj3E,CAA7B,GAAkCoK,IAAI,CAAC9a,IAAL,CAAU0Q,CAAV,CAAlC;;;;CAtCR;;ICpBM27E;;;;;;;;;;;4BASQC,WAAZ,EAAyBC,WAAzB,EAAsCC,cAAtC,EAAsDC,aAAtD,EAAqE;;;SAC9DtwE,MAAL,GAAcmwE,WAAd;SACKC,WAAL,GAAmBA,WAAnB;SACKC,cAAL,GAAsBA,cAAtB;SACKC,aAAL,GAAqBA,aAArB;;;;;2BAGKR,UAAUpwE,MAAM;aACd,KAAKM,MAAL,CAAY,EAAZ,EAAgB8vE,QAAhB,EAA0BpwE,IAA1B,EAAgC,KAAK0wE,WAArC,EAAkD,KAAKC,cAAvD,EAAuE,KAAKC,aAA5E,CAAP;;;;;;;AAIJ,SAASC,IAAT,GAAgB;SACP,IAAIL,gBAAJ,CAAqBN,UAArB,EAAiCH,OAAjC,EAA0CC,UAA1C,EAAsDC,SAAtD,CAAP;;AAQF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjCA;;;;;;;;;;;AAWA,AAAO,SAASa,UAAT,CAAoB7xE,IAApB,EAA0B;MAC3B8xE,IAAI,GAAG,CAAX;MACIrrF,CAAJ;MACIsrF,GAAJ;MACIjmE,GAAJ;EAEA9L,IAAI,GAAGo2C,IAAI,CAACC,SAAL,CAAer2C,IAAf,CAAP;;MAEIA,IAAI,CAACna,MAAL,KAAgB,CAApB,EAAuB;WACdisF,IAAP;;;OAGGrrF,CAAC,GAAG,CAAJ,EAAOqlB,GAAG,GAAG9L,IAAI,CAACna,MAAvB,EAA+BY,CAAC,GAAGqlB,GAAnC,EAAwCrlB,CAAC,EAAzC,EAA6C;IAC3CsrF,GAAG,GAAG/xE,IAAI,CAACgyE,UAAL,CAAgBvrF,CAAhB,CAAN;IACAqrF,IAAI,GAAI,CAACA,IAAI,IAAI,CAAT,IAAcA,IAAf,GAAuBC,GAA9B;IACAD,IAAI,IAAIA,IAAR,CAH2C;;;SAMtCA,IAAP;;;AC1Ba,SAASG,UAAT,CAAoBC,MAApB,EAAiD;MAArBC,MAAqB,uEAAZN,UAAY;MAC1Dt3D,KAAK,GAAG,EAAZ;MACI63D,GAAG,GAAGv6E,IAAI,CAACC,GAAL,EAAV;MAEM3S,CAAC,GAAG;IACRktF,mBADQ,iCACgD;UAApCryE,IAAoC,uEAA7B,EAA6B;UAAzB2U,IAAyB,uEAAlB,MAAkB;UAAV29D,GAAU,uEAAJ,EAAI;UAClDC,YAAY,GAAGJ,MAAM,CAACnyE,IAAI,CAAC2U,IAAD,CAAL,CAAzB;UACI69D,UAAU,8BAAuBJ,GAAvB,cAA8BG,YAA9B,CAAd;;UAEI,CAACh4D,KAAK,CAACg4D,YAAD,CAAV,EAA0B;yBACkBvyE,IAAI,CAAC2U,IAAD,CADtB;YAClB8lB,WADkB,cAClBA,WADkB;YACL60B,MADK,cACLA,MADK;0CACGR,KADH;YACGA,KADH,iCACW,EADX;YAEpBmd,QAAQ,GAAG,EAAf;;YAEI3c,MAAM,KAAKxhE,SAAf,EAA0B;UACxBwhE,MAAM,GAAG,EAAT;SALsB;;;YASpB70B,WAAW,KAAK,QAApB,EAA8B;UAC5BwxC,QAAQ,CAACxmF,IAAT,GAAgB,gBAAhB;SADF,MAEO;UACLwmF,QAAQ,GAAG5sD,eAAe,CAACiwC,MAAD,CAA1B;WACC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,EAAyB35D,OAAzB,CAAiC,UAAC5R,CAAD,EAAO;gBAClCA,CAAC,IAAIic,IAAI,CAAC2U,IAAD,CAAb,EAAqB;cACnBs3D,QAAQ,CAACloF,CAAD,CAAR,GAAcic,IAAI,CAAC2U,IAAD,CAAJ,CAAW5wB,CAAX,CAAd;;WAFJ;UAKAkoF,QAAQ,CAACxmF,IAAT,GAAgB,gBAAhB;;;QAGFwmF,QAAQ,CAACjvE,EAAT,GAAcw1E,UAAd;QACAvG,QAAQ,CAAC1hE,QAAT,GAAoBukD,KAAK,CAAChqE,GAAN,CAAU;cAAGqa,MAAH,QAAGA,MAAH;cAAW2Z,KAAX,QAAWA,KAAX;cAAkBlB,OAAlB,QAAkBA,OAAlB;iBAAiC;YAC7DnyB,IAAI,EAAE,MADuD;YAE7D0Z,MAAM,YAAKA,MAAM,GAAG,GAAd,MAFuD;YAG7D2b,KAAK,uBAAgBhC,KAAhB,2BAAsC,OAAOlB,OAAP,KAAmB,WAAnB,GAAiCA,OAAjC,GAA2C,CAAjF;WAHuB;SAAV,CAApB;QAMAs6D,MAAM,CAACpsF,IAAP,CAAYmmF,QAAZ;QACA1xD,KAAK,CAACg4D,YAAD,CAAL,GAAsBC,UAAtB;;;4BAGaF,GAAf,cAAsBE,UAAtB;KArCM;IAuCRC,QAvCQ,oBAuCCp+D,KAvCD,EAuCQ;UACVi+D,GAAG,GAAG,EAAV;;UACI,OAAOlqF,MAAP,KAAkB,WAAtB,EAAmC;QACjCkqF,GAAG,GAAGlqF,MAAM,CAACsqF,QAAP,CAAgBC,IAAhB,CAAqB/7E,KAArB,CAA2B,GAA3B,EAAgC,CAAhC,CAAN;;;UAGIoJ,IAAI,GAAGqU,KAAK,CAACvK,IAAnB;;UACI9J,IAAI,CAAC9T,IAAL,IAAa,QAAO8T,IAAI,CAAC9T,IAAZ,MAAqB,QAAlC,IAA8C8T,IAAI,CAAC9T,IAAL,CAAUzG,IAAV,KAAmB,UAArE,EAAiF;QAC/Eua,IAAI,CAACmnE,aAAL,GAAqBhiF,CAAC,CAACktF,mBAAF,CAAsBryE,IAAtB,EAA4B,MAA5B,EAAoCsyE,GAApC,CAArB;;;UAGEtyE,IAAI,CAACnX,MAAL,IAAe,QAAOmX,IAAI,CAACnX,MAAZ,MAAuB,QAAtC,IAAkDmX,IAAI,CAACnX,MAAL,CAAYpD,IAAZ,KAAqB,UAA3E,EAAuF;QACrFua,IAAI,CAACknE,eAAL,GAAuB/hF,CAAC,CAACktF,mBAAF,CAAsBryE,IAAtB,EAA4B,QAA5B,EAAsCsyE,GAAtC,CAAvB;;KAnDI;IAsDR7hE,KAtDQ,mBAsDA;MACN8J,KAAK,GAAG,EAAR;;GAvDJ;SA2DOp1B,CAAP;;;AChEa,SAASunF,aAAT,CAAqBwF,MAArB,EAAkD;MAArBC,MAAqB,uEAAZN,UAAY;MAC3Dt3D,KAAK,GAAG,EAAZ;MACI63D,GAAG,GAAGv6E,IAAI,CAACC,GAAL,EAAV;MACM3S,CAAC,GAAG;IACRstF,QADQ,oBACCp+D,KADD,EACQ;UACVu+D,MAAM,GAAG,EAAb;;UAEIv+D,KAAK,CAACvK,IAAN,IAAc,QAAOuK,KAAK,CAACvK,IAAN,CAAW5d,IAAlB,MAA2B,QAAzC,IAAqDmoB,KAAK,CAACvK,IAAN,CAAW5d,IAAX,CAAgBzG,IAAhB,KAAyB,SAA9E,IAA2F4uB,KAAK,CAACvK,IAAN,CAAW5d,IAAX,CAAgB86B,MAA/G,EAAuH;QACrH4rD,MAAM,CAAC1mF,IAAP,GAAcmoB,KAAK,CAACvK,IAAN,CAAW5d,IAAzB;;;UAEEmoB,KAAK,CAACvK,IAAN,IAAc,QAAOuK,KAAK,CAACvK,IAAN,CAAWjhB,MAAlB,MAA6B,QAA3C,IAAuDwrB,KAAK,CAACvK,IAAN,CAAWjhB,MAAX,CAAkBpD,IAAlB,KAA2B,SAAlF,IAA+F4uB,KAAK,CAACvK,IAAN,CAAWjhB,MAAX,CAAkBm+B,MAArH,EAA6H;QAC3H4rD,MAAM,CAAC/pF,MAAP,GAAgBwrB,KAAK,CAACvK,IAAN,CAAWjhB,MAA3B;;;MAGF/B,MAAM,CAACgS,IAAP,CAAY85E,MAAZ,EAAoBj9E,OAApB,CAA4B,UAAC3O,GAAD,EAAS;YAC/BsrF,GAAG,GAAG,EAAV;YACMzqE,KAAK,GAAG+qE,MAAM,CAAC5rF,GAAD,CAApB;YACM6rF,WAAW,GAAGV,MAAM,CAACtqE,KAAD,CAA1B;YACMirE,IAAI,6BAAsBV,GAAtB,cAA6BS,WAA7B,CAAV;;YAEI,OAAOzqF,MAAP,KAAkB,WAAtB,EAAmC;UACjCkqF,GAAG,GAAGlqF,MAAM,CAACsqF,QAAP,CAAgBC,IAAhB,CAAqB/7E,KAArB,CAA2B,GAA3B,EAAgC,CAAhC,CAAN;;;YAGE,CAAC2jB,KAAK,CAACs4D,WAAD,CAAV,EAAyB;cACjBE,EAAE,GAAG;YACTC,YAAY,EAAE,gBADL;YAET5pF,CAAC,EAAE,CAFM;YAGTG,CAAC,EAAE,CAHM;YAITwC,KAAK,EAAE8b,KAAK,CAAC9b,KAJJ;YAKTC,MAAM,EAAE6b,KAAK,CAAC7b,MALL;YAMTvG,IAAI,EAAE,SANG;YAOTuX,EAAE,EAAE81E,IAPK;YAQTvoE,QAAQ,EAAE,EARD;YASTre,IAAI,EAAE2b,KAAK,CAAC3b;WATd;UAYA2b,KAAK,CAACmf,MAAN,CAAarxB,OAAb,CAAqB,UAACvR,CAAD,EAAO;YAC1B2uF,EAAE,CAACxoE,QAAH,CAAYzkB,IAAZ,CAAiB1B,CAAjB;WADF;UAIA8tF,MAAM,CAACpsF,IAAP,CAAYitF,EAAZ;UACAx4D,KAAK,CAACs4D,WAAD,CAAL,GAAqB,IAArB;;;QAGFx+D,KAAK,CAACvK,IAAN,WAAc9iB,GAAd,iCAAwCsrF,GAAxC,cAA+CQ,IAA/C;OA/BF;KAXM;IA6CRriE,KA7CQ,mBA6CA;MACN8J,KAAK,GAAG,EAAR;;GA9CJ;SAkDOp1B,CAAP;;;ACtCF;;;;;;;;;AAQA,AAAe,SAAS6xB,UAAT,GAA4E;MAA1Di8D,MAA0D,uEAAjDC,IAAiD;MAApCC,EAAoC,uEAA/B/B,KAA+B;MAAxBhD,OAAwB,uEAAdC,KAAc;MACnFuD,MAAI,GAAGqB,MAAM,EAAnB;MACIrmD,EAAJ;MACIs2C,KAAJ;MACIoL,cAAc,GAAG,KAArB;MACIxiF,IAAI,GAAG6gF,iBAAiB,EAA5B;MACIZ,OAAJ;MAEMqH,GAAG,GAAG/xE,QAAM,EAAlB;MAEMmY,IAAI,GAAG;IACX/zB,IAAI,EAAE,MADK;IAEX8kB,QAAQ,EAAE;GAFZ;MAIM0jE,QAAQ,GAAGvB,aAAW,CAAClzD,IAAI,CAACjP,QAAN,CAA5B;MACM8oE,SAAS,GAAGpB,UAAU,CAACz4D,IAAI,CAACjP,QAAN,CAA5B;;EAEA6oE,GAAG,CAACh2D,OAAJ,GAAc;WAAMwP,EAAN;GAAd;;EAEAwmD,GAAG,CAACryE,IAAJ,GAAW;WAAMmiE,KAAN;GAAX;;EAEAkQ,GAAG,CAAC7rD,QAAJ,GAAe,UAACnK,OAAD,EAAa;QACtB,CAACwP,EAAL,EAAS;MACPA,EAAE,GAAGxP,OAAO,CAACoxD,aAAR,CAAsB6C,eAAtB,CAAsC8B,EAAtC,EAA0C,KAA1C,CAAL;MACAvmD,EAAE,CAAC9R,KAAH,CAASpW,QAAT,GAAoB,UAApB;MACAkoB,EAAE,CAAC9R,KAAH,CAAS,wBAAT,IAAqC,aAArC;MACA8R,EAAE,CAAC9R,KAAH,CAAS,yBAAT,IAAsC,aAAtC;MACA8R,EAAE,CAAC9R,KAAH,CAASgzB,aAAT,GAAyB,MAAzB;MACAlhB,EAAE,CAACigD,YAAH,CAAgB,OAAhB,EAAyBsG,EAAzB;MACAjQ,KAAK,GAAG9lD,OAAO,CAACoxD,aAAR,CAAsB6C,eAAtB,CAAsC8B,EAAtC,EAA0C,GAA1C,CAAR;MACAjQ,KAAK,CAACpoD,KAAN,CAAYgzB,aAAZ,GAA4B,MAA5B;MACAlhB,EAAE,CAACM,WAAH,CAAeg2C,KAAf;;;IAGF9lD,OAAO,CAAC8P,WAAR,CAAoBN,EAApB;WAEOA,EAAP;GAfF;;EAkBAwmD,GAAG,CAAC36D,MAAJ,GAAa,UAACrB,KAAD,EAAW;QAClB,CAACwV,EAAL,EAAS;aACA,KAAP;;;QAGI8hD,MAAM,GAAG5iF,IAAI,CAAC4I,UAAL,CAAgBtL,CAA/B;QACMulF,MAAM,GAAG7iF,IAAI,CAAC4I,UAAL,CAAgBnL,CAA/B;;QAEI+kF,cAAJ,EAAoB;MAClB1hD,EAAE,CAAC9R,KAAH,CAAShoB,IAAT,aAAmBhH,IAAI,CAACg6B,gBAAL,CAAsB18B,CAAzC;MACAwjC,EAAE,CAAC9R,KAAH,CAAS9nB,GAAT,aAAkBlH,IAAI,CAACg6B,gBAAL,CAAsBv8B,CAAxC;MACAqjC,EAAE,CAACigD,YAAH,CAAgB,OAAhB,EAAyB/gF,IAAI,CAACg6B,gBAAL,CAAsB/5B,KAA/C;MACA6gC,EAAE,CAACigD,YAAH,CAAgB,QAAhB,EAA0B/gF,IAAI,CAACg6B,gBAAL,CAAsB95B,MAAhD;;;IAGFqnF,SAAS,CAAC5iE,KAAV;IACAw9D,QAAQ,CAACx9D,KAAT;IACA+I,IAAI,CAACjP,QAAL,CAAc1kB,MAAd,GAAuB,CAAvB;QAEM+oF,cAAc,GAAG;MACrBnpF,IAAI,EAAE,WADe;MAErB8kB,QAAQ,EAAE7iB,KAAK,CAACC,OAAN,CAAcyvB,KAAd,mCAA2BA,KAA3B,IAAkCoC,IAAlC,KAA0CpC,KAF/B;MAGrB8G,SAAS,EAAEpyB,IAAI,CAACyG,SAAL,CAAe2jB,IAAf,uBAAmCpqB,IAAI,CAACyG,SAAL,CAAeO,IAAf,GAAsB47E,MAAzD,eAAoE5iF,IAAI,CAACyG,SAAL,CAAeS,GAAf,GAAqB27E,MAAzF,SAAqG;KAHlH;;QAMID,MAAM,KAAK,CAAX,IAAgBC,MAAM,KAAK,CAA/B,EAAkC;MAChCC,cAAc,CAAC1wD,SAAf,oBAAqCwwD,MAArC,eAAgDC,MAAhD;;;QAGIE,QAAQ,GAAGT,OAAO,CAAC;MACvB5wE,KAAK,EAAE,CAACoxE,cAAD,CADgB;MAEvB5yD,EAAE,EAAE;QACF3a,MAAM,EAAE,CACN,UAACgT,KAAD,EAAW;UACTA,KAAK,CAACvK,IAAN,CAAWq9D,aAAX,GAA2Br5E,SAA3B;UACAumB,KAAK,CAACvK,IAAN,CAAWo9D,eAAX,GAA6Bp5E,SAA7B;SAHI,EAKNulF,SAAS,CAACZ,QALJ,EAMNxE,QAAQ,CAACwE,QANH,EAON7rB,WAAW,CAACwsB,GAAG,CAAC/xC,WAAL,CAPL,EAQNyrC,kBAAkB,CAACsG,GAAD,CARZ;;KAHY,CAAxB;QAeMtE,eAAe,GAAG/C,OAAK,GAAG,CAAC8C,QAAQ,CAACzP,MAAT,CAAgB2M,OAAhB,CAAJ,GAA6B,IAA1D;QAEMgD,QAAQ,GAAGT,cAAc,IAAIQ,eAAnC;;QACIC,QAAJ,EAAc;MACZqE,GAAG,CAAC3iE,KAAJ;MACAmhE,MAAI,CAACn5D,MAAL,CAAYo2D,QAAQ,CAACtkE,QAArB,EAA+B24D,KAA/B;;;IAGFoL,cAAc,GAAG,KAAjB;IACAvC,OAAK,GAAG8C,QAAR;WACOE,QAAP;GAtDF;;EAyDAqE,GAAG,CAAC71D,OAAJ,GAAc,UAAC1V,KAAD;WAAYkkE,OAAK,GAAGA,OAAK,CAACiD,YAAN,CAAmBnnE,KAAnB,CAAH,GAA+B,EAAhD;GAAd;;EAEAurE,GAAG,CAAClsD,UAAJ,GAAiB,UAACC,QAAD;WAAe4kD,OAAK,GAAGA,OAAK,CAAC7kD,UAAN,CAAiBC,QAAjB,CAAH,GAAgC,EAApD;GAAjB;;EAEAisD,GAAG,CAAC3iE,KAAJ,GAAY,YAAM;QACZ,CAACyyD,KAAL,EAAY;aACHkQ,GAAP;;;IAEFrH,OAAK,GAAG,IAAR;QACMvjF,CAAC,GAAG06E,KAAK,CAACoQ,SAAN,CAAgB,KAAhB,CAAV;IACA1mD,EAAE,CAAC2mD,YAAH,CAAgB/qF,CAAhB,EAAmB06E,KAAnB;IACAA,KAAK,GAAG16E,CAAR;WACO4qF,GAAP;GARF;;EAWAA,GAAG,CAACzsD,OAAJ,GAAc,YAAM;;QAEdiG,EAAE,IAAIA,EAAE,CAAC4pB,UAAb,EAAyB;MACvB5pB,EAAE,CAAC4pB,UAAH,CAAc0oB,WAAd,CAA0BtyC,EAA1B;;;IAEFA,EAAE,GAAG,IAAL;IACAs2C,KAAK,GAAG,IAAR;GANF;;EASAkQ,GAAG,CAAC3jF,IAAJ,GAAW,UAAC+Q,IAAD,EAAU;QACfA,IAAJ,EAAU;UACFyuE,OAAO,GAAGtC,iBAAiB,CAACnsE,IAAD,CAAjC;;UAEI41C,IAAI,CAACC,SAAL,CAAevqD,IAAf,MAAyBsqD,IAAI,CAACC,SAAL,CAAe44B,OAAf,CAA7B,EAAsD;QACpDX,cAAc,GAAG,IAAjB;QACAxiF,IAAI,GAAGmjF,OAAP;;;;WAIGnjF,IAAP;GAVF;;SAaOsnF,GAAP;;AAGF,AAAO,SAAShD,mBAAT,CAA2Bl1C,OAA3B,EAAoC;EACzCA,OAAO,CAAClkB,QAAR,CAAiB,KAAjB,EAAwBA,UAAxB;;;AClKF,IAAI,KAAK,GAAG,SAAS,KAAK,GAAG,EAAE,CAAC;;AAEhC,IAAI,OAAO,GAAG,EAAE,CAAC;;AAEjB,IAAIpX,OAAK,GAAG,EAAE,CAAC;;AAEf,IAAI,cAAc,GAAG,EAAE,CAAC;;AAExB,SAAS,CAAC,CAAC,QAAQ,EAAE,UAAU,EAAE;CAChC,IAAI,QAAQ,GAAG,cAAc;KACzB,UAAU;KACV,KAAK;KACL,MAAM;KACN,CAAC,CAAC;CACN,KAAK,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,GAAG,CAAC,GAAG;EACpCA,OAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;EACzB;CACD,IAAI,UAAU,IAAI,UAAU,CAAC,QAAQ,IAAI,IAAI,EAAE;EAC9C,IAAI,CAACA,OAAK,CAAC,MAAM,EAAEA,OAAK,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;EACnD,OAAO,UAAU,CAAC,QAAQ,CAAC;EAC3B;CACD,OAAOA,OAAK,CAAC,MAAM,EAAE;EACpB,IAAI,CAAC,KAAK,GAAGA,OAAK,CAAC,GAAG,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,SAAS,EAAE;GACrD,KAAK,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,GAAG;IAC5BA,OAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;IACrB;GACD,MAAM;GACN,IAAI,OAAO,KAAK,KAAK,SAAS,EAAE,KAAK,GAAG,IAAI,CAAC;;GAE7C,IAAI,MAAM,GAAG,OAAO,QAAQ,KAAK,UAAU,EAAE;IAC5C,IAAI,KAAK,IAAI,IAAI,EAAE,KAAK,GAAG,EAAE,CAAC,KAAK,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,KAAK,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE,MAAM,GAAG,KAAK,CAAC;IAC3I;;GAED,IAAI,MAAM,IAAI,UAAU,EAAE;IACzB,QAAQ,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,IAAI,KAAK,CAAC;IACvC,MAAM,IAAI,QAAQ,KAAK,cAAc,EAAE;IACvC,QAAQ,GAAG,CAAC,KAAK,CAAC,CAAC;IACnB,MAAM;IACN,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACrB;;GAED,UAAU,GAAG,MAAM,CAAC;GACpB;EACD;;CAED,IAAI,CAAC,GAAG,IAAI,KAAK,EAAE,CAAC;CACpB,CAAC,CAAC,QAAQ,GAAG,QAAQ,CAAC;CACtB,CAAC,CAAC,QAAQ,GAAG,QAAQ,CAAC;CACtB,CAAC,CAAC,UAAU,GAAG,UAAU,IAAI,IAAI,GAAG,SAAS,GAAG,UAAU,CAAC;CAC3D,CAAC,CAAC,GAAG,GAAG,UAAU,IAAI,IAAI,GAAG,SAAS,GAAG,UAAU,CAAC,GAAG,CAAC;AACzD,AAEA;CACC,OAAO,CAAC,CAAC;CACT;;AAED,SAAStP,QAAM,CAAC,GAAG,EAAE,KAAK,EAAE;EAC1B,KAAK,IAAI,CAAC,IAAI,KAAK,EAAE;IACnB,GAAG,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;GACnB,OAAO,GAAG,CAAC;CACb;;AAED,SAAS,QAAQ,CAAC,GAAG,EAAE,KAAK,EAAE;EAC5B,IAAI,GAAG,EAAE;IACP,IAAI,OAAO,GAAG,IAAI,UAAU,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,GAAG,KAAK,CAAC;GACnE;CACF;;AAED,IAAI,KAAK,GAAG,OAAO,OAAO,IAAI,UAAU,GAAG,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,GAAG,UAAU,CAAC;AACvG,AAIA;AACA,IAAI,kBAAkB,GAAG,wDAAwD,CAAC;;AAElF,IAAI,KAAK,GAAG,EAAE,CAAC;;AAEf,SAAS,aAAa,CAAC,SAAS,EAAE;CACjC,IAAI,CAAC,SAAS,CAAC,MAAM,KAAK,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;EACjF,CAAC,AAA4B,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;EAC/C;CACD;;AAED,SAAS,QAAQ,GAAG;CACnB,IAAI,CAAC,CAAC;CACN,OAAO,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE,EAAE;EACvB,IAAI,CAAC,CAAC,MAAM,EAAE,eAAe,CAAC,CAAC,CAAC,CAAC;EACjC;CACD;;AAED,SAAS,cAAc,CAAC,IAAI,EAAE,KAAK,EAAE,SAAS,EAAE;CAC/C,IAAI,OAAO,KAAK,KAAK,QAAQ,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;EAC3D,OAAO,IAAI,CAAC,SAAS,KAAK,SAAS,CAAC;EACpC;CACD,IAAI,OAAO,KAAK,CAAC,QAAQ,KAAK,QAAQ,EAAE;EACvC,OAAO,CAAC,IAAI,CAAC,qBAAqB,IAAI,WAAW,CAAC,IAAI,EAAE,KAAK,CAAC,QAAQ,CAAC,CAAC;EACxE;CACD,OAAO,SAAS,IAAI,IAAI,CAAC,qBAAqB,KAAK,KAAK,CAAC,QAAQ,CAAC;CAClE;;AAED,SAAS,WAAW,CAAC,IAAI,EAAE,QAAQ,EAAE;CACpC,OAAO,IAAI,CAAC,kBAAkB,KAAK,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,KAAK,QAAQ,CAAC,WAAW,EAAE,CAAC;CACtG;;AAED,SAAS,YAAY,CAAC,KAAK,EAAE;CAC5B,IAAI,KAAK,GAAGA,QAAM,CAAC,EAAE,EAAE,KAAK,CAAC,UAAU,CAAC,CAAC;CACzC,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAC;;CAEhC,IAAI,YAAY,GAAG,KAAK,CAAC,QAAQ,CAAC,YAAY,CAAC;CAC/C,IAAI,YAAY,KAAK,SAAS,EAAE;EAC/B,KAAK,IAAI,CAAC,IAAI,YAAY,EAAE;GAC3B,IAAI,KAAK,CAAC,CAAC,CAAC,KAAK,SAAS,EAAE;IAC3B,KAAK,CAAC,CAAC,CAAC,GAAG,YAAY,CAAC,CAAC,CAAC,CAAC;IAC3B;GACD;EACD;;CAED,OAAO,KAAK,CAAC;CACb;;AAED,SAAS,UAAU,CAAC,QAAQ,EAAE,KAAK,EAAE;CACpC,IAAI,IAAI,GAAG,KAAK,GAAG,QAAQ,CAAC,eAAe,CAAC,4BAA4B,EAAE,QAAQ,CAAC,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;CACvH,IAAI,CAAC,kBAAkB,GAAG,QAAQ,CAAC;CACnC,OAAO,IAAI,CAAC;CACZ;;AAED,SAAS,UAAU,CAAC,IAAI,EAAE;CACzB,IAAI,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;CACjC,IAAI,UAAU,EAAE,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;CAC7C;;AAED,SAAS,WAAW,CAAC,IAAI,EAAE,IAAI,EAAE,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE;CACnD,IAAI,IAAI,KAAK,WAAW,EAAE,IAAI,GAAG,OAAO,CAAC;;CAEzC,IAAI,IAAI,KAAK,KAAK,EAAE,CAAE,MAAM,IAAI,IAAI,KAAK,KAAK,EAAE;EAC/C,QAAQ,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;EACpB,QAAQ,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;EACtB,MAAM,IAAI,IAAI,KAAK,OAAO,IAAI,CAAC,KAAK,EAAE;EACtC,IAAI,CAAC,SAAS,GAAG,KAAK,IAAI,EAAE,CAAC;EAC7B,MAAM,IAAI,IAAI,KAAK,OAAO,EAAE;EAC5B,IAAI,CAAC,KAAK,IAAI,OAAO,KAAK,KAAK,QAAQ,IAAI,OAAO,GAAG,KAAK,QAAQ,EAAE;GACnE,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,KAAK,IAAI,EAAE,CAAC;GACjC;EACD,IAAI,KAAK,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;GACvC,IAAI,OAAO,GAAG,KAAK,QAAQ,EAAE;IAC5B,KAAK,IAAI,CAAC,IAAI,GAAG,EAAE;KAClB,IAAI,EAAE,CAAC,IAAI,KAAK,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;KACtC;IACD;GACD,KAAK,IAAI,CAAC,IAAI,KAAK,EAAE;IACpB,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,OAAO,KAAK,CAAC,CAAC,CAAC,KAAK,QAAQ,IAAI,kBAAkB,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;IAClH;GACD;EACD,MAAM,IAAI,IAAI,KAAK,yBAAyB,EAAE;EAC9C,IAAI,KAAK,EAAE,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC,MAAM,IAAI,EAAE,CAAC;EAC/C,MAAM,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,GAAG,EAAE;EAC5C,IAAI,UAAU,GAAG,IAAI,MAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC,CAAC;EAChE,IAAI,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;EACvC,IAAI,KAAK,EAAE;GACV,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,UAAU,EAAE,UAAU,CAAC,CAAC;GAC9D,MAAM;GACN,IAAI,CAAC,mBAAmB,CAAC,IAAI,EAAE,UAAU,EAAE,UAAU,CAAC,CAAC;GACvD;EACD,CAAC,IAAI,CAAC,UAAU,KAAK,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,KAAK,CAAC;EAC1D,MAAM,IAAI,IAAI,KAAK,MAAM,IAAI,IAAI,KAAK,MAAM,IAAI,CAAC,KAAK,IAAI,IAAI,IAAI,IAAI,EAAE;EACxE,IAAI;GACH,IAAI,CAAC,IAAI,CAAC,GAAG,KAAK,IAAI,IAAI,GAAG,EAAE,GAAG,KAAK,CAAC;GACxC,CAAC,OAAO,CAAC,EAAE,EAAE;EACd,IAAI,CAAC,KAAK,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,IAAI,IAAI,YAAY,EAAE,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;EAC3F,MAAM;EACN,IAAI,EAAE,GAAG,KAAK,IAAI,IAAI,MAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC,CAAC;;EAEjE,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,EAAE;GACrC,IAAI,EAAE,EAAE,IAAI,CAAC,iBAAiB,CAAC,8BAA8B,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;GACnH,MAAM,IAAI,OAAO,KAAK,KAAK,UAAU,EAAE;GACvC,IAAI,EAAE,EAAE,IAAI,CAAC,cAAc,CAAC,8BAA8B,EAAE,IAAI,CAAC,WAAW,EAAE,EAAE,KAAK,CAAC,CAAC,KAAK,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;GAC3H;EACD;CACD;;AAED,SAAS,UAAU,CAAC,CAAC,EAAE;CACtB,OAAO,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,AAAoC,CAAC,CAAC,CAAC,CAAC;CACvE;;AAED,IAAI,MAAM,GAAG,EAAE,CAAC;;AAEhB,IAAI,SAAS,GAAG,CAAC,CAAC;;AAElB,IAAI,SAAS,GAAG,KAAK,CAAC;;AAEtB,IAAI,SAAS,GAAG,KAAK,CAAC;;AAEtB,SAAS,WAAW,GAAG;CACtB,IAAI,CAAC,CAAC;CACN,OAAO,CAAC,GAAG,MAAM,CAAC,KAAK,EAAE,EAAE;AAC5B,AACA,EAAE,IAAI,CAAC,CAAC,iBAAiB,EAAE,CAAC,CAAC,iBAAiB,EAAE,CAAC;EAC/C;CACD;;AAED,SAASoF,MAAI,CAAC,GAAG,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM,EAAE,aAAa,EAAE;CACnE,IAAI,CAAC,SAAS,EAAE,EAAE;EACjB,SAAS,GAAG,MAAM,IAAI,IAAI,IAAI,MAAM,CAAC,eAAe,KAAK,SAAS,CAAC;;EAEnE,SAAS,GAAG,GAAG,IAAI,IAAI,IAAI,EAAE,eAAe,IAAI,GAAG,CAAC,CAAC;EACrD;;CAED,IAAI,GAAG,GAAG,KAAK,CAAC,GAAG,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE,aAAa,CAAC,CAAC;;CAE9D,IAAI,MAAM,IAAI,GAAG,CAAC,UAAU,KAAK,MAAM,EAAE,MAAM,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;;CAEjE,IAAI,EAAE,EAAE,SAAS,EAAE;EAClB,SAAS,GAAG,KAAK,CAAC;;EAElB,IAAI,CAAC,aAAa,EAAE,WAAW,EAAE,CAAC;EAClC;;CAED,OAAO,GAAG,CAAC;CACX;;AAED,SAAS,KAAK,CAAC,GAAG,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE,aAAa,EAAE;CAC5D,IAAI,GAAG,GAAG,GAAG;KACT,WAAW,GAAG,SAAS,CAAC;;CAE5B,IAAI,KAAK,IAAI,IAAI,IAAI,OAAO,KAAK,KAAK,SAAS,EAAE,KAAK,GAAG,EAAE,CAAC;;CAE5D,IAAI,OAAO,KAAK,KAAK,QAAQ,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;EAC3D,IAAI,GAAG,IAAI,GAAG,CAAC,SAAS,KAAK,SAAS,IAAI,GAAG,CAAC,UAAU,KAAK,CAAC,GAAG,CAAC,UAAU,IAAI,aAAa,CAAC,EAAE;GAC/F,IAAI,GAAG,CAAC,SAAS,IAAI,KAAK,EAAE;IAC3B,GAAG,CAAC,SAAS,GAAG,KAAK,CAAC;IACtB;GACD,MAAM;GACN,GAAG,GAAG,QAAQ,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;GACrC,IAAI,GAAG,EAAE;IACR,IAAI,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC,UAAU,CAAC,YAAY,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;IAC1D,iBAAiB,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;IAC7B;GACD;;EAED,GAAG,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC;;EAE5B,OAAO,GAAG,CAAC;EACX;;CAED,IAAI,SAAS,GAAG,KAAK,CAAC,QAAQ,CAAC;CAC/B,IAAI,OAAO,SAAS,KAAK,UAAU,EAAE;EACpC,OAAO,uBAAuB,CAAC,GAAG,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC;EAC9D;;CAED,SAAS,GAAG,SAAS,KAAK,KAAK,GAAG,IAAI,GAAG,SAAS,KAAK,eAAe,GAAG,KAAK,GAAG,SAAS,CAAC;;CAE3F,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC;CAC9B,IAAI,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,EAAE,SAAS,CAAC,EAAE;EACzC,GAAG,GAAG,UAAU,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;;EAEvC,IAAI,GAAG,EAAE;GACR,OAAO,GAAG,CAAC,UAAU,EAAE;IACtB,GAAG,CAAC,WAAW,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;IAChC;GACD,IAAI,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC,UAAU,CAAC,YAAY,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;;GAE1D,iBAAiB,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;GAC7B;EACD;;CAED,IAAI,EAAE,GAAG,GAAG,CAAC,UAAU;KACnB,KAAK,GAAG,GAAG,CAAC,eAAe,CAAC;KAC5B,SAAS,GAAG,KAAK,CAAC,QAAQ,CAAC;;CAE/B,IAAI,KAAK,IAAI,IAAI,EAAE;EAClB,KAAK,GAAG,GAAG,CAAC,eAAe,CAAC,GAAG,EAAE,CAAC;EAClC,KAAK,IAAI,CAAC,GAAG,GAAG,CAAC,UAAU,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,GAAG;GAChD,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;GAC9B;EACD;;CAED,IAAI,CAAC,SAAS,IAAI,SAAS,IAAI,SAAS,CAAC,MAAM,KAAK,CAAC,IAAI,OAAO,SAAS,CAAC,CAAC,CAAC,KAAK,QAAQ,IAAI,EAAE,IAAI,IAAI,IAAI,EAAE,CAAC,SAAS,KAAK,SAAS,IAAI,EAAE,CAAC,WAAW,IAAI,IAAI,EAAE;EAChK,IAAI,EAAE,CAAC,SAAS,IAAI,SAAS,CAAC,CAAC,CAAC,EAAE;GACjC,EAAE,CAAC,SAAS,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;GAC5B;EACD,MAAM,IAAI,SAAS,IAAI,SAAS,CAAC,MAAM,IAAI,EAAE,IAAI,IAAI,EAAE;GACtD,aAAa,CAAC,GAAG,EAAE,SAAS,EAAE,OAAO,EAAE,QAAQ,EAAE,SAAS,IAAI,KAAK,CAAC,uBAAuB,IAAI,IAAI,CAAC,CAAC;GACrG;;CAEF,cAAc,CAAC,GAAG,EAAE,KAAK,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;;CAE7C,SAAS,GAAG,WAAW,CAAC;;CAExB,OAAO,GAAG,CAAC;CACX;;AAED,SAAS,aAAa,CAAC,GAAG,EAAE,SAAS,EAAE,OAAO,EAAE,QAAQ,EAAE,WAAW,EAAE;CACtE,IAAI,gBAAgB,GAAG,GAAG,CAAC,UAAU;KACjC,QAAQ,GAAG,EAAE;KACb,KAAK,GAAG,EAAE;KACV,QAAQ,GAAG,CAAC;KACZ,GAAG,GAAG,CAAC;KACP,GAAG,GAAG,gBAAgB,CAAC,MAAM;KAC7B,WAAW,GAAG,CAAC;KACf,IAAI,GAAG,SAAS,GAAG,SAAS,CAAC,MAAM,GAAG,CAAC;KACvC,CAAC;KACD,CAAC;KACD,CAAC;KACD,MAAM;KACN,KAAK,CAAC;;CAEV,IAAI,GAAG,KAAK,CAAC,EAAE;EACd,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;GAC7B,IAAI,MAAM,GAAG,gBAAgB,CAAC,CAAC,CAAC;OAC5B,KAAK,GAAG,MAAM,CAAC,eAAe,CAAC;OAC/B,GAAG,GAAG,IAAI,IAAI,KAAK,GAAG,MAAM,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC,KAAK,GAAG,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC;GACzF,IAAI,GAAG,IAAI,IAAI,EAAE;IAChB,QAAQ,EAAE,CAAC;IACX,KAAK,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC;IACpB,MAAM,IAAI,KAAK,KAAK,MAAM,CAAC,SAAS,KAAK,SAAS,GAAG,WAAW,GAAG,MAAM,CAAC,SAAS,CAAC,IAAI,EAAE,GAAG,IAAI,GAAG,WAAW,CAAC,EAAE;IAClH,QAAQ,CAAC,WAAW,EAAE,CAAC,GAAG,MAAM,CAAC;IACjC;GACD;EACD;;CAED,IAAI,IAAI,KAAK,CAAC,EAAE;EACf,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,EAAE,EAAE;GAC9B,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;GACtB,KAAK,GAAG,IAAI,CAAC;;GAEb,IAAI,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC;GACrB,IAAI,GAAG,IAAI,IAAI,EAAE;IAChB,IAAI,QAAQ,IAAI,KAAK,CAAC,GAAG,CAAC,KAAK,SAAS,EAAE;KACzC,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC;KACnB,KAAK,CAAC,GAAG,CAAC,GAAG,SAAS,CAAC;KACvB,QAAQ,EAAE,CAAC;KACX;IACD,MAAM,IAAI,GAAG,GAAG,WAAW,EAAE;KAC5B,KAAK,CAAC,GAAG,GAAG,EAAE,CAAC,GAAG,WAAW,EAAE,CAAC,EAAE,EAAE;MACnC,IAAI,QAAQ,CAAC,CAAC,CAAC,KAAK,SAAS,IAAI,cAAc,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,EAAE,MAAM,EAAE,WAAW,CAAC,EAAE;OACtF,KAAK,GAAG,CAAC,CAAC;OACV,QAAQ,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC;OACxB,IAAI,CAAC,KAAK,WAAW,GAAG,CAAC,EAAE,WAAW,EAAE,CAAC;OACzC,IAAI,CAAC,KAAK,GAAG,EAAE,GAAG,EAAE,CAAC;OACrB,MAAM;OACN;MACD;KACD;;GAEF,KAAK,GAAG,KAAK,CAAC,KAAK,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC;;GAEhD,CAAC,GAAG,gBAAgB,CAAC,CAAC,CAAC,CAAC;GACxB,IAAI,KAAK,IAAI,KAAK,KAAK,GAAG,IAAI,KAAK,KAAK,CAAC,EAAE;IAC1C,IAAI,CAAC,IAAI,IAAI,EAAE;KACd,GAAG,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;KACvB,MAAM,IAAI,KAAK,KAAK,CAAC,CAAC,WAAW,EAAE;KACnC,UAAU,CAAC,CAAC,CAAC,CAAC;KACd,MAAM;KACN,GAAG,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;KAC3B;IACD;GACD;EACD;;CAED,IAAI,QAAQ,EAAE;EACb,KAAK,IAAI,CAAC,IAAI,KAAK,EAAE;GACpB,IAAI,KAAK,CAAC,CAAC,CAAC,KAAK,SAAS,EAAE,iBAAiB,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;GAC/D;EACD;;CAED,OAAO,GAAG,IAAI,WAAW,EAAE;EAC1B,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,WAAW,EAAE,CAAC,MAAM,SAAS,EAAE,iBAAiB,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;EACrF;CACD;;AAED,SAAS,iBAAiB,CAAC,IAAI,EAAE,WAAW,EAAE;CAC7C,IAAI,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC;CAChC,IAAI,SAAS,EAAE;EACd,gBAAgB,CAAC,SAAS,CAAC,CAAC;EAC5B,MAAM;EACN,IAAI,IAAI,CAAC,eAAe,CAAC,IAAI,IAAI,EAAE,QAAQ,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;;EAE7E,IAAI,WAAW,KAAK,KAAK,IAAI,IAAI,CAAC,eAAe,CAAC,IAAI,IAAI,EAAE;GAC3D,UAAU,CAAC,IAAI,CAAC,CAAC;GACjB;;EAED,cAAc,CAAC,IAAI,CAAC,CAAC;EACrB;CACD;;AAED,SAAS,cAAc,CAAC,IAAI,EAAE;CAC7B,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;CACtB,OAAO,IAAI,EAAE;EACZ,IAAI,IAAI,GAAG,IAAI,CAAC,eAAe,CAAC;EAChC,iBAAiB,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;EAC9B,IAAI,GAAG,IAAI,CAAC;EACZ;CACD;;AAED,SAAS,cAAc,CAAC,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE;CACxC,IAAI,IAAI,CAAC;;CAET,KAAK,IAAI,IAAI,GAAG,EAAE;EACjB,IAAI,EAAE,KAAK,IAAI,KAAK,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,IAAI,IAAI,EAAE;GACzD,WAAW,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,IAAI,CAAC,GAAG,SAAS,EAAE,SAAS,CAAC,CAAC;GACpE;EACD;;CAED,KAAK,IAAI,IAAI,KAAK,EAAE;EACnB,IAAI,IAAI,KAAK,UAAU,IAAI,IAAI,KAAK,WAAW,KAAK,EAAE,IAAI,IAAI,GAAG,CAAC,IAAI,KAAK,CAAC,IAAI,CAAC,MAAM,IAAI,KAAK,OAAO,IAAI,IAAI,KAAK,SAAS,GAAG,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE;GACxJ,WAAW,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,SAAS,CAAC,CAAC;GACtE;EACD;CACD;;AAED,IAAI,kBAAkB,GAAG,EAAE,CAAC;;AAE5B,SAAS,eAAe,CAAC,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE;CAC9C,IAAI,IAAI;KACJ,CAAC,GAAG,kBAAkB,CAAC,MAAM,CAAC;;CAElC,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE;EAC5C,IAAI,GAAG,IAAI,IAAI,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;EAChC,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;EACrC,MAAM;EACN,IAAI,GAAG,IAAI,SAAS,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;EACrC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;EACxB,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC;EACvB;;CAED,OAAO,CAAC,EAAE,EAAE;EACX,IAAI,kBAAkB,CAAC,CAAC,CAAC,CAAC,WAAW,KAAK,IAAI,EAAE;GAC/C,IAAI,CAAC,QAAQ,GAAG,kBAAkB,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;GAC/C,kBAAkB,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;GAChC,OAAO,IAAI,CAAC;GACZ;EACD;;CAED,OAAO,IAAI,CAAC;CACZ;;AAED,SAAS,QAAQ,CAAC,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE;CACxC,OAAO,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;CACxC;;AAED,SAAS,iBAAiB,CAAC,SAAS,EAAE,KAAK,EAAE,UAAU,EAAE,OAAO,EAAE,QAAQ,EAAE;CAC3E,IAAI,SAAS,CAAC,QAAQ,EAAE,OAAO;CAC/B,SAAS,CAAC,QAAQ,GAAG,IAAI,CAAC;;CAE1B,SAAS,CAAC,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC;CAC5B,SAAS,CAAC,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC;CAC5B,OAAO,KAAK,CAAC,GAAG,CAAC;CACjB,OAAO,KAAK,CAAC,GAAG,CAAC;;CAEjB,IAAI,OAAO,SAAS,CAAC,WAAW,CAAC,wBAAwB,KAAK,WAAW,EAAE;EAC1E,IAAI,CAAC,SAAS,CAAC,IAAI,IAAI,QAAQ,EAAE;GAChC,IAAI,SAAS,CAAC,kBAAkB,EAAE,SAAS,CAAC,kBAAkB,EAAE,CAAC;GACjE,MAAM,IAAI,SAAS,CAAC,yBAAyB,EAAE;GAC/C,SAAS,CAAC,yBAAyB,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;GACpD;EACD;;CAED,IAAI,OAAO,IAAI,OAAO,KAAK,SAAS,CAAC,OAAO,EAAE;EAC7C,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,SAAS,CAAC,WAAW,GAAG,SAAS,CAAC,OAAO,CAAC;EACtE,SAAS,CAAC,OAAO,GAAG,OAAO,CAAC;EAC5B;;CAED,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,SAAS,CAAC,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC;CAChE,SAAS,CAAC,KAAK,GAAG,KAAK,CAAC;;CAExB,SAAS,CAAC,QAAQ,GAAG,KAAK,CAAC;;CAE3B,IAAI,UAAU,KAAK,CAAC,EAAE;EACrB,IAAI,UAAU,KAAK,CAAC,IAAI,OAAO,CAAC,oBAAoB,KAAK,KAAK,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE;GAClF,eAAe,CAAC,SAAS,EAAE,CAAC,EAAE,QAAQ,CAAC,CAAC;GACxC,MAAM;GACN,aAAa,CAAC,SAAS,CAAC,CAAC;GACzB;EACD;;CAED,QAAQ,CAAC,SAAS,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;CACrC;;AAED,SAAS,eAAe,CAAC,SAAS,EAAE,UAAU,EAAE,QAAQ,EAAE,OAAO,EAAE;CAClE,IAAI,SAAS,CAAC,QAAQ,EAAE,OAAO;;CAE/B,IAAI,KAAK,GAAG,SAAS,CAAC,KAAK;KACvB,KAAK,GAAG,SAAS,CAAC,KAAK;KACvB,OAAO,GAAG,SAAS,CAAC,OAAO;KAC3B,aAAa,GAAG,SAAS,CAAC,SAAS,IAAI,KAAK;KAC5C,aAAa,GAAG,SAAS,CAAC,SAAS,IAAI,KAAK;KAC5C,eAAe,GAAG,SAAS,CAAC,WAAW,IAAI,OAAO;KAClD,QAAQ,GAAG,SAAS,CAAC,IAAI;KACzB,QAAQ,GAAG,SAAS,CAAC,QAAQ;KAC7B,WAAW,GAAG,QAAQ,IAAI,QAAQ;KAClC,qBAAqB,GAAG,SAAS,CAAC,UAAU;KAC5C,IAAI,GAAG,KAAK;KACZ,QAAQ,GAAG,eAAe;KAC1B,QAAQ;KACR,IAAI;KACJ,KAAK,CAAC;;CAEV,IAAI,SAAS,CAAC,WAAW,CAAC,wBAAwB,EAAE;EACnD,KAAK,GAAGpF,QAAM,CAACA,QAAM,CAAC,EAAE,EAAE,KAAK,CAAC,EAAE,SAAS,CAAC,WAAW,CAAC,wBAAwB,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,CAAC;EAChG,SAAS,CAAC,KAAK,GAAG,KAAK,CAAC;EACxB;;CAED,IAAI,QAAQ,EAAE;EACb,SAAS,CAAC,KAAK,GAAG,aAAa,CAAC;EAChC,SAAS,CAAC,KAAK,GAAG,aAAa,CAAC;EAChC,SAAS,CAAC,OAAO,GAAG,eAAe,CAAC;EACpC,IAAI,UAAU,KAAK,CAAC,IAAI,SAAS,CAAC,qBAAqB,IAAI,SAAS,CAAC,qBAAqB,CAAC,KAAK,EAAE,KAAK,EAAE,OAAO,CAAC,KAAK,KAAK,EAAE;GAC5H,IAAI,GAAG,IAAI,CAAC;GACZ,MAAM,IAAI,SAAS,CAAC,mBAAmB,EAAE;GACzC,SAAS,CAAC,mBAAmB,CAAC,KAAK,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;GACrD;EACD,SAAS,CAAC,KAAK,GAAG,KAAK,CAAC;EACxB,SAAS,CAAC,KAAK,GAAG,KAAK,CAAC;EACxB,SAAS,CAAC,OAAO,GAAG,OAAO,CAAC;EAC5B;;CAED,SAAS,CAAC,SAAS,GAAG,SAAS,CAAC,SAAS,GAAG,SAAS,CAAC,WAAW,GAAG,SAAS,CAAC,QAAQ,GAAG,IAAI,CAAC;CAC9F,SAAS,CAAC,MAAM,GAAG,KAAK,CAAC;;CAEzB,IAAI,CAAC,IAAI,EAAE;EACV,QAAQ,GAAG,SAAS,CAAC,MAAM,CAAC,KAAK,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;;EAEnD,IAAI,SAAS,CAAC,eAAe,EAAE;GAC9B,OAAO,GAAGA,QAAM,CAACA,QAAM,CAAC,EAAE,EAAE,OAAO,CAAC,EAAE,SAAS,CAAC,eAAe,EAAE,CAAC,CAAC;GACnE;;EAED,IAAI,QAAQ,IAAI,SAAS,CAAC,uBAAuB,EAAE;GAClD,QAAQ,GAAG,SAAS,CAAC,uBAAuB,CAAC,aAAa,EAAE,aAAa,CAAC,CAAC;GAC3E;;EAED,IAAI,cAAc,GAAG,QAAQ,IAAI,QAAQ,CAAC,QAAQ;MAC9C,SAAS;MACT,IAAI,CAAC;;EAET,IAAI,OAAO,cAAc,KAAK,UAAU,EAAE;;GAEzC,IAAI,UAAU,GAAG,YAAY,CAAC,QAAQ,CAAC,CAAC;GACxC,IAAI,GAAG,qBAAqB,CAAC;;GAE7B,IAAI,IAAI,IAAI,IAAI,CAAC,WAAW,KAAK,cAAc,IAAI,UAAU,CAAC,GAAG,IAAI,IAAI,CAAC,KAAK,EAAE;IAChF,iBAAiB,CAAC,IAAI,EAAE,UAAU,EAAE,CAAC,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;IACvD,MAAM;IACN,SAAS,GAAG,IAAI,CAAC;;IAEjB,SAAS,CAAC,UAAU,GAAG,IAAI,GAAG,eAAe,CAAC,cAAc,EAAE,UAAU,EAAE,OAAO,CAAC,CAAC;IACnF,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,IAAI,QAAQ,CAAC;IAC1C,IAAI,CAAC,gBAAgB,GAAG,SAAS,CAAC;IAClC,iBAAiB,CAAC,IAAI,EAAE,UAAU,EAAE,CAAC,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;IACvD,eAAe,CAAC,IAAI,EAAE,CAAC,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC;IACzC;;GAED,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;GACjB,MAAM;GACN,KAAK,GAAG,WAAW,CAAC;;GAEpB,SAAS,GAAG,qBAAqB,CAAC;GAClC,IAAI,SAAS,EAAE;IACd,KAAK,GAAG,SAAS,CAAC,UAAU,GAAG,IAAI,CAAC;IACpC;;GAED,IAAI,WAAW,IAAI,UAAU,KAAK,CAAC,EAAE;IACpC,IAAI,KAAK,EAAE,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC;IACnC,IAAI,GAAGoF,MAAI,CAAC,KAAK,EAAE,QAAQ,EAAE,OAAO,EAAE,QAAQ,IAAI,CAAC,QAAQ,EAAE,WAAW,IAAI,WAAW,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;IAC1G;GACD;;EAED,IAAI,WAAW,IAAI,IAAI,KAAK,WAAW,IAAI,IAAI,KAAK,qBAAqB,EAAE;GAC1E,IAAI,UAAU,GAAG,WAAW,CAAC,UAAU,CAAC;GACxC,IAAI,UAAU,IAAI,IAAI,KAAK,UAAU,EAAE;IACtC,UAAU,CAAC,YAAY,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;;IAE3C,IAAI,CAAC,SAAS,EAAE;KACf,WAAW,CAAC,UAAU,GAAG,IAAI,CAAC;KAC9B,iBAAiB,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;KACtC;IACD;GACD;;EAED,IAAI,SAAS,EAAE;GACd,gBAAgB,CAAC,SAAS,CAAC,CAAC;GAC5B;;EAED,SAAS,CAAC,IAAI,GAAG,IAAI,CAAC;EACtB,IAAI,IAAI,IAAI,CAAC,OAAO,EAAE;GACrB,IAAI,YAAY,GAAG,SAAS;OACxB,CAAC,GAAG,SAAS,CAAC;GAClB,OAAO,CAAC,GAAG,CAAC,CAAC,gBAAgB,EAAE;IAC9B,CAAC,YAAY,GAAG,CAAC,EAAE,IAAI,GAAG,IAAI,CAAC;IAC/B;GACD,IAAI,CAAC,UAAU,GAAG,YAAY,CAAC;GAC/B,IAAI,CAAC,qBAAqB,GAAG,YAAY,CAAC,WAAW,CAAC;GACtD;EACD;;CAED,IAAI,CAAC,QAAQ,IAAI,QAAQ,EAAE;EAC1B,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;EACvB,MAAM,IAAI,CAAC,IAAI,EAAE;;EAEjB,IAAI,SAAS,CAAC,kBAAkB,EAAE;GACjC,SAAS,CAAC,kBAAkB,CAAC,aAAa,EAAE,aAAa,EAAE,QAAQ,CAAC,CAAC;GACrE;AACH,AACA,EAAE;;CAED,OAAO,SAAS,CAAC,gBAAgB,CAAC,MAAM,EAAE;EACzC,SAAS,CAAC,gBAAgB,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;EACjD,IAAI,CAAC,SAAS,IAAI,CAAC,OAAO,EAAE,WAAW,EAAE,CAAC;CAC3C;;AAED,SAAS,uBAAuB,CAAC,GAAG,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE;CAC/D,IAAI,CAAC,GAAG,GAAG,IAAI,GAAG,CAAC,UAAU;KACzB,iBAAiB,GAAG,CAAC;KACrB,MAAM,GAAG,GAAG;KACZ,aAAa,GAAG,CAAC,IAAI,GAAG,CAAC,qBAAqB,KAAK,KAAK,CAAC,QAAQ;KACjE,OAAO,GAAG,aAAa;KACvB,KAAK,GAAG,YAAY,CAAC,KAAK,CAAC,CAAC;CAChC,OAAO,CAAC,IAAI,CAAC,OAAO,KAAK,CAAC,GAAG,CAAC,CAAC,gBAAgB,CAAC,EAAE;EACjD,OAAO,GAAG,CAAC,CAAC,WAAW,KAAK,KAAK,CAAC,QAAQ,CAAC;EAC3C;;CAED,IAAI,CAAC,IAAI,OAAO,KAAK,CAAC,QAAQ,IAAI,CAAC,CAAC,UAAU,CAAC,EAAE;EAChD,iBAAiB,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC;EAClD,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC;EACb,MAAM;EACN,IAAI,iBAAiB,IAAI,CAAC,aAAa,EAAE;GACxC,gBAAgB,CAAC,iBAAiB,CAAC,CAAC;GACpC,GAAG,GAAG,MAAM,GAAG,IAAI,CAAC;GACpB;;EAED,CAAC,GAAG,eAAe,CAAC,KAAK,CAAC,QAAQ,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;EACpD,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,QAAQ,EAAE;GACvB,CAAC,CAAC,QAAQ,GAAG,GAAG,CAAC;;GAEjB,MAAM,GAAG,IAAI,CAAC;GACd;EACD,iBAAiB,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC;EAClD,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC;;EAEb,IAAI,MAAM,IAAI,GAAG,KAAK,MAAM,EAAE;GAC7B,MAAM,CAAC,UAAU,GAAG,IAAI,CAAC;GACzB,iBAAiB,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;GACjC;EACD;;CAED,OAAO,GAAG,CAAC;CACX;;AAED,SAAS,gBAAgB,CAAC,SAAS,EAAE;AACrC,AACA;CACC,IAAI,IAAI,GAAG,SAAS,CAAC,IAAI,CAAC;;CAE1B,SAAS,CAAC,QAAQ,GAAG,IAAI,CAAC;;CAE1B,IAAI,SAAS,CAAC,oBAAoB,EAAE,SAAS,CAAC,oBAAoB,EAAE,CAAC;;CAErE,SAAS,CAAC,IAAI,GAAG,IAAI,CAAC;;CAEtB,IAAI,KAAK,GAAG,SAAS,CAAC,UAAU,CAAC;CACjC,IAAI,KAAK,EAAE;EACV,gBAAgB,CAAC,KAAK,CAAC,CAAC;EACxB,MAAM,IAAI,IAAI,EAAE;EAChB,IAAI,IAAI,CAAC,eAAe,CAAC,IAAI,IAAI,EAAE,QAAQ,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;;EAE7E,SAAS,CAAC,QAAQ,GAAG,IAAI,CAAC;;EAE1B,UAAU,CAAC,IAAI,CAAC,CAAC;EACjB,kBAAkB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;;EAEnC,cAAc,CAAC,IAAI,CAAC,CAAC;EACrB;;CAED,QAAQ,CAAC,SAAS,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;CAChC;;AAED,SAAS,SAAS,CAAC,KAAK,EAAE,OAAO,EAAE;CAClC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;;CAEnB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;;CAEvB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;;CAEnB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,IAAI,EAAE,CAAC;;CAE9B,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;CAC3B;;AAEDpF,QAAM,CAAC,SAAS,CAAC,SAAS,EAAE;CAC3B,QAAQ,EAAE,SAAS,QAAQ,CAAC,KAAK,EAAE,QAAQ,EAAE;EAC5C,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC;EACjD,IAAI,CAAC,KAAK,GAAGA,QAAM,CAACA,QAAM,CAAC,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,EAAE,OAAO,KAAK,KAAK,UAAU,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC,CAAC;EACjH,IAAI,QAAQ,EAAE,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;EACnD,aAAa,CAAC,IAAI,CAAC,CAAC;EACpB;CACD,WAAW,EAAE,SAAS,WAAW,CAAC,QAAQ,EAAE;EAC3C,IAAI,QAAQ,EAAE,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;EACnD,eAAe,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;EACzB;CACD,MAAM,EAAE,SAAS,MAAM,GAAG,EAAE;CAC5B,CAAC,CAAC;;AAEH,SAASmoB,QAAM,CAAC,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE;EACpC,OAAO/iB,MAAI,CAAC,KAAK,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;CACrD;;AC5rBc,SAASshB,UAAT,GAA6B;MAAXxW,IAAW,uEAAJ,EAAI;4BAGtCA,IAHsC,CAExCjY,aAFwC;MAExCA,aAFwC,oCAExBD,QAAQ,CAACC,aAAT,CAAuBs6B,IAAvB,CAA4Bv6B,QAA5B,CAFwB;MAKtCskC,EAAJ;MACI9gC,IAAI,GAAG6gF,iBAAiB,EAA5B;MACI6G,KAAJ;MAEMC,GAAG,GAAGpyE,QAAM,EAAlB;;EAEAoyE,GAAG,CAACr2D,OAAJ,GAAc;WAAMwP,EAAN;GAAd;;EAEA6mD,GAAG,CAAC1yE,IAAJ,GAAW;WAAM6rB,EAAN;GAAX;;EAEA6mD,GAAG,CAAClsD,QAAJ,GAAe,UAACnK,OAAD,EAAa;QACtB,CAACwP,EAAL,EAAS;MACPA,EAAE,GAAGrkC,aAAa,CAAC,KAAD,CAAlB;MACAqkC,EAAE,CAAC9R,KAAH,CAASpW,QAAT,GAAoB,UAApB;MACAkoB,EAAE,CAAC9R,KAAH,CAAS,wBAAT,IAAqC,aAArC;MACA8R,EAAE,CAAC9R,KAAH,CAAS,yBAAT,IAAsC,aAAtC;MACA8R,EAAE,CAAC9R,KAAH,CAASgzB,aAAT,GAAyB,MAAzB;;;IAGF1wB,OAAO,CAAC8P,WAAR,CAAoBN,EAApB;WAEOA,EAAP;GAXF;;EAcA6mD,GAAG,CAACh7D,MAAJ,GAAa,UAACrB,KAAD,EAAW;QAClB,CAACwV,EAAL,EAAS;aACA,KAAP;;;IAGFA,EAAE,CAAC9R,KAAH,CAAShoB,IAAT,aAAmBhH,IAAI,CAACg6B,gBAAL,CAAsB18B,CAAzC;IACAwjC,EAAE,CAAC9R,KAAH,CAAS9nB,GAAT,aAAkBlH,IAAI,CAACg6B,gBAAL,CAAsBv8B,CAAxC;IACAqjC,EAAE,CAAC9R,KAAH,CAAS/uB,KAAT,aAAoBD,IAAI,CAACg6B,gBAAL,CAAsB/5B,KAA1C;IACA6gC,EAAE,CAAC9R,KAAH,CAAS9uB,MAAT,aAAqBF,IAAI,CAACg6B,gBAAL,CAAsB95B,MAA3C;QAEI0nF,KAAJ;;QACIhsF,KAAK,CAACC,OAAN,CAAcyvB,KAAd,CAAJ,EAA0B;MACxBs8D,KAAK,GAAG,eAAMt8D,KAAN,CAAR;KADF,MAEO;MACLs8D,KAAK,GAAGt8D,KAAR;;;IAGFo8D,KAAK,GAAG/6D,QAAM,CAACi7D,KAAD,EAAQ9mD,EAAR,EAAY4mD,KAAZ,CAAd;WAEO,IAAP;GAnBF;;EAsBAC,GAAG,CAACttD,UAAJ,GAAiB,CAACniC,CAAD,CAAjB,CAnD0C;;EAqD1CyvF,GAAG,CAAChjE,KAAJ,GAAY,YAAM;QACZmc,EAAJ,EAAQ;UACF2F,KAAK,GAAG3F,EAAE,CAAC+mD,UAAf;;aAEOphD,KAAP,EAAc;QACZ3F,EAAE,CAACsyC,WAAH,CAAe3sC,KAAf;QACAA,KAAK,GAAG3F,EAAE,CAAC+mD,UAAX;;;MAEFH,KAAK,GAAG,IAAR;;;WAGKC,GAAP;GAXF;;EAcAA,GAAG,CAAC9sD,OAAJ,GAAc,YAAM;QACdiG,EAAE,IAAIA,EAAE,CAACsiD,aAAb,EAA4B;MAC1BtiD,EAAE,CAACsiD,aAAH,CAAiBhQ,WAAjB,CAA6BtyC,EAA7B;;;IAEFA,EAAE,GAAG,IAAL;IACA4mD,KAAK,GAAG,IAAR;GALF;;EAQAC,GAAG,CAAChkF,IAAJ,GAAW,UAACR,KAAD,EAAW;QAChBA,KAAJ,EAAW;MACTnD,IAAI,GAAG6gF,iBAAiB,CAAC19E,KAAD,CAAxB;;;WAEKnD,IAAP;GAJF;;SAOO2nF,GAAP;;;AClFK,SAASrD,mBAAT,CAA2Bl1C,OAA3B,EAAoC;EACzCA,OAAO,CAAClkB,QAAR,CAAiB,KAAjB,EAAwBA,UAAxB;;;ACDF,gBAAe,CACbo8D,mBADa,EAEb/qF,iBAFa,EAGborF,mBAHa,CAAf;;ACJA,aAAe,EAAf;;ACAA,IAAMG,SAAS,GAAG;EAChBC,GAAG,EAAE,CADW;EAEhBC,KAAK,EAAE,CAFS;EAGhBC,IAAI,EAAE,CAHU;EAIhBC,IAAI,EAAE,CAJU;EAKhBC,KAAK,EAAE;CALT;;AAQA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,GAGN;;;iFAAP,EAAO;wBAFTC,KAES;MAFTA,KAES,2BAFDP,SAAS,CAACC,GAET;uBADTO,IACS;MADTA,IACS,0BADFC,OACE;;MACLC,YAAY,GAAGH,KAAnB;MAEMI,MAAM,2CACTX,SAAS,CAACC,GADD,EACO,YAAM,EADb,4BAETD,SAAS,CAACE,KAFD,EAES;WAAaM,IAAI,CAACI,KAAL,OAAAJ,IAAI,YAAjB;GAFT,4BAGTR,SAAS,CAACG,IAHD,EAGQ;WAAaK,IAAI,CAAC17E,IAAL,OAAA07E,IAAI,YAAjB;GAHR,4BAITR,SAAS,CAACI,IAJD,EAIQ;WAAaI,IAAI,CAACpR,IAAL,OAAAoR,IAAI,YAAjB;GAJR,4BAKTR,SAAS,CAACK,KALD,EAKS;WAAaG,IAAI,CAACK,GAAL,OAAAL,IAAI,YAAjB;GALT,WAAZ;;MAQMK,GAAG,GAAG,SAANA,GAAM,CAACC,GAAD,EAAkB;QACxB,CAACA,GAAD,IAAQJ,YAAY,GAAGI,GAA3B,EAAgC;;;;sCADb/vF,IAAS;MAATA,IAAS;;;KAG3B4vF,MAAM,CAACG,GAAD,CAAN,IAAeH,MAAM,CAACX,SAAS,CAACK,KAAX,CAAtB,gBAA4CtvF,IAA5C;GAHF;;;;;;;;;;;;;;;;MAkBE8vF,GAAG,EAAHA,GAP0B;;;;;;MAa1BD,KAAK,EAAE;2CAAI7vF,IAAJ;UAAIA,IAAJ;;;eAAa8vF,GAAG,MAAH,UAAIb,SAAS,CAACE,KAAd,SAAwBnvF,IAAxB,EAAb;OAbmB;;;;;;MAmB1B+T,IAAI,EAAE;2CAAI/T,IAAJ;UAAIA,IAAJ;;;eAAa8vF,GAAG,MAAH,UAAIb,SAAS,CAACG,IAAd,SAAuBpvF,IAAvB,EAAb;OAnBoB;;;;;;MAyB1Bq+E,IAAI,EAAE;2CAAIr+E,IAAJ;UAAIA,IAAJ;;;eAAa8vF,GAAG,MAAH,UAAIb,SAAS,CAACI,IAAd,SAAuBrvF,IAAvB,EAAb;OAzBoB;;;;;;MA+B1BgwF,KAAK,EAAE;2CAAIhwF,IAAJ;UAAIA,IAAJ;;;eAAa8vF,GAAG,MAAH,UAAIb,SAAS,CAACK,KAAd,SAAwBtvF,IAAxB,EAAb;OA/BmB;;;;;;MAqC1BwvF,KAAK,EAAE,eAACO,GAAD,EAAS;YACV,OAAOA,GAAP,KAAe,QAAnB,EAA6B;UAC3BJ,YAAY,GAAGI,GAAf;;;eAEKJ,YAAP;OAzCwB;MA4C1BV,SAAS,EAATA;;;CArEJ;;ACRA,IAAM9nD,QAAQ,GAAG,CACf;EACE9kC,GAAG,EAAE,aADP;EAEEylB,MAAM,EAAE,CACN,CAAC,SAAD,EAAY,SAAZ,EAAuB,SAAvB,EAAkC,SAAlC,EAA6C,SAA7C,EAAwD,SAAxD,EAAmE,SAAnE,EAA8E,SAA9E,EAAyF,SAAzF,EAAoG,SAApG,EAA+G,SAA/G,EAA0H,SAA1H,CADM;;CAHK,EAOf;EACEzlB,GAAG,EAAE,WADP;EAEEylB,MAAM,EAAE,CACN,CAAC,SAAD,EAAY,SAAZ,EAAuB,SAAvB,EAAkC,SAAlC,EAA6C,SAA7C,EAAwD,SAAxD,EAAmE,SAAnE,EAA8E,SAA9E,EAAyF,SAAzF,EAAoG,SAApG,CADM;CATK,EAaf;EACEzlB,GAAG,EAAE,YADP;EAEEylB,MAAM,EAAE,CACN,CAAC,kBAAD,EAAqB,iBAArB,CADM;CAfK,CAAjB;;;AAsBA,IAAMqO,KAAK,GAAG;;;kBAGI,sCAHJ;gBAIE,MAJF;kBAKI,MALJ;mBAMK,MANL;;eASC,SATD;cAUA,SAVA;cAWA,SAXA;cAYA,SAZA;cAaA,SAbA;cAcA,SAdA;cAeA,SAfA;cAgBA,SAhBA;;gBAmBE,2BAnBF;gBAoBE,0BApBF;gBAqBE,0BArBF;gBAsBE,oBAtBF;gBAuBE,oBAvBF;eAwBC,qBAxBD;;mBA2BK,SA3BL;oBA4BM,SA5BN;kBA6BI,SA7BJ;qBA8BO,SA9BP;;iBAiCG,CAjCH;cAkCA,CAlCA;iBAmCG,EAnCH;;;iBAuCG,UAvCH;2BAwCa,UAxCb;kBAyCI,UAzCJ;4BA0Cc,UA1Cd;aA2CD,YA3CC;uBA4CS,YA5CT;;;;YAiDF;;IACR5uB,IAAI,EAAE,eADE;IAER8sB,WAAW,EAAE,CAFL;IAGRnwB,MAAM,EAAE;GApDE;oBAuDM;;IAChBA,MAAM,EAAE,eADQ;IAEhBmwB,WAAW,EAAE;GAzDH;kBA4DI;;IACdnwB,MAAM,EAAE,cADM;IAEdmwB,WAAW,EAAE;GA9DH;4BAiEc;eACb,cADa;IAExBnwB,MAAM,EAAE;GAnEE;YAsEF;IACRgwB,QAAQ,EAAE,YADF;IAERD,UAAU,EAAE,cAFJ;IAGR1sB,IAAI,EAAE;GAzEI;sBA4EQ;eACP,QADO;IAElBA,IAAI,EAAE;GA9EI;;oBAkFM;;IAChB2sB,QAAQ,EAAE,eADM;IAEhBD,UAAU,EAAE,cAFI;IAGhB1sB,IAAI,EAAE,WAHU;;IAIhB4sB,KAAK,EAAE,aAJS;IAKhBjwB,MAAM,EAAE,wBALQ;IAMhBmwB,WAAW,EAAE,CANG;IAOhB02B,YAAY,EAAE;GAzFJ;YA4FF;eACG,QADH;IAER72B,QAAQ,EAAE;GA9FA;iBAiGG;IACbG,WAAW,EAAE,CADA;IAEbnwB,MAAM,EAAE;GAnGE;wBAsGU;IACpBmwB,WAAW,EAAE,CADO;IAEpBnwB,MAAM,EAAE,UAFY;;GAtGV;iBA2GG;IACbiK,IAAI,EAAE,aADO;IAEbC,KAAK,EAAE,aAFM;IAGbC,GAAG,EAAE,aAHQ;IAIbC,MAAM,EAAE;GA/GE;cAkHA;IACVH,IAAI,EAAE,UADI;IAEVC,KAAK,EAAE,UAFG;IAGVC,GAAG,EAAE,UAHK;IAIVC,MAAM,EAAE;GAtHE;4BAyHc;IACxB/G,IAAI,EAAE,gBADkB;IAExB8sB,WAAW,EAAE,CAFW;IAGxBpB,OAAO,EAAE;;CA5Hb;;ACMA,SAASg9D,SAAT,CAAmBC,MAAnB,EAA8C;MAAnBlzE,OAAmB,uEAAT,EAAS;MAALuqD,GAAK;EAC5C2oB,MAAM,CAAC3oB,GAAD,EAAMvqD,OAAN,CAAN;;;AAGF,SAASmzE,GAAT,GAA2C;MAA9B3iF,MAA8B,uEAArB,EAAqB;MAAjBqwB,UAAiB,uEAAJ,EAAI;MACnChqB,MAAM,GAAG07E,QAAQ,CAAC/hF,MAAM,CAACqG,MAAR,CAAvB;;;;;MAKMu8E,KAAK,GAAG;;;;;;;IAMZz+E,SAAS,EAAE+D,eAAQ,CAACmoB,UAAU,CAAClsB,SAAZ,EAAuB,WAAvB,EAAoCkC,MAApC,CANP;;;;;;IAWZtT,IAAI,EAAEmV,eAAQ,CAACmoB,UAAU,CAACt9B,IAAZ,EAAkB,MAAlB,EAA0BsT,MAA1B,CAXF;;;;;;IAgBZiC,SAAS,EAAEJ,eAAQ,CAACmoB,UAAU,CAAC/nB,SAAZ,EAAuB,WAAvB,EAAoCjC,MAApC,CAhBP;;;;;;IAqBZu3B,WAAW,EAAE11B,eAAQ,CAACmoB,UAAU,CAACuN,WAAZ,EAAyB,aAAzB,EAAwCv3B,MAAxC,CArBT;;;;;;IA0BZwe,QAAQ,EAAEA,gBAAQ,CAACwL,UAAU,CAACxL,QAAZ,AAAA,CA1BN;;;;;;IA+BZppB,KAAK,EAAEyM,eAAQ,CAACmoB,UAAU,CAAC50B,KAAZ,EAAmB,OAAnB,EAA4B4K,MAA5B,CA/BH;;;;;;;IAqCZmqB,MAAM,EAAEtoB,eAAQ,CAACmoB,UAAU,CAACG,MAAZ,EAAoB,QAApB,EAA8BnqB,MAA9B,CArCJ;;;;;;;;IA4CZA,MAAM,EAANA;GA5CF;;MA+CIrG,MAAM,CAAC6kB,QAAP,IAAmB7kB,MAAM,CAAC6kB,QAAP,CAAgB8a,IAAvC,EAA6C;IAC3CijD,KAAK,CAAC/9D,QAAN,CAAejd,OAAf,CAAuB5H,MAAM,CAAC6kB,QAAP,CAAgB8a,IAAhB,CAAqB,CAArB,CAAvB;;;;;;;;;;;;;;;;;;WAiBOkjD,SAAT,GAA6B;QAAV9zE,GAAU,uEAAJ,EAAI;QACvB+zE,EAAE,GAAG;MACPnpD,QAAQ,EAAE35B,MAAM,CAAC25B,QAAP,CAAgB/lC,MAAhB,CAAuBmb,GAAG,CAAC4qB,QAAJ,IAAgB,EAAvC,CADH;MAEPhR,KAAK,EAAExqB,MAAM,CAAC,EAAD,EAAK6B,MAAM,CAAC2oB,KAAZ,EAAmB5Z,GAAG,CAAC4Z,KAAvB,CAFN;MAGPtiB,MAAM,EAAE0I,GAAG,CAAC1I,MAAJ,IAAcrG,MAAM,CAACqG,MAHtB;MAIPwe,QAAQ,EAAE9V,GAAG,CAAC8V,QAAJ,IAAgB7kB,MAAM,CAAC6kB;KAJnC;WAMO89D,GAAG,CAACG,EAAD,EAAKF,KAAL,CAAV;;;;;;;;;;;;;;EAaFC,SAAS,CAACE,GAAV,GAAgB,UAACL,MAAD;QAASlzE,OAAT,uEAAmB,EAAnB;WAA0BizE,SAAS,CAACC,MAAD,EAASlzE,OAAT,EAAkBozE,KAAlB,CAAnC;GAAhB;;;;;;;EAMAC,SAAS,CAAC17D,KAAV,GAAkB,UAAC8I,UAAD;WAAgB9I,OAAK,CAAC8I,UAAD,EAAa;MAClDI,UAAU,EAAEuyD,KADsC;MAElDv8E,MAAM,EAANA,MAFkD;MAGlDsiB,KAAK,EAAE3oB,MAAM,CAAC2oB,KAHoC;MAIlDgR,QAAQ,EAAE35B,MAAM,CAAC25B;KAJoB,CAArB;GAAlB;;EAMAkpD,SAAS,CAAC7iF,MAAV,GAAmB;WAAMA,MAAN;GAAnB;;EAEArL,MAAM,CAACgS,IAAP,CAAYi8E,KAAZ,EAAmBp/E,OAAnB,CAA2B,UAAC3O,GAAD,EAAS;IAClCguF,SAAS,CAAChuF,GAAD,CAAT,GAAiB+tF,KAAK,CAAC/tF,GAAD,CAAtB;GADF;;;;;;EAQAguF,SAAS,CAAC1mF,OAAV,GAAoB6mF,KAAK,CAAC7mF,OAA1B;SAEO0mF,SAAP;;;AAGF,IAAM7vF,CAAC,GAAG2vF,GAAG,CAAC;EACZ99D,QAAQ,EAAE;IACR8a,IAAI,EAAE,CAAC,KAAD,EAAQ,QAAR;GAFI;EAIZt5B,MAAM,EAAE;IACN27E,KAAK,EAAE;GALG;EAOZr5D,KAAK,EAALA,KAPY;EAQZgR,QAAQ,EAARA;CARW,EASV;EACDx1B,SAAS,EAAEy7B,iBADV;EAED7sC,IAAI,EAAEywC,YAFL;EAGDl7B,SAAS,EAAEgC,iBAHV;EAIDszB,WAAW,EAAEqlD,KAJZ;EAKDp+D,QAAQ,EAAEA,gBAAQ,EALjB;EAMDppB,KAAK,EAAEmgB,aANN;EAOD4U,MAAM,EAAE0yD;CAhBG,CAAb;AAmBA5+E,UAAU,CAACd,OAAX,CAAmBxQ,CAAC,CAAC+vF,GAArB;AACAI,SAAS,CAAC3/E,OAAV,CAAkBxQ,CAAC,CAAC+vF,GAApB;AACA5mE,MAAM,CAAC3Y,OAAP,CAAexQ,CAAC,CAAC+vF,GAAjB;;;;"}